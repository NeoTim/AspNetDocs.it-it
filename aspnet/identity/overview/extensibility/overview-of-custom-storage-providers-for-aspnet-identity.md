---
uid: identity/overview/extensibility/overview-of-custom-storage-providers-for-aspnet-identity
title: Panoramica del provider di archiviazione personalizzati per ASP.NET Identity - ASP.NET 4.x
author: Rick-Anderson
description: ASP.NET Identity è un sistema estendibile che consente di creare un proprio provider di archiviazione e di inserirli direttamente nell'applicazione senza utilizzare nuovamente il appli...
ms.author: riande
ms.date: 10/13/2014
ms.assetid: 681a9204-462e-4260-9a0b-19f0644d6ad7
ms.custom: seoapril2019
msc.legacyurl: /identity/overview/extensibility/overview-of-custom-storage-providers-for-aspnet-identity
msc.type: authoredcontent
ms.openlocfilehash: 4158939da036ee126eb649f31e5d8eaf504920be
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/06/2019
ms.locfileid: "65118068"
---
# <a name="overview-of-custom-storage-providers-for-aspnet-identity"></a><span data-ttu-id="97b62-103">Panoramica dei provider di archiviazione personalizzati per ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="97b62-103">Overview of Custom Storage Providers for ASP.NET Identity</span></span>

<span data-ttu-id="97b62-104">da [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="97b62-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="97b62-105">ASP.NET Identity è un sistema estendibile che consente di creare un proprio provider di archiviazione e di inserirli direttamente nell'applicazione senza utilizzare nuovamente l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="97b62-105">ASP.NET Identity is an extensible system which enables you to create your own storage provider and plug it into your application without re-working the application.</span></span> <span data-ttu-id="97b62-106">Questo argomento descrive come creare un provider di archiviazione personalizzati per ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="97b62-106">This topic describes how to create a customized storage provider for ASP.NET Identity.</span></span> <span data-ttu-id="97b62-107">Viene descritto come i concetti importanti per la creazione di un proprio provider di archiviazione, ma non è una procedura dettagliata dell'implementazione di un provider di archiviazione personalizzati.</span><span class="sxs-lookup"><span data-stu-id="97b62-107">It covers the important concepts for creating your own storage provider, but it is not step-by-step walkthrough of implementing a custom storage provider.</span></span>
> 
> <span data-ttu-id="97b62-108">Per un esempio di implementazione di un provider di archiviazione personalizzati, vedere [implementazione di un Provider di archiviazione identità di ASP.NET MySQL personalizzato](implementing-a-custom-mysql-aspnet-identity-storage-provider.md).</span><span class="sxs-lookup"><span data-stu-id="97b62-108">For an example of implementing a custom storage provider, see [Implementing a Custom MySQL ASP.NET Identity Storage Provider](implementing-a-custom-mysql-aspnet-identity-storage-provider.md).</span></span>
> 
> <span data-ttu-id="97b62-109">In questo argomento è stato aggiornato per identità di ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="97b62-109">This topic was updated for ASP.NET Identity 2.0.</span></span>
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="97b62-110">Versioni del software utilizzate nell'esercitazione</span><span class="sxs-lookup"><span data-stu-id="97b62-110">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="97b62-111">Visual Studio 2013 con Update 2</span><span class="sxs-lookup"><span data-stu-id="97b62-111">Visual Studio 2013 with Update 2</span></span>
> - <span data-ttu-id="97b62-112">ASP.NET Identity 2</span><span class="sxs-lookup"><span data-stu-id="97b62-112">ASP.NET Identity 2</span></span>

## <a name="introduction"></a><span data-ttu-id="97b62-113">Introduzione</span><span class="sxs-lookup"><span data-stu-id="97b62-113">Introduction</span></span>

<span data-ttu-id="97b62-114">Per impostazione predefinita, il sistema di ASP.NET Identity archivia informazioni utente in un database di SQL Server e utilizza Code First di Entity Framework per creare il database.</span><span class="sxs-lookup"><span data-stu-id="97b62-114">By default, the ASP.NET Identity system stores user information in a SQL Server database, and uses Entity Framework Code First to create the database.</span></span> <span data-ttu-id="97b62-115">Per molte applicazioni, questo approccio funziona bene.</span><span class="sxs-lookup"><span data-stu-id="97b62-115">For many applications, this approach works well.</span></span> <span data-ttu-id="97b62-116">Tuttavia, è preferibile utilizzare un diverso tipo di meccanismo di persistenza, ad esempio archiviazione tabelle di Azure, o tabelle di database con una struttura molto diversa da quella predefinita è già presente.</span><span class="sxs-lookup"><span data-stu-id="97b62-116">However, you may prefer to use a different type of persistence mechanism, such as Azure Table Storage, or you may already have database tables with a very different structure than the default implementation.</span></span> <span data-ttu-id="97b62-117">In entrambi i casi, è possibile scrivere un provider personalizzato per il meccanismo di archiviazione e collegarsi all'applicazione che il provider.</span><span class="sxs-lookup"><span data-stu-id="97b62-117">In either case, you can write a customized provider for your storage mechanism and plug that provider into your application.</span></span>

<span data-ttu-id="97b62-118">ASP.NET Identity è incluso per impostazione predefinita in molti dei modelli di Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="97b62-118">ASP.NET Identity is included by default in many of the Visual Studio 2013 templates.</span></span> <span data-ttu-id="97b62-119">È possibile ottenere gli aggiornamenti ad ASP.NET Identity attraverso [pacchetto EntityFramework NuGet identità di Microsoft AspNet](http://www.nuget.org/packages/Microsoft.AspNet.Identity.EntityFramework/).</span><span class="sxs-lookup"><span data-stu-id="97b62-119">You can get updates to ASP.NET Identity through [Microsoft AspNet Identity EntityFramework NuGet package](http://www.nuget.org/packages/Microsoft.AspNet.Identity.EntityFramework/).</span></span>

<span data-ttu-id="97b62-120">Questo argomento include le sezioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="97b62-120">This topic includes the following sections:</span></span>

- [<span data-ttu-id="97b62-121">Comprendere l'architettura</span><span class="sxs-lookup"><span data-stu-id="97b62-121">Understand the architecture</span></span>](#architecture)
- [<span data-ttu-id="97b62-122">Comprendere i dati archiviati</span><span class="sxs-lookup"><span data-stu-id="97b62-122">Understand the data that is stored</span></span>](#data)
- [<span data-ttu-id="97b62-123">Creare il livello di accesso ai dati</span><span class="sxs-lookup"><span data-stu-id="97b62-123">Create the data access layer</span></span>](#dal)
- [<span data-ttu-id="97b62-124">Personalizzare la classe utente</span><span class="sxs-lookup"><span data-stu-id="97b62-124">Customize the user class</span></span>](#user)
- [<span data-ttu-id="97b62-125">Personalizzare l'archivio dell'utente</span><span class="sxs-lookup"><span data-stu-id="97b62-125">Customize the user store</span></span>](#userstore)
- [<span data-ttu-id="97b62-126">Personalizzare la classe di ruoli</span><span class="sxs-lookup"><span data-stu-id="97b62-126">Customize the role class</span></span>](#role)
- [<span data-ttu-id="97b62-127">Personalizzare l'archivio di ruolo</span><span class="sxs-lookup"><span data-stu-id="97b62-127">Customize the role store</span></span>](#rolestore)
- [<span data-ttu-id="97b62-128">Riconfigurare l'applicazione per l'uso di nuovi provider di archiviazione</span><span class="sxs-lookup"><span data-stu-id="97b62-128">Reconfigure application to use new storage provider</span></span>](#reconfigure)
- [<span data-ttu-id="97b62-129">Altre implementazioni del provider di archiviazione personalizzati</span><span class="sxs-lookup"><span data-stu-id="97b62-129">Other implementations of custom storage providers</span></span>](#other)

<a id="architecture"></a>
## <a name="understand-the-architecture"></a><span data-ttu-id="97b62-130">Comprendere l'architettura</span><span class="sxs-lookup"><span data-stu-id="97b62-130">Understand the architecture</span></span>

<span data-ttu-id="97b62-131">ASP.NET Identity è costituito da classi responsabili e gli archivi.</span><span class="sxs-lookup"><span data-stu-id="97b62-131">ASP.NET Identity consists of classes called managers and stores.</span></span> <span data-ttu-id="97b62-132">I responsabili sono classi ad alto livello che uno sviluppatore di applicazioni viene utilizzato per eseguire operazioni, ad esempio la creazione di un utente, nel sistema di identità di ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="97b62-132">Managers are high-level classes which an application developer uses to perform operations, such as creating a user, in the ASP.NET Identity system.</span></span> <span data-ttu-id="97b62-133">Gli archivi sono classi di basso livello che specificano come entità, ad esempio utenti e ruoli, vengono resi persistenti.</span><span class="sxs-lookup"><span data-stu-id="97b62-133">Stores are lower-level classes that specify how entities, such as users and roles, are persisted.</span></span> <span data-ttu-id="97b62-134">Gli archivi sono strettamente associati con il meccanismo di persistenza, ma i responsabili sono separati dagli archivi che significa che è possibile sostituire il meccanismo di persistenza senza interrompere l'intera applicazione.</span><span class="sxs-lookup"><span data-stu-id="97b62-134">Stores are closely coupled with the persistence mechanism, but managers are decoupled from stores which means you can replace the persistence mechanism without disrupting the entire application.</span></span>

<span data-ttu-id="97b62-135">Il diagramma seguente mostra come l'applicazione web interagisce con i gestori e archivi di interagiscono con il livello di accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="97b62-135">The following diagram shows how your web application interacts with the managers, and stores interact with the data access layer.</span></span>

![](overview-of-custom-storage-providers-for-aspnet-identity/_static/image1.png)

<span data-ttu-id="97b62-136">Per creare un provider di archiviazione personalizzati per ASP.NET Identity, è necessario creare l'origine dati, il livello di accesso ai dati e le classi di archiviazione che interagiscono con questo livello di accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="97b62-136">To create a customized storage provider for ASP.NET Identity, you have to create the data source, the data access layer, and the store classes that interact with this data access layer.</span></span> <span data-ttu-id="97b62-137">È possibile continuare con la stessa API di gestione per eseguire operazioni sui dati per l'utente, ma ora che i dati vengono salvati in un sistema di archiviazione diverso.</span><span class="sxs-lookup"><span data-stu-id="97b62-137">You can continue using the same manager APIs to perform data operations on the user but now that data is saved to a different storage system.</span></span>

<span data-ttu-id="97b62-138">Non è necessario personalizzare le classi di gestione perché quando si crea una nuova istanza della classe UserManager o RoleManager è specificare il tipo della classe utente e passare un'istanza della classe store come argomento.</span><span class="sxs-lookup"><span data-stu-id="97b62-138">You do not need to customize the manager classes because when creating a new instance of UserManager or RoleManager you provide the type of the user class and pass an instance of the store class as an argument.</span></span> <span data-ttu-id="97b62-139">Questo approccio consente di inserire le classi personalizzate nella struttura esistente.</span><span class="sxs-lookup"><span data-stu-id="97b62-139">This approach enables you to plug your customized classes into the existing structure.</span></span> <span data-ttu-id="97b62-140">Si vedrà come creare un'istanza della classe UserManager e RoleManager con le classi di archivio personalizzato nella sezione [riconfigurare l'applicazione di usare provider di archiviazione nuovo](#reconfigure).</span><span class="sxs-lookup"><span data-stu-id="97b62-140">You will see how to instantiate UserManager and RoleManager with your customized store classes in the section [Reconfigure application to use new storage provider](#reconfigure).</span></span>

<a id="data"></a>
## <a name="understand-the-data-that-is-stored"></a><span data-ttu-id="97b62-141">Comprendere i dati archiviati</span><span class="sxs-lookup"><span data-stu-id="97b62-141">Understand the data that is stored</span></span>

<span data-ttu-id="97b62-142">Per implementare un provider di archiviazione personalizzati, è necessario conoscere i tipi di dati usati con ASP.NET Identity e decidere quali funzionalità sono rilevanti per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="97b62-142">To implement a custom storage provider, you must understand the types of data used with ASP.NET Identity, and decide which features are relevant to your application.</span></span>

| <span data-ttu-id="97b62-143">Dati</span><span class="sxs-lookup"><span data-stu-id="97b62-143">Data</span></span> | <span data-ttu-id="97b62-144">Descrizione</span><span class="sxs-lookup"><span data-stu-id="97b62-144">Description</span></span> |
| --- | --- |
| <span data-ttu-id="97b62-145">Utenti</span><span class="sxs-lookup"><span data-stu-id="97b62-145">Users</span></span> | <span data-ttu-id="97b62-146">Utenti registrati del sito web.</span><span class="sxs-lookup"><span data-stu-id="97b62-146">Registered users of your web site.</span></span> <span data-ttu-id="97b62-147">Include il nome utente e Id utente.</span><span class="sxs-lookup"><span data-stu-id="97b62-147">Includes the user Id and user name.</span></span> <span data-ttu-id="97b62-148">Potrebbe includere una password con hash se gli utenti accedono con le credenziali specifiche per il sito, anziché con le credenziali di un sito esterno, ad esempio Facebook, e indicatore di sicurezza per indicare se qualsiasi elemento è stato modificato nelle credenziali dell'utente.</span><span class="sxs-lookup"><span data-stu-id="97b62-148">Might include a hashed password if users log in with credentials that are specific to your site (rather than using credentials from an external site like Facebook), and security stamp to indicate whether anything has changed in the user credentials.</span></span> <span data-ttu-id="97b62-149">Potrebbe anche includere indirizzo di posta elettronica, numero di telefono, se è abilitata l'autenticazione a due fattori, il numero corrente di accessi, non riusciti e indica se un account è stato bloccato.</span><span class="sxs-lookup"><span data-stu-id="97b62-149">Might also include email address, phone number, whether two factor authentication is enabled, the current number of failed logins, and whether an account has been locked.</span></span> |
| <span data-ttu-id="97b62-150">Attestazioni utente</span><span class="sxs-lookup"><span data-stu-id="97b62-150">User Claims</span></span> | <span data-ttu-id="97b62-151">Un set di istruzioni (o attestazioni) sull'utente che rappresentano l'identità dell'utente.</span><span class="sxs-lookup"><span data-stu-id="97b62-151">A set of statements (or claims) about the user that represent the user's identity.</span></span> <span data-ttu-id="97b62-152">Possibile abilitare l'espressione più grande dell'identità dell'utente rispetto a quello ottenibile tramite i ruoli.</span><span class="sxs-lookup"><span data-stu-id="97b62-152">Can enable greater expression of the user's identity than can be achieved through roles.</span></span> |
| <span data-ttu-id="97b62-153">Account di accesso utente</span><span class="sxs-lookup"><span data-stu-id="97b62-153">User Logins</span></span> | <span data-ttu-id="97b62-154">Informazioni sul provider di autenticazione esterni (come Facebook) da usare durante la registrazione di un utente.</span><span class="sxs-lookup"><span data-stu-id="97b62-154">Information about the external authentication provider (like Facebook) to use when logging in a user.</span></span> |
| <span data-ttu-id="97b62-155">Ruoli</span><span class="sxs-lookup"><span data-stu-id="97b62-155">Roles</span></span> | <span data-ttu-id="97b62-156">Gruppi di autorizzazione per il sito.</span><span class="sxs-lookup"><span data-stu-id="97b62-156">Authorization groups for your site.</span></span> <span data-ttu-id="97b62-157">Include il nome di Id e il ruolo del ruolo (ad esempio, "Admin" o "Employee").</span><span class="sxs-lookup"><span data-stu-id="97b62-157">Includes the role Id and role name (like "Admin" or "Employee").</span></span> |

<a id="dal"></a>
## <a name="create-the-data-access-layer"></a><span data-ttu-id="97b62-158">Creare il livello di accesso ai dati</span><span class="sxs-lookup"><span data-stu-id="97b62-158">Create the data access layer</span></span>

<span data-ttu-id="97b62-159">In questo argomento si presuppone che si ha familiarità con il meccanismo di persistenza che si intende usare e come creare le entità per questo meccanismo.</span><span class="sxs-lookup"><span data-stu-id="97b62-159">This topic assumes you are familiar with the persistence mechanism that you are going to use and how to create entities for that mechanism.</span></span> <span data-ttu-id="97b62-160">In questo argomento non fornisce informazioni dettagliate su come creare il repository o classi di accesso ai dati; al contrario, vengono forniti alcuni suggerimenti sulle decisioni di progettazione da prendere quando si lavora con ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="97b62-160">This topic does not provide details about how to create the repositories or data access classes; instead, it provides some suggestions about the design decisions you need to make when working with ASP.NET Identity.</span></span>

<span data-ttu-id="97b62-161">Si dispone di molta libertà quando si progetta il repository di codice per un oggetto personalizzato provider dell'archivio.</span><span class="sxs-lookup"><span data-stu-id="97b62-161">You have a lot of freedom when designing the repositories for a customized store provider.</span></span> <span data-ttu-id="97b62-162">È sufficiente creare i repository per le funzionalità che si intendono utilizzare nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="97b62-162">You only need to create repositories for features that you intend to use in your application.</span></span> <span data-ttu-id="97b62-163">Ad esempio, se non si usa i ruoli dell'applicazione, è necessario creare l'archivio per i ruoli o i ruoli utente.</span><span class="sxs-lookup"><span data-stu-id="97b62-163">For example, if you are not using roles in your application, you do not need to create storage for roles or user roles.</span></span> <span data-ttu-id="97b62-164">L'infrastruttura esistente e la tecnologia può richiedere una struttura che è molto diversa da un'implementazione predefinita di ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="97b62-164">Your technology and existing infrastructure may require a structure that is very different from the default implementation of ASP.NET Identity.</span></span> <span data-ttu-id="97b62-165">Nel livello di accesso ai dati, è fornire la logica da utilizzare con la struttura del repository.</span><span class="sxs-lookup"><span data-stu-id="97b62-165">In your data access layer, you provide the logic to work with the structure of your repositories.</span></span>

<span data-ttu-id="97b62-166">Per un'implementazione di MySQL di repository dei dati per ASP.NET Identity 2.0, vedere [MySQLIdentity.sql](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/MySQLIdentity.sql).</span><span class="sxs-lookup"><span data-stu-id="97b62-166">For a MySQL implementation of data repositories for ASP.NET Identity 2.0, see [MySQLIdentity.sql](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/MySQLIdentity.sql).</span></span>

<span data-ttu-id="97b62-167">Nel livello di accesso ai dati, è fornire la logica per salvare i dati di ASP.NET Identity all'origine dati.</span><span class="sxs-lookup"><span data-stu-id="97b62-167">In the data access layer, you provide the logic to save the data from ASP.NET Identity to your data source.</span></span> <span data-ttu-id="97b62-168">Il livello di accesso ai dati per il provider di archiviazione personalizzato potrebbe includere le classi seguenti per archiviare le informazioni utente e il ruolo.</span><span class="sxs-lookup"><span data-stu-id="97b62-168">The data access layer for your customized storage provider might include the following classes to store user and role information.</span></span>

| <span data-ttu-id="97b62-169">Classe</span><span class="sxs-lookup"><span data-stu-id="97b62-169">Class</span></span> | <span data-ttu-id="97b62-170">Descrizione</span><span class="sxs-lookup"><span data-stu-id="97b62-170">Description</span></span> | <span data-ttu-id="97b62-171">Esempio</span><span class="sxs-lookup"><span data-stu-id="97b62-171">Example</span></span> |
| --- | --- | --- |
| <span data-ttu-id="97b62-172">Contesto</span><span class="sxs-lookup"><span data-stu-id="97b62-172">Context</span></span> | <span data-ttu-id="97b62-173">Incapsula le informazioni per connettersi al meccanismo di persistenza ed eseguire query.</span><span class="sxs-lookup"><span data-stu-id="97b62-173">Encapsulates the information to connect to your persistence mechanism and execute queries.</span></span> <span data-ttu-id="97b62-174">Questa classe è fondamentale per il livello di accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="97b62-174">This class is central to your data access layer.</span></span> <span data-ttu-id="97b62-175">Le altre classi di dati richiederà un'istanza di questa classe per eseguire le relative operazioni.</span><span class="sxs-lookup"><span data-stu-id="97b62-175">The other data classes will require an instance of this class to perform their operations.</span></span> <span data-ttu-id="97b62-176">Le classi di archivio con un'istanza di questa classe verrà inoltre inizializzato.</span><span class="sxs-lookup"><span data-stu-id="97b62-176">You will also initialize your store classes with an instance of this class.</span></span> | [<span data-ttu-id="97b62-177">MySQLDatabase</span><span class="sxs-lookup"><span data-stu-id="97b62-177">MySQLDatabase</span></span>](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/MySQLDatabase.cs) |
| <span data-ttu-id="97b62-178">Archiviazione utente</span><span class="sxs-lookup"><span data-stu-id="97b62-178">User Storage</span></span> | <span data-ttu-id="97b62-179">Archivia e recupera le informazioni utente (ad esempio hash della password e nome utente).</span><span class="sxs-lookup"><span data-stu-id="97b62-179">Stores and retrieves user information (such as user name and password hash).</span></span> | [<span data-ttu-id="97b62-180">UserTable (MySQL)</span><span class="sxs-lookup"><span data-stu-id="97b62-180">UserTable (MySQL)</span></span>](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/UserTable.cs) |
| <span data-ttu-id="97b62-181">Archiviazione di ruolo</span><span class="sxs-lookup"><span data-stu-id="97b62-181">Role Storage</span></span> | <span data-ttu-id="97b62-182">Archivia e recupera le informazioni sui ruoli (ad esempio, il nome del ruolo).</span><span class="sxs-lookup"><span data-stu-id="97b62-182">Stores and retrieves role information (such as the role name).</span></span> | [<span data-ttu-id="97b62-183">RoleTable (MySQL)</span><span class="sxs-lookup"><span data-stu-id="97b62-183">RoleTable (MySQL)</span></span>](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/RoleTable.cs) |
| <span data-ttu-id="97b62-184">Archiviazione UserClaims</span><span class="sxs-lookup"><span data-stu-id="97b62-184">UserClaims Storage</span></span> | <span data-ttu-id="97b62-185">Archivia e recupera informazioni sulle attestazioni di utente (ad esempio il tipo di attestazione e il valore).</span><span class="sxs-lookup"><span data-stu-id="97b62-185">Stores and retrieves user claim information (such as the claim type and value).</span></span> | [<span data-ttu-id="97b62-186">UserClaimsTable (MySQL)</span><span class="sxs-lookup"><span data-stu-id="97b62-186">UserClaimsTable (MySQL)</span></span>](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/UserClaimsTable.cs) |
| <span data-ttu-id="97b62-187">Accessi utente archiviazione</span><span class="sxs-lookup"><span data-stu-id="97b62-187">UserLogins Storage</span></span> | <span data-ttu-id="97b62-188">Archivia e recupera le informazioni di accesso utente (ad esempio un provider di autenticazione esterni).</span><span class="sxs-lookup"><span data-stu-id="97b62-188">Stores and retrieves user login information (such as an external authentication provider).</span></span> | [<span data-ttu-id="97b62-189">UserLoginsTable (MySQL)</span><span class="sxs-lookup"><span data-stu-id="97b62-189">UserLoginsTable (MySQL)</span></span>](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/UserLoginsTable.cs) |
| <span data-ttu-id="97b62-190">Archiviazione UserRole</span><span class="sxs-lookup"><span data-stu-id="97b62-190">UserRole Storage</span></span> | <span data-ttu-id="97b62-191">Archivia e recupera i ruoli che un utente è assegnato a.</span><span class="sxs-lookup"><span data-stu-id="97b62-191">Stores and retrieves which roles a user is assigned to.</span></span> | [<span data-ttu-id="97b62-192">UserRoleTable (MySQL)</span><span class="sxs-lookup"><span data-stu-id="97b62-192">UserRoleTable (MySQL)</span></span>](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/UserRoleTable.cs) |

<span data-ttu-id="97b62-193">Anche in questo caso, è sufficiente implementare le classi che si intendono utilizzare nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="97b62-193">Again, you only need to implement the classes that you intend to use in your application.</span></span>

<span data-ttu-id="97b62-194">Nelle classi di accesso dati, è fornire codice per eseguire operazioni di dati per il meccanismo di persistenza specifico.</span><span class="sxs-lookup"><span data-stu-id="97b62-194">In the data access classes, you provide code to perform data operations for your particular persistence mechanism.</span></span> <span data-ttu-id="97b62-195">Ad esempio, all'interno dell'implementazione di MySQL, la classe UserTable contiene un metodo per inserire un nuovo record nella tabella di database agli utenti.</span><span class="sxs-lookup"><span data-stu-id="97b62-195">For example, within the MySQL implementation, the UserTable class contains a method to insert a new record into the Users database table.</span></span> <span data-ttu-id="97b62-196">La variabile denominata `_database` è un'istanza della classe MySQLDatabase.</span><span class="sxs-lookup"><span data-stu-id="97b62-196">The variable named `_database` is an instance of the MySQLDatabase class.</span></span>

[!code-csharp[Main](overview-of-custom-storage-providers-for-aspnet-identity/samples/sample1.cs)]

<span data-ttu-id="97b62-197">Dopo aver creato le classi di accesso ai dati, è necessario creare classi di archivio che chiamano i metodi specifici del livello di accesso dati.</span><span class="sxs-lookup"><span data-stu-id="97b62-197">After creating your data access classes, you must create store classes that call the specific methods in the data access layer.</span></span>

<a id="user"></a>
## <a name="customize-the-user-class"></a><span data-ttu-id="97b62-198">Personalizzare la classe utente</span><span class="sxs-lookup"><span data-stu-id="97b62-198">Customize the user class</span></span>

<span data-ttu-id="97b62-199">Quando si implementa un proprio provider di archiviazione, è necessario creare una classe di utenti che corrispondono al [IdentityUser](https://msdn.microsoft.com/library/microsoft.aspnet.identity.entityframework.identityuser(v=vs.108).aspx) classe la [Microsoft.ASP.NET.Identity.EntityFramework](https://msdn.microsoft.com/library/microsoft.aspnet.identity.entityframework(v=vs.108).aspx) dello spazio dei nomi:</span><span class="sxs-lookup"><span data-stu-id="97b62-199">When implementing your own storage provider, you must create a user class which is equivalent to the [IdentityUser](https://msdn.microsoft.com/library/microsoft.aspnet.identity.entityframework.identityuser(v=vs.108).aspx) class in the [Microsoft.ASP.NET.Identity.EntityFramework](https://msdn.microsoft.com/library/microsoft.aspnet.identity.entityframework(v=vs.108).aspx) namespace:</span></span>

<span data-ttu-id="97b62-200">Il diagramma seguente illustra la classe IdentityUser che è necessario creare e l'interfaccia da implementare in questa classe.</span><span class="sxs-lookup"><span data-stu-id="97b62-200">The following diagram shows the IdentityUser class that you must create and the interface to implement in this class.</span></span>

![](overview-of-custom-storage-providers-for-aspnet-identity/_static/image2.png)

<span data-ttu-id="97b62-201">Il [IUser&lt;TKey&gt; ](https://msdn.microsoft.com/library/dn613291(v=vs.108).aspx) interfaccia definisce le proprietà che la classe UserManager tenta di chiamare quando l'esecuzione di operazioni richieste.</span><span class="sxs-lookup"><span data-stu-id="97b62-201">The [IUser&lt;TKey&gt;](https://msdn.microsoft.com/library/dn613291(v=vs.108).aspx) interface defines the properties that the UserManager attempts to call when performing requested operations.</span></span> <span data-ttu-id="97b62-202">L'interfaccia contiene due proprietà - Id e nome utente.</span><span class="sxs-lookup"><span data-stu-id="97b62-202">The interface contains two properties - Id and UserName.</span></span> <span data-ttu-id="97b62-203">Il [IUser&lt;TKey&gt; ](https://msdn.microsoft.com/library/dn613291(v=vs.108).aspx) interfaccia consente di specificare il tipo della chiave per l'utente tramite il modello generico **TKey** parametro.</span><span class="sxs-lookup"><span data-stu-id="97b62-203">The [IUser&lt;TKey&gt;](https://msdn.microsoft.com/library/dn613291(v=vs.108).aspx) interface enables you to specify the type of the key for the user through the generic **TKey** parameter.</span></span> <span data-ttu-id="97b62-204">Il tipo della proprietà Id corrisponde al valore del parametro TKey.</span><span class="sxs-lookup"><span data-stu-id="97b62-204">The type of the Id property matches the value of the TKey parameter.</span></span>

<span data-ttu-id="97b62-205">Il framework di identità fornisce anche il [IUser](https://msdn.microsoft.com/library/microsoft.aspnet.identity.iuser(v=vs.108).aspx) interfaccia (senza il parametro generico) quando si desidera utilizzare un valore stringa per la chiave.</span><span class="sxs-lookup"><span data-stu-id="97b62-205">The Identity framework also provides the [IUser](https://msdn.microsoft.com/library/microsoft.aspnet.identity.iuser(v=vs.108).aspx) interface (without the generic parameter) when you want to use a string value for the key.</span></span>

<span data-ttu-id="97b62-206">La classe IdentityUser implementa IUser e contiene proprietà aggiuntive o i costruttori per gli utenti nel proprio sito web.</span><span class="sxs-lookup"><span data-stu-id="97b62-206">The IdentityUser class implements IUser and contains any additional properties or constructors for users on your web site.</span></span> <span data-ttu-id="97b62-207">Nell'esempio seguente viene illustrata una classe di IdentityUser che usa un numero intero per la chiave.</span><span class="sxs-lookup"><span data-stu-id="97b62-207">The following example shows an IdentityUser class that uses an integer for the key.</span></span> <span data-ttu-id="97b62-208">Il campo Id viene impostato su **int** in base al valore del parametro generico.</span><span class="sxs-lookup"><span data-stu-id="97b62-208">The Id field is set to **int** to match the value of the generic parameter.</span></span> 

[!code-csharp[Main](overview-of-custom-storage-providers-for-aspnet-identity/samples/sample2.cs)]

 <span data-ttu-id="97b62-209">Per un'implementazione completa, vedere [IdentityUser (MySQL)](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/IdentityUser.cs).</span><span class="sxs-lookup"><span data-stu-id="97b62-209">For a complete implementation, see [IdentityUser (MySQL)](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/IdentityUser.cs).</span></span> 

<a id="userstore"></a>
## <a name="customize-the-user-store"></a><span data-ttu-id="97b62-210">Personalizzare l'archivio dell'utente</span><span class="sxs-lookup"><span data-stu-id="97b62-210">Customize the user store</span></span>

<span data-ttu-id="97b62-211">È anche possibile creare una classe nello UserStore che fornisce i metodi per tutte le operazioni di dati per l'utente.</span><span class="sxs-lookup"><span data-stu-id="97b62-211">You also create a UserStore class that provides the methods for all data operations on the user.</span></span> <span data-ttu-id="97b62-212">Questa classe è equivalente al [nello UserStore&lt;TUser&gt; ](https://msdn.microsoft.com/library/dn315446(v=vs.108).aspx) classe la [Microsoft.ASP.NET.Identity.EntityFramework](https://msdn.microsoft.com/library/microsoft.aspnet.identity.entityframework(v=vs.108).aspx) dello spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="97b62-212">This class is equivalent to the [UserStore&lt;TUser&gt;](https://msdn.microsoft.com/library/dn315446(v=vs.108).aspx) class in the [Microsoft.ASP.NET.Identity.EntityFramework](https://msdn.microsoft.com/library/microsoft.aspnet.identity.entityframework(v=vs.108).aspx) namespace.</span></span> <span data-ttu-id="97b62-213">Nella classe nello UserStore, si implementa il [IUserStore&lt;TKey, TUser&gt; ](https://msdn.microsoft.com/library/dn613276(v=vs.108).aspx) e in tutte le interfacce facoltative.</span><span class="sxs-lookup"><span data-stu-id="97b62-213">In your UserStore class, you implement the [IUserStore&lt;TUser, TKey&gt;](https://msdn.microsoft.com/library/dn613276(v=vs.108).aspx) and any of the optional interfaces.</span></span> <span data-ttu-id="97b62-214">Si seleziona quali interfacce facoltative per implementare basati sulle funzionalità che si desidera fornire nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="97b62-214">You select which optional interfaces to implement based on the functionality you wish to provide in your application.</span></span>

<span data-ttu-id="97b62-215">L'immagine seguente illustra la classe oggetto UserStore che è necessario creare e le relative interfacce.</span><span class="sxs-lookup"><span data-stu-id="97b62-215">The following image shows the UserStore class you must create and the relevant interfaces.</span></span>

![](overview-of-custom-storage-providers-for-aspnet-identity/_static/image3.png)

<span data-ttu-id="97b62-216">Il modello di progetto predefinito in Visual Studio contiene codice che presuppone che molte delle interfacce facoltative sono state implementate nell'archivio dell'utente.</span><span class="sxs-lookup"><span data-stu-id="97b62-216">The default project template in Visual Studio contains code that assumes many of the optional interfaces have been implemented in the user store.</span></span> <span data-ttu-id="97b62-217">Se si usa il modello predefinito con un archivio utente personalizzato, è necessario implementare interfacce facoltative nell'archivio utenti o modificare il codice del modello per non chiamare metodi nelle interfacce che non è stato implementato.</span><span class="sxs-lookup"><span data-stu-id="97b62-217">If you are using the default template with a customized user store, you must either implement optional interfaces in your user store or alter the template code to no longer call methods in the interfaces you have not implemented.</span></span>

 <span data-ttu-id="97b62-218">Nell'esempio seguente viene illustrata una classe di archivio utente semplice.</span><span class="sxs-lookup"><span data-stu-id="97b62-218">The following example shows a simple user store class.</span></span> <span data-ttu-id="97b62-219">Il **TUser** parametro generico accetta il tipo della classe utente che in genere è la classe IdentityUser è definita.</span><span class="sxs-lookup"><span data-stu-id="97b62-219">The **TUser** generic parameter takes the type of your user class which usually is the IdentityUser class you defined.</span></span> <span data-ttu-id="97b62-220">Il **TKey** parametro generico accetta il tipo della chiave utente.</span><span class="sxs-lookup"><span data-stu-id="97b62-220">The **TKey** generic parameter takes the type of your user key.</span></span> 

[!code-csharp[Main](overview-of-custom-storage-providers-for-aspnet-identity/samples/sample3.cs)]

 <span data-ttu-id="97b62-221">In questo esempio, il costruttore che accetta un parametro denominato *database* typu ExampleDatabase è solo un'illustrazione di come passare nella classe accesso dati.</span><span class="sxs-lookup"><span data-stu-id="97b62-221">In this example, the constructor that takes a parameter named *database* of type ExampleDatabase is only an illustration of how to pass in your data access class.</span></span> <span data-ttu-id="97b62-222">Ad esempio, nell'implementazione di MySQL, il costruttore accetta un parametro di tipo MySQLDatabase.</span><span class="sxs-lookup"><span data-stu-id="97b62-222">For example, in the MySQL implementation, this constructor takes a parameter of type MySQLDatabase.</span></span> 

<span data-ttu-id="97b62-223">All'interno della classe, nello UserStore è usare le classi di accesso di dati creato per eseguire operazioni.</span><span class="sxs-lookup"><span data-stu-id="97b62-223">Within your UserStore class, you use the data access classes that you created to perform operations.</span></span> <span data-ttu-id="97b62-224">Ad esempio, nell'implementazione di MySQL, la classe oggetto UserStore include il metodo CreateAsync che usa un'istanza di UserTable per inserire un nuovo record.</span><span class="sxs-lookup"><span data-stu-id="97b62-224">For example, in the MySQL implementation, the UserStore class has the CreateAsync method which uses an instance of UserTable to insert a new record.</span></span> <span data-ttu-id="97b62-225">Il **inserire** metodo sulle **userTable** oggetti sono lo stesso metodo descritto nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="97b62-225">The **Insert** method on the **userTable** object is the same method that was shown in the previous section.</span></span> 

[!code-csharp[Main](overview-of-custom-storage-providers-for-aspnet-identity/samples/sample4.cs)]

### <a name="interfaces-to-implement-when-customizing-user-store"></a><span data-ttu-id="97b62-226">Interfacce da implementare quando si personalizza l'archivio dell'utente</span><span class="sxs-lookup"><span data-stu-id="97b62-226">Interfaces to implement when customizing user store</span></span>

<span data-ttu-id="97b62-227">L'immagine successiva Mostra altri dettagli sulle funzionalità definite in ogni interfaccia.</span><span class="sxs-lookup"><span data-stu-id="97b62-227">The next image shows more details about the functionality defined in each interface.</span></span> <span data-ttu-id="97b62-228">Tutte le interfacce facoltative ereditare IUserStore.</span><span class="sxs-lookup"><span data-stu-id="97b62-228">All of the optional interfaces inherit from IUserStore.</span></span>

![](overview-of-custom-storage-providers-for-aspnet-identity/_static/image4.png)

- <span data-ttu-id="97b62-229">**IUserStore**</span><span class="sxs-lookup"><span data-stu-id="97b62-229">**IUserStore**</span></span>  
  <span data-ttu-id="97b62-230">Il [IUserStore&lt;TKey, TUser&gt; ](https://msdn.microsoft.com/library/dn613278(v=vs.108).aspx) è l'unica interfaccia è necessario implementare nell'archivio utente.</span><span class="sxs-lookup"><span data-stu-id="97b62-230">The [IUserStore&lt;TUser, TKey&gt;](https://msdn.microsoft.com/library/dn613278(v=vs.108).aspx) interface is the only interface you must implement in your user store.</span></span> <span data-ttu-id="97b62-231">Definisce i metodi per la creazione, aggiornamento, eliminazione e recupero degli utenti.</span><span class="sxs-lookup"><span data-stu-id="97b62-231">It defines methods for creating, updating, deleting, and retrieving users.</span></span>
- <span data-ttu-id="97b62-232">**IUserClaimStore**</span><span class="sxs-lookup"><span data-stu-id="97b62-232">**IUserClaimStore**</span></span>  
  <span data-ttu-id="97b62-233">Il [IUserClaimStore&lt;TKey, TUser&gt; ](https://msdn.microsoft.com/library/dn613265(v=vs.108).aspx) interfaccia definisce i metodi è necessario implementare nell'archivio utente per abilitare attestazioni utente.</span><span class="sxs-lookup"><span data-stu-id="97b62-233">The [IUserClaimStore&lt;TUser, TKey&gt;](https://msdn.microsoft.com/library/dn613265(v=vs.108).aspx) interface defines the methods you must implement in your user store to enable user claims.</span></span> <span data-ttu-id="97b62-234">Contiene metodi o l'aggiunta, rimozione e recupera le attestazioni utente.</span><span class="sxs-lookup"><span data-stu-id="97b62-234">It contains methods or adding, removing and retrieving user claims.</span></span>
- <span data-ttu-id="97b62-235">**IUserLoginStore**</span><span class="sxs-lookup"><span data-stu-id="97b62-235">**IUserLoginStore**</span></span>  
  <span data-ttu-id="97b62-236">Il [IUserLoginStore&lt;TKey, TUser&gt; ](https://msdn.microsoft.com/library/dn613272(v=vs.108).aspx) definisce i metodi è necessario implementare nell'archivio utente per consentire ai provider di autenticazione esterni.</span><span class="sxs-lookup"><span data-stu-id="97b62-236">The [IUserLoginStore&lt;TUser, TKey&gt;](https://msdn.microsoft.com/library/dn613272(v=vs.108).aspx) defines the methods you must implement in your user store to enable external authentication providers.</span></span> <span data-ttu-id="97b62-237">Contiene i metodi per l'aggiunta, rimozione e il recupero di account di accesso utente e un metodo per il recupero di un utente in base a informazioni di accesso.</span><span class="sxs-lookup"><span data-stu-id="97b62-237">It contains methods for adding, removing and retrieving user logins, and a method for retrieving a user based on the login information.</span></span>
- <span data-ttu-id="97b62-238">**IUserRoleStore**</span><span class="sxs-lookup"><span data-stu-id="97b62-238">**IUserRoleStore**</span></span>  
  <span data-ttu-id="97b62-239">Il [IUserRoleStore&lt;TKey, TUser&gt; ](https://msdn.microsoft.com/library/dn613276(v=vs.108).aspx) interfaccia definisce i metodi è necessario implementare nell'archivio utenti di eseguire il mapping di un utente a un ruolo.</span><span class="sxs-lookup"><span data-stu-id="97b62-239">The [IUserRoleStore&lt;TKey, TUser&gt;](https://msdn.microsoft.com/library/dn613276(v=vs.108).aspx) interface defines the methods you must implement in your user store to map a user to a role.</span></span> <span data-ttu-id="97b62-240">Contiene i metodi per aggiungere, rimuovere e recuperare i ruoli dell'utente e un metodo per verificare se un utente è assegnato a un ruolo.</span><span class="sxs-lookup"><span data-stu-id="97b62-240">It contains methods to add, remove, and retrieve a user's roles, and a method to check if a user is assigned to a role.</span></span>
- <span data-ttu-id="97b62-241">**IUserPasswordStore**</span><span class="sxs-lookup"><span data-stu-id="97b62-241">**IUserPasswordStore**</span></span>  
  <span data-ttu-id="97b62-242">Il [IUserPasswordStore&lt;TKey, TUser&gt; ](https://msdn.microsoft.com/library/dn613273(v=vs.108).aspx) interfaccia definisce i metodi è necessario implementare nell'archivio utente in modo permanente l'hashing delle password.</span><span class="sxs-lookup"><span data-stu-id="97b62-242">The [IUserPasswordStore&lt;TUser, TKey&gt;](https://msdn.microsoft.com/library/dn613273(v=vs.108).aspx) interface defines the methods you must implement in your user store to persist hashed passwords.</span></span> <span data-ttu-id="97b62-243">Contiene i metodi per ottenere e impostare la password con hash e un metodo che indica se l'utente ha impostato una password.</span><span class="sxs-lookup"><span data-stu-id="97b62-243">It contains methods for getting and setting the hashed password, and a method that indicates whether the user has set a password.</span></span>
- <span data-ttu-id="97b62-244">**IUserSecurityStampStore**</span><span class="sxs-lookup"><span data-stu-id="97b62-244">**IUserSecurityStampStore**</span></span>  
  <span data-ttu-id="97b62-245">Il [IUserSecurityStampStore&lt;TKey, TUser&gt; ](https://msdn.microsoft.com/library/dn613277(v=vs.108).aspx) interfaccia definisce i metodi è necessario implementare nell'archivio utenti di utilizzare un indicatore di sicurezza per indicare se le informazioni dell'utente account sono stato modificato .</span><span class="sxs-lookup"><span data-stu-id="97b62-245">The [IUserSecurityStampStore&lt;TUser, TKey&gt;](https://msdn.microsoft.com/library/dn613277(v=vs.108).aspx) interface defines the methods you must implement in your user store to use a security stamp for indicating whether the user's account information has changed.</span></span> <span data-ttu-id="97b62-246">Questo indicatore viene aggiornato quando un utente modifica la password, o aggiunge o rimuove gli account di accesso.</span><span class="sxs-lookup"><span data-stu-id="97b62-246">This stamp is updated when a user changes the password, or adds or removes logins.</span></span> <span data-ttu-id="97b62-247">Contiene i metodi per ottenere e impostare l'indicatore di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="97b62-247">It contains methods for getting and setting the security stamp.</span></span>
- <span data-ttu-id="97b62-248">**IUserTwoFactorStore**</span><span class="sxs-lookup"><span data-stu-id="97b62-248">**IUserTwoFactorStore**</span></span>  
  <span data-ttu-id="97b62-249">Il [IUserTwoFactorStore&lt;TKey, TUser&gt; ](https://msdn.microsoft.com/library/dn613279(v=vs.108).aspx) interfaccia definisce i metodi è necessario implementare per implementare autenticazione a due fattori.</span><span class="sxs-lookup"><span data-stu-id="97b62-249">The [IUserTwoFactorStore&lt;TUser, TKey&gt;](https://msdn.microsoft.com/library/dn613279(v=vs.108).aspx) interface defines the methods you must implement to implement two factor authentication.</span></span> <span data-ttu-id="97b62-250">Contiene i metodi per ottenere e impostare se per un utente è abilitata l'autenticazione a due fattori.</span><span class="sxs-lookup"><span data-stu-id="97b62-250">It contains methods for getting and setting whether two factor authentication is enabled for a user.</span></span>
- <span data-ttu-id="97b62-251">**IUserPhoneNumberStore**</span><span class="sxs-lookup"><span data-stu-id="97b62-251">**IUserPhoneNumberStore**</span></span>  
  <span data-ttu-id="97b62-252">Il [IUserPhoneNumberStore&lt;TKey, TUser&gt; ](https://msdn.microsoft.com/library/dn613275(v=vs.108).aspx) interfaccia definisce i metodi è necessario implementare per archiviare i numeri di telefono degli utenti.</span><span class="sxs-lookup"><span data-stu-id="97b62-252">The [IUserPhoneNumberStore&lt;TUser, TKey&gt;](https://msdn.microsoft.com/library/dn613275(v=vs.108).aspx) interface defines the methods you must implement to store user phone numbers.</span></span> <span data-ttu-id="97b62-253">Contiene i metodi per ottenere e impostare il numero di telefono e indica se il numero di telefono è confermato.</span><span class="sxs-lookup"><span data-stu-id="97b62-253">It contains methods for getting and setting the phone number and whether the phone number is confirmed.</span></span>
- <span data-ttu-id="97b62-254">**IUserEmailStore**</span><span class="sxs-lookup"><span data-stu-id="97b62-254">**IUserEmailStore**</span></span>  
  <span data-ttu-id="97b62-255">Il [IUserEmailStore&lt;TKey, TUser&gt; ](https://msdn.microsoft.com/library/dn613143(v=vs.108).aspx) interfaccia definisce i metodi è necessario implementare per archiviare gli indirizzi di posta elettronica utente.</span><span class="sxs-lookup"><span data-stu-id="97b62-255">The [IUserEmailStore&lt;TUser, TKey&gt;](https://msdn.microsoft.com/library/dn613143(v=vs.108).aspx) interface defines the methods you must implement to store user email addresses.</span></span> <span data-ttu-id="97b62-256">Contiene i metodi per ottenere e impostare l'indirizzo di posta elettronica e indica se il messaggio di posta elettronica è confermato.</span><span class="sxs-lookup"><span data-stu-id="97b62-256">It contains methods for getting and setting the email address and whether the email is confirmed.</span></span>
- <span data-ttu-id="97b62-257">**IUserLockoutStore**</span><span class="sxs-lookup"><span data-stu-id="97b62-257">**IUserLockoutStore**</span></span>  
  <span data-ttu-id="97b62-258">Il [IUserLockoutStore&lt;TKey, TUser&gt; ](https://msdn.microsoft.com/library/dn613271(v=vs.108).aspx) interfaccia definisce i metodi è necessario implementare per archiviare le informazioni sul blocco di un account.</span><span class="sxs-lookup"><span data-stu-id="97b62-258">The [IUserLockoutStore&lt;TUser, TKey&gt;](https://msdn.microsoft.com/library/dn613271(v=vs.108).aspx) interface defines the methods you must implement to store information about locking an account.</span></span> <span data-ttu-id="97b62-259">Contiene i metodi per ottenere il numero corrente di tentativi di accesso non riuscito, recupero e impostazione se l'account può essere bloccato, ottenere e impostare la data di fine del blocco, incrementare il numero di tentativi non riusciti e reimpostazione del numero di tentativi non riusciti.</span><span class="sxs-lookup"><span data-stu-id="97b62-259">It contains methods for getting the current number of failed access attempts, getting and setting whether the account can be locked, getting and setting the lock out end date, incrementing the number of failed attempts, and resetting the number of failed attempts.</span></span>
- <span data-ttu-id="97b62-260">**IQueryableUserStore**</span><span class="sxs-lookup"><span data-stu-id="97b62-260">**IQueryableUserStore**</span></span>  
  <span data-ttu-id="97b62-261">Il [IQueryableUserStore&lt;TKey, TUser&gt; ](https://msdn.microsoft.com/library/dn613267(v=vs.108).aspx) interfaccia definisce i membri è necessario implementare per fornire un archivio utente disponibile per query.</span><span class="sxs-lookup"><span data-stu-id="97b62-261">The [IQueryableUserStore&lt;TUser, TKey&gt;](https://msdn.microsoft.com/library/dn613267(v=vs.108).aspx) interface defines the members you must implement to provide a queryable user store.</span></span> <span data-ttu-id="97b62-262">Contiene una proprietà che contiene gli utenti di essere sottoposta a query.</span><span class="sxs-lookup"><span data-stu-id="97b62-262">It contains a property that holds the queryable users.</span></span>

  <span data-ttu-id="97b62-263">Implementare le interfacce che sono necessari nell'applicazione; ad esempio, di tipo IUserClaimStore, IUserLoginStore, IUserRoleStore, IUserPasswordStore e IUserSecurityStampStore interfacce come illustrato di seguito.</span><span class="sxs-lookup"><span data-stu-id="97b62-263">You implement the interfaces that are needed in your application; such as, the IUserClaimStore, IUserLoginStore, IUserRoleStore, IUserPasswordStore, and IUserSecurityStampStore interfaces as shown below.</span></span> 

[!code-csharp[Main](overview-of-custom-storage-providers-for-aspnet-identity/samples/sample5.cs)]

<span data-ttu-id="97b62-264">Per un'implementazione completa (incluse tutte le interfacce), vedere [nello UserStore (MySQL)](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/UserStore.cs).</span><span class="sxs-lookup"><span data-stu-id="97b62-264">For a complete implementation (including all of interfaces), see [UserStore (MySQL)](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/UserStore.cs).</span></span>

### <a name="identityuserclaim-identityuserlogin-and-identityuserrole"></a><span data-ttu-id="97b62-265">IdentityUserClaim IdentityUserLogin e IdentityUserRole</span><span class="sxs-lookup"><span data-stu-id="97b62-265">IdentityUserClaim, IdentityUserLogin, and IdentityUserRole</span></span>

<span data-ttu-id="97b62-266">Lo spazio dei nomi EntityFramework contiene le implementazioni del [IdentityUserClaim](https://msdn.microsoft.com/library/dn613250(v=vs.108).aspx), [IdentityUserLogin](https://msdn.microsoft.com/library/dn613251(v=vs.108).aspx), e [IdentityUserRole](https://msdn.microsoft.com/library/dn613252(v=vs.108).aspx) classi.</span><span class="sxs-lookup"><span data-stu-id="97b62-266">The Microsoft.AspNet.Identity.EntityFramework namespace contains implementations of the [IdentityUserClaim](https://msdn.microsoft.com/library/dn613250(v=vs.108).aspx), [IdentityUserLogin](https://msdn.microsoft.com/library/dn613251(v=vs.108).aspx), and [IdentityUserRole](https://msdn.microsoft.com/library/dn613252(v=vs.108).aspx) classes.</span></span> <span data-ttu-id="97b62-267">Se si usano queste funzionalità, è possibile creare le versioni personalizzate di queste classi e definire le proprietà per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="97b62-267">If you are using these features, you may want to create your own versions of these classes and define the properties for your application.</span></span> <span data-ttu-id="97b62-268">Tuttavia, a volte è più efficiente carica tali entità in memoria durante l'esecuzione di operazioni di base (ad esempio aggiungendo o rimuovendo l'attestazione dell'utente).</span><span class="sxs-lookup"><span data-stu-id="97b62-268">However, sometimes it is more efficient to not load these entities into memory when performing basic operations (such as adding or removing a user's claim).</span></span> <span data-ttu-id="97b62-269">Al contrario, le classi di archiviazione back-end possono eseguire queste operazioni direttamente sull'origine dati.</span><span class="sxs-lookup"><span data-stu-id="97b62-269">Instead, the backend store classes can execute these operations directly on the data source.</span></span> <span data-ttu-id="97b62-270">Ad esempio, il metodo UserStore.GetClaimsAsync() può chiamare il userClaimTable.FindByUserId(user. Metodo di ID) per eseguire una query su tabella direttamente e restituiscono un elenco di attestazioni.</span><span class="sxs-lookup"><span data-stu-id="97b62-270">For example, the UserStore.GetClaimsAsync() method can call the userClaimTable.FindByUserId(user.Id) method to execute a query on that table directly and return a list of claims.</span></span>

[!code-csharp[Main](overview-of-custom-storage-providers-for-aspnet-identity/samples/sample6.cs)]

<a id="role"></a>
## <a name="customize-the-role-class"></a><span data-ttu-id="97b62-271">Personalizzare la classe di ruoli</span><span class="sxs-lookup"><span data-stu-id="97b62-271">Customize the role class</span></span>

<span data-ttu-id="97b62-272">Quando si implementa un proprio provider di archiviazione, è necessario creare una classe role che equivale al [IdentityRole](https://msdn.microsoft.com/library/microsoft.aspnet.identity.entityframework.identityrole(v=vs.108).aspx) classe la [Microsoft.ASP.NET.Identity.EntityFramework](https://msdn.microsoft.com/library/microsoft.aspnet.identity.entityframework(v=vs.108).aspx) dello spazio dei nomi:</span><span class="sxs-lookup"><span data-stu-id="97b62-272">When implementing your own storage provider, you must create a role class which is equivalent to the [IdentityRole](https://msdn.microsoft.com/library/microsoft.aspnet.identity.entityframework.identityrole(v=vs.108).aspx) class in the [Microsoft.ASP.NET.Identity.EntityFramework](https://msdn.microsoft.com/library/microsoft.aspnet.identity.entityframework(v=vs.108).aspx) namespace:</span></span>

<span data-ttu-id="97b62-273">Il diagramma seguente illustra la classe IdentityRole che è necessario creare e l'interfaccia da implementare in questa classe.</span><span class="sxs-lookup"><span data-stu-id="97b62-273">The following diagram shows the IdentityRole class that you must create and the interface to implement in this class.</span></span>

![](overview-of-custom-storage-providers-for-aspnet-identity/_static/image5.png)

<span data-ttu-id="97b62-274">Il [IRole&lt;TKey&gt; ](https://msdn.microsoft.com/library/dn613268(v=vs.108).aspx) interfaccia definisce le proprietà che RoleManager tenta di chiamare quando l'esecuzione di operazioni richieste.</span><span class="sxs-lookup"><span data-stu-id="97b62-274">The [IRole&lt;TKey&gt;](https://msdn.microsoft.com/library/dn613268(v=vs.108).aspx) interface defines the properties that the RoleManager attempts to call when performing requested operations.</span></span> <span data-ttu-id="97b62-275">L'interfaccia contiene due proprietà - Id e nome.</span><span class="sxs-lookup"><span data-stu-id="97b62-275">The interface contains two properties - Id and Name.</span></span> <span data-ttu-id="97b62-276">Il [IRole&lt;TKey&gt; ](https://msdn.microsoft.com/library/dn613268(v=vs.108).aspx) interfaccia consente di specificare il tipo della chiave per il ruolo tramite il modello generico **TKey** parametro.</span><span class="sxs-lookup"><span data-stu-id="97b62-276">The [IRole&lt;TKey&gt;](https://msdn.microsoft.com/library/dn613268(v=vs.108).aspx) interface enables you to specify the type of the key for the role through the generic **TKey** parameter.</span></span> <span data-ttu-id="97b62-277">Il tipo della proprietà Id corrisponde al valore del parametro TKey.</span><span class="sxs-lookup"><span data-stu-id="97b62-277">The type of the Id property matches the value of the TKey parameter.</span></span>

<span data-ttu-id="97b62-278">Il framework di identità fornisce anche il [IRole](https://msdn.microsoft.com/library/microsoft.aspnet.identity.irole(v=vs.108).aspx) interfaccia (senza il parametro generico) quando si desidera utilizzare un valore stringa per la chiave.</span><span class="sxs-lookup"><span data-stu-id="97b62-278">The Identity framework also provides the [IRole](https://msdn.microsoft.com/library/microsoft.aspnet.identity.irole(v=vs.108).aspx) interface (without the generic parameter) when you want to use a string value for the key.</span></span>

<span data-ttu-id="97b62-279">Nell'esempio seguente viene illustrata una classe di IdentityRole che usa un numero intero per la chiave.</span><span class="sxs-lookup"><span data-stu-id="97b62-279">The following example shows an IdentityRole class that uses an integer for the key.</span></span> <span data-ttu-id="97b62-280">Il campo Id viene impostato a int in base al valore del parametro generico.</span><span class="sxs-lookup"><span data-stu-id="97b62-280">The Id field is set to int to match the value of the generic parameter.</span></span> 

[!code-csharp[Main](overview-of-custom-storage-providers-for-aspnet-identity/samples/sample7.cs)]

 <span data-ttu-id="97b62-281">Per un'implementazione completa, vedere [IdentityRole (MySQL)](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/IdentityRole.cs).</span><span class="sxs-lookup"><span data-stu-id="97b62-281">For a complete implementation, see [IdentityRole (MySQL)](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/IdentityRole.cs).</span></span> 

<a id="rolestore"></a>
## <a name="customize-the-role-store"></a><span data-ttu-id="97b62-282">Personalizzare l'archivio di ruolo</span><span class="sxs-lookup"><span data-stu-id="97b62-282">Customize the role store</span></span>

<span data-ttu-id="97b62-283">È anche possibile creare una classe di oggetto RoleStore che fornisce i metodi per tutte le operazioni di dati sui ruoli.</span><span class="sxs-lookup"><span data-stu-id="97b62-283">You also create a RoleStore class that provides the methods for all data operations on roles.</span></span> <span data-ttu-id="97b62-284">Questa classe è equivalente al [oggetto RoleStore&lt;TRole&gt; ](https://msdn.microsoft.com/library/dn468181(v=vs.108).aspx) classe nello spazio dei nomi Microsoft.ASP.NET.Identity.EntityFramework.</span><span class="sxs-lookup"><span data-stu-id="97b62-284">This class is equivalent to the [RoleStore&lt;TRole&gt;](https://msdn.microsoft.com/library/dn468181(v=vs.108).aspx) class in the Microsoft.ASP.NET.Identity.EntityFramework namespace.</span></span> <span data-ttu-id="97b62-285">Nella classe oggetto RoleStore, si implementa il [IRoleStore&lt;TKey, TRole&gt; ](https://msdn.microsoft.com/library/dn613266(v=vs.108).aspx) e, facoltativamente, il [IQueryableRoleStore&lt;TRole, TKey&gt; ](https://msdn.microsoft.com/library/dn613262(v=vs.108).aspx) interfaccia.</span><span class="sxs-lookup"><span data-stu-id="97b62-285">In your RoleStore class, you implement the [IRoleStore&lt;TRole, TKey&gt;](https://msdn.microsoft.com/library/dn613266(v=vs.108).aspx) and optionally the [IQueryableRoleStore&lt;TRole, TKey&gt;](https://msdn.microsoft.com/library/dn613262(v=vs.108).aspx) interface.</span></span>

![](overview-of-custom-storage-providers-for-aspnet-identity/_static/image6.png)

<span data-ttu-id="97b62-286">Nell'esempio seguente viene illustrata una classe di archivio ruoli.</span><span class="sxs-lookup"><span data-stu-id="97b62-286">The following example shows a role store class.</span></span> <span data-ttu-id="97b62-287">Il parametro generico TRole accetta il tipo della classe del ruolo che in genere è la classe IdentityRole che è definita.</span><span class="sxs-lookup"><span data-stu-id="97b62-287">The TRole generic parameter takes the type of your role class which usually is the IdentityRole class you defined.</span></span> <span data-ttu-id="97b62-288">Il parametro generico TKey accetta il tipo della chiave del ruolo.</span><span class="sxs-lookup"><span data-stu-id="97b62-288">The TKey generic parameter takes the type of your role key.</span></span> 

[!code-csharp[Main](overview-of-custom-storage-providers-for-aspnet-identity/samples/sample8.cs)]

- <span data-ttu-id="97b62-289">**IRoleStore&lt;TRole&gt;**</span><span class="sxs-lookup"><span data-stu-id="97b62-289">**IRoleStore&lt;TRole&gt;**</span></span>  
  <span data-ttu-id="97b62-290">Il [IRoleStore](https://msdn.microsoft.com/library/dn468195.aspx) interfaccia definisce i metodi da implementare nella classe archivio ruoli.</span><span class="sxs-lookup"><span data-stu-id="97b62-290">The [IRoleStore](https://msdn.microsoft.com/library/dn468195.aspx) interface defines the methods to implement in your role store class.</span></span> <span data-ttu-id="97b62-291">Contiene i metodi per la creazione, aggiornamento, eliminazione e recupero dei ruoli.</span><span class="sxs-lookup"><span data-stu-id="97b62-291">It contains methods for creating, updating, deleting and retrieving roles.</span></span>
- <span data-ttu-id="97b62-292">**RoleStore&lt;TRole&gt;**</span><span class="sxs-lookup"><span data-stu-id="97b62-292">**RoleStore&lt;TRole&gt;**</span></span>  
  <span data-ttu-id="97b62-293">Per personalizzare l'oggetto RoleStore, creare una classe che implementa l'interfaccia IRoleStore.</span><span class="sxs-lookup"><span data-stu-id="97b62-293">To customize RoleStore, create a class that implements the IRoleStore interface.</span></span> <span data-ttu-id="97b62-294">È sufficiente implementare questa classe se desidera utilizzare i ruoli del sistema.</span><span class="sxs-lookup"><span data-stu-id="97b62-294">You only have to implement this class if want to use roles on your system.</span></span> <span data-ttu-id="97b62-295">Il costruttore che accetta un parametro denominato *database* typu ExampleDatabase è solo un'illustrazione di come passare nella classe accesso dati.</span><span class="sxs-lookup"><span data-stu-id="97b62-295">The constructor that takes a parameter named *database* of type ExampleDatabase is only an illustration of how to pass in your data access class.</span></span> <span data-ttu-id="97b62-296">Ad esempio, nell'implementazione di MySQL, il costruttore accetta un parametro di tipo MySQLDatabase.</span><span class="sxs-lookup"><span data-stu-id="97b62-296">For example, in the MySQL implementation, this constructor takes a parameter of type MySQLDatabase.</span></span>  
  
  <span data-ttu-id="97b62-297">Per un'implementazione completa, vedere [oggetto RoleStore (MySQL)](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/RoleStore.cs) .</span><span class="sxs-lookup"><span data-stu-id="97b62-297">For a complete implementation, see [RoleStore (MySQL)](https://aspnet.codeplex.com/SourceControl/latest#Samples/Identity/AspNet.Identity.MySQL/RoleStore.cs) .</span></span>

<a id="reconfigure"></a>
## <a name="reconfigure-application-to-use-new-storage-provider"></a><span data-ttu-id="97b62-298">Riconfigurare l'applicazione per l'uso di nuovi provider di archiviazione</span><span class="sxs-lookup"><span data-stu-id="97b62-298">Reconfigure application to use new storage provider</span></span>

<span data-ttu-id="97b62-299">È stato implementato il nuovo provider di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="97b62-299">You have implemented your new storage provider.</span></span> <span data-ttu-id="97b62-300">A questo punto, è necessario configurare l'applicazione per usare questo provider di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="97b62-300">Now, you must configure your application to use this storage provider.</span></span> <span data-ttu-id="97b62-301">Se il provider di archiviazione predefinito è stato incluso nel progetto, è necessario rimuovere il provider predefinito e sostituirlo con il provider.</span><span class="sxs-lookup"><span data-stu-id="97b62-301">If the default storage provider was included in your project, you must remove the default provider and replace it with your provider.</span></span>

### <a name="replace-default-storage-provider-in-mvc-project"></a><span data-ttu-id="97b62-302">Sostituire il provider di archiviazione predefinito nel progetto MVC</span><span class="sxs-lookup"><span data-stu-id="97b62-302">Replace default storage provider in MVC project</span></span>

1. <span data-ttu-id="97b62-303">Nel **Gestisci pacchetti NuGet** finestra, disinstallare le **Microsoft ASP.NET Identity EntityFramework** pacchetto.</span><span class="sxs-lookup"><span data-stu-id="97b62-303">In the **Manage NuGet Packages** window, uninstall the **Microsoft ASP.NET Identity EntityFramework** package.</span></span> <span data-ttu-id="97b62-304">È possibile trovare il pacchetto eseguendo una ricerca nei pacchetti installati per Identity.EntityFramework.</span><span class="sxs-lookup"><span data-stu-id="97b62-304">You can find this package by searching in the Installed packages for Identity.EntityFramework.</span></span>  
    <span data-ttu-id="97b62-305">![](overview-of-custom-storage-providers-for-aspnet-identity/_static/image7.png) Verrà richiesto se si desidera disinstallare anche Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="97b62-305">![](overview-of-custom-storage-providers-for-aspnet-identity/_static/image7.png) You will be asked if you also want to uninstall Entity Framework.</span></span> <span data-ttu-id="97b62-306">Se non è necessario in altre parti dell'applicazione, è possibile disinstallarlo.</span><span class="sxs-lookup"><span data-stu-id="97b62-306">If you do not need it in other parts of your application, you can uninstall it.</span></span>
2. <span data-ttu-id="97b62-307">Nel file IdentityModels.cs nella cartella Models, eliminare o impostare come commento il **ApplicationUser** e **ApplicationDbContext** classi.</span><span class="sxs-lookup"><span data-stu-id="97b62-307">In the IdentityModels.cs file in the Models folder, delete or comment out the **ApplicationUser** and **ApplicationDbContext** classes.</span></span> <span data-ttu-id="97b62-308">In un'applicazione MVC, è possibile eliminare l'intero file IdentityModels.cs.</span><span class="sxs-lookup"><span data-stu-id="97b62-308">In an MVC application, you can delete the entire IdentityModels.cs file.</span></span> <span data-ttu-id="97b62-309">In un'applicazione Web Form, eliminare le due classi, ma accertarsi di che mantenere la classe helper che si trova anche nel file IdentityModels.cs.</span><span class="sxs-lookup"><span data-stu-id="97b62-309">In a Web Forms application, delete the two classes but make sure you keep the helper class that is also located in the IdentityModels.cs file.</span></span>
3. <span data-ttu-id="97b62-310">Se il provider di archiviazione si trova in un progetto separato, aggiungere un riferimento a esso nell'applicazione web.</span><span class="sxs-lookup"><span data-stu-id="97b62-310">If your storage provider resides in a separate project, add a reference to it in your web application.</span></span>
4. <span data-ttu-id="97b62-311">Sostituire tutti i riferimenti a `using Microsoft.AspNet.Identity.EntityFramework;` con un'istruzione per lo spazio dei nomi del provider di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="97b62-311">Replace all references to `using Microsoft.AspNet.Identity.EntityFramework;` with a using statement for the namespace of your storage provider.</span></span>
5. <span data-ttu-id="97b62-312">Nel **Startup.Auth.cs** classe, modificare il **ConfigureAuth** metodo da usare una singola istanza di contesto appropriata.</span><span class="sxs-lookup"><span data-stu-id="97b62-312">In the **Startup.Auth.cs** class, change the **ConfigureAuth** method to use a single instance of the appropriate context.</span></span> 

    [!code-csharp[Main](overview-of-custom-storage-providers-for-aspnet-identity/samples/sample9.cs?highlight=3)]
6. <span data-ttu-id="97b62-313">Nell'App\_cartella di avvio, aprire **IdentityConfig.cs**.</span><span class="sxs-lookup"><span data-stu-id="97b62-313">In the App\_Start folder, open **IdentityConfig.cs**.</span></span> <span data-ttu-id="97b62-314">Nella classe ApplicationUserManager, modificare il **Create** per restituire una gestione utente che usa l'archivio utente personalizzato.</span><span class="sxs-lookup"><span data-stu-id="97b62-314">In the ApplicationUserManager class, change the **Create** method to return a user manager that uses your customized user store.</span></span> 

    [!code-csharp[Main](overview-of-custom-storage-providers-for-aspnet-identity/samples/sample10.cs?highlight=3)]
7. <span data-ttu-id="97b62-315">Sostituire tutti i riferimenti a **ApplicationUser** con **IdentityUser**.</span><span class="sxs-lookup"><span data-stu-id="97b62-315">Replace all references to **ApplicationUser** with **IdentityUser**.</span></span>
8. <span data-ttu-id="97b62-316">Il progetto predefinito include alcuni membri nella classe utente che non sono definiti nell'interfaccia IUser. ad esempio indirizzo di posta elettronica, PasswordHash e GenerateUserIdentityAsync.</span><span class="sxs-lookup"><span data-stu-id="97b62-316">The default project includes some members in user class which are not defined in the IUser interface; such as Email, PasswordHash, and GenerateUserIdentityAsync.</span></span> <span data-ttu-id="97b62-317">Se la classe utente non dispone di questi membri, è necessario implementarle o modificare il codice che usa questi membri.</span><span class="sxs-lookup"><span data-stu-id="97b62-317">If your user class does not have these members, you must either implement them or change the code that uses these members.</span></span>
9. <span data-ttu-id="97b62-318">Se è stato creato tutte le istanze di RoleManager, modificare il codice per usare la nuova classe di oggetto RoleStore.</span><span class="sxs-lookup"><span data-stu-id="97b62-318">If you have created any instances of RoleManager, change that code to use your new RoleStore class.</span></span>  

    [!code-csharp[Main](overview-of-custom-storage-providers-for-aspnet-identity/samples/sample11.cs)]
10. <span data-ttu-id="97b62-319">Il progetto predefinito è progettato per una classe utente che ha un valore stringa per la chiave.</span><span class="sxs-lookup"><span data-stu-id="97b62-319">The default project is designed for a user class that has a string value for the key.</span></span> <span data-ttu-id="97b62-320">Se la classe utente presenta un tipo diverso per la chiave (ad esempio, un numero intero), è necessario modificare il progetto per l'uso con il tipo.</span><span class="sxs-lookup"><span data-stu-id="97b62-320">If your user class has a different type for the key (such as an integer), you must change the project to work with your type.</span></span> <span data-ttu-id="97b62-321">Visualizzare [modificare la chiave primaria per gli utenti in ASP.NET Identity](change-primary-key-for-users-in-aspnet-identity.md).</span><span class="sxs-lookup"><span data-stu-id="97b62-321">See [Change Primary Key for Users in ASP.NET Identity](change-primary-key-for-users-in-aspnet-identity.md).</span></span>
11. <span data-ttu-id="97b62-322">Se necessario, aggiungere la stringa di connessione nel file Web. config.</span><span class="sxs-lookup"><span data-stu-id="97b62-322">If needed, add the connection string to the Web.config file.</span></span>

<a id="other"></a>
## <a name="other-resources"></a><span data-ttu-id="97b62-323">Altre risorse</span><span class="sxs-lookup"><span data-stu-id="97b62-323">Other resources</span></span>

- <span data-ttu-id="97b62-324">Blog: [Implementazione di ASP.NET Identity](http://odetocode.com/blogs/scott/archive/2014/01/20/implementing-asp-net-identity.aspx)</span><span class="sxs-lookup"><span data-stu-id="97b62-324">Blog: [Implementing ASP.NET Identity](http://odetocode.com/blogs/scott/archive/2014/01/20/implementing-asp-net-identity.aspx)</span></span>
- <span data-ttu-id="97b62-325">Codice di esercitazione e GIT: [Provider di identità Simple.Data Asp.Net](http://designcoderelease.blogspot.co.uk/2015/03/simpledata-aspnet-identity-provider.html)</span><span class="sxs-lookup"><span data-stu-id="97b62-325">Tutorial and GIT code: [Simple.Data Asp.Net Identity Provider](http://designcoderelease.blogspot.co.uk/2015/03/simpledata-aspnet-identity-provider.html)</span></span>
- <span data-ttu-id="97b62-326">Esercitazione:[configurare gli account di identità di base e che punta a un database esterno](http://typecastexception.com/post/2013/10/27/Configuring-Db-Connection-and-Code-First-Migration-for-Identity-Accounts-in-ASPNET-MVC-5-and-Visual-Studio-2013.aspx).</span><span class="sxs-lookup"><span data-stu-id="97b62-326">Tutorial:[Setting up the basic Identity accounts, and pointing them at an external DB](http://typecastexception.com/post/2013/10/27/Configuring-Db-Connection-and-Code-First-Migration-for-Identity-Accounts-in-ASPNET-MVC-5-and-Visual-Studio-2013.aspx).</span></span> <span data-ttu-id="97b62-327">Dal [ @xivSolutions ](https://twitter.com/xivSolutions).</span><span class="sxs-lookup"><span data-stu-id="97b62-327">By [@xivSolutions](https://twitter.com/xivSolutions).</span></span>
- <span data-ttu-id="97b62-328">Esercitazione[: Implementazione di un Provider di archiviazione MySQL personalizzato ASP.NET Identity](implementing-a-custom-mysql-aspnet-identity-storage-provider.md)</span><span class="sxs-lookup"><span data-stu-id="97b62-328">Tutorial[: Implementing a Custom MySQL ASP.NET Identity Storage Provider](implementing-a-custom-mysql-aspnet-identity-storage-provider.md)</span></span>
- <span data-ttu-id="97b62-329">[Le entità CodeFluent](http://blog.codefluententities.com/2014/04/30/asp-net-identity-v2-and-codefluent-entities/) da [SoftFluent](http://www.softfluent.com/)</span><span class="sxs-lookup"><span data-stu-id="97b62-329">[CodeFluent Entities](http://blog.codefluententities.com/2014/04/30/asp-net-identity-v2-and-codefluent-entities/) by [SoftFluent](http://www.softfluent.com/)</span></span>
- <span data-ttu-id="97b62-330">[Archiviazione tabelle di Azure](https://www.nuget.org/packages/accidentalfish.aspnet.identity.azure/) Randall James.</span><span class="sxs-lookup"><span data-stu-id="97b62-330">[Azure Table Storage](https://www.nuget.org/packages/accidentalfish.aspnet.identity.azure/) by James Randall.</span></span>
- <span data-ttu-id="97b62-331">Archiviazione tabelle di Azure: [AspNet.Identity.TableStorage](https://github.com/stuartleeks/leeksnet.AspNet.Identity.TableStorage) dal [ @stuartleeks ](https://twitter.com/stuartleeks).</span><span class="sxs-lookup"><span data-stu-id="97b62-331">Azure Table Storage: [AspNet.Identity.TableStorage](https://github.com/stuartleeks/leeksnet.AspNet.Identity.TableStorage) by [@stuartleeks](https://twitter.com/stuartleeks).</span></span>
- [<span data-ttu-id="97b62-332">CouchDB / Cloudant da Daniel Wertheim.</span><span class="sxs-lookup"><span data-stu-id="97b62-332">CouchDB / Cloudant by Daniel Wertheim.</span></span>](https://github.com/danielwertheim/mycouch.aspnet.identity)
- <span data-ttu-id="97b62-333">Elastico Uire[h: Identità elastico](https://github.com/bmbsqd/elastic-identity) da Bombsquad AB.</span><span class="sxs-lookup"><span data-stu-id="97b62-333">Elastic Searc[h: Elastic Identity](https://github.com/bmbsqd/elastic-identity) by Bombsquad AB.</span></span>
- <span data-ttu-id="97b62-334">[MongoDB](http://www.nuget.org/packages/MongoDB.AspNet.Identity/) da Jonathan Sheely Jonathan Sheely.</span><span class="sxs-lookup"><span data-stu-id="97b62-334">[MongoDB](http://www.nuget.org/packages/MongoDB.AspNet.Identity/) by Jonathan Sheely Jonathan Sheely.</span></span>
- <span data-ttu-id="97b62-335">[NHibernate.AspNet.Identity](https://github.com/milesibastos/NHibernate.AspNet.Identity) da Antônio Milesi Bastos.</span><span class="sxs-lookup"><span data-stu-id="97b62-335">[NHibernate.AspNet.Identity](https://github.com/milesibastos/NHibernate.AspNet.Identity) by Antônio Milesi Bastos.</span></span>
- <span data-ttu-id="97b62-336">[RavenDB](http://www.nuget.org/packages/AspNet.Identity.RavenDB/1.0.0) dal [ @tourismgeek ](https://twitter.com/tourismgeek).</span><span class="sxs-lookup"><span data-stu-id="97b62-336">[RavenDB](http://www.nuget.org/packages/AspNet.Identity.RavenDB/1.0.0) by [@tourismgeek](https://twitter.com/tourismgeek).</span></span>
- <span data-ttu-id="97b62-337">[RavenDB.AspNet.Identity](https://github.com/ILMServices/RavenDB.AspNet.Identity) dal [ILMServices](http://www.ilmservice.com/).</span><span class="sxs-lookup"><span data-stu-id="97b62-337">[RavenDB.AspNet.Identity](https://github.com/ILMServices/RavenDB.AspNet.Identity) by [ILMServices](http://www.ilmservice.com/).</span></span>
- <span data-ttu-id="97b62-338">Redis: [Redis.AspNet.Identity](https://github.com/aminjam/Redis.AspNet.Identity)</span><span class="sxs-lookup"><span data-stu-id="97b62-338">Redis: [Redis.AspNet.Identity](https://github.com/aminjam/Redis.AspNet.Identity)</span></span>
- <span data-ttu-id="97b62-339">Modelli T4 per generare il codice di Entity Framework per un archivio utente "del database prima di tutto": [AspNet.Identity.EntityFramework](https://github.com/cbfrank/AspNet.Identity.EntityFramework)</span><span class="sxs-lookup"><span data-stu-id="97b62-339">T4 Templates to generate EF code for a "database first" user store: [AspNet.Identity.EntityFramework](https://github.com/cbfrank/AspNet.Identity.EntityFramework)</span></span>
