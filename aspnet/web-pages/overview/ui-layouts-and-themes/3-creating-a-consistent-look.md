---
uid: web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
title: Creazione di un Layout coerente in ASP.NET Web Pages (Razor) siti | Microsoft Docs
author: Rick-Anderson
description: Per rendere più efficiente creare pagine web per il sito, è possibile creare blocchi riutilizzabili di contenuto (ad esempio, le intestazioni e piè di pagina) per il sito Web e si c...
ms.author: riande
ms.date: 03/10/2014
ms.assetid: d7bd001b-6db2-4422-9b78-f3d08b743b00
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
msc.type: authoredcontent
ms.openlocfilehash: 3f63ce68ae4c13970ac0df196167ace0b22b592c
ms.sourcegitcommit: dd0dc556a3d99a31d8fdbc763e9a2e53f3441b70
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/27/2019
ms.locfileid: "67411249"
---
# <a name="creating-a-consistent-layout-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="19097-103">Creazione di un Layout coerente in ASP.NET Web Pages (Razor) Sites</span><span class="sxs-lookup"><span data-stu-id="19097-103">Creating a Consistent Layout in ASP.NET Web Pages (Razor) Sites</span></span>

<span data-ttu-id="19097-104">da [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="19097-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="19097-105">Questo articolo illustra come è possibile usare le pagine di layout in un sito Web ASP.NET Web Pages (Razor) per creare blocchi riutilizzabili di contenuto (ad esempio, le intestazioni e piè di pagina) e creare un aspetto coerente per tutte le pagine nel sito.</span><span class="sxs-lookup"><span data-stu-id="19097-105">This article explains how you can use layout pages in an ASP.NET Web Pages (Razor) website to create reusable blocks of content (like headers and footers) and to create a consistent look for all the pages in the site.</span></span>
> 
> <span data-ttu-id="19097-106">**Che cosa si apprenderà come:**</span><span class="sxs-lookup"><span data-stu-id="19097-106">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="19097-107">Come creare blocchi riutilizzabili di contenuto, ad esempio le intestazioni e piè di pagina.</span><span class="sxs-lookup"><span data-stu-id="19097-107">How to create reusable blocks of content like headers and footers.</span></span>
> - <span data-ttu-id="19097-108">Come creare un aspetto coerente per tutte le pagine del sito utilizzando un layout.</span><span class="sxs-lookup"><span data-stu-id="19097-108">How to create a consistent look for all the pages in your site using a layout.</span></span>
> - <span data-ttu-id="19097-109">Come passare i dati in fase di esecuzione a una pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-109">How to pass data at run time to a layout page.</span></span>
> 
> <span data-ttu-id="19097-110">Queste sono le funzionalità ASP.NET introdotte nell'articolo:</span><span class="sxs-lookup"><span data-stu-id="19097-110">These are the ASP.NET features introduced in the article:</span></span>
> 
> - <span data-ttu-id="19097-111">Blocchi di contenuto, ovvero file contenenti contenuto in formato HTML da inserire in più pagine.</span><span class="sxs-lookup"><span data-stu-id="19097-111">Content blocks, which are files that contain HTML-formatted content to be inserted in multiple pages.</span></span>
> - <span data-ttu-id="19097-112">Pagine di layout, ovvero le pagine contenenti contenuto in formato HTML che può essere condiviso dalle pagine sul sito Web.</span><span class="sxs-lookup"><span data-stu-id="19097-112">Layout pages, which are pages that contain HTML-formatted content that can be shared by pages on the website.</span></span>
> - <span data-ttu-id="19097-113">Il `RenderPage`, `RenderBody`, e `RenderSection` metodi, che indicano dove inserire gli elementi della pagina ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="19097-113">The `RenderPage`, `RenderBody`, and `RenderSection` methods, which tell ASP.NET where to insert page elements.</span></span>
> - <span data-ttu-id="19097-114">Il `PageData` dizionario che ti permette di condividere dati tra i blocchi di contenuto e pagine di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-114">The `PageData` dictionary that lets you share data between content blocks and layout pages.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="19097-115">Versioni del software utilizzate nell'esercitazione</span><span class="sxs-lookup"><span data-stu-id="19097-115">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="19097-116">ASP.NET Web Pages (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="19097-116">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="19097-117">Questa esercitazione si integra inoltre con ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="19097-117">This tutorial also works with ASP.NET Web Pages 2.</span></span>

## <a name="about-layout-pages"></a><span data-ttu-id="19097-118">Informazioni sulle pagine di Layout</span><span class="sxs-lookup"><span data-stu-id="19097-118">About Layout Pages</span></span>

<span data-ttu-id="19097-119">Molti siti Web con contenuto che viene visualizzato in ogni pagina, come un'intestazione e piè di pagina o una finestra che indica gli utenti che si è connessi.</span><span class="sxs-lookup"><span data-stu-id="19097-119">Many websites have content that's displayed on every page, like a header and footer, or a box that tells users that they're logged in.</span></span> <span data-ttu-id="19097-120">ASP.NET consente di creare un file separato con un blocco di contenuto che può contenere testo, markup e codice, proprio come una normale pagina web.</span><span class="sxs-lookup"><span data-stu-id="19097-120">ASP.NET lets you create a separate file with a content block that can contain text, markup, and code, just like a regular web page.</span></span> <span data-ttu-id="19097-121">È quindi possibile inserire il blocco di contenuto in altre pagine nel sito in cui si desidera visualizzare le informazioni.</span><span class="sxs-lookup"><span data-stu-id="19097-121">You can then insert the content block in other pages on the site where you want the information to appear.</span></span> <span data-ttu-id="19097-122">In questo modo che non è necessario copiare e incollare lo stesso contenuto in ogni pagina.</span><span class="sxs-lookup"><span data-stu-id="19097-122">That way you don't have to copy and paste the same content into every page.</span></span> <span data-ttu-id="19097-123">Creazione di contenuto comune simile anche rende più semplice aggiornare il sito.</span><span class="sxs-lookup"><span data-stu-id="19097-123">Creating common content like this also makes it easier to update your site.</span></span> <span data-ttu-id="19097-124">Se è necessario modificare il contenuto, è possibile aggiornare solo un singolo file e le modifiche vengono quindi applicate ovunque è stato inserito il contenuto.</span><span class="sxs-lookup"><span data-stu-id="19097-124">If you need to change the content, you can just update a single file, and the changes are then reflected everywhere the content has been inserted.</span></span>

<span data-ttu-id="19097-125">Il diagramma seguente mostra come contenuto Blocca lavoro.</span><span class="sxs-lookup"><span data-stu-id="19097-125">The following diagram shows how content blocks work.</span></span> <span data-ttu-id="19097-126">Quando un browser richiede una pagina dal server web, ASP.NET inserisce i blocchi di contenuto nel punto in cui il `RenderPage` viene chiamato nella pagina principale.</span><span class="sxs-lookup"><span data-stu-id="19097-126">When a browser requests a page from the web server, ASP.NET inserts the content blocks at the point where the `RenderPage` method is called in the main page.</span></span> <span data-ttu-id="19097-127">La pagina (unita) completata viene quindi inviata al browser.</span><span class="sxs-lookup"><span data-stu-id="19097-127">The finished (merged) page is then sent to the browser.</span></span>

![Diagramma concettuale che mostra come il metodo RenderPage inserisce una pagina di cui viene fatto riferimento nella pagina corrente.](3-creating-a-consistent-look/_static/image1.jpg)

<span data-ttu-id="19097-129">In questa procedura si creerà una pagina che fa riferimento a due blocchi di contenuto (un'intestazione e piè di pagina) che si trovano in file separati.</span><span class="sxs-lookup"><span data-stu-id="19097-129">In this procedure, you'll create a page that references two content blocks (a header and a footer) that are located in separate files.</span></span> <span data-ttu-id="19097-130">È possibile usare questi stessi blocchi di contenuto in qualsiasi pagina nel sito.</span><span class="sxs-lookup"><span data-stu-id="19097-130">You can use these same content blocks in any page in your site.</span></span> <span data-ttu-id="19097-131">Al termine, si otterrà una pagina simile alla seguente:</span><span class="sxs-lookup"><span data-stu-id="19097-131">When you're done, you'll get a page like this:</span></span>

![Screenshot che mostra una pagina nel browser risultante dall'esecuzione di una pagina che include le chiamate al metodo RenderPage.](3-creating-a-consistent-look/_static/image2.png)

1. <span data-ttu-id="19097-133">Nella cartella radice del sito Web, creare un file denominato *index. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="19097-133">In the root folder of your website, create a file named *Index.cshtml*.</span></span>
2. <span data-ttu-id="19097-134">Sostituire il markup esistente con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="19097-134">Replace the existing markup with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample1.html)]
3. <span data-ttu-id="19097-135">Nella cartella radice, creare una cartella denominata *condiviso*.</span><span class="sxs-lookup"><span data-stu-id="19097-135">In the root folder, create a folder named *Shared*.</span></span>

    > [!NOTE]
    > <span data-ttu-id="19097-136">È pratica comune per archiviare i file che vengono condivisi tra pagine web in una cartella denominata *condiviso*.</span><span class="sxs-lookup"><span data-stu-id="19097-136">It's common practice to store files that are shared among web pages in a folder named *Shared*.</span></span>
4. <span data-ttu-id="19097-137">Nel *Shared* cartella, creare un file denominato  *\_Header.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="19097-137">In the *Shared* folder, create a file named *\_Header.cshtml*.</span></span>
5. <span data-ttu-id="19097-138">Sostituire qualsiasi contenuto esistente con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="19097-138">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample2.html)]

    <span data-ttu-id="19097-139">Si noti che è il nome del file  *\_Header.cshtml*, con un carattere di sottolineatura (\_) come prefisso.</span><span class="sxs-lookup"><span data-stu-id="19097-139">Notice that the file name is *\_Header.cshtml*, with an underscore (\_) as a prefix.</span></span> <span data-ttu-id="19097-140">ASP.NET non invierà una pagina nel browser se il nome inizia con un carattere di sottolineatura.</span><span class="sxs-lookup"><span data-stu-id="19097-140">ASP.NET won't send a page to the browser if its name starts with an underscore.</span></span> <span data-ttu-id="19097-141">Onde evitare che gli utenti richiedano (inavvertitamente o in caso contrario) queste pagine direttamente.</span><span class="sxs-lookup"><span data-stu-id="19097-141">This prevents people from requesting (inadvertently or otherwise) these pages directly.</span></span> <span data-ttu-id="19097-142">È consigliabile usare un carattere di sottolineatura alle pagine di nome dotati di blocchi di contenuto, perché non è realmente gli utenti possano richiedere queste pagine &#8212; esiste esclusivamente per essere inserita in altre pagine.</span><span class="sxs-lookup"><span data-stu-id="19097-142">It's a good idea to use an underscore to name pages that have content blocks in them, because you don't really want users to be able to request these pages &#8212; they exist strictly to be inserted into other pages.</span></span>
6. <span data-ttu-id="19097-143">Nel *Shared* cartella, creare un file denominato  *\_Footer.cshtml* e sostituire il contenuto con quanto segue:</span><span class="sxs-lookup"><span data-stu-id="19097-143">In the *Shared* folder, create a file named *\_Footer.cshtml* and replace the content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample3.html)]
7. <span data-ttu-id="19097-144">Nel *index. cshtml* pagina, aggiungere due chiamate al `RenderPage` metodo, come illustrato di seguito:</span><span class="sxs-lookup"><span data-stu-id="19097-144">In the *Index.cshtml* page, add two calls to the `RenderPage` method, as shown here:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample4.html)]

    <span data-ttu-id="19097-145">Viene illustrato come inserire un blocco di contenuto in una pagina web.</span><span class="sxs-lookup"><span data-stu-id="19097-145">This shows how to insert a content block into a web page.</span></span> <span data-ttu-id="19097-146">Si chiama il `RenderPage` metodo e passa il nome del file di cui si desidera inserire in quel punto il contenuto.</span><span class="sxs-lookup"><span data-stu-id="19097-146">You call the `RenderPage` method and pass it the name of the file whose contents you want to insert at that point.</span></span> <span data-ttu-id="19097-147">In questo caso, si sta inserendo il contenuto del  *\_Header.cshtml* e  *\_Footer.cshtml* di file nei *index. cshtml* file.</span><span class="sxs-lookup"><span data-stu-id="19097-147">Here, you're inserting the contents of the *\_Header.cshtml* and *\_Footer.cshtml* files into the *Index.cshtml* file.</span></span>
8. <span data-ttu-id="19097-148">Eseguire la *index. cshtml* pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="19097-148">Run the *Index.cshtml* page in a browser.</span></span> <span data-ttu-id="19097-149">(In WebMatrix, nelle **file** dell'area di lavoro, il pulsante destro e quindi selezionare **Avvia nel browser**.)</span><span class="sxs-lookup"><span data-stu-id="19097-149">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.)</span></span>
9. <span data-ttu-id="19097-150">Nel browser, visualizzare l'origine della pagina.</span><span class="sxs-lookup"><span data-stu-id="19097-150">In the browser, view the page source.</span></span> <span data-ttu-id="19097-151">(Ad esempio, in Internet Explorer, fare doppio clic su pagina e quindi fare clic su **Visualizza origine**.)</span><span class="sxs-lookup"><span data-stu-id="19097-151">(For example, in Internet Explorer, right-click the page and then click **View Source**.)</span></span>

    <span data-ttu-id="19097-152">Ciò consente di visualizzare il markup della pagina web che viene inviato al browser, che combina il markup della pagina index con i blocchi di contenuto.</span><span class="sxs-lookup"><span data-stu-id="19097-152">This lets you see the web page markup that's sent to the browser, which combines the index page markup with the content blocks.</span></span> <span data-ttu-id="19097-153">L'esempio seguente illustra l'origine della pagina che viene eseguito il rendering per *index. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="19097-153">The following example shows the page source that's rendered for *Index.cshtml*.</span></span> <span data-ttu-id="19097-154">Le chiamate a `RenderPage` inseriti *index. cshtml* sono stati sostituiti con il contenuto effettivo dei file di intestazione e piè di pagina.</span><span class="sxs-lookup"><span data-stu-id="19097-154">The calls to `RenderPage` that you inserted into *Index.cshtml* have been replaced with the actual contents of the header and footer files.</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample5.html)]

## <a name="creating-a-consistent-look-using-layout-pages"></a><span data-ttu-id="19097-155">Creazione di un aspetto coerente Usando le pagine di Layout</span><span class="sxs-lookup"><span data-stu-id="19097-155">Creating a Consistent Look Using Layout Pages</span></span>

<span data-ttu-id="19097-156">Finora si è visto che è facile includere lo stesso contenuto in più pagine.</span><span class="sxs-lookup"><span data-stu-id="19097-156">So far you've seen that it's easy to include the same content on multiple pages.</span></span> <span data-ttu-id="19097-157">Un approccio più strutturato per la creazione di un aspetto coerente per un sito consiste nell'usare le pagine di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-157">A more structured approach to creating a consistent look for a site is to use layout pages.</span></span> <span data-ttu-id="19097-158">Una pagina di layout definisce la struttura di una pagina web, ma non contiene alcun contenuto effettivo.</span><span class="sxs-lookup"><span data-stu-id="19097-158">A layout page defines the structure of a web page, but doesn't contain any actual content.</span></span> <span data-ttu-id="19097-159">Dopo aver creato una pagina di layout, è possibile creare pagine web che contengono il contenuto e quindi collegarli alla pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-159">After you've created a layout page, you can create web pages that contain the content and then link them to the layout page.</span></span> <span data-ttu-id="19097-160">Quando queste pagine vengono visualizzate, essi verranno formattati in base alla pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-160">When these pages are displayed, they'll be formatted according to the layout page.</span></span> <span data-ttu-id="19097-161">(In questo senso, una pagina di layout agisce come un tipo di modello per il contenuto definito in altre pagine.)</span><span class="sxs-lookup"><span data-stu-id="19097-161">(In this sense, a layout page acts as a kind of template for content that's defined in other pages.)</span></span>

<span data-ttu-id="19097-162">Pagina di layout è simile a qualsiasi pagina HTML, ad eccezione del fatto che contiene una chiamata al `RenderBody` (metodo).</span><span class="sxs-lookup"><span data-stu-id="19097-162">The layout page is just like any HTML page, except that it contains a call to the `RenderBody` method.</span></span> <span data-ttu-id="19097-163">La posizione del `RenderBody` metodo nella pagina di layout determina in cui le informazioni dalla pagina di contenuto verrà incluse.</span><span class="sxs-lookup"><span data-stu-id="19097-163">The position of the `RenderBody` method in the layout page determines where the information from the content page will be included.</span></span>

<span data-ttu-id="19097-164">Il diagramma seguente mostra le pagine come contenuto e pagine di layout vengono combinate in fase di esecuzione per produrre la pagina web completata.</span><span class="sxs-lookup"><span data-stu-id="19097-164">The following diagram shows how content pages and layout pages are combined at run time to produce the finished web page.</span></span> <span data-ttu-id="19097-165">Il browser richiede una pagina di contenuto.</span><span class="sxs-lookup"><span data-stu-id="19097-165">The browser requests a content page.</span></span> <span data-ttu-id="19097-166">Nella pagina di contenuto contiene codice che specifica la pagina di layout da usare per la struttura della pagina.</span><span class="sxs-lookup"><span data-stu-id="19097-166">The content page has code in it that specifies the layout page to use for the page's structure.</span></span> <span data-ttu-id="19097-167">Nella pagina di layout, viene inserito il contenuto nel punto in cui il `RenderBody` viene chiamato il metodo.</span><span class="sxs-lookup"><span data-stu-id="19097-167">In the layout page, the content is inserted at the point where the `RenderBody` method is called.</span></span> <span data-ttu-id="19097-168">Contenuto di blocchi possono anche essere inseriti nella pagina layout chiamando il `RenderPage` metodo, il modo in cui è stato fatto nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="19097-168">Content blocks can also be inserted into the layout page by calling the `RenderPage` method, the way you did in the previous section.</span></span> <span data-ttu-id="19097-169">Una volta completata la pagina web, viene inviato al browser.</span><span class="sxs-lookup"><span data-stu-id="19097-169">When the web page is complete, it's sent to the browser.</span></span>

![Screenshot che mostra una pagina nel browser risultante dall'esecuzione di una pagina che include le chiamate al metodo RenderBody.](3-creating-a-consistent-look/_static/image3.jpg)

<span data-ttu-id="19097-171">La procedura seguente viene illustrato come creare un layout di pagine di contenuto di pagina e un collegamento a esso.</span><span class="sxs-lookup"><span data-stu-id="19097-171">The following procedure shows how to create a layout page and link content pages to it.</span></span>

1. <span data-ttu-id="19097-172">Nel *Shared* cartella del sito Web, creare un file denominato  *\_Layout1.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="19097-172">In the *Shared* folder of your website, create a file named *\_Layout1.cshtml*.</span></span>
2. <span data-ttu-id="19097-173">Sostituire qualsiasi contenuto esistente con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="19097-173">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample6.html)]

    <span data-ttu-id="19097-174">Si utilizza il `RenderPage` metodo in una pagina di layout per inserire i blocchi di contenuto.</span><span class="sxs-lookup"><span data-stu-id="19097-174">You use the `RenderPage` method in a layout page to insert content blocks.</span></span> <span data-ttu-id="19097-175">Una pagina di layout può contenere solo una chiamata al `RenderBody` (metodo).</span><span class="sxs-lookup"><span data-stu-id="19097-175">A layout page can contain only one call to the `RenderBody` method.</span></span>
3. <span data-ttu-id="19097-176">Nel *Shared* cartella, creare un file denominato  *\_Header2.cshtml* e sostituire qualsiasi contenuto esistente con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="19097-176">In the *Shared* folder, create a file named *\_Header2.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample7.html)]
4. <span data-ttu-id="19097-177">Nella cartella radice, creare una nuova cartella e denominarlo *stili*.</span><span class="sxs-lookup"><span data-stu-id="19097-177">In the root folder, create a new folder and name it *Styles*.</span></span>
5. <span data-ttu-id="19097-178">Nel *stili* cartella, creare un file denominato *CSS* e aggiungere le definizioni di stile seguente:</span><span class="sxs-lookup"><span data-stu-id="19097-178">In the *Styles* folder, create a file named *Site.css* and add the following style definitions:</span></span>

    [!code-css[Main](3-creating-a-consistent-look/samples/sample8.css)]

    <span data-ttu-id="19097-179">Queste definizioni di stile sono qui solo per mostrare come i fogli di stile utilizzabili con pagine di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-179">These style definitions are here only to show how style sheets can be used with layout pages.</span></span> <span data-ttu-id="19097-180">Se si desidera, è possibile definire gli stili personalizzati per questi elementi.</span><span class="sxs-lookup"><span data-stu-id="19097-180">If you want, you can define your own styles for these elements.</span></span>
6. <span data-ttu-id="19097-181">Nella cartella radice, creare un file denominato *Content1.cshtml* e sostituire qualsiasi contenuto esistente con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="19097-181">In the root folder, create a file named *Content1.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample9.cshtml)]

    <span data-ttu-id="19097-182">Si tratta di una pagina che verrà utilizzata una pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-182">This is a page that will use a layout page.</span></span> <span data-ttu-id="19097-183">Il blocco di codice nella parte superiore della pagina indica quale pagina di layout da usare per formattare questo contenuto.</span><span class="sxs-lookup"><span data-stu-id="19097-183">The code block at the top of the page indicates which layout page to use to format this content.</span></span>
7. <span data-ttu-id="19097-184">Eseguire *Content1.cshtml* in un browser.</span><span class="sxs-lookup"><span data-stu-id="19097-184">Run *Content1.cshtml* in a browser.</span></span> <span data-ttu-id="19097-185">La pagina sottoposta a rendering utilizza il formato e foglio di stile definiti in  *\_Layout1.cshtml* e il testo (contenuto) definito nella *Content1.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="19097-185">The rendered page uses the format and style sheet defined in *\_Layout1.cshtml* and the text (content) defined in *Content1.cshtml*.</span></span>

    ![[immagine]](3-creating-a-consistent-look/_static/image4.png)

    <span data-ttu-id="19097-187">È possibile ripetere il passaggio 6 per creare pagine di contenuto aggiuntive che possono quindi condividere la stessa pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-187">You can repeat step 6 to create additional content pages that can then share the same layout page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="19097-188">È possibile impostare il sito in modo che è possibile usare la stessa pagina di layout automaticamente per tutte le pagine di contenuto in una cartella.</span><span class="sxs-lookup"><span data-stu-id="19097-188">You can set up your site so that you can automatically use the same layout page for all the content pages in a folder.</span></span> <span data-ttu-id="19097-189">Per informazioni dettagliate, vedere [personalizzazione del comportamento a livello di sito per ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202906).</span><span class="sxs-lookup"><span data-stu-id="19097-189">For details, see [Customizing Site-Wide Behavior for ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202906).</span></span>

## <a name="designing-layout-pages-that-have-multiple-content-sections"></a><span data-ttu-id="19097-190">Progettazione di pagine di Layout che hanno più sezioni di contenuto</span><span class="sxs-lookup"><span data-stu-id="19097-190">Designing Layout Pages That Have Multiple Content Sections</span></span>

<span data-ttu-id="19097-191">Una pagina di contenuto può avere più sezioni, che risulta utile se si desidera usare i layout sono presenti più aree con contenuto sostituibile.</span><span class="sxs-lookup"><span data-stu-id="19097-191">A content page can have multiple sections, which is useful if you want to use layouts that have multiple areas with replaceable content.</span></span> <span data-ttu-id="19097-192">Nella pagina di contenuto, assegnare ogni sezione con un nome univoco.</span><span class="sxs-lookup"><span data-stu-id="19097-192">In the content page, you give each section a unique name.</span></span> <span data-ttu-id="19097-193">(La sezione predefinita viene lasciata senza nome.) Nella pagina di layout, aggiungere un `RenderBody` metodo per specificare dove dovrebbe essere visualizzata la sezione senza nome (impostazione predefinita).</span><span class="sxs-lookup"><span data-stu-id="19097-193">(The default section is left unnamed.) In the layout page, you add a `RenderBody` method to specify where the unnamed (default) section should appear.</span></span> <span data-ttu-id="19097-194">È quindi possibile aggiungere separato `RenderSection` metodi per eseguire il rendering di sezioni denominate singolarmente.</span><span class="sxs-lookup"><span data-stu-id="19097-194">You then add separate `RenderSection` methods in order to render named sections individually.</span></span>

<span data-ttu-id="19097-195">Il diagramma seguente mostra come ASP.NET gestisce il contenuto che è suddivisa in più sezioni.</span><span class="sxs-lookup"><span data-stu-id="19097-195">The following diagram shows how ASP.NET handles content that's divided into multiple sections.</span></span> <span data-ttu-id="19097-196">Ogni sezione denominata è contenuta in un blocco di sezione nella pagina di contenuto.</span><span class="sxs-lookup"><span data-stu-id="19097-196">Each named section is contained in a section block in the content page.</span></span> <span data-ttu-id="19097-197">(Sono denominati `Header` e `List` nell'esempio.) Il framework inserisce sezione contenuto nella pagina di layout nel punto in cui il `RenderSection` viene chiamato il metodo.</span><span class="sxs-lookup"><span data-stu-id="19097-197">(They're named `Header` and `List` in the example.) The framework inserts content section into the layout page at the point where the `RenderSection` method is called.</span></span> <span data-ttu-id="19097-198">La sezione senza nome (impostazione predefinita) viene inserita in corrispondenza del punto in cui il `RenderBody` viene chiamato il metodo come illustrato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="19097-198">The unnamed (default) section is inserted at the point where the `RenderBody` method is called, as you saw earlier.</span></span>

![Diagramma concettuale che mostra come il metodo RenderSection inserisce riferimenti sezioni nella pagina corrente.](3-creating-a-consistent-look/_static/image5.jpg)

<span data-ttu-id="19097-200">Questa procedura viene illustrato come creare una pagina di contenuto che include più sezioni di contenuto e come eseguire il rendering usando una pagina di layout che supporta più sezioni di contenuto.</span><span class="sxs-lookup"><span data-stu-id="19097-200">This procedure shows how to create a content page that has multiple content sections and how to render it using a layout page that supports multiple content sections.</span></span>

1. <span data-ttu-id="19097-201">Nel *Shared* cartella, creare un file denominato  *\_Layout2.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="19097-201">In the *Shared* folder, create a file named *\_Layout2.cshtml*.</span></span>
2. <span data-ttu-id="19097-202">Sostituire qualsiasi contenuto esistente con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="19097-202">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample10.html)]

    <span data-ttu-id="19097-203">Si utilizza il `RenderSection` metodo per eseguire il rendering sia l'intestazione e un elenco di sezioni.</span><span class="sxs-lookup"><span data-stu-id="19097-203">You use the `RenderSection` method to render both the header and list sections.</span></span>
3. <span data-ttu-id="19097-204">Nella cartella radice, creare un file denominato *Content2.cshtml* e sostituire qualsiasi contenuto esistente con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="19097-204">In the root folder, create a file named *Content2.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample11.cshtml)]

    <span data-ttu-id="19097-205">Questa pagina di contenuto contiene un blocco di codice nella parte superiore della pagina.</span><span class="sxs-lookup"><span data-stu-id="19097-205">This content page contains a code block at the top of the page.</span></span> <span data-ttu-id="19097-206">Ogni sezione denominata è contenuta in un blocco di sezione.</span><span class="sxs-lookup"><span data-stu-id="19097-206">Each named section is contained in a section block.</span></span> <span data-ttu-id="19097-207">Il resto della pagina contiene la sezione di contenuto predefinito (senza nome).</span><span class="sxs-lookup"><span data-stu-id="19097-207">The rest of the page contains the default (unnamed) content section.</span></span>
4. <span data-ttu-id="19097-208">Eseguire *Content2.cshtml* in un browser.</span><span class="sxs-lookup"><span data-stu-id="19097-208">Run *Content2.cshtml* in a browser.</span></span>

    ![Screenshot che mostra una pagina nel browser risultante dall'esecuzione di una pagina che include le chiamate al metodo RenderSection.](3-creating-a-consistent-look/_static/image6.png)

## <a name="making-content-sections-optional"></a><span data-ttu-id="19097-210">Rendendo facoltativo sezioni di contenuto</span><span class="sxs-lookup"><span data-stu-id="19097-210">Making Content Sections Optional</span></span>

<span data-ttu-id="19097-211">Le sezioni creati in una pagina di contenuto sono in genere in modo che corrispondano sezioni definite nella pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-211">Normally, the sections that you create in a content page have to match sections that are defined in the layout page.</span></span> <span data-ttu-id="19097-212">È possibile ottenere errori se si verifica una delle operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="19097-212">You can get errors if any of the following occur:</span></span>

- <span data-ttu-id="19097-213">Nella pagina di contenuto contiene una sezione che non dispone di alcuna sezione corrispondente nella pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-213">The content page contains a section that has no corresponding section in the layout page.</span></span>
- <span data-ttu-id="19097-214">Pagina di layout contiene una sezione per cui non è disponibile alcun contenuto.</span><span class="sxs-lookup"><span data-stu-id="19097-214">The layout page contains a section for which there's no content.</span></span>
- <span data-ttu-id="19097-215">La pagina di layout include chiamate al metodo che tenta di eseguire il rendering più volte la stessa sezione.</span><span class="sxs-lookup"><span data-stu-id="19097-215">The layout page includes method calls that try to render the same section more than once.</span></span>

<span data-ttu-id="19097-216">Tuttavia, è possibile eseguire l'override di questo comportamento per una sezione denominata dichiarando la sezione come facoltative nella pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-216">However, you can override this behavior for a named section by declaring the section to be optional in the layout page.</span></span> <span data-ttu-id="19097-217">È possibile definire più pagine di contenuto che possono condividere una pagina di layout, ma che possono o non può includere contenuto per una sezione specifica.</span><span class="sxs-lookup"><span data-stu-id="19097-217">This lets you define multiple content pages that can share a layout page but that might or might not have content for a specific section.</span></span>

1. <span data-ttu-id="19097-218">Aprire *Content2.cshtml* e rimuovere la sezione seguente:</span><span class="sxs-lookup"><span data-stu-id="19097-218">Open *Content2.cshtml* and remove the following section:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample12.cshtml)]
2. <span data-ttu-id="19097-219">Salvare la pagina e quindi eseguirlo in un browser.</span><span class="sxs-lookup"><span data-stu-id="19097-219">Save the page and then run it in a browser.</span></span> <span data-ttu-id="19097-220">Viene visualizzato un messaggio di errore, perché la pagina di contenuto non include il contenuto per una sezione definita nella pagina di layout, vale a dire la sezione di intestazione.</span><span class="sxs-lookup"><span data-stu-id="19097-220">An error message is displayed, because the content page doesn't provide content for a section defined in the layout page, namely the header section.</span></span>

    ![Screenshot che mostra l'errore che si verifica se si esegue una pagina che chiama il metodo RenderSection, ma la sezione corrispondente non viene specificata.](3-creating-a-consistent-look/_static/image7.png)
3. <span data-ttu-id="19097-222">Nel *Shared* cartella, aprire il  *\_Layout2.cshtml* pagina e sostituire questa riga:</span><span class="sxs-lookup"><span data-stu-id="19097-222">In the *Shared* folder, open the *\_Layout2.cshtml* page and replace this line:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample13.js)]

    <span data-ttu-id="19097-223">con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="19097-223">with the following code:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample14.js)]

    <span data-ttu-id="19097-224">In alternativa, è Impossibile sostituire la riga di codice precedente con il blocco di codice seguente, che produce gli stessi risultati:</span><span class="sxs-lookup"><span data-stu-id="19097-224">As an alternative, you could replace the previous line of code with the following code block, which produces the same results:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample15.cshtml)]
4. <span data-ttu-id="19097-225">Eseguire la *Content2.cshtml* pagina in un browser nuovamente.</span><span class="sxs-lookup"><span data-stu-id="19097-225">Run the *Content2.cshtml* page in a browser again.</span></span> <span data-ttu-id="19097-226">(Se è ancora aperto in questa pagina nel browser, è possibile solo aggiornarlo.) Questa volta verrà visualizzata la pagina senza errori, anche se non dispone di alcuna intestazione.</span><span class="sxs-lookup"><span data-stu-id="19097-226">(If you still have this page open in the browser, you can just refresh it.) This time the page is displayed with no error, even though it has no header.</span></span>

## <a name="passing-data-to-layout-pages"></a><span data-ttu-id="19097-227">Passaggio di dati a pagine di Layout</span><span class="sxs-lookup"><span data-stu-id="19097-227">Passing Data to Layout Pages</span></span>

<span data-ttu-id="19097-228">È possibile usare i dati definiti nella pagina di contenuto che è necessario fare riferimento a una pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-228">You might have data defined in the content page that you need to refer to in a layout page.</span></span> <span data-ttu-id="19097-229">In questo caso, è necessario passare i dati dalla pagina di contenuto alla pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-229">If so, you need to pass the data from the content page to the layout page.</span></span> <span data-ttu-id="19097-230">Ad esempio, si potrebbe voler visualizzare lo stato di accesso di un utente oppure si potrebbe voler mostrare o nascondere le aree del contenuto in base all'input utente.</span><span class="sxs-lookup"><span data-stu-id="19097-230">For example, you might want to display the login status of a user, or you might want to show or hide content areas based on user input.</span></span>

<span data-ttu-id="19097-231">Per passare dati da una pagina di contenuto a una pagina di layout, è possibile inserire valori nel `PageData` proprietà della pagina contenuto.</span><span class="sxs-lookup"><span data-stu-id="19097-231">To pass data from a content page to a layout page, you can put values into the `PageData` property of the content page.</span></span> <span data-ttu-id="19097-232">Il `PageData` proprietà è una raccolta di coppie nome/valore che contengono i dati che si desidera passare tra le pagine.</span><span class="sxs-lookup"><span data-stu-id="19097-232">The `PageData` property is a collection of name/value pairs that hold the data that you want to pass between pages.</span></span> <span data-ttu-id="19097-233">Nella pagina di layout, è quindi possibile leggere i valori fuori il `PageData` proprietà.</span><span class="sxs-lookup"><span data-stu-id="19097-233">In the layout page, you can then read values out of the `PageData` property.</span></span>

<span data-ttu-id="19097-234">Ecco un altro diagramma.</span><span class="sxs-lookup"><span data-stu-id="19097-234">Here's another diagram.</span></span> <span data-ttu-id="19097-235">Qui viene illustrato il modo in cui è possibile usare ASP.NET il `PageData` proprietà per passare i valori da una pagina di contenuto alla pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-235">This one shows how ASP.NET can use the `PageData` property to pass values from a content page to the layout page.</span></span> <span data-ttu-id="19097-236">Quando ASP.NET inizia la creazione della pagina web, viene creato il `PageData` raccolta.</span><span class="sxs-lookup"><span data-stu-id="19097-236">When ASP.NET begins building the web page, it creates the `PageData` collection.</span></span> <span data-ttu-id="19097-237">Nella pagina di contenuto, si scrive codice per inserire dati nel `PageData` raccolta.</span><span class="sxs-lookup"><span data-stu-id="19097-237">In the content page, you write code to put data in the `PageData` collection.</span></span> <span data-ttu-id="19097-238">I valori di `PageData` raccolta sono accessibili anche da altre sezioni nella pagina di contenuto o da altri blocchi di contenuto.</span><span class="sxs-lookup"><span data-stu-id="19097-238">Values in the `PageData` collection can also be accessed by other sections in the content page or by additional content blocks.</span></span>

![Diagramma concettuale che mostra come una pagina di contenuto può popolare un dizionario PageData e passare tali informazioni per la pagina di layout.](3-creating-a-consistent-look/_static/image8.jpg)

<span data-ttu-id="19097-240">La procedura seguente viene illustrato come passare i dati da una pagina di contenuto a una pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-240">The following procedure shows how to pass data from a content page to a layout page.</span></span> <span data-ttu-id="19097-241">Quando la pagina viene eseguita, viene visualizzato un pulsante che consente all'utente di nascondere o mostrare un elenco che viene definito nella pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="19097-241">When the page runs, it displays a button that lets the user hide or show a list that's defined in the layout page.</span></span> <span data-ttu-id="19097-242">Quando gli utenti di fare clic sul pulsante, viene impostato un valore true o false (booleana) `PageData` proprietà.</span><span class="sxs-lookup"><span data-stu-id="19097-242">When users click the button, it sets a true/false (Boolean) value in the `PageData` property.</span></span> <span data-ttu-id="19097-243">Pagina di layout legge tale valore e se è false, vengono nascosti nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="19097-243">The layout page reads that value, and if it's false, hides the list.</span></span> <span data-ttu-id="19097-244">Il valore viene utilizzato anche nella pagina di contenuto per determinare se visualizzare il **Nascondi elenco** pulsante o il **Mostra elenco** pulsante.</span><span class="sxs-lookup"><span data-stu-id="19097-244">The value is also used in the content page to determine whether to display the **Hide List** button or the **Show List** button.</span></span>

![[immagine]](3-creating-a-consistent-look/_static/image9.jpg)

1. <span data-ttu-id="19097-246">Nella cartella radice, creare un file denominato *Content3.cshtml* e sostituire qualsiasi contenuto esistente con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="19097-246">In the root folder, create a file named *Content3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample16.cshtml)]

    <span data-ttu-id="19097-247">Il codice archivia due tipi di dati nel `PageData` proprietà &#8212; il titolo della pagina web e true o false per specificare se visualizzare un elenco.</span><span class="sxs-lookup"><span data-stu-id="19097-247">The code stores two pieces of data in the `PageData` property &#8212; the title of the web page and true or false to specify whether to display a list.</span></span>

    <span data-ttu-id="19097-248">Si noti che ASP.NET consente di inserire codice HTML nella pagina utilizzando in modo condizionale un blocco di codice.</span><span class="sxs-lookup"><span data-stu-id="19097-248">Notice that ASP.NET lets you put HTML markup into the page conditionally using a code block.</span></span> <span data-ttu-id="19097-249">Ad esempio, il `if/else` blocco nel corpo della pagina determina quale forma da visualizzare a seconda che `PageData["ShowList"]` è impostato su true.</span><span class="sxs-lookup"><span data-stu-id="19097-249">For example, the `if/else` block in the body of the page determines which form to display depending on whether `PageData["ShowList"]` is set to true.</span></span>
2. <span data-ttu-id="19097-250">Nel *Shared* cartella, creare un file denominato  *\_Layout3.cshtml* e sostituire qualsiasi contenuto esistente con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="19097-250">In the *Shared* folder, create a file named *\_Layout3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample17.cshtml)]

    <span data-ttu-id="19097-251">Pagina di layout includa un'espressione nel `<title>` elemento che ottiene il valore del titolo dal `PageData` proprietà.</span><span class="sxs-lookup"><span data-stu-id="19097-251">The layout page includes an expression in the `<title>` element that gets the title value from the `PageData` property.</span></span> <span data-ttu-id="19097-252">Viene inoltre utilizzata la `ShowList` pari al `PageData` proprietà per determinare se visualizzare il blocco di contenuto di elenco.</span><span class="sxs-lookup"><span data-stu-id="19097-252">It also uses the `ShowList` value of the `PageData` property to determine whether to display the list content block.</span></span>
3. <span data-ttu-id="19097-253">Nel *Shared* cartella, creare un file denominato  *\_List.cshtml* e sostituire qualsiasi contenuto esistente con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="19097-253">In the *Shared* folder, create a file named *\_List.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample18.html)]
4. <span data-ttu-id="19097-254">Eseguire la *Content3.cshtml* pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="19097-254">Run the *Content3.cshtml* page in a browser.</span></span> <span data-ttu-id="19097-255">La pagina viene visualizzata con l'elenco visibile sul lato sinistro della pagina e un **Nascondi elenco** nella parte inferiore.</span><span class="sxs-lookup"><span data-stu-id="19097-255">The page is displayed with the list visible on the left side of the page and a **Hide List** button at the bottom.</span></span>

    ![Screenshot che mostra la pagina che include l'elenco e un pulsante con la dicitura "Nascondi elenco".](3-creating-a-consistent-look/_static/image10.png)
5. <span data-ttu-id="19097-257">Fare clic su **Nascondi elenco**.</span><span class="sxs-lookup"><span data-stu-id="19097-257">Click **Hide List**.</span></span> <span data-ttu-id="19097-258">L'elenco viene rimosso e il pulsante diventa **Mostra elenco**.</span><span class="sxs-lookup"><span data-stu-id="19097-258">The list disappears and the button changes to **Show List**.</span></span>

    ![Screenshot che mostra la pagina che non include l'elenco e un pulsante con la dicitura 'Mostra elenco'.](3-creating-a-consistent-look/_static/image11.png)
6. <span data-ttu-id="19097-260">Scegliere il **Mostra elenco** pulsante e l'elenco viene visualizzata nuovamente.</span><span class="sxs-lookup"><span data-stu-id="19097-260">Click the **Show List** button, and the list is displayed again.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="19097-261">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="19097-261">Additional Resources</span></span>

[<span data-ttu-id="19097-262">Personalizzazione del comportamento a livello di sito per ASP.NET Web Pages</span><span class="sxs-lookup"><span data-stu-id="19097-262">Customizing Site-Wide Behavior for ASP.NET Web Pages</span></span>](https://go.microsoft.com/fwlink/?LinkId=202906)
