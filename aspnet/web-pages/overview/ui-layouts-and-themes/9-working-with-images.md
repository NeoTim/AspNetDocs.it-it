---
uid: web-pages/overview/ui-layouts-and-themes/9-working-with-images
title: Utilizzo di immagini in un sito ASP.NET Web Pages (Razor) | Microsoft Docs
author: Rick-Anderson
description: In questo capitolo viene illustrato come aggiungere, visualizzare e manipolare immagini (ridimensionare, capovolgere e aggiungere filigrane) nel sito Web.
ms.author: riande
ms.date: 02/20/2014
ms.assetid: 778c4e58-4372-4d25-bab9-aec4a8d8e38d
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/9-working-with-images
msc.type: authoredcontent
ms.openlocfilehash: fedd1013c036ebdb85877a868aaaa172733e5b8a
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/09/2019
ms.locfileid: "59394705"
---
# <a name="working-with-images-in-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="ed0e1-103">Utilizzo di immagini in un sito di ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="ed0e1-103">Working with Images in an ASP.NET Web Pages (Razor) Site</span></span>

<span data-ttu-id="ed0e1-104">da [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="ed0e1-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="ed0e1-105">Questo articolo illustra come aggiungere, visualizzare e manipolare immagini (ridimensionare, capovolgere e aggiungere filigrane) in un sito Web ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="ed0e1-105">This article shows you how to add, display, and manipulate images (resize, flip, and add watermarks) in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="ed0e1-106">Che cosa si apprenderà come:</span><span class="sxs-lookup"><span data-stu-id="ed0e1-106">What you'll learn:</span></span>
> 
> - <span data-ttu-id="ed0e1-107">Come aggiungere un'immagine a una pagina in modo dinamico.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-107">How to add an image to a page dynamically.</span></span>
> - <span data-ttu-id="ed0e1-108">Come consentire agli utenti di caricare un'immagine.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-108">How to let users upload an image.</span></span>
> - <span data-ttu-id="ed0e1-109">Come ridimensionare un'immagine.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-109">How to resize an image.</span></span>
> - <span data-ttu-id="ed0e1-110">Come capovolge o Ruota un'immagine.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-110">How to flip or rotate an image.</span></span>
> - <span data-ttu-id="ed0e1-111">Come aggiungere una filigrana a un'immagine.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-111">How to add a watermark to an image.</span></span>
> - <span data-ttu-id="ed0e1-112">Come usare un'immagine come filigrana.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-112">How to use an image as a watermark.</span></span>
> 
> <span data-ttu-id="ed0e1-113">Queste sono le funzionalità introdotte nell'articolo di programmazione ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="ed0e1-113">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="ed0e1-114">Il `WebImage` helper.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-114">The `WebImage` helper.</span></span>
> - <span data-ttu-id="ed0e1-115">Il `Path` oggetto, che fornisce i metodi che consentono di modificare i nomi di file e percorso.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-115">The `Path` object, which provides methods that let you manipulate path and file names.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="ed0e1-116">Versioni del software utilizzate nell'esercitazione</span><span class="sxs-lookup"><span data-stu-id="ed0e1-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="ed0e1-117">ASP.NET Web Pages (Razor) 2</span><span class="sxs-lookup"><span data-stu-id="ed0e1-117">ASP.NET Web Pages (Razor) 2</span></span>
> - <span data-ttu-id="ed0e1-118">WebMatrix 2</span><span class="sxs-lookup"><span data-stu-id="ed0e1-118">WebMatrix 2</span></span>
>   
> 
> <span data-ttu-id="ed0e1-119">Questa esercitazione si integra inoltre con WebMatrix 3.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-119">This tutorial also works with WebMatrix 3.</span></span>


<a id="Adding_an_Image"></a>
## <a name="adding-an-image-to-a-web-page-dynamically"></a><span data-ttu-id="ed0e1-120">Aggiunta di un'immagine a una pagina Web in modo dinamico</span><span class="sxs-lookup"><span data-stu-id="ed0e1-120">Adding an Image to a Web Page Dynamically</span></span>

<span data-ttu-id="ed0e1-121">È possibile aggiungere immagini al sito Web e alle singole pagine mentre si sviluppa il sito Web.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-121">You can add images to your website and to individual pages while you're developing the website.</span></span> <span data-ttu-id="ed0e1-122">È anche possibile consentire agli utenti di caricare le immagini, che potrebbero essere utile per attività come il modo che possano aggiungere foto del profilo.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-122">You can also let users upload images, which might be useful for tasks like letting them add a profile photo.</span></span>

<span data-ttu-id="ed0e1-123">Se un'immagine è già disponibile nel sito di e si desidera semplicemente visualizzarlo in una pagina, si usa un elemento HTML `<img>` elemento simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="ed0e1-123">If an image is already available on your site and you just want to display it on a page, you use an HTML `<img>` element like this:</span></span>

[!code-html[Main](9-working-with-images/samples/sample1.html)]

<span data-ttu-id="ed0e1-124">In alcuni casi, tuttavia, è necessario essere in grado di visualizzare immagini in modo dinamico &#8212; , ovvero non si conosce quali immagini per visualizzare fino a quando la pagina è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-124">Sometimes, though, you need to be able to display images dynamically &#8212; that is, you don't know what image to display until the page is running.</span></span>

<span data-ttu-id="ed0e1-125">La procedura descritta in questa sezione viene illustrato come visualizzare un'immagine in tempo reale in cui gli utenti specificano il nome di file di immagine da un elenco di nomi di immagine.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-125">The procedure in this section shows how to display an image on the fly where users specify the image file name from a list of image names.</span></span> <span data-ttu-id="ed0e1-126">Si seleziona il nome dell'immagine da un elenco di riepilogo a discesa e quando si invia la pagina, viene visualizzata l'immagine selezionata.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-126">They select the name of the image from a drop-down list, and when they submit the page, the image they selected is displayed.</span></span>

<span data-ttu-id="ed0e1-127">![[immagine]](9-working-with-images/_static/image1.jpg "ch9images 1.jpg")</span><span class="sxs-lookup"><span data-stu-id="ed0e1-127">![[image]](9-working-with-images/_static/image1.jpg "ch9images-1.jpg")</span></span>

1. <span data-ttu-id="ed0e1-128">Creare un nuovo sito Web in WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-128">In WebMatrix, create a new website.</span></span>
2. <span data-ttu-id="ed0e1-129">Aggiungere una nuova pagina denominata *DynamicImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-129">Add a new page named *DynamicImage.cshtml*.</span></span>
3. <span data-ttu-id="ed0e1-130">Nella cartella radice del sito Web, aggiungere una nuova cartella e denominarlo *immagini*.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-130">In the root folder of the website, add a new folder and name it *images*.</span></span>
4. <span data-ttu-id="ed0e1-131">Aggiungere quattro immagini per le *immagini* cartella appena creata.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-131">Add four images to the *images* folder you just created.</span></span> <span data-ttu-id="ed0e1-132">(Tutte le immagini sono sarà utile eseguire, ma rientrino in una pagina). Rinominare le immagini *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, e *Photo4.jpg*.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-132">(Any images you have handy will do, but they should fit onto a page.) Rename the images *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, and *Photo4.jpg*.</span></span> <span data-ttu-id="ed0e1-133">(Non verranno usati *Photo4.jpg* in questa procedura, ma si sarà usarlo più avanti nell'articolo.)</span><span class="sxs-lookup"><span data-stu-id="ed0e1-133">(You won't use *Photo4.jpg* in this procedure, but you'll use it later in the article.)</span></span>
5. <span data-ttu-id="ed0e1-134">Verificare che le quattro immagini non siano contrassegnate come di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-134">Verify that the four images are not marked as read-only.</span></span>
6. <span data-ttu-id="ed0e1-135">Sostituire il contenuto esistente nella pagina con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="ed0e1-135">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](9-working-with-images/samples/sample2.cshtml)]

    <span data-ttu-id="ed0e1-136">Il corpo della pagina presenta un elenco di riepilogo a discesa (un `<select>` elemento) denominata `photoChoice`.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-136">The body of the page has a drop-down list (a `<select>` element) that's named `photoChoice`.</span></span> <span data-ttu-id="ed0e1-137">Nell'elenco è disponibili tre opzioni e il `value` attributo di ogni opzione di elenco con il nome di una delle immagini che si inserisce nel *immagini* cartella.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-137">The list has three options, and the `value` attribute of each list option has the name of one of the images that you put in the *images* folder.</span></span> <span data-ttu-id="ed0e1-138">In pratica, l'elenco consente all'utente di selezionare un nome descrittivo, ad esempio &quot;1 foto&quot;, e quindi passa le *jpg* nome del file quando viene inviata la pagina.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-138">Essentially, the list lets the user select a friendly name like &quot;Photo 1&quot;, and it then passes the *.jpg* file name when the page is submitted.</span></span>

    <span data-ttu-id="ed0e1-139">Nel codice, è possibile ottenere la selezione dell'utente (in altre parole, il nome file immagine) dall'elenco leggendo `Request["photoChoice"]`.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-139">In the code, you can get the user's selection (in other words, the image file name) from the list by reading `Request["photoChoice"]`.</span></span> <span data-ttu-id="ed0e1-140">Prima di tutto verificare se esiste una selezione affatto.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-140">You first see if there's a selection at all.</span></span> <span data-ttu-id="ed0e1-141">Se è presente, è costruire un percorso per l'immagine che include il nome della cartella per le immagini e nome file di immagine dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-141">If there is, you construct a path for the image that consists of the name of the folder for the images and the user's image file name.</span></span> <span data-ttu-id="ed0e1-142">(Se si è provato a creare un percorso, ma non c'era in `Request["photoChoice"]`, verrà visualizzato un errore.) Ciò comporta un percorso relativo simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="ed0e1-142">(If you tried to construct a path but there was nothing in `Request["photoChoice"]`, you'd get an error.) This results in a relative path like this:</span></span>

    *<span data-ttu-id="ed0e1-143">images/Photo1.jpg</span><span class="sxs-lookup"><span data-stu-id="ed0e1-143">images/Photo1.jpg</span></span>*

    <span data-ttu-id="ed0e1-144">Il percorso è archiviato nella variabile denominata `imagePath` che sarà necessario in un secondo momento nella pagina.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-144">The path is stored in variable named `imagePath` that you'll need later in the page.</span></span>

    <span data-ttu-id="ed0e1-145">Nel corpo, è inoltre disponibile un `<img>` elemento usato per visualizzare l'immagine che l'utente selezionato.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-145">In the body, there's also an `<img>` element that's used to display the image that the user picked.</span></span> <span data-ttu-id="ed0e1-146">Il `src` attributo non è impostato su un nome file o un URL, come si farebbe per visualizzare un elemento statico.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-146">The `src` attribute isn't set to a file name or URL, like you'd do to display a static element.</span></span> <span data-ttu-id="ed0e1-147">Al contrario, impostarlo su `@imagePath`, vale a dire che ottiene il relativo valore dal percorso è impostato nel codice.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-147">Instead, it's set to `@imagePath`, meaning that it gets its value from the path you set in code.</span></span>

    <span data-ttu-id="ed0e1-148">La prima volta che viene eseguita la pagina, tuttavia, non è presente alcuna immagine da visualizzare, perché l'utente non è stato selezionato nulla.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-148">The first time that the page runs, though, there's no image to display, because the user hasn't selected anything.</span></span> <span data-ttu-id="ed0e1-149">Ciò in genere significa che il `src` attributo potrebbe essere vuoto e l'immagine viene visualizzato come una linea rossa &quot;x&quot; (o qualunque sia il browser esegue il rendering quando non è possibile trovare un'immagine).</span><span class="sxs-lookup"><span data-stu-id="ed0e1-149">This would normally mean that the `src` attribute would be empty and the image would show up as a red &quot;x&quot; (or whatever the browser renders when it can't find an image).</span></span> <span data-ttu-id="ed0e1-150">Per evitare questo problema, inserire il `<img>` elemento in un `if` blocco che verifichi se il `imagePath` variabile sia.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-150">To prevent this, you put the `<img>` element in an `if` block that tests to see whether the `imagePath` variable has anything in it.</span></span> <span data-ttu-id="ed0e1-151">Se l'utente ha effettuato una selezione, `imagePath` contiene il percorso.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-151">If the user made a selection, `imagePath` contains the path.</span></span> <span data-ttu-id="ed0e1-152">Se l'utente non ha selezionato un'immagine o se questa è la prima volta che viene visualizzata la pagina, il `<img>` elemento non viene ancora eseguito il rendering.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-152">If the user didn't pick an image or if this is the first time the page is displayed, the `<img>` element isn't even rendered.</span></span>
7. <span data-ttu-id="ed0e1-153">Salvare il file ed eseguire la pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-153">Save the file and run the page in a browser.</span></span> <span data-ttu-id="ed0e1-154">(Assicurarsi che sia selezionata la pagina nel **file** dell'area di lavoro prima dell'esecuzione.)</span><span class="sxs-lookup"><span data-stu-id="ed0e1-154">(Make sure the page is selected in the **Files** workspace before you run it.)</span></span>
8. <span data-ttu-id="ed0e1-155">Selezionare un'immagine nell'elenco a discesa e quindi fare clic su **immagine di esempio**.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-155">Select an image from the drop-down list and then click **Sample Image**.</span></span> <span data-ttu-id="ed0e1-156">Assicurarsi che sia visualizzato diverse immagini per diverse opzioni.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-156">Make sure that you see different images for different choices.</span></span>

<a id="Uploading_an_Image"></a>
## <a name="uploading-an-image"></a><span data-ttu-id="ed0e1-157">Caricamento di un'immagine</span><span class="sxs-lookup"><span data-stu-id="ed0e1-157">Uploading an Image</span></span>

<span data-ttu-id="ed0e1-158">Nell'esempio precedente è stato illustrato come visualizzare un'immagine in modo dinamico, ma funzionava solo con le immagini che erano già presenti nel tuo sito Web.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-158">The previous example showed you how to display an image dynamically, but it worked only with images that were already on your website.</span></span> <span data-ttu-id="ed0e1-159">Questa procedura illustra come consentire agli utenti di caricare un'immagine, che viene quindi visualizzata nella pagina.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-159">This procedure shows how to let users upload an image, which is then displayed on the page.</span></span> <span data-ttu-id="ed0e1-160">In ASP.NET, è possibile modificare immagini in tempo reale usando la `WebImage` helper, che dispone di metodi che consentono di creare, modificare e salvare le immagini.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-160">In ASP.NET, you can manipulate images on the fly using the `WebImage` helper, which has methods that let you create, manipulate, and save images.</span></span> <span data-ttu-id="ed0e1-161">Il `WebImage` helper supporta tutti i web immagine tipi di file comuni, tra cui *jpg*, *PNG*, e *bmp*.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-161">The `WebImage` helper supports all the common web image file types, including *.jpg*, *.png*, and *.bmp*.</span></span> <span data-ttu-id="ed0e1-162">In questo articolo, si userà *jpg* immagini, ma è possibile usare uno dei tipi di immagine.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-162">Throughout this article, you'll use *.jpg* images, but you can use any of the image types.</span></span>

<span data-ttu-id="ed0e1-163">![[immagine]](9-working-with-images/_static/image2.jpg "ch9images 2.jpg")</span><span class="sxs-lookup"><span data-stu-id="ed0e1-163">![[image]](9-working-with-images/_static/image2.jpg "ch9images-2.jpg")</span></span>

1. <span data-ttu-id="ed0e1-164">Aggiungere una nuova pagina e denominarla *UploadImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-164">Add a new page and name it *UploadImage.cshtml*.</span></span>
2. <span data-ttu-id="ed0e1-165">Sostituire il contenuto esistente nella pagina con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="ed0e1-165">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample3.cshtml)]

    <span data-ttu-id="ed0e1-166">Il corpo del testo è un `<input type="file">` elemento, che consente agli utenti di selezionare un file da caricare.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-166">The body of the text has an `<input type="file">` element, which lets users select a file to upload.</span></span> <span data-ttu-id="ed0e1-167">Quando si fa clic su **Submit**, il file che viene viene inviato insieme a form.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-167">When they click **Submit**, the file they picked is submitted along with the form.</span></span>

    <span data-ttu-id="ed0e1-168">Per ottenere l'immagine caricata, si utilizza il `WebImage` helper, con tutti i tipi di metodi utili per l'utilizzo di immagini.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-168">To get the uploaded image, you use the `WebImage` helper, which has all sorts of useful methods for working with images.</span></span> <span data-ttu-id="ed0e1-169">In particolare, si utilizza `WebImage.GetImageFromRequest` per ottenere l'immagine caricata (se presente) e archiviarlo in una variabile denominata `photo`.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-169">Specifically, you use `WebImage.GetImageFromRequest` to get the uploaded image (if any) and store it in a variable named `photo`.</span></span>

    <span data-ttu-id="ed0e1-170">Molte delle operazioni in questo esempio prevede ottenendo e impostando i nomi di file e percorso.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-170">A lot of the work in this example involves getting and setting file and path names.</span></span> <span data-ttu-id="ed0e1-171">Il problema è che si desidera ottenere il nome (e solo il nome) dell'immagine che l'utente ha caricato e quindi creare un nuovo percorso in cui si intende archiviare l'immagine.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-171">The issue is that you want to get the name (and just the name) of the image that the user uploaded, and then create a new path for where you're going to store the image.</span></span> <span data-ttu-id="ed0e1-172">Poiché gli utenti potenzialmente è stato possibile caricare più immagini che hanno lo stesso nome, è utilizzare un po' di codice aggiuntivo per creare nomi univoci e assicurarsi che gli utenti non sovrascrivere le immagini esistenti.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-172">Because users could potentially upload multiple images that have the same name, you use a bit of extra code to create unique names and make sure that users don't overwrite existing pictures.</span></span>

    <span data-ttu-id="ed0e1-173">Se un'immagine è effettivamente stata caricata (il test `if (photo != null)`), ottenuto il nome dell'immagine dell'immagine `FileName` proprietà.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-173">If an image actually has been uploaded (the test `if (photo != null)`), you get the image name from the image's `FileName` property.</span></span> <span data-ttu-id="ed0e1-174">Quando l'utente carica l'immagine, `FileName` contiene il nome dell'utente originale, che include il percorso dal computer dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-174">When the user uploads the image, `FileName` contains the user's original name, which includes the path from the user's computer.</span></span> <span data-ttu-id="ed0e1-175">Potrebbe essere simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="ed0e1-175">It might look like this:</span></span>

    *<span data-ttu-id="ed0e1-176">C:\Users\Joe\Pictures\SamplePhoto1.jpg</span><span class="sxs-lookup"><span data-stu-id="ed0e1-176">C:\Users\Joe\Pictures\SamplePhoto1.jpg</span></span>*

    <span data-ttu-id="ed0e1-177">Non si desidera tutte queste informazioni di percorso, anche se &#8212; è sufficiente il nome del file effettivo (*SamplePhoto1.jpg*).</span><span class="sxs-lookup"><span data-stu-id="ed0e1-177">You don't want all that path information, though &#8212; you just want the actual file name (*SamplePhoto1.jpg*).</span></span> <span data-ttu-id="ed0e1-178">È possibile eliminare le solo il file da un percorso tramite il `Path.GetFileName` metodo, simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="ed0e1-178">You can strip out just the file from a path by using the `Path.GetFileName` method, like this:</span></span>

    [!code-csharp[Main](9-working-with-images/samples/sample4.cs)]

    <span data-ttu-id="ed0e1-179">Quindi possibile creare un nuovo nome univoco aggiungendo un GUID per il nome originale.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-179">You then create a new unique file name by adding a GUID to the original name.</span></span> <span data-ttu-id="ed0e1-180">(Per altre informazioni su GUID, vedere [sui GUID](#SB_AboutGUIDs) più avanti in questo articolo.) Quindi necessario creare un percorso completo che è possibile usare per salvare l'immagine.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-180">(For more about GUIDs, see [About GUIDs](#SB_AboutGUIDs) later in this article.) Then you construct a complete path that you can use to save the image.</span></span> <span data-ttu-id="ed0e1-181">Salva percorso è costituito da nome del nuovo file, la cartella (immagini) e il percorso di sito Web corrente.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-181">The save path is made up of the new file name, the folder (images), and the current website location.</span></span>

    > [!NOTE]
    > <span data-ttu-id="ed0e1-182">Affinché il codice salvare i file nei *immagini* cartella, l'applicazione deve lettura / scrittura delle autorizzazioni per tale cartella.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-182">In order for your code to save files in the *images* folder, the application needs read-write permissions for that folder.</span></span> <span data-ttu-id="ed0e1-183">Nel computer di sviluppo non si tratta in genere un problema.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-183">On your development computer this is not typically an issue.</span></span> <span data-ttu-id="ed0e1-184">Tuttavia, quando si pubblica il sito al server web del provider di hosting, potrebbe essere necessario impostare in modo esplicito tali autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-184">However, when you publish your site to a hosting provider's web server, you might need to explicitly set those permissions.</span></span> <span data-ttu-id="ed0e1-185">Se si esegue questo codice nel server del provider di hosting e ottenere gli errori, controllare con il provider di hosting per scoprire come impostare queste autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-185">If you run this code on a hosting provider's server and get errors, check with the hosting provider to find out how to set those permissions.</span></span>

    <span data-ttu-id="ed0e1-186">Infine, si passa il salvataggio percorso per il `Save` metodo del `WebImage` helper.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-186">Finally, you pass the save path to the `Save` method of the `WebImage` helper.</span></span> <span data-ttu-id="ed0e1-187">Consente di archiviare l'immagine caricata con il nuovo nome.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-187">This stores the uploaded image under its new name.</span></span> <span data-ttu-id="ed0e1-188">Il salvataggio metodo aspetto simile al seguente: `photo.Save(@"~\" + imagePath)`.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-188">The save method looks like this: `photo.Save(@"~\" + imagePath)`.</span></span> <span data-ttu-id="ed0e1-189">Il percorso completo viene aggiunto alla `@"~\"`, ovvero il percorso di sito Web corrente.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-189">The complete path is appended to `@"~\"`, which is the current website location.</span></span> <span data-ttu-id="ed0e1-190">(Per informazioni sul `~` operatore, vedere [Introduzione alla programmazione Web ASP.NET usando la sintassi Razor](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span><span class="sxs-lookup"><span data-stu-id="ed0e1-190">(For information about the `~` operator, see [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span></span>

    <span data-ttu-id="ed0e1-191">Come nell'esempio precedente, il corpo della pagina contiene un `<img>` elemento per visualizzare l'immagine.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-191">As in the previous example, the body of the page contains an `<img>` element to display the image.</span></span> <span data-ttu-id="ed0e1-192">Se `imagePath` è stata impostata, il `<img>` elemento sottoposto a rendering e la relativa `src` attributo è impostato sul `imagePath` valore.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-192">If `imagePath` has been set, the `<img>` element is rendered and its `src` attribute is set to the `imagePath` value.</span></span>
3. <span data-ttu-id="ed0e1-193">Eseguire la pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-193">Run the page in a browser.</span></span>
4. <span data-ttu-id="ed0e1-194">Caricare un'immagine e verificare che viene visualizzato nella pagina.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-194">Upload an image and make sure it's displayed in the page.</span></span>
5. <span data-ttu-id="ed0e1-195">Nel sito, aprire il *immagini* cartella.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-195">In your site, open the *images* folder.</span></span> <span data-ttu-id="ed0e1-196">Noterete che è stato aggiunto un nuovo file il cui nome di file simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="ed0e1-196">You see that a new file has been added whose file name looks something like this::</span></span> 

    *<span data-ttu-id="ed0e1-197">45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png</span><span class="sxs-lookup"><span data-stu-id="ed0e1-197">45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png</span></span>*

    <span data-ttu-id="ed0e1-198">Questa è l'immagine che è stato caricato con un GUID come preceduto al nome.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-198">This is the image that you uploaded with a GUID prefixed to the name.</span></span> <span data-ttu-id="ed0e1-199">(Il proprio file avrà un GUID diverso e probabilmente viene denominato qualcosa di diverso da *MyPhoto.png*.)</span><span class="sxs-lookup"><span data-stu-id="ed0e1-199">(Your own file will have a different GUID and probably is named something different than *MyPhoto.png*.)</span></span>

> [!TIP] 
> 
> <a id="SB_AboutGUIDs"></a>
> ### <a name="about-guids"></a><span data-ttu-id="ed0e1-200">Sui GUID</span><span class="sxs-lookup"><span data-stu-id="ed0e1-200">About GUIDs</span></span>
> 
> <span data-ttu-id="ed0e1-201">Un GUID (globally unique ID) è un identificatore che in genere viene eseguito il rendering in un formato simile al seguente: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-201">A GUID (globally-unique ID) is an identifier that's usually rendered in a format like this: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span></span> <span data-ttu-id="ed0e1-202">I numeri e lettere (da A-F) sono diversi per ogni GUID, ma seguono il modello d'uso dei gruppi di 8-4-4-4-12 caratteri.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-202">The numbers and letters (from A-F) differ for each GUID, but they all follow the pattern of using groups of 8-4-4-4-12 characters.</span></span> <span data-ttu-id="ed0e1-203">(Tecnicamente, un GUID è un numero di 16 byte/128 bit) Quando è necessario un GUID, è possibile chiamare codice specializzato che genera un GUID per l'utente.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-203">(Technically, a GUID is a 16-byte/128-bit number.) When you need a GUID, you can call specialized code that generates a GUID for you.</span></span> <span data-ttu-id="ed0e1-204">L'idea alla base GUID è che tra le dimensioni del numero enorme (3,4 x 10<sup>38</sup>) e l'algoritmo per generarlo, il numero risulta è praticamente garantito a essere uno di questi tipi.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-204">The idea behind GUIDs is that between the enormous size of the number (3.4 x 10<sup>38</sup>) and the algorithm for generating it, the resulting number is virtually guaranteed to be one of a kind.</span></span> <span data-ttu-id="ed0e1-205">I GUID sono pertanto un ottimo modo per generare nomi per le cose quando è necessario garantire che non usi lo stesso nome due volte.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-205">GUIDs therefore are a good way to generate names for things when you must guarantee that you won't use the same name twice.</span></span> <span data-ttu-id="ed0e1-206">Lo svantaggio, naturalmente, è che i GUID non sono particolarmente intuitivo, tendono a essere utilizzato quando il nome viene usato solo nel codice.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-206">The downside, of course, is that GUIDs aren't particularly user friendly, so they tend to be used when the name is used only in code.</span></span>


<a id="Resizing_an_Image"></a>
## <a name="resizing-an-image"></a><span data-ttu-id="ed0e1-207">Ridimensionamento di un'immagine</span><span class="sxs-lookup"><span data-stu-id="ed0e1-207">Resizing an Image</span></span>

<span data-ttu-id="ed0e1-208">Se il sito Web accetta le immagini da un utente, si potrebbe voler ridimensionare le immagini prima di visualizzare o salvarli.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-208">If your website accepts images from a user, you might want to resize the images before you display or save them.</span></span> <span data-ttu-id="ed0e1-209">È possibile usare nuovamente il `WebImage` helper per l'oggetto.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-209">You can again use the `WebImage` helper for this.</span></span>

<span data-ttu-id="ed0e1-210">Questa procedura illustra come ridimensionare un'immagine caricata per creare un'immagine di anteprima e quindi salvare l'anteprima e l'immagine originale nel sito Web.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-210">This procedure shows how to resize an uploaded image to create a thumbnail and then save the thumbnail and original image in the website.</span></span> <span data-ttu-id="ed0e1-211">È l'anteprima vengono visualizzate nella pagina e usare un collegamento ipertestuale per reindirizzare gli utenti per l'immagine ingrandita.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-211">You display the thumbnail on the page and use a hyperlink to redirect users to the full-sized image.</span></span>

<span data-ttu-id="ed0e1-212">![[immagine]](9-working-with-images/_static/image3.jpg "ch9images 3.jpg")</span><span class="sxs-lookup"><span data-stu-id="ed0e1-212">![[image]](9-working-with-images/_static/image3.jpg "ch9images-3.jpg")</span></span>

1. <span data-ttu-id="ed0e1-213">Aggiungere una nuova pagina denominata *Thumbnail.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-213">Add a new page named *Thumbnail.cshtml*.</span></span>
2. <span data-ttu-id="ed0e1-214">Nel *immagini* cartella, creare una sottocartella denominata *thumbs*.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-214">In the *images* folder, create a subfolder named *thumbs*.</span></span>
3. <span data-ttu-id="ed0e1-215">Sostituire il contenuto esistente nella pagina con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="ed0e1-215">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample5.cshtml)]

    <span data-ttu-id="ed0e1-216">Questo codice è simile al codice dell'esempio precedente.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-216">This code is similar to the code from the previous example.</span></span> <span data-ttu-id="ed0e1-217">La differenza è che questo codice consente di salvare l'immagine di due volte, una volta in genere e una volta dopo aver creato una copia dell'immagine di anteprima.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-217">The difference is that this code saves the image twice, once normally and once after you create a thumbnail copy of the image.</span></span> <span data-ttu-id="ed0e1-218">Prima di tutto è possibile ottenere l'immagine caricata e salvarlo nel *immagini* cartella.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-218">First you get the uploaded image and save it in the *images* folder.</span></span> <span data-ttu-id="ed0e1-219">Quindi si crea un nuovo percorso dell'immagine di anteprima.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-219">You then construct a new path for the thumbnail image.</span></span> <span data-ttu-id="ed0e1-220">Per creare effettivamente l'anteprima, si chiama il `WebImage` dell'helper `Resize` metodo per creare un'immagine di 60 pixel da 60 x pixel.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-220">To actually create the thumbnail, you call the `WebImage` helper's `Resize` method to create a 60-pixel by 60-pixel image.</span></span> <span data-ttu-id="ed0e1-221">Nell'esempio viene illustrato come si conservi le proporzioni e come è possibile impedire l'immagine viene ingrandita (nel caso in cui la nuova dimensione effettivamente renderebbero l'immagine più grande).</span><span class="sxs-lookup"><span data-stu-id="ed0e1-221">The example shows how you preserve the aspect ratio and how you can prevent the image from being enlarged (in case the new size would actually make the image larger).</span></span> <span data-ttu-id="ed0e1-222">Le immagini ridimensionate vengono salvati nel *thumbs* sottocartella.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-222">The resized image is then saved in the *thumbs* subfolder.</span></span>

    <span data-ttu-id="ed0e1-223">Alla fine del markup, usare la stessa `<img>` elemento con dinamica `src` attributo che è possibile vedere negli esempi precedenti per visualizzare in modo condizionale l'immagine.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-223">At the end of the markup, you use the same `<img>` element with the dynamic `src` attribute that you've seen in the previous examples to conditionally show the image.</span></span> <span data-ttu-id="ed0e1-224">In questo caso, si visualizza l'anteprima.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-224">In this case, you display the thumbnail.</span></span> <span data-ttu-id="ed0e1-225">È anche possibile usare un `<a>` elemento per creare un collegamento ipertestuale per la versione grande dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-225">You also use an `<a>` element to create a hyperlink to the big version of the image.</span></span> <span data-ttu-id="ed0e1-226">Come con la `src` attributo del `<img>` elemento, si imposta la `href` attributo del `<a>` elemento in modo dinamico a qualsiasi oggetto presente in `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-226">As with the `src` attribute of the `<img>` element, you set the `href` attribute of the `<a>` element dynamically to whatever is in `imagePath`.</span></span> <span data-ttu-id="ed0e1-227">Per assicurarsi che il percorso sia possibile utilizzarlo come URL, si passa `imagePath` per il `Html.AttributeEncode` metodo, che converte i caratteri riservati nel percorso in caratteri che si è disposti in un URL.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-227">To make sure that the path can work as a URL, you pass `imagePath` to the `Html.AttributeEncode` method, which converts reserved characters in the path to characters that are ok in a URL.</span></span>
4. <span data-ttu-id="ed0e1-228">Eseguire la pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-228">Run the page in a browser.</span></span>
5. <span data-ttu-id="ed0e1-229">Caricare una foto e verificare che venga visualizzato l'anteprima.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-229">Upload a photo and verify that the thumbnail is shown.</span></span>
6. <span data-ttu-id="ed0e1-230">Fare clic sull'anteprima per visualizzare l'immagine con dimensioni normali.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-230">Click the thumbnail to see the full-size image.</span></span>
7. <span data-ttu-id="ed0e1-231">Nel *immagini* e *immagini/thumbs*, si noti che sono stati aggiunti nuovi file.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-231">In the *images* and *images/thumbs*, note that new files have been added.</span></span>

<a id="Rotating_and_Flipping"></a>
## <a name="rotating-and-flipping-an-image"></a><span data-ttu-id="ed0e1-232">La rotazione e capovolgimento di un'immagine</span><span class="sxs-lookup"><span data-stu-id="ed0e1-232">Rotating and Flipping an Image</span></span>

<span data-ttu-id="ed0e1-233">Il `WebImage` helper consente inoltre di capovolgimento e rotazione di immagini.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-233">The `WebImage` helper also lets you flip and rotate images.</span></span> <span data-ttu-id="ed0e1-234">Questa procedura viene illustrato come ottenere un'immagine dal server, capovolgere l'immagine capovolta (verticale), salvarlo e quindi visualizzare l'immagine capovolta nella pagina.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-234">This procedure shows how to get an image from the server, flip the image upside down (vertically), save it, and then display the flipped image on the page.</span></span> <span data-ttu-id="ed0e1-235">In questo esempio si usa solo un file già presenti nel server (*Photo2.jpg*).</span><span class="sxs-lookup"><span data-stu-id="ed0e1-235">In this example, you're just using a file you already have on the server (*Photo2.jpg*).</span></span> <span data-ttu-id="ed0e1-236">In un'applicazione reale, è probabile che non farebbe altro un'immagine il cui nome si ottiene in modo dinamico, come negli esempi precedenti.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-236">In a real application, you'd probably flip an image whose name you get dynamically, like you did in previous examples.</span></span>

<span data-ttu-id="ed0e1-237">![[immagine]](9-working-with-images/_static/image4.jpg "ch9images 4.jpg")</span><span class="sxs-lookup"><span data-stu-id="ed0e1-237">![[image]](9-working-with-images/_static/image4.jpg "ch9images-4.jpg")</span></span>

1. <span data-ttu-id="ed0e1-238">Aggiungere una nuova pagina denominata *FlipImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-238">Add a new page named *FlipImage.cshtml*.</span></span>
2. <span data-ttu-id="ed0e1-239">Sostituire il contenuto esistente nella pagina con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="ed0e1-239">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample6.cshtml)]

    <span data-ttu-id="ed0e1-240">Il codice Usa il `WebImage` helper per ottenere un'immagine dal server.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-240">The code uses the `WebImage` helper to get an image from the server.</span></span> <span data-ttu-id="ed0e1-241">Si crea il percorso dell'immagine usando la stessa tecnica utilizzata negli esempi precedenti per il salvataggio delle immagini e si passa tale percorso quando si crea un'immagine utilizzando `WebImage`:</span><span class="sxs-lookup"><span data-stu-id="ed0e1-241">You create the path to the image using the same technique you used in earlier examples for saving images, and you pass that path when you create an image using `WebImage`:</span></span>

    [!code-javascript[Main](9-working-with-images/samples/sample7.js)]

    <span data-ttu-id="ed0e1-242">Se viene trovata un'immagine, è costruire un nuovo percorso e nome file, come negli esempi precedenti.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-242">If an image is found, you construct a new path and file name, like you did in earlier examples.</span></span> <span data-ttu-id="ed0e1-243">Per capovolgere l'immagine, si chiama il `FlipVertical` (metodo) e quindi salvare l'immagine di nuovo.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-243">To flip the image, you call the `FlipVertical` method, and then you save the image again.</span></span>

    <span data-ttu-id="ed0e1-244">L'immagine viene nuovamente visualizzata nella pagina utilizzando la `<img>` elemento con il `src` attributo impostato su `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-244">The image is again displayed on the page by using the `<img>` element with the `src` attribute set to `imagePath`.</span></span>
3. <span data-ttu-id="ed0e1-245">Eseguire la pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-245">Run the page in a browser.</span></span> <span data-ttu-id="ed0e1-246">L'immagine per *Photo2.jpg* viene visualizzato capovolto.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-246">The image for *Photo2.jpg* is shown upside down.</span></span>
4. <span data-ttu-id="ed0e1-247">Aggiornare la pagina o richiedere la pagina per visualizzare che l'immagine viene capovolta sul lato destro di nuovamente.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-247">Refresh the page or request the page again to see the image is flipped right side up again.</span></span>

<span data-ttu-id="ed0e1-248">Per ruotare un'immagine, si usa lo stesso codice, tranne il fatto che anziché chiamare il `FlipVertical` oppure `FlipHorizontal`, si chiama `RotateLeft` o `RotateRight`.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-248">To rotate an image, you use the same code, except that instead of calling the `FlipVertical` or `FlipHorizontal`, you call `RotateLeft` or `RotateRight`.</span></span>

<a id="Adding_a_Watermark"></a>
## <a name="adding-a-watermark-to-an-image"></a><span data-ttu-id="ed0e1-249">Aggiungere una filigrana all'immagine</span><span class="sxs-lookup"><span data-stu-id="ed0e1-249">Adding a Watermark to an Image</span></span>

<span data-ttu-id="ed0e1-250">Quando si aggiungere immagini al tuo sito Web, è possibile aggiungere una filigrana all'immagine prima di salvarlo o visualizzarlo in una pagina.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-250">When you add images to your website, you might want to add a watermark to the image before you save it or display it on a page.</span></span> <span data-ttu-id="ed0e1-251">Le persone usano spesso le filigrane per aggiungere le informazioni sul copyright di un'immagine o per annunciare il proprio nome aziendale.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-251">People often use watermarks to add copyright information to an image or to advertise their business name.</span></span>

<span data-ttu-id="ed0e1-252">![[immagine]](9-working-with-images/_static/image5.jpg "ch9images 5.jpg")</span><span class="sxs-lookup"><span data-stu-id="ed0e1-252">![[image]](9-working-with-images/_static/image5.jpg "ch9images-5.jpg")</span></span>

1. <span data-ttu-id="ed0e1-253">Aggiungere una nuova pagina denominata *Watermark.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-253">Add a new page named *Watermark.cshtml*.</span></span>
2. <span data-ttu-id="ed0e1-254">Sostituire il contenuto esistente nella pagina con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="ed0e1-254">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample8.cshtml)]

    <span data-ttu-id="ed0e1-255">Questo codice è simile al codice nel *FlipImage.cshtml* pagina illustrato in precedenza (anche se in questo caso viene utilizzato il *Photo3.jpg* file).</span><span class="sxs-lookup"><span data-stu-id="ed0e1-255">This code is like the code in the *FlipImage.cshtml* page from earlier (although this time it uses the *Photo3.jpg* file).</span></span> <span data-ttu-id="ed0e1-256">Per aggiungere il limite, si chiama il `WebImage` dell'helper `AddTextWatermark` metodo prima di salvare l'immagine.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-256">To add the watermark, you call the `WebImage` helper's `AddTextWatermark` method before you save the image.</span></span> <span data-ttu-id="ed0e1-257">Nella chiamata a `AddTextWatermark`, è possibile passare il testo &quot;filigrana My&quot;, impostare il colore del carattere in giallo e impostare la famiglia di caratteri viene impostato su Arial.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-257">In the call to `AddTextWatermark`, you pass the text &quot;My Watermark&quot;, set the font color to yellow, and set the font family to Arial.</span></span> <span data-ttu-id="ed0e1-258">(Anche se non è visualizzato in questo caso, il `WebImage` helper consente anche di specificare l'opacità, famiglia di caratteri e dimensioni del carattere e la posizione del testo della filigrana.) Quando si salva l'immagine non deve essere sola lettura.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-258">(Although it's not shown here, the `WebImage` helper also lets you specify opacity, font family and font size, and the position of the watermark text.) When you save the image it must not be read-only.</span></span>

    <span data-ttu-id="ed0e1-259">Come si è visto prima, nella pagina viene visualizzata l'immagine usando il `<img>` elemento con l'attributo src impostato su `@imagePath`.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-259">As you've seen before, the image is displayed on the page by using the `<img>` element with the src attribute set to `@imagePath`.</span></span>
3. <span data-ttu-id="ed0e1-260">Eseguire la pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-260">Run the page in a browser.</span></span> <span data-ttu-id="ed0e1-261">Si noti che il testo "My della filigrana" nell'angolo in basso a destra dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-261">Notice the text "My Watermark" at the bottom-right corner of the image.</span></span>

<a id="Using_an_Image_as_a_Watermark"></a>
## <a name="using-an-image-as-a-watermark"></a><span data-ttu-id="ed0e1-262">Usando un'immagine come filigrana</span><span class="sxs-lookup"><span data-stu-id="ed0e1-262">Using an Image As a Watermark</span></span>

<span data-ttu-id="ed0e1-263">Invece di usare il testo per un limite, è possibile usare un'altra immagine.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-263">Instead of using text for a watermark, you can use another image.</span></span> <span data-ttu-id="ed0e1-264">Talvolta le persone utilizzano immagini quali logo della società come filigrana, o un'immagine di filigrana usano invece del testo per le informazioni sul copyright.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-264">People sometimes use images like a company logo as a watermark, or they use a watermark image instead of text for copyright information.</span></span>

<span data-ttu-id="ed0e1-265">![[immagine]](9-working-with-images/_static/image6.jpg "ch9images 6.jpg")</span><span class="sxs-lookup"><span data-stu-id="ed0e1-265">![[image]](9-working-with-images/_static/image6.jpg "ch9images-6.jpg")</span></span>

1. <span data-ttu-id="ed0e1-266">Aggiungere una nuova pagina denominata *ImageWatermark.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-266">Add a new page named *ImageWatermark.cshtml*.</span></span>
2. <span data-ttu-id="ed0e1-267">Aggiungere un'immagine per il *immagini* cartella che è possibile usare come logo e rinominare l'immagine *MyCompanyLogo.jpg*.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-267">Add an image to the *images* folder that you can use as a logo, and rename the image *MyCompanyLogo.jpg*.</span></span> <span data-ttu-id="ed0e1-268">Questa immagine deve essere un'immagine che si può vedere chiaramente quando è impostata su 80 pixel di larghezza e 20 pixel di altezza.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-268">This image should be an image that you can see clearly when it's set to 80 pixels wide and 20 pixels high.</span></span>
3. <span data-ttu-id="ed0e1-269">Sostituire il contenuto esistente nella pagina con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="ed0e1-269">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample9.cshtml)]

    <span data-ttu-id="ed0e1-270">Si tratta di un'altra variante del codice degli esempi precedenti.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-270">This is another variation on the code from earlier examples.</span></span> <span data-ttu-id="ed0e1-271">In questo caso, si chiama `AddImageWatermark` per aggiungere l'immagine di filigrana all'immagine di destinazione (*Photo3.jpg*) prima di salvare l'immagine.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-271">In this case, you call `AddImageWatermark` to add the watermark image to the target image (*Photo3.jpg*) before you save the image.</span></span> <span data-ttu-id="ed0e1-272">Quando si chiama `AddImageWatermark`, si imposta la larghezza su 80 pixel e l'altezza e 20 pixel.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-272">When you call `AddImageWatermark`, you set its width to 80 pixels and the height to 20 pixels.</span></span> <span data-ttu-id="ed0e1-273">Il *MyCompanyLogo.jpg* immagine è allineata al centro orizzontalmente e allineata verticalmente nella parte inferiore dell'immagine di destinazione.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-273">The *MyCompanyLogo.jpg* image is horizontally aligned in the center and vertically aligned at the bottom of the target image.</span></span> <span data-ttu-id="ed0e1-274">L'opacità è impostato su 100% e la spaziatura interna è impostata su 10 pixel.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-274">The opacity is set to 100% and the padding is set to 10 pixels.</span></span> <span data-ttu-id="ed0e1-275">Se l'immagine della filigrana è più grande rispetto all'immagine di destinazione, non accade nulla.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-275">If the watermark image is bigger than the target image, nothing will happen.</span></span> <span data-ttu-id="ed0e1-276">Se l'immagine della filigrana è più grande rispetto all'immagine di destinazione e si imposta la spaziatura interna per la filigrana di immagine su zero, la filigrana viene ignorata.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-276">If the watermark image is bigger than the target image and you set the padding for the image watermark to zero, the watermark is ignored.</span></span>

    <span data-ttu-id="ed0e1-277">Poiché in precedenza, vengono visualizzati l'immagine usando il `<img>` elementi e una dinamica `src` attributo.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-277">As before, you display the image using the `<img>` element and a dynamic `src` attribute.</span></span>
4. <span data-ttu-id="ed0e1-278">Eseguire la pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-278">Run the page in a browser.</span></span> <span data-ttu-id="ed0e1-279">Si noti che l'immagine di filigrana viene visualizzata nella parte inferiore dell'immagine principale.</span><span class="sxs-lookup"><span data-stu-id="ed0e1-279">Notice that the watermark image appears at the bottom of the main image.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="ed0e1-280">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="ed0e1-280">Additional Resources</span></span>


[<span data-ttu-id="ed0e1-281">Uso di file in un sito con pagine Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="ed0e1-281">Working with Files in an ASP.NET Web Pages Site</span></span>](https://go.microsoft.com/fwlink/?LinkId=202896)

[<span data-ttu-id="ed0e1-282">Introduzione a ASP.NET Web Pages di programmazione utilizzando la sintassi Razor</span><span class="sxs-lookup"><span data-stu-id="ed0e1-282">Introduction to ASP.NET Web Pages Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=251587)
