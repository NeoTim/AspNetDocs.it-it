---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/layouts
title: Introduzione a Pagine Web ASP.NET-creazione di un layout coerente | Microsoft Docs
author: Rick-Anderson
description: Questa esercitazione illustra come usare i layout per creare un aspetto coerente per le pagine in un sito che usa Pagine Web ASP.NET. Si presuppone che sia stata completata la...
ms.author: riande
ms.date: 05/28/2015
ms.assetid: c85ec591-f8d7-4882-b763-de6ab9f3df7a
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/layouts
msc.type: authoredcontent
ms.openlocfilehash: 678eb7089e95e3d221d6b2d82034a62aefa75757
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/06/2020
ms.locfileid: "78526691"
---
# <a name="introducing-aspnet-web-pages---creating-a-consistent-layout"></a><span data-ttu-id="3aad0-104">Introduzione a Pagine Web ASP.NET-creazione di un layout coerente</span><span class="sxs-lookup"><span data-stu-id="3aad0-104">Introducing ASP.NET Web Pages - Creating a Consistent Layout</span></span>

<span data-ttu-id="3aad0-105">di [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="3aad0-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="3aad0-106">Questa esercitazione illustra come usare i *layout* per creare un aspetto coerente per le pagine in un sito che usa pagine Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3aad0-106">This tutorial shows you how to use *layouts* to create a consistent look for the pages on a site that uses ASP.NET Web Pages.</span></span> <span data-ttu-id="3aad0-107">Si presuppone che la serie sia stata completata tramite l' [eliminazione dei dati del database in pagine Web ASP.NET](https://go.microsoft.com/fwlink/?LinkId=251584).</span><span class="sxs-lookup"><span data-stu-id="3aad0-107">It assumes you have completed the series through [Deleting Database Data in ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=251584).</span></span>
> 
> <span data-ttu-id="3aad0-108">Contenuto dell'esercitazione:</span><span class="sxs-lookup"><span data-stu-id="3aad0-108">What you'll learn:</span></span>
> 
> - <span data-ttu-id="3aad0-109">Descrizione della pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="3aad0-109">What a layout page is.</span></span>
> - <span data-ttu-id="3aad0-110">Come combinare le pagine di layout con contenuto dinamico.</span><span class="sxs-lookup"><span data-stu-id="3aad0-110">How to combine layout pages with dynamic content.</span></span>
> - <span data-ttu-id="3aad0-111">Come passare i valori a una pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="3aad0-111">How to pass values to a layout page.</span></span>

## <a name="about-layouts"></a><span data-ttu-id="3aad0-112">Informazioni sui layout</span><span class="sxs-lookup"><span data-stu-id="3aad0-112">About Layouts</span></span>

<span data-ttu-id="3aad0-113">Le pagine create finora sono state completate, ovvero le pagine autonome.</span><span class="sxs-lookup"><span data-stu-id="3aad0-113">The pages you've created so far have all been complete, standalone pages.</span></span> <span data-ttu-id="3aad0-114">Tutti appartengono allo stesso sito, ma non hanno elementi comuni o un aspetto standard.</span><span class="sxs-lookup"><span data-stu-id="3aad0-114">They all belong to the same site, but they don't have any common elements or a standard look.</span></span>

<span data-ttu-id="3aad0-115">La maggior parte dei siti presenta un aspetto e un layout coerenti.</span><span class="sxs-lookup"><span data-stu-id="3aad0-115">Most sites do have a consistent look and layout.</span></span> <span data-ttu-id="3aad0-116">Ad esempio, se si passa al sito di [Microsoft.com/Web](https://www.microsoft.com/web/) e si osserva, si noterà che le pagine rispettano tutti un layout generale e un tema visivo:</span><span class="sxs-lookup"><span data-stu-id="3aad0-116">For example, if you go to the [Microsoft.com/web](https://www.microsoft.com/web/) site and look around, you see that the pages all adhere to an overall layout and to a visual theme:</span></span>

![Pagina del sito di Microsoft.com/web che mostra il layout dell'intestazione, l'area di navigazione, l'area del contenuto e il piè di pagina](layouts/_static/image1.png)

<span data-ttu-id="3aad0-118">Un modo non *efficiente* per creare questo layout consiste nel definire separatamente un'intestazione, una barra di spostamento e un piè di pagina in ogni pagina.</span><span class="sxs-lookup"><span data-stu-id="3aad0-118">An *inefficient* way to create this layout would be to define a header, navigation bar, and footer separately on each of your pages.</span></span> <span data-ttu-id="3aad0-119">Il markup verrà duplicato ogni volta.</span><span class="sxs-lookup"><span data-stu-id="3aad0-119">You'd be duplicating the same markup each time.</span></span> <span data-ttu-id="3aad0-120">Se si desidera modificare un elemento (ad esempio, aggiornare il piè di pagina), è necessario modificare ogni pagina separatamente.</span><span class="sxs-lookup"><span data-stu-id="3aad0-120">If you wanted to change something (for example, update the footer), you'd have to change each page separately.</span></span>

<span data-ttu-id="3aad0-121">Ecco dove entrano le *pagine di layout* .</span><span class="sxs-lookup"><span data-stu-id="3aad0-121">That's where *layout pages* come in.</span></span> <span data-ttu-id="3aad0-122">In Pagine Web ASP.NET, è possibile definire una pagina di layout che fornisce un contenitore complessivo per le pagine del sito.</span><span class="sxs-lookup"><span data-stu-id="3aad0-122">In ASP.NET Web Pages, you can define a layout page that provides an overall container for pages on your site.</span></span> <span data-ttu-id="3aad0-123">La pagina layout, ad esempio, può contenere l'intestazione, l'area di navigazione e il piè di pagina.</span><span class="sxs-lookup"><span data-stu-id="3aad0-123">For example, the layout page can contain the header, navigation area, and footer.</span></span> <span data-ttu-id="3aad0-124">La pagina layout include un segnaposto in cui viene inserito il contenuto principale.</span><span class="sxs-lookup"><span data-stu-id="3aad0-124">The layout page includes a placeholder where the main content goes.</span></span>

<span data-ttu-id="3aad0-125">È quindi possibile definire singole pagine di contenuto che contengono il markup e il codice solo per tale pagina.</span><span class="sxs-lookup"><span data-stu-id="3aad0-125">You can then define individual content pages that contain the markup and the code for only that page.</span></span> <span data-ttu-id="3aad0-126">Le pagine di contenuto non devono essere pagine HTML complete; non devono neppure avere un elemento `<body>`.</span><span class="sxs-lookup"><span data-stu-id="3aad0-126">Content pages don't have to be complete HTML pages; they don't even have to have a `<body>` element.</span></span> <span data-ttu-id="3aad0-127">Dispone inoltre di una riga di codice che indica a ASP.NET la pagina di layout in cui si desidera visualizzare il contenuto.</span><span class="sxs-lookup"><span data-stu-id="3aad0-127">They also have a line of code that tells ASP.NET what layout page you want to display the content in.</span></span> <span data-ttu-id="3aad0-128">Ecco un'immagine che mostra approssimativamente il funzionamento di questa relazione:</span><span class="sxs-lookup"><span data-stu-id="3aad0-128">Here's a picture that shows roughly how this relationship works:</span></span>

![Diagramma concettuale che mostra due pagine di contenuto e una pagina di layout in cui si adattano](layouts/_static/image2.png)

<span data-ttu-id="3aad0-130">Questa interazione è facile da comprendere quando viene visualizzata in azione.</span><span class="sxs-lookup"><span data-stu-id="3aad0-130">This interaction is easy to understand when you see it in action.</span></span> <span data-ttu-id="3aad0-131">In questa esercitazione si modificheranno le pagine di filmati per usare un layout.</span><span class="sxs-lookup"><span data-stu-id="3aad0-131">In this tutorial, you'll change your movies pages to use a layout.</span></span>

## <a name="adding-a-layout-page"></a><span data-ttu-id="3aad0-132">Aggiunta di una pagina di layout</span><span class="sxs-lookup"><span data-stu-id="3aad0-132">Adding a Layout Page</span></span>

<span data-ttu-id="3aad0-133">Si inizierà creando una pagina di layout che definisce un layout di pagina tipico con un'intestazione, un piè di pagina e un'area per il contenuto principale.</span><span class="sxs-lookup"><span data-stu-id="3aad0-133">You'll start by creating a layout page that defines a typical page layout with a header, footer, and an area for the main content.</span></span> <span data-ttu-id="3aad0-134">Nel sito WebPagesMovies aggiungere una pagina CSHTML denominata *\_layout. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3aad0-134">In the WebPagesMovies site, add a CSHTML page named *\_Layout.cshtml*.</span></span>

<span data-ttu-id="3aad0-135">Il carattere di sottolineatura (`_`) principale è significativo.</span><span class="sxs-lookup"><span data-stu-id="3aad0-135">The leading underscore ( `_` ) character is significant.</span></span> <span data-ttu-id="3aad0-136">Se il nome di una pagina inizia con un carattere di sottolineatura, ASP.NET non invierà la pagina direttamente al browser.</span><span class="sxs-lookup"><span data-stu-id="3aad0-136">If a page's name starts with an underscore, ASP.NET won't directly send that page to the browser.</span></span> <span data-ttu-id="3aad0-137">Questa convenzione consente di definire le pagine necessarie per il sito, ma che gli utenti non devono essere in grado di richiedere direttamente.</span><span class="sxs-lookup"><span data-stu-id="3aad0-137">This convention lets you define pages that are required for your site but that users shouldn't be able to request directly.</span></span>

<span data-ttu-id="3aad0-138">Sostituire il contenuto della pagina con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="3aad0-138">Replace the content in the page with the following:</span></span>

[!code-html[Main](layouts/samples/sample1.html)]

<span data-ttu-id="3aad0-139">Come si può notare, questo markup è semplicemente HTML che usa elementi `<div>` per definire tre sezioni nella pagina più un altro elemento `<div>` per mantenere le tre sezioni.</span><span class="sxs-lookup"><span data-stu-id="3aad0-139">As you can see, this markup is just HTML that uses `<div>` elements to define three sections in the page plus one more `<div>` element to hold the three sections.</span></span> <span data-ttu-id="3aad0-140">Il piè di pagina contiene un po' di codice Razor: `@DateTime.Now.Year`, che eseguirà il rendering dell'anno corrente in quella posizione nella pagina.</span><span class="sxs-lookup"><span data-stu-id="3aad0-140">The footer contains a bit of Razor code: `@DateTime.Now.Year`, which will render the current year at that location in the page.</span></span>

<span data-ttu-id="3aad0-141">Si noti che è presente un collegamento a un foglio di stile denominato *Movies. CSS*.</span><span class="sxs-lookup"><span data-stu-id="3aad0-141">Notice that there's a link to a style sheet named *Movies.css*.</span></span> <span data-ttu-id="3aad0-142">Il foglio di stile è il punto in cui verranno definiti i dettagli del layout fisico degli elementi.</span><span class="sxs-lookup"><span data-stu-id="3aad0-142">The style sheet is where the details of the physical layout of the elements will be defined.</span></span> <span data-ttu-id="3aad0-143">Che verrà creato in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="3aad0-143">You'll create that in a moment.</span></span>

<span data-ttu-id="3aad0-144">L'unica funzionalità insolita in questa pagina *\_layout. cshtml* è la riga di `@Render.Body()`.</span><span class="sxs-lookup"><span data-stu-id="3aad0-144">The only unusual feature in this *\_Layout.cshtml* page is the `@Render.Body()` line.</span></span> <span data-ttu-id="3aad0-145">Si tratta del segnaposto in cui verrà inserito il contenuto quando il layout viene unito a un'altra pagina.</span><span class="sxs-lookup"><span data-stu-id="3aad0-145">That's the placeholder where the content will go when this layout is merged with another page.</span></span>

## <a name="adding-a-css-file"></a><span data-ttu-id="3aad0-146">Aggiunta di un file CSS</span><span class="sxs-lookup"><span data-stu-id="3aad0-146">Adding a .css File</span></span>

<span data-ttu-id="3aad0-147">Il modo migliore per definire la disposizione effettiva (ovvero l'aspetto) degli elementi della pagina consiste nell'usare le regole del foglio di stile CSS.</span><span class="sxs-lookup"><span data-stu-id="3aad0-147">The preferred way to define the actual arrangement (that is, appearance) of elements on the page is to use cascading style sheet (CSS) rules.</span></span> <span data-ttu-id="3aad0-148">Si creerà quindi un file *CSS* con le regole per il nuovo layout.</span><span class="sxs-lookup"><span data-stu-id="3aad0-148">So you'll create a *.css* file that has the rules for your new layout.</span></span>

<span data-ttu-id="3aad0-149">In WebMatrix selezionare la radice del sito.</span><span class="sxs-lookup"><span data-stu-id="3aad0-149">In WebMatrix, select the root of your site.</span></span> <span data-ttu-id="3aad0-150">Quindi, nella scheda **file** della barra multifunzione fare clic sulla freccia sotto il pulsante **nuovo** , quindi fare clic su **nuova cartella**.</span><span class="sxs-lookup"><span data-stu-id="3aad0-150">Then in the **Files** tab of the ribbon, click the arrow under the **New** button and then click **New Folder**.</span></span>

![Opzione ' nuova cartella ' in nuovo nella barra multifunzione.](layouts/_static/image3.png)

<span data-ttu-id="3aad0-152">Assegnare un nome agli *stili*della nuova cartella.</span><span class="sxs-lookup"><span data-stu-id="3aad0-152">Name the new folder *Styles*.</span></span>

![Assegnazione di un nome alla nuova cartella ' Styles '](layouts/_static/image4.png)

<span data-ttu-id="3aad0-154">All'interno della nuova cartella *stili* creare un file denominato *Movies. CSS*.</span><span class="sxs-lookup"><span data-stu-id="3aad0-154">Inside the new *Styles* folder, create a file named *Movies.css*.</span></span>

![Creazione di un nuovo file Movies. CSS](layouts/_static/image5.png)

<span data-ttu-id="3aad0-156">Sostituire il contenuto del nuovo file *CSS* con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="3aad0-156">Replace the contents of the new *.css* file with the following:</span></span>

[!code-css[Main](layouts/samples/sample2.css)]

<span data-ttu-id="3aad0-157">Non verranno illustrate molte di queste regole CSS, fatta eccezione per tenere presente due aspetti.</span><span class="sxs-lookup"><span data-stu-id="3aad0-157">We won't say much about these CSS rules, except to note two things.</span></span> <span data-ttu-id="3aad0-158">Uno è che, oltre a impostare tipi di carattere e dimensioni, le regole utilizzano il posizionamento assoluto per stabilire la posizione dell'intestazione, del piè di pagina e dell'area di contenuto principale.</span><span class="sxs-lookup"><span data-stu-id="3aad0-158">One is that in addition to setting fonts and sizes, the rules use absolute positioning to establish the location of the header, footer, and main content area.</span></span> <span data-ttu-id="3aad0-159">Se non si ha familiarità con il posizionamento in CSS, è possibile leggere l'esercitazione sul [posizionamento CSS](http://www.w3schools.com/css/css_positioning.asp) nel sito di w3schools.</span><span class="sxs-lookup"><span data-stu-id="3aad0-159">If you're new to positioning in CSS, you can read the [CSS Positioning](http://www.w3schools.com/css/css_positioning.asp) tutorial at the W3Schools site.</span></span>

<span data-ttu-id="3aad0-160">L'altra cosa da notare è che nella parte inferiore sono state copiate le regole di stile originariamente definite singolarmente nel file *Movies. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3aad0-160">The other thing to note is that at the bottom, we've copied the style rules that were originally defined individually in the *Movies.cshtml* file.</span></span> <span data-ttu-id="3aad0-161">Queste regole sono state usate nell' [Introduzione alla visualizzazione dei dati usando pagine Web ASP.NET](https://go.microsoft.com/fwlink/?LinkId=251580) esercitazione per fare in modo che l'helper `WebGrid` esegua il markup che ha aggiunto strisce alla tabella.</span><span class="sxs-lookup"><span data-stu-id="3aad0-161">These rules were used in the [Introduction to Displaying Data by Using ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=251580) tutorial to make the `WebGrid` helper render markup that added stripes to the table.</span></span> <span data-ttu-id="3aad0-162">Se si intende usare un file *CSS* per le definizioni di stile, è possibile inserire anche le regole di stile per l'intero sito.</span><span class="sxs-lookup"><span data-stu-id="3aad0-162">(If you're going to use a *.css* file for style definitions, you might as well put the style rules for the whole site in it.)</span></span>

## <a name="updating-the-movies-file-to-use-the-layout"></a><span data-ttu-id="3aad0-163">Aggiornamento del file Movies per l'uso del layout</span><span class="sxs-lookup"><span data-stu-id="3aad0-163">Updating the Movies File to Use the Layout</span></span>

<span data-ttu-id="3aad0-164">A questo punto è possibile aggiornare i file esistenti nel sito per usare il nuovo layout.</span><span class="sxs-lookup"><span data-stu-id="3aad0-164">Now you can update the existing files in your site to use the new layout.</span></span> <span data-ttu-id="3aad0-165">Aprire il file *Movies. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3aad0-165">Open the *Movies.cshtml* file.</span></span> <span data-ttu-id="3aad0-166">Nella parte superiore, come prima riga di codice, aggiungere quanto segue:</span><span class="sxs-lookup"><span data-stu-id="3aad0-166">At the top, as the first line of code, add the following:</span></span>

[!code-csharp[Main](layouts/samples/sample3.cs)]

<span data-ttu-id="3aad0-167">La pagina ora inizia in questo modo:</span><span class="sxs-lookup"><span data-stu-id="3aad0-167">The page now starts out this way:</span></span>

[!code-cshtml[Main](layouts/samples/sample4.cshtml?highlight=2)]

<span data-ttu-id="3aad0-168">Questa riga di codice indica a ASP.NET che quando viene eseguita la pagina *Movies* , deve essere unita al file *Layout. cshtml\_* .</span><span class="sxs-lookup"><span data-stu-id="3aad0-168">This one line of code tells ASP.NET that when the *Movies* page runs, it should be merged with the *\_Layout.cshtml* file.</span></span>

<span data-ttu-id="3aad0-169">Poiché il file *Movies. cshtml* ora usa una pagina di layout, è possibile rimuovere il markup dalla pagina *Movies. cshtml* che viene gestita dal file *\_layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3aad0-169">Since the *Movies.cshtml* file now uses a layout page, you can remove the markup from the *Movies.cshtml* page that's taken care of by the *\_Layout.cshtml* file.</span></span> <span data-ttu-id="3aad0-170">Estrarre i tag `<!DOCTYPE>`, `<html>`e `<body>` di apertura e di chiusura.</span><span class="sxs-lookup"><span data-stu-id="3aad0-170">Take out the `<!DOCTYPE>`, `<html>`, and `<body>` opening and closing tags.</span></span> <span data-ttu-id="3aad0-171">Estrarre l'intero elemento `<head>` e il relativo contenuto, incluse le regole di stile per la griglia, dal momento che le regole sono state ottenute in un file *CSS* .</span><span class="sxs-lookup"><span data-stu-id="3aad0-171">Take out the entire `<head>` element and its contents, which includes the style rules for the grid, since you've now got those rules in a *.css* file.</span></span> <span data-ttu-id="3aad0-172">Mentre ci si trova, modificare l'elemento `<h1>` esistente in un elemento `<h2>`; nella pagina di layout è già presente un elemento `<h1>`.</span><span class="sxs-lookup"><span data-stu-id="3aad0-172">While you're at it, change the existing `<h1>` element to an `<h2>` element; you have an `<h1>` element in the layout page already.</span></span> <span data-ttu-id="3aad0-173">Modificare il testo del `<h2>` in "list Movies".</span><span class="sxs-lookup"><span data-stu-id="3aad0-173">Change the `<h2>` text to "List Movies".</span></span>

<span data-ttu-id="3aad0-174">In genere non è necessario apportare queste modifiche in una pagina di contenuto.</span><span class="sxs-lookup"><span data-stu-id="3aad0-174">Normally you wouldn't have to make these sorts of changes in a content page.</span></span> <span data-ttu-id="3aad0-175">Quando si avvia il sito con una pagina di layout, le pagine di contenuto vengono create senza tutti questi elementi per iniziare.</span><span class="sxs-lookup"><span data-stu-id="3aad0-175">When you start your site out with a layout page, you create content pages without all these elements to begin with.</span></span> <span data-ttu-id="3aad0-176">In questo caso, tuttavia, si sta convertendo una pagina autonoma in una che usa un layout, quindi è necessario eseguire una pulizia.</span><span class="sxs-lookup"><span data-stu-id="3aad0-176">In this case, though, you're converting a standalone page to one that uses a layout, so there's a bit of cleanup.</span></span>

<span data-ttu-id="3aad0-177">Al termine, la pagina *Movies. cshtml* sarà simile alla seguente:</span><span class="sxs-lookup"><span data-stu-id="3aad0-177">When you're finished, the *Movies.cshtml* page will look like the following:</span></span>

[!code-cshtml[Main](layouts/samples/sample5.cshtml)]

### <a name="testing-the-layout"></a><span data-ttu-id="3aad0-178">Test del layout</span><span class="sxs-lookup"><span data-stu-id="3aad0-178">Testing the Layout</span></span>

<span data-ttu-id="3aad0-179">A questo punto è possibile visualizzare l'aspetto del layout.</span><span class="sxs-lookup"><span data-stu-id="3aad0-179">Now you can see what the layout looks like.</span></span> <span data-ttu-id="3aad0-180">In WebMatrix fare clic con il pulsante destro del mouse sulla pagina *Movies. cshtml* e scegliere **Avvia nel browser**.</span><span class="sxs-lookup"><span data-stu-id="3aad0-180">In WebMatrix, right-click the *Movies.cshtml* page and select **Launch in browser**.</span></span> <span data-ttu-id="3aad0-181">Quando il browser Visualizza la pagina, l'aspetto della pagina è simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="3aad0-181">When the browser displays the page, it looks like this page:</span></span>

![Pagina filmati con rendering con un layout](layouts/_static/image6.png)

<span data-ttu-id="3aad0-183">ASP.NET ha unito il contenuto della pagina Movies. cshtml nella pagina *\_layout. cshtml* , in cui il metodo `RenderBody` è.</span><span class="sxs-lookup"><span data-stu-id="3aad0-183">ASP.NET has merged the content of the Movies.cshtml page into the *\_Layout.cshtml* page right where the `RenderBody` method is.</span></span> <span data-ttu-id="3aad0-184">Ovviamente la pagina *\_layout. cshtml* fa riferimento a un file *CSS* che definisce l'aspetto della pagina.</span><span class="sxs-lookup"><span data-stu-id="3aad0-184">And of course the *\_Layout.cshtml* page references a *.css* file that defines the look of the page.</span></span>

## <a name="updating-the-addmovie-page-to-use-the-layout"></a><span data-ttu-id="3aad0-185">Aggiornamento della pagina AddMovie per l'uso del layout</span><span class="sxs-lookup"><span data-stu-id="3aad0-185">Updating the AddMovie Page to Use the Layout</span></span>

<span data-ttu-id="3aad0-186">Il vero vantaggio dei layout è che è possibile usarli per tutte le pagine del sito.</span><span class="sxs-lookup"><span data-stu-id="3aad0-186">The real benefit of layouts is that you can use them for all the pages in your site.</span></span> <span data-ttu-id="3aad0-187">Aprire la pagina *AddMovie. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3aad0-187">Open the *AddMovie.cshtml* page.</span></span>

<span data-ttu-id="3aad0-188">È possibile ricordare che la pagina *AddMovie. cshtml* ha originariamente alcune regole CSS per definire l'aspetto dei messaggi di errore di convalida.</span><span class="sxs-lookup"><span data-stu-id="3aad0-188">You might remember that the *AddMovie.cshtml* page originally had some CSS rules in it to define the look of validation error messages.</span></span> <span data-ttu-id="3aad0-189">Dal momento che è disponibile un file *CSS* per il sito, è possibile spostare tali regole nel file *CSS* .</span><span class="sxs-lookup"><span data-stu-id="3aad0-189">Since you have a *.css* file for your site now, you can move those rules to the *.css* file.</span></span> <span data-ttu-id="3aad0-190">Rimuoverli dal file *AddMovie. cshtml* e aggiungerli alla fine del file *Movies. CSS* .</span><span class="sxs-lookup"><span data-stu-id="3aad0-190">Remove them from the *AddMovie.cshtml* file and add them to the bottom of the *Movies.css* file.</span></span> <span data-ttu-id="3aad0-191">Si stanno migrando le regole seguenti:</span><span class="sxs-lookup"><span data-stu-id="3aad0-191">You are moving the following rules:</span></span>

[!code-css[Main](layouts/samples/sample6.css)]

<span data-ttu-id="3aad0-192">Apportare ora le stesse modifiche apportate in *AddMovie. cshtml* per *Movies. cshtml* : aggiungere `Layout="~/_Layout.cshtml;` e rimuovere il markup HTML che ora è estraneo.</span><span class="sxs-lookup"><span data-stu-id="3aad0-192">Now make the same sorts of changes in *AddMovie.cshtml* that you did for *Movies.cshtml* — add `Layout="~/_Layout.cshtml;` and remove the HTML markup that's now extraneous.</span></span> <span data-ttu-id="3aad0-193">Modificare l'elemento `<h1>` in `<h2>`.</span><span class="sxs-lookup"><span data-stu-id="3aad0-193">Change the `<h1>` element to `<h2>`.</span></span> <span data-ttu-id="3aad0-194">Al termine, la pagina sarà simile a questo esempio:</span><span class="sxs-lookup"><span data-stu-id="3aad0-194">When you're done, the page will look like this example:</span></span>

[!code-cshtml[Main](layouts/samples/sample7.cshtml)]

<span data-ttu-id="3aad0-195">Eseguire la pagina.</span><span class="sxs-lookup"><span data-stu-id="3aad0-195">Run the page.</span></span> <span data-ttu-id="3aad0-196">A questo punto l'immagine è simile alla seguente:</span><span class="sxs-lookup"><span data-stu-id="3aad0-196">Now it looks like this illustration:</span></span>

![Pagina ' Aggiungi film ' con rendering con un layout](layouts/_static/image7.png)

<span data-ttu-id="3aad0-198">Si desidera apportare modifiche simili alle pagine del sito, ovvero *EditMovie. cshtml* e *DeleteMovie. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3aad0-198">You want to make similar changes to the pages in the site — *EditMovie.cshtml* and *DeleteMovie.cshtml*.</span></span> <span data-ttu-id="3aad0-199">Tuttavia, prima di procedere, è possibile apportare un'altra modifica al layout, rendendola leggermente più flessibile.</span><span class="sxs-lookup"><span data-stu-id="3aad0-199">However, before you do, you can make another change to the layout that makes it a little more flexible.</span></span>

## <a name="passing-title-information-to-the-layout-page"></a><span data-ttu-id="3aad0-200">Passaggio di informazioni sul titolo alla pagina layout</span><span class="sxs-lookup"><span data-stu-id="3aad0-200">Passing Title Information to the Layout Page</span></span>

<span data-ttu-id="3aad0-201">La pagina *\_layout. cshtml* creata ha un elemento `<title>` impostato su "My Movie Site".</span><span class="sxs-lookup"><span data-stu-id="3aad0-201">The *\_Layout.cshtml* page that you created has a `<title>` element that's set to "My Movie Site".</span></span> <span data-ttu-id="3aad0-202">La maggior parte dei browser Visualizza il contenuto di questo elemento come testo in una scheda:</span><span class="sxs-lookup"><span data-stu-id="3aad0-202">Most browsers display the content of this element as the text on a tab:</span></span>

![Elemento&gt; titolo &lt;della pagina visualizzato in una scheda del browser](layouts/_static/image8.png)

<span data-ttu-id="3aad0-204">Queste informazioni sul titolo sono generiche.</span><span class="sxs-lookup"><span data-stu-id="3aad0-204">This title information is generic.</span></span> <span data-ttu-id="3aad0-205">Si supponga di volere che il testo del titolo sia più specifico della pagina corrente.</span><span class="sxs-lookup"><span data-stu-id="3aad0-205">Suppose that you want the title text to be more specific to the current page.</span></span> <span data-ttu-id="3aad0-206">Il testo del titolo viene usato anche dai motori di ricerca per determinare le informazioni relative alla pagina. È possibile passare informazioni da una pagina contenuto, ad esempio *Movies. cshtml* o *AddMovie. cshtml* , alla pagina layout e quindi usare tali informazioni per personalizzare il rendering della pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="3aad0-206">(The title text is also used by search engines to determine what your page is about.) You can pass information from a content page like *Movies.cshtml* or *AddMovie.cshtml* to the layout page, and then use that information to customize what the layout page renders.</span></span>

<span data-ttu-id="3aad0-207">Aprire di nuovo la pagina *Movies. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3aad0-207">Open the *Movies.cshtml* page again.</span></span> <span data-ttu-id="3aad0-208">Nel codice nella parte superiore aggiungere la riga seguente:</span><span class="sxs-lookup"><span data-stu-id="3aad0-208">In the code at the top, add the following line:</span></span>

[!code-csharp[Main](layouts/samples/sample8.cs)]

<span data-ttu-id="3aad0-209">L'oggetto `Page` è disponibile in tutte le pagine *. cshtml* ed è a questo scopo, in particolare per condividere le informazioni tra una pagina e il relativo layout.</span><span class="sxs-lookup"><span data-stu-id="3aad0-209">The `Page` object is available on all *.cshtml* pages and is for this purpose, namely to share information between a page and its layout.</span></span>

<span data-ttu-id="3aad0-210">Aprire la pagina *\_layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3aad0-210">Open the *\_Layout.cshtml* page.</span></span> <span data-ttu-id="3aad0-211">Modificare l'elemento `<title>` in modo che abbia un aspetto simile a questo markup:</span><span class="sxs-lookup"><span data-stu-id="3aad0-211">Change the `<title>` element so that it looks like this markup:</span></span>

[!code-html[Main](layouts/samples/sample9.html)]

<span data-ttu-id="3aad0-212">Questo codice esegue il rendering di qualsiasi contenuto nella proprietà `Page.Title` a destra di tale posizione nella pagina.</span><span class="sxs-lookup"><span data-stu-id="3aad0-212">This code renders whatever is in the `Page.Title` property right at that location in the page.</span></span>

<span data-ttu-id="3aad0-213">Eseguire la pagina *Movies. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3aad0-213">Run the *Movies.cshtml* page.</span></span> <span data-ttu-id="3aad0-214">Questa volta la scheda del browser Mostra gli elementi passati come valore di `Page.Title`:</span><span class="sxs-lookup"><span data-stu-id="3aad0-214">This time the browser tab shows what you passed as the value of `Page.Title`:</span></span>

![Scheda del browser che mostra il titolo creato dinamicamente](layouts/_static/image9.png)

<span data-ttu-id="3aad0-216">Se lo si desidera, visualizzare l'origine della pagina nel browser.</span><span class="sxs-lookup"><span data-stu-id="3aad0-216">If you want, view the page source in the browser.</span></span> <span data-ttu-id="3aad0-217">È possibile osservare che l'elemento `<title>` viene visualizzato come `<title>List Movies</title>`.</span><span class="sxs-lookup"><span data-stu-id="3aad0-217">You can see that the `<title>` element is rendered as `<title>List Movies</title>`.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="3aad0-218">**Oggetto pagina**</span><span class="sxs-lookup"><span data-stu-id="3aad0-218">**The Page Object**</span></span>
> 
> <span data-ttu-id="3aad0-219">Una funzionalità utile di `Page` è che si tratta di un oggetto dinamico, ovvero la proprietà `Title` non è un nome fisso o riservato.</span><span class="sxs-lookup"><span data-stu-id="3aad0-219">A useful feature of `Page` is that it's a dynamic object — the `Title` property is not a fixed or reserved name.</span></span> <span data-ttu-id="3aad0-220">È possibile utilizzare *qualsiasi* nome per un valore dell'oggetto `Page`.</span><span class="sxs-lookup"><span data-stu-id="3aad0-220">You can use *any* name for a value of the `Page` object.</span></span> <span data-ttu-id="3aad0-221">Ad esempio, è possibile passare il titolo con una proprietà denominata `Page.CurrentName` o `Page.MyPage`.</span><span class="sxs-lookup"><span data-stu-id="3aad0-221">For example, you could as easily have passed the title by using a property named `Page.CurrentName` or `Page.MyPage`.</span></span> <span data-ttu-id="3aad0-222">L'unica restrizione è che il nome deve seguire le normali regole per le proprietà che possono essere denominate.</span><span class="sxs-lookup"><span data-stu-id="3aad0-222">The only restriction is that the name has to follow the normal rules for what properties can be named.</span></span> <span data-ttu-id="3aad0-223">Ad esempio, il nome non può contenere uno spazio.</span><span class="sxs-lookup"><span data-stu-id="3aad0-223">(For example, the name can't contain a space.)</span></span>
> 
> <span data-ttu-id="3aad0-224">È possibile passare qualsiasi numero di valori utilizzando l'oggetto `Page`.</span><span class="sxs-lookup"><span data-stu-id="3aad0-224">You can pass any number of values by using the `Page` object.</span></span> <span data-ttu-id="3aad0-225">Se si desidera passare informazioni sui film alla pagina di layout, è possibile passare i valori utilizzando un elemento come `Page.MovieTitle` e `Page.Genre` e `Page.MovieYear`.</span><span class="sxs-lookup"><span data-stu-id="3aad0-225">If you wanted to pass movie information to the layout page, you could pass values by using something like `Page.MovieTitle` and `Page.Genre` and `Page.MovieYear`.</span></span> <span data-ttu-id="3aad0-226">O qualsiasi altro nome inventato per archiviare le informazioni. L'unico requisito, che probabilmente è ovvio, è che è necessario usare gli stessi nomi nella pagina contenuto e nella pagina layout.</span><span class="sxs-lookup"><span data-stu-id="3aad0-226">(Or any other names that you invented to store the information.) The only requirement — which is probably obvious — is that you have to use the same names in the content page and the layout page.</span></span>
> 
> <span data-ttu-id="3aad0-227">Le informazioni passate tramite l'oggetto `Page` non sono limitate al solo testo da visualizzare nella pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="3aad0-227">The information you pass by using the `Page` object isn't limited to just text to display on the layout page.</span></span> <span data-ttu-id="3aad0-228">È possibile passare un valore alla pagina layout e quindi il codice nella pagina layout può usare il valore per decidere se visualizzare una sezione della pagina, il file *CSS* da usare e così via.</span><span class="sxs-lookup"><span data-stu-id="3aad0-228">You can pass a value to the layout page, and then code in the layout page can use the value to decide whether to display a section of the page, what *.css* file to use, and so on.</span></span> <span data-ttu-id="3aad0-229">I valori passati nell'oggetto `Page` sono come tutti gli altri valori utilizzati nel codice.</span><span class="sxs-lookup"><span data-stu-id="3aad0-229">The values you pass in the `Page` object are like any other values that you use in code.</span></span> <span data-ttu-id="3aad0-230">È solo che i valori provengono dalla pagina contenuto e vengono passati alla pagina di layout.</span><span class="sxs-lookup"><span data-stu-id="3aad0-230">It's just that the values originate in the content page and are passed to the layout page.</span></span>

<span data-ttu-id="3aad0-231">Aprire la pagina *AddMovie. cshtml* e aggiungere una linea nella parte superiore del codice che fornisce un titolo per la pagina *AddMovie. cshtml* :</span><span class="sxs-lookup"><span data-stu-id="3aad0-231">Open the *AddMovie.cshtml* page and add a line to the top of the code that provides a title for the *AddMovie.cshtml* page:</span></span>

[!code-csharp[Main](layouts/samples/sample10.cs)]

<span data-ttu-id="3aad0-232">Eseguire la pagina *AddMovie. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3aad0-232">Run the *AddMovie.cshtml* page.</span></span> <span data-ttu-id="3aad0-233">Viene visualizzato il nuovo titolo:</span><span class="sxs-lookup"><span data-stu-id="3aad0-233">You see the new title there:</span></span>

![Scheda del browser che mostra il titolo ' Aggiungi film ' creato dinamicamente](layouts/_static/image10.png)

## <a name="updating-the-remaining-pages-to-use-the-layout"></a><span data-ttu-id="3aad0-235">Aggiornamento delle pagine rimanenti per l'uso del layout</span><span class="sxs-lookup"><span data-stu-id="3aad0-235">Updating the Remaining Pages to Use the Layout</span></span>

<span data-ttu-id="3aad0-236">A questo punto è possibile completare le pagine rimanenti nel sito in modo che usino il nuovo layout.</span><span class="sxs-lookup"><span data-stu-id="3aad0-236">Now you can finish the remaining pages in your site so that they use the new layout.</span></span> <span data-ttu-id="3aad0-237">Aprire *EditMovie. cshtml* e *DeleteMovie. cshtml* a sua volta e apportare le stesse modifiche.</span><span class="sxs-lookup"><span data-stu-id="3aad0-237">Open *EditMovie.cshtml* and *DeleteMovie.cshtml* in turn and make the same changes in each.</span></span>

<span data-ttu-id="3aad0-238">Aggiungere la riga di codice che collega alla pagina layout:</span><span class="sxs-lookup"><span data-stu-id="3aad0-238">Add the line of code that links to the layout page:</span></span>

[!code-csharp[Main](layouts/samples/sample11.cs)]

<span data-ttu-id="3aad0-239">Aggiungere una riga per impostare il titolo della pagina:</span><span class="sxs-lookup"><span data-stu-id="3aad0-239">Add a line to set the title of the page:</span></span>

[!code-csharp[Main](layouts/samples/sample12.cs)]

<span data-ttu-id="3aad0-240">oppure:</span><span class="sxs-lookup"><span data-stu-id="3aad0-240">or:</span></span>

[!code-csharp[Main](layouts/samples/sample13.cs)]

<span data-ttu-id="3aad0-241">Rimuovere tutto il markup HTML estraneo; fondamentalmente, lasciare solo i bit all'interno dell'elemento `<body>` (più il blocco di codice nella parte superiore).</span><span class="sxs-lookup"><span data-stu-id="3aad0-241">Remove all the extraneous HTML markup — basically, leave only the bits that are inside the `<body>` element (plus the code block at the top).</span></span>

<span data-ttu-id="3aad0-242">Modificare l'elemento `<h1>` in modo che sia un elemento di `<h2>`.</span><span class="sxs-lookup"><span data-stu-id="3aad0-242">Change the `<h1>` element to be an `<h2>` element.</span></span>

<span data-ttu-id="3aad0-243">Dopo aver apportato queste modifiche, testare ciascuna di esse e verificare che venga visualizzata correttamente e che il titolo sia corretto.</span><span class="sxs-lookup"><span data-stu-id="3aad0-243">When you've made these changes, test each and make sure that it's displaying properly and that the title is correct.</span></span>

## <a name="parting-thoughts-about-layout-pages"></a><span data-ttu-id="3aad0-244">Considerazioni di parte sulle pagine di layout</span><span class="sxs-lookup"><span data-stu-id="3aad0-244">Parting Thoughts About Layout Pages</span></span>

<span data-ttu-id="3aad0-245">In questa esercitazione è stata creata una pagina *\_layout. cshtml* ed è stato usato il metodo `RenderBody` per unire il contenuto da un'altra pagina.</span><span class="sxs-lookup"><span data-stu-id="3aad0-245">In this tutorial you created a *\_Layout.cshtml* page and used the `RenderBody` method to merge content from another page.</span></span> <span data-ttu-id="3aad0-246">Questo è il modello di base per l'uso di layout nelle pagine Web.</span><span class="sxs-lookup"><span data-stu-id="3aad0-246">That's the basic pattern for using layouts in Web Pages.</span></span>

<span data-ttu-id="3aad0-247">Le pagine di layout hanno funzionalità aggiuntive che non sono state illustrate qui.</span><span class="sxs-lookup"><span data-stu-id="3aad0-247">Layout pages have additional features that we didn't cover here.</span></span> <span data-ttu-id="3aad0-248">È ad esempio possibile annidare le pagine di layout: una pagina di layout può a sua volta fare riferimento a un'altra.</span><span class="sxs-lookup"><span data-stu-id="3aad0-248">For example, you can nest layout pages — one layout page can in turn reference another.</span></span> <span data-ttu-id="3aad0-249">I layout annidati possono essere utili se si lavora con le sottosezioni di un sito che richiedono layout diversi.</span><span class="sxs-lookup"><span data-stu-id="3aad0-249">Nested layouts can be useful if you're working with subsections of a site that require different layouts.</span></span> <span data-ttu-id="3aad0-250">È anche possibile usare metodi aggiuntivi, ad esempio `RenderSection`, per configurare le sezioni denominate nella pagina layout.</span><span class="sxs-lookup"><span data-stu-id="3aad0-250">You can also use additional methods (for example, `RenderSection`) to set up named sections in the layout page.</span></span>

<span data-ttu-id="3aad0-251">La combinazione di pagine di layout e file *CSS* è potente.</span><span class="sxs-lookup"><span data-stu-id="3aad0-251">The combination of layout pages and *.css* files is powerful.</span></span> <span data-ttu-id="3aad0-252">Come si vedrà nella prossima serie di esercitazioni, in WebMatrix è possibile creare un sito basato su un *modello*, che fornisce un sito con funzionalità predefinite.</span><span class="sxs-lookup"><span data-stu-id="3aad0-252">As you'll see in the next tutorial series, in WebMatrix you can create a site based on a *template*, which gives you a site that has prebuilt functionality in it.</span></span> <span data-ttu-id="3aad0-253">I modelli consentono di sfruttare al meglio le pagine di layout e i CSS per creare siti che risultino eccezionali e che dispongono di funzionalità come i menu.</span><span class="sxs-lookup"><span data-stu-id="3aad0-253">The templates make good use of layout pages and CSS to create sites that look great and that have features like menus.</span></span> <span data-ttu-id="3aad0-254">Di seguito è riportata una schermata del home page da un sito basato su un modello, che mostra le funzionalità che usano le pagine di layout e CSS:</span><span class="sxs-lookup"><span data-stu-id="3aad0-254">Here's a screenshot of the home page from a site based on a template, showing features that use layout pages and CSS:</span></span>

![Layout creato dal modello di sito WebMatrix che mostra l'intestazione, l'area di navigazione, l'area del contenuto, la sezione facoltativa e i collegamenti di accesso](layouts/_static/image11.png)

## <a name="complete-listing-for-movie-page-updated-to-use-a-layout-page"></a><span data-ttu-id="3aad0-256">Elenco completo per la pagina di film (aggiornato per l'uso di una pagina di layout)</span><span class="sxs-lookup"><span data-stu-id="3aad0-256">Complete Listing for Movie Page (Updated to Use a Layout Page)</span></span>

[!code-cshtml[Main](layouts/samples/sample14.cshtml)]

## <a name="complete-page-listing-for-add-movie-page-updated-for-layout"></a><span data-ttu-id="3aad0-257">Elenco di pagine complete per la pagina Aggiungi film (aggiornato per il layout)</span><span class="sxs-lookup"><span data-stu-id="3aad0-257">Complete Page Listing for Add Movie Page (Updated for Layout)</span></span>

[!code-cshtml[Main](layouts/samples/sample15.cshtml)]

## <a name="complete-page-listing-for-delete-movie-page-updated-for-layout"></a><span data-ttu-id="3aad0-258">Elenco di pagine complete per la pagina Elimina filmato (aggiornato per il layout)</span><span class="sxs-lookup"><span data-stu-id="3aad0-258">Complete Page Listing for Delete Movie Page (Updated for Layout)</span></span>

[!code-cshtml[Main](layouts/samples/sample16.cshtml)]

## <a name="complete-page-listing-for-edit-movie-page-updated-for-layout"></a><span data-ttu-id="3aad0-259">Elenco di pagine complete per la pagina Modifica filmato (aggiornato per il layout)</span><span class="sxs-lookup"><span data-stu-id="3aad0-259">Complete Page Listing for Edit Movie Page (Updated for Layout)</span></span>

[!code-cshtml[Main](layouts/samples/sample17.cshtml)]

## <a name="coming-up-next"></a><span data-ttu-id="3aad0-260">Prossimi</span><span class="sxs-lookup"><span data-stu-id="3aad0-260">Coming Up Next</span></span>

<span data-ttu-id="3aad0-261">Nell'esercitazione successiva si apprenderà come pubblicare il sito su Internet in modo che tutti possano visualizzarlo.</span><span class="sxs-lookup"><span data-stu-id="3aad0-261">In the next tutorial, you'll learn how to publish your site to the Internet so everyone can see it.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="3aad0-262">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="3aad0-262">Additional Resources</span></span>

- <span data-ttu-id="3aad0-263">[Creazione di un aspetto coerente](https://go.microsoft.com/fwlink/?LinkID=202891) , ovvero un articolo che fornisce altri dettagli sull'utilizzo dei layout.</span><span class="sxs-lookup"><span data-stu-id="3aad0-263">[Creating a Consistent Look](https://go.microsoft.com/fwlink/?LinkID=202891) — An article that provides some more detail on working with layouts.</span></span> <span data-ttu-id="3aad0-264">Viene inoltre descritto come passare un valore a una pagina di layout che Mostra o nasconde parte del contenuto.</span><span class="sxs-lookup"><span data-stu-id="3aad0-264">It also describes how to pass a value to a layout page that shows or hides some of the content.</span></span>
- <span data-ttu-id="3aad0-265">[Pagine di layout annidate con Razor](http://www.mikesdotnetting.com/Article/164/Nested-Layout-Pages-with-Razor) : Mike Brind Blog un esempio di come annidare le pagine di layout.</span><span class="sxs-lookup"><span data-stu-id="3aad0-265">[Nested Layout Pages with Razor](http://www.mikesdotnetting.com/Article/164/Nested-Layout-Pages-with-Razor) — Mike Brind blogs an example of how to nest layout pages.</span></span> <span data-ttu-id="3aad0-266">(Include un download delle pagine).</span><span class="sxs-lookup"><span data-stu-id="3aad0-266">(Includes a download of the pages.)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="3aad0-267">[Precedente](deleting-data.md)
> [Successivo](publishing.md)</span><span class="sxs-lookup"><span data-stu-id="3aad0-267">[Previous](deleting-data.md)
[Next](publishing.md)</span></span>
