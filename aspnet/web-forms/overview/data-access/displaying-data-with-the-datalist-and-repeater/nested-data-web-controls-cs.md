---
uid: web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/nested-data-web-controls-cs
title: Dati annidati Web (controlli) (c#) | Microsoft Docs
author: rick-anderson
description: In questa esercitazione che verrà presa in esame come usare un controllo Repeater annidate all'interno di un altro controllo Repeater. Gli esempi verranno illustrato come popolare il Repeater interno entrambi d...
ms.author: riande
ms.date: 09/13/2006
ms.assetid: ad3cb0ec-26cf-42d7-b81b-184a34ec9f86
msc.legacyurl: /web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/nested-data-web-controls-cs
msc.type: authoredcontent
ms.openlocfilehash: 5dcb0b302a814f25ab8f0e89fb8859fbc0ca665d
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/17/2019
ms.locfileid: "59399502"
---
# <a name="nested-data-web-controls-c"></a><span data-ttu-id="49c8b-104">Controlli Web dei dati annidati (C#)</span><span class="sxs-lookup"><span data-stu-id="49c8b-104">Nested Data Web Controls (C#)</span></span>

<span data-ttu-id="49c8b-105">da [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="49c8b-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="49c8b-106">[Scaricare l'App di esempio](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_32_CS.exe) o [Scarica il PDF](nested-data-web-controls-cs/_static/datatutorial32cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="49c8b-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_32_CS.exe) or [Download PDF](nested-data-web-controls-cs/_static/datatutorial32cs1.pdf)</span></span>

> <span data-ttu-id="49c8b-107">In questa esercitazione che verrà presa in esame come usare un controllo Repeater annidate all'interno di un altro controllo Repeater.</span><span class="sxs-lookup"><span data-stu-id="49c8b-107">In this tutorial we will explore how to use a Repeater nested inside another Repeater.</span></span> <span data-ttu-id="49c8b-108">Gli esempi illustrerà come popolare il Repeater interno in modo dichiarativo sia a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="49c8b-108">The examples will illustrate how to populate the inner Repeater both declaratively and programmatically.</span></span>


## <a name="introduction"></a><span data-ttu-id="49c8b-109">Introduzione</span><span class="sxs-lookup"><span data-stu-id="49c8b-109">Introduction</span></span>

<span data-ttu-id="49c8b-110">Oltre a codice HTML statico e sintassi di associazione dati, i modelli possono includere anche i controlli Web e controlli utente.</span><span class="sxs-lookup"><span data-stu-id="49c8b-110">In addition to static HTML and databinding syntax, templates can also include Web controls and User Controls.</span></span> <span data-ttu-id="49c8b-111">Questi controlli Web possono avere le relative proprietà assegnate tramite sintassi di associazione dati dichiarativa, oppure è possibile accedere a livello di codice nei gestori di eventi sul lato server appropriato.</span><span class="sxs-lookup"><span data-stu-id="49c8b-111">These Web controls can have their properties assigned via declarative, databinding syntax, or can be accessed programmatically in the appropriate server-side event handlers.</span></span>

<span data-ttu-id="49c8b-112">Incorporando i controlli all'interno di un modello, è possibile personalizzare l'aspetto e l'esperienza utente e migliorato.</span><span class="sxs-lookup"><span data-stu-id="49c8b-112">By embedding controls within a template, the appearance and user experience can be customized and improved upon.</span></span> <span data-ttu-id="49c8b-113">Ad esempio, nel [uso di TemplateFields nel controllo GridView](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial, è stato illustrato come personalizzare la visualizzazione di s GridView mediante l'aggiunta di un controllo di calendario in un TemplateField per visualizzare la data di assunzione s un dipendente, nel [aggiunta I controlli di convalida per la modifica e inserimento di interfacce](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) e [personalizzazione dell'interfaccia di modifica dati](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) esercitazioni, è stato illustrato come personalizzare il processo di modifica e inserimento interfacce mediante l'aggiunta di convalida controlli caselle di testo, controlli DropDownList e altri controlli di Web.</span><span class="sxs-lookup"><span data-stu-id="49c8b-113">For example, in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial, we saw how to customize the GridView s display by adding a Calendar control in a TemplateField to show an employee s hire date; in the [Adding Validation Controls to the Editing and Inserting Interfaces](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) and [Customizing the Data Modification Interface](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) tutorials, we saw how to customize the editing and inserting interfaces by adding validation controls, TextBoxes, DropDownLists, and other Web controls.</span></span>

<span data-ttu-id="49c8b-114">I modelli possono inoltre contenere altri controlli Web dei dati.</span><span class="sxs-lookup"><span data-stu-id="49c8b-114">Templates can also contain other data Web controls.</span></span> <span data-ttu-id="49c8b-115">Vale a dire godere di un controllo DataList che contiene un altro DataList (o Repeater o GridView o DetailsView e così via) all'interno dei modelli.</span><span class="sxs-lookup"><span data-stu-id="49c8b-115">That is, we can have a DataList that contains another DataList (or Repeater or GridView or DetailsView, and so on) within its templates.</span></span> <span data-ttu-id="49c8b-116">La sfida con tale interfaccia sta effettuando l'associazione dei dati appropriati per i controllo Web per dati interni.</span><span class="sxs-lookup"><span data-stu-id="49c8b-116">The challenge with such an interface is binding the appropriate data to the inner data Web control.</span></span> <span data-ttu-id="49c8b-117">Sono disponibili due diversi approcci, compreso tra le opzioni dichiarative utilizzando ObjectDataSource a quelli a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="49c8b-117">There are a few different approaches available, ranging from declarative options using the ObjectDataSource to programmatic ones.</span></span>

<span data-ttu-id="49c8b-118">In questa esercitazione che verrà presa in esame come usare un controllo Repeater annidate all'interno di un altro controllo Repeater.</span><span class="sxs-lookup"><span data-stu-id="49c8b-118">In this tutorial we will explore how to use a Repeater nested inside another Repeater.</span></span> <span data-ttu-id="49c8b-119">Il Repeater outer conterrà un elemento per ogni categoria nel database, visualizzare il nome della categoria s e una descrizione.</span><span class="sxs-lookup"><span data-stu-id="49c8b-119">The outer Repeater will contain an item for each category in the database, displaying the category s name and description.</span></span> <span data-ttu-id="49c8b-120">Ogni elemento di categoria s Repeater interni verranno visualizzate informazioni per ogni prodotto che appartengono alla categoria (vedere la figura 1) in un elenco puntato.</span><span class="sxs-lookup"><span data-stu-id="49c8b-120">Each category item s inner Repeater will display information for each product belonging to that category (see Figure 1) in a bulleted list.</span></span> <span data-ttu-id="49c8b-121">Questi esempi verranno illustrato come popolare il Repeater interno in modo dichiarativo sia a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="49c8b-121">Our examples will illustrate how to populate the inner Repeater both declaratively and programmatically.</span></span>


<span data-ttu-id="49c8b-122">[![Ogni categoria, insieme ai propri prodotti, sono elencati](nested-data-web-controls-cs/_static/image2.png)](nested-data-web-controls-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="49c8b-122">[![Each Category, Along with its Products, are Listed](nested-data-web-controls-cs/_static/image2.png)](nested-data-web-controls-cs/_static/image1.png)</span></span>

<span data-ttu-id="49c8b-123">**Figura 1**: Ogni categoria, insieme ai propri prodotti, sono elencati ([fare clic per visualizzare l'immagine con dimensioni normali](nested-data-web-controls-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="49c8b-123">**Figure 1**: Each Category, Along with its Products, are Listed ([Click to view full-size image](nested-data-web-controls-cs/_static/image3.png))</span></span>


## <a name="step-1-creating-the-category-listing"></a><span data-ttu-id="49c8b-124">Passaggio 1: Creazione elenco categoria</span><span class="sxs-lookup"><span data-stu-id="49c8b-124">Step 1: Creating the Category Listing</span></span>

<span data-ttu-id="49c8b-125">Durante la creazione di una pagina che utilizza annidati controlli Web dei dati, risultare utili per progettare, creare e testare il controllo Web di dati più esterna in primo luogo, senza preoccuparsi anche il controllo annidato interno.</span><span class="sxs-lookup"><span data-stu-id="49c8b-125">When building a page that uses nested data Web controls, I find it helpful to design, create, and test the outermost data Web control first, without even worrying about the inner nested control.</span></span> <span data-ttu-id="49c8b-126">Pertanto, consentire s avviare completando i passaggi necessari per aggiungere un controllo Repeater alla pagina che elenca il nome e una descrizione per ogni categoria.</span><span class="sxs-lookup"><span data-stu-id="49c8b-126">Therefore, let s start by walking through the steps necessary to add a Repeater to the page that lists the name and description for each category.</span></span>

<span data-ttu-id="49c8b-127">Iniziare aprendo il `NestedControls.aspx` nella pagina la `DataListRepeaterBasics` cartella e aggiungere un controllo Repeater alla pagina, l'impostazione relativa `ID` proprietà `CategoryList`.</span><span class="sxs-lookup"><span data-stu-id="49c8b-127">Start by opening the `NestedControls.aspx` page in the `DataListRepeaterBasics` folder and add a Repeater control to the page, setting its `ID` property to `CategoryList`.</span></span> <span data-ttu-id="49c8b-128">Nello smart tag, Repeater s scegliere di creare un nuovo oggetto ObjectDataSource denominato `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="49c8b-128">From the Repeater s smart tag, choose to create a new ObjectDataSource named `CategoriesDataSource`.</span></span>


<span data-ttu-id="49c8b-129">[![Denominare il nuovo ObjectDataSource CategoriesDataSource](nested-data-web-controls-cs/_static/image5.png)](nested-data-web-controls-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="49c8b-129">[![Name the New ObjectDataSource CategoriesDataSource](nested-data-web-controls-cs/_static/image5.png)](nested-data-web-controls-cs/_static/image4.png)</span></span>

<span data-ttu-id="49c8b-130">**Figura 2**: Denominare il nuovo oggetto ObjectDataSource `CategoriesDataSource` ([fare clic per visualizzare l'immagine con dimensioni normali](nested-data-web-controls-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="49c8b-130">**Figure 2**: Name the New ObjectDataSource `CategoriesDataSource` ([Click to view full-size image](nested-data-web-controls-cs/_static/image6.png))</span></span>


<span data-ttu-id="49c8b-131">Configurare ObjectDataSource in modo che effettua il pull dei relativi dati dal `CategoriesBLL` classe s `GetCategories` (metodo).</span><span class="sxs-lookup"><span data-stu-id="49c8b-131">Configure the ObjectDataSource so that it pulls its data from the `CategoriesBLL` class s `GetCategories` method.</span></span>


<span data-ttu-id="49c8b-132">[![Configurare ObjectDataSource per usare il metodo GetCategories CategoriesBLL classe s](nested-data-web-controls-cs/_static/image8.png)](nested-data-web-controls-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="49c8b-132">[![Configure the ObjectDataSource to Use the CategoriesBLL Class s GetCategories Method](nested-data-web-controls-cs/_static/image8.png)](nested-data-web-controls-cs/_static/image7.png)</span></span>

<span data-ttu-id="49c8b-133">**Figura 3**: Configurare ObjectDataSource per usare la `CategoriesBLL` classe s `GetCategories` metodo ([fare clic per visualizzare l'immagine con dimensioni normali](nested-data-web-controls-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="49c8b-133">**Figure 3**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class s `GetCategories` Method ([Click to view full-size image](nested-data-web-controls-cs/_static/image9.png))</span></span>


<span data-ttu-id="49c8b-134">Per specificare il modello del ripetitore s contenuto è necessario passare alla visualizzazione origine e di immettere manualmente la sintassi dichiarativa.</span><span class="sxs-lookup"><span data-stu-id="49c8b-134">To specify the Repeater s template content we need to go to the Source view and manually enter the declarative syntax.</span></span> <span data-ttu-id="49c8b-135">Aggiungere un `ItemTemplate` che visualizza il nome della categoria s in un `<h4>` elemento e la descrizione della categoria s in un elemento paragrafo (`<p>`).</span><span class="sxs-lookup"><span data-stu-id="49c8b-135">Add an `ItemTemplate` that displays the category s name in an `<h4>` element and the category s description in a paragraph element (`<p>`).</span></span> <span data-ttu-id="49c8b-136">Inoltre, ti permettono di s separare ogni categoria con una regola orizzontale (`<hr>`).</span><span class="sxs-lookup"><span data-stu-id="49c8b-136">Furthermore, let s separate each category with a horizontal rule (`<hr>`).</span></span> <span data-ttu-id="49c8b-137">Dopo aver apportato queste modifiche della pagina deve contenere la sintassi dichiarativa per il controllo Repeater e ObjectDataSource corrispondente è simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="49c8b-137">After making these changes your page should contain declarative syntax for the Repeater and ObjectDataSource that is similar to the following:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample1.aspx)]

<span data-ttu-id="49c8b-138">Figura 4 mostra lo stato di avanzamento quando viene visualizzato tramite un browser.</span><span class="sxs-lookup"><span data-stu-id="49c8b-138">Figure 4 shows our progress when viewed through a browser.</span></span>


<span data-ttu-id="49c8b-139">[![Viene elencato ogni nome di categoria e una descrizione, separati da una regola orizzontale](nested-data-web-controls-cs/_static/image11.png)](nested-data-web-controls-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="49c8b-139">[![Each Category s Name and Description is Listed, Separated by a Horizontal Rule](nested-data-web-controls-cs/_static/image11.png)](nested-data-web-controls-cs/_static/image10.png)</span></span>

<span data-ttu-id="49c8b-140">**Figura 4**: Viene elencato ogni nome di categoria e una descrizione, separati da una regola orizzontale ([fare clic per visualizzare l'immagine con dimensioni normali](nested-data-web-controls-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="49c8b-140">**Figure 4**: Each Category s Name and Description is Listed, Separated by a Horizontal Rule ([Click to view full-size image](nested-data-web-controls-cs/_static/image12.png))</span></span>


## <a name="step-2-adding-the-nested-product-repeater"></a><span data-ttu-id="49c8b-141">Passaggio 2: Aggiunta di Repeater prodotto annidati</span><span class="sxs-lookup"><span data-stu-id="49c8b-141">Step 2: Adding the Nested Product Repeater</span></span>

<span data-ttu-id="49c8b-142">Con la categoria di visualizzazione di un elenco completo, l'attività successiva consiste nell'aggiungere un controllo Repeater per la `CategoryList` s `ItemTemplate` che visualizza informazioni su tali prodotti appartenenti alla categoria appropriata.</span><span class="sxs-lookup"><span data-stu-id="49c8b-142">With the category listing complete, our next task is to add a Repeater to the `CategoryList` s `ItemTemplate` that displays information about those products belonging to the appropriate category.</span></span> <span data-ttu-id="49c8b-143">Esistono diversi modi, che è possibile recuperare i dati per il controllo Repeater interno, due dei quali verrà illustrato tra breve.</span><span class="sxs-lookup"><span data-stu-id="49c8b-143">There are a number of ways we can retrieve the data for this inner Repeater, two of which we'll explore shortly.</span></span> <span data-ttu-id="49c8b-144">Per ora, ti permettono di s creare solo i prodotti Repeater all'interno di `CategoryList` Repeater s `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="49c8b-144">For now, let s just create the products Repeater within the `CategoryList` Repeater s `ItemTemplate`.</span></span> <span data-ttu-id="49c8b-145">In particolare, lasciare s che hanno visualizzato Repeater ogni prodotto in un elenco puntato con ogni elemento elenco tra cui il nome del prodotto s e il prezzo del prodotto.</span><span class="sxs-lookup"><span data-stu-id="49c8b-145">Specifically, let s have the product Repeater display each product in a bulleted list with each list item including the product s name and price.</span></span>

<span data-ttu-id="49c8b-146">Per creare il Repeater è necessario immettere manualmente le sintassi dichiarativa per il controllo Repeater s interna e i modelli nel `CategoryList` s `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="49c8b-146">To create this Repeater we need to manually enter the inner Repeater s declarative syntax and templates into the `CategoryList` s `ItemTemplate`.</span></span> <span data-ttu-id="49c8b-147">Aggiungere il markup seguente all'interno di `CategoryList` Repeater s `ItemTemplate`:</span><span class="sxs-lookup"><span data-stu-id="49c8b-147">Add the following markup within the `CategoryList` Repeater s `ItemTemplate`:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample2.aspx)]

## <a name="step-3-binding-the-category-specific-products-to-the-productsbycategorylist-repeater"></a><span data-ttu-id="49c8b-148">Passaggio 3: I prodotti specifiche della categoria di associazione a Repeater ProductsByCategoryList</span><span class="sxs-lookup"><span data-stu-id="49c8b-148">Step 3: Binding the Category-Specific Products to the ProductsByCategoryList Repeater</span></span>

<span data-ttu-id="49c8b-149">Se si visita la pagina tramite un browser a questo punto, la schermata avrà un aspetto analogo a quello in figura 4 perché abbiamo ve ancora per associare tutti i dati al controllo Repeater.</span><span class="sxs-lookup"><span data-stu-id="49c8b-149">If you visit the page through a browser at this point, your screen will look the same as in Figure 4 because we ve yet to bind any data to the Repeater.</span></span> <span data-ttu-id="49c8b-150">Esistono alcuni modi che è possibile recuperare i record di prodotto appropriate e associarle a Repeater, alcune più efficiente rispetto ad altri.</span><span class="sxs-lookup"><span data-stu-id="49c8b-150">There are a few ways that we can grab the appropriate product records and bind them to the Repeater, some more efficient than others.</span></span> <span data-ttu-id="49c8b-151">In questo caso il problema principale è ricevendo i prodotti appropriati per la categoria specificata.</span><span class="sxs-lookup"><span data-stu-id="49c8b-151">The main challenge here is getting back the appropriate products for the specified category.</span></span>

<span data-ttu-id="49c8b-152">I dati da associare al controllo Repeater interno sono sia accessibile in modo dichiarativo, tramite un oggetto ObjectDataSource nel `CategoryList` Repeater s `ItemTemplate`, o a livello di codice dalla pagina code-behind ASP.NET pagina s.</span><span class="sxs-lookup"><span data-stu-id="49c8b-152">The data to bind to the inner Repeater control can either be accessed declaratively, through an ObjectDataSource in the `CategoryList` Repeater s `ItemTemplate`, or programmatically, from the ASP.NET page s code-behind page.</span></span> <span data-ttu-id="49c8b-153">Analogamente, questi dati possono essere associati a Repeater interno sia in modo dichiarativo - tramite il Repeater interno s `DataSourceID` proprietà o tramite sintassi di associazione dati dichiarativa o a livello di codice facendo riferimento a Repeater interno nel `CategoryList` Repeater s `ItemDataBound` gestore eventi, l'impostazione a livello di codice relativi `DataSource` proprietà e chiamare il metodo relativo `DataBind()` (metodo).</span><span class="sxs-lookup"><span data-stu-id="49c8b-153">Similarly, this data can be bound to the inner Repeater either declaratively - through the inner Repeater s `DataSourceID` property or through declarative databinding syntax or programmatically by referencing the inner Repeater in the `CategoryList` Repeater s `ItemDataBound` event handler, programmatically setting its `DataSource` property, and calling its `DataBind()` method.</span></span> <span data-ttu-id="49c8b-154">Let s esplorare ognuno di questi approcci.</span><span class="sxs-lookup"><span data-stu-id="49c8b-154">Let s explore each of these approaches.</span></span>

## <a name="accessing-the-data-declaratively-with-an-objectdatasource-control-and-theitemdataboundevent-handler"></a><span data-ttu-id="49c8b-155">Accesso ai dati in modo dichiarativo con un controllo ObjectDataSource e`ItemDataBound`gestore dell'evento</span><span class="sxs-lookup"><span data-stu-id="49c8b-155">Accessing the Data Declaratively with an ObjectDataSource Control and the`ItemDataBound`Event Handler</span></span>

<span data-ttu-id="49c8b-156">Poiché è già stato utilizzato ObjectDataSource ampiamente in tutta questa serie di esercitazioni, la scelta più naturale per l'accesso ai dati per questo esempio consiste nell'utilizzare ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="49c8b-156">Since we ve used the ObjectDataSource extensively throughout this tutorial series, the most natural choice for accessing data for this example is to stick with the ObjectDataSource.</span></span> <span data-ttu-id="49c8b-157">Il `ProductsBLL` classe ha un `GetProductsByCategoryID(categoryID)` metodo che restituisce informazioni su tali prodotti che appartengono all'entità specificata *`categoryID`*.</span><span class="sxs-lookup"><span data-stu-id="49c8b-157">The `ProductsBLL` class has a `GetProductsByCategoryID(categoryID)` method that returns information about those products that belong to the specified *`categoryID`*.</span></span> <span data-ttu-id="49c8b-158">Pertanto, possiamo aggiungere ObjectDataSource per le `CategoryList` Repeater s `ItemTemplate` e configurarlo per accedere ai dati da questo metodo di classe s.</span><span class="sxs-lookup"><span data-stu-id="49c8b-158">Therefore, we can add an ObjectDataSource to the `CategoryList` Repeater s `ItemTemplate` and configure it to access its data from this class s method.</span></span>

<span data-ttu-id="49c8b-159">Sfortunatamente, il controllo Repeater Consen relativi modelli per la modifica tramite la visualizzazione di progettazione in modo che è necessario aggiungere manualmente la sintassi dichiarativa per il controllo ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="49c8b-159">Unfortunately, the Repeater doesn t allow its templates to be edited through the Design view so we need to add the declarative syntax for this ObjectDataSource control by hand.</span></span> <span data-ttu-id="49c8b-160">Il sintassi seguente sono illustrati i `CategoryList` Repeater s `ItemTemplate` dopo aver aggiunto il nuovo oggetto ObjectDataSource (`ProductsByCategoryDataSource`):</span><span class="sxs-lookup"><span data-stu-id="49c8b-160">The following syntax shows the `CategoryList` Repeater s `ItemTemplate` after adding this new ObjectDataSource (`ProductsByCategoryDataSource`):</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample3.aspx)]

<span data-ttu-id="49c8b-161">Quando si usa l'approccio di ObjectDataSource, dobbiamo impostare il `ProductsByCategoryList` Repeater s `DataSourceID` proprietà per il `ID` di ObjectDataSource (`ProductsByCategoryDataSource`).</span><span class="sxs-lookup"><span data-stu-id="49c8b-161">When using the ObjectDataSource approach we need to set the `ProductsByCategoryList` Repeater s `DataSourceID` property to the `ID` of the ObjectDataSource (`ProductsByCategoryDataSource`).</span></span> <span data-ttu-id="49c8b-162">Inoltre, si noti che l'oggetto ObjectDataSource ha un `<asp:Parameter>` elemento che specifica il *`categoryID`* valore che verrà passati i `GetProductsByCategoryID(categoryID)` (metodo).</span><span class="sxs-lookup"><span data-stu-id="49c8b-162">Also, notice that our ObjectDataSource has an `<asp:Parameter>` element that specifies the *`categoryID`* value that will be passed into the `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="49c8b-163">Ma come si specifica questo valore?</span><span class="sxs-lookup"><span data-stu-id="49c8b-163">But how do we specify this value?</span></span> <span data-ttu-id="49c8b-164">In teoria, d sarà in grado di impostare il `DefaultValue` proprietà del `<asp:Parameter>` elemento usando la sintassi di associazione dati, come illustrato di seguito:</span><span class="sxs-lookup"><span data-stu-id="49c8b-164">Ideally, we d be able to just set the `DefaultValue` property of the `<asp:Parameter>` element using databinding syntax, like so:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample4.aspx)]

<span data-ttu-id="49c8b-165">Sfortunatamente, la sintassi di associazione dati è valida solo per i controlli che hanno un `DataBinding` evento.</span><span class="sxs-lookup"><span data-stu-id="49c8b-165">Unfortunately, databinding syntax is only valid in controls that have a `DataBinding` event.</span></span> <span data-ttu-id="49c8b-166">Il `Parameter` classe non dispone di tale evento e pertanto la sintassi precedente non è valida e verrà generato un errore di runtime.</span><span class="sxs-lookup"><span data-stu-id="49c8b-166">The `Parameter` class lacks such an event and therefore the above syntax is illegal and will result in a runtime error.</span></span>

<span data-ttu-id="49c8b-167">Per impostare questo valore, è necessario creare un gestore eventi per il `CategoryList` Repeater s `ItemDataBound` evento.</span><span class="sxs-lookup"><span data-stu-id="49c8b-167">To set this value, we need to create an event handler for the `CategoryList` Repeater s `ItemDataBound` event.</span></span> <span data-ttu-id="49c8b-168">Si tenga presente che il `ItemDataBound` evento viene generato una volta per ogni elemento associato al controllo Repeater.</span><span class="sxs-lookup"><span data-stu-id="49c8b-168">Recall that the `ItemDataBound` event fires once for each item bound to the Repeater.</span></span> <span data-ttu-id="49c8b-169">Pertanto, ogni volta che questo evento viene generato per il controllo Repeater esterno è possibile assegnare l'oggetto corrente `CategoryID` valore per il `ProductsByCategoryDataSource` ObjectDataSource s `CategoryID` parametro.</span><span class="sxs-lookup"><span data-stu-id="49c8b-169">Therefore, each time this event fires for the outer Repeater we can assign the current `CategoryID` value to the `ProductsByCategoryDataSource` ObjectDataSource s `CategoryID` parameter.</span></span>

<span data-ttu-id="49c8b-170">Creare un gestore eventi per il `CategoryList` Repeater s `ItemDataBound` evento con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="49c8b-170">Create an event handler for the `CategoryList` Repeater s `ItemDataBound` event with the following code:</span></span>


[!code-csharp[Main](nested-data-web-controls-cs/samples/sample5.cs)]

<span data-ttu-id="49c8b-171">Questo gestore eventi viene avviato, garantendo che abbiamo re gestione di un dato elemento anziché l'elemento di intestazione, piè di pagina o un separatore.</span><span class="sxs-lookup"><span data-stu-id="49c8b-171">This event handler starts by ensuring that we re dealing with a data item rather than the header, footer, or separator item.</span></span> <span data-ttu-id="49c8b-172">Successivamente, si fa riferimento l'oggetto effettivo `CategoriesRow` istanza che è appena stata associata all'oggetto corrente `RepeaterItem`.</span><span class="sxs-lookup"><span data-stu-id="49c8b-172">Next, we reference the actual `CategoriesRow` instance that has just been bound to the current `RepeaterItem`.</span></span> <span data-ttu-id="49c8b-173">Infine, si fa riferimento l'oggetto ObjectDataSource nel `ItemTemplate` e assegnare relativi `CategoryID` valore del parametro per il `CategoryID` dell'oggetto corrente `RepeaterItem`.</span><span class="sxs-lookup"><span data-stu-id="49c8b-173">Finally, we reference the ObjectDataSource in the `ItemTemplate` and assign its `CategoryID` parameter value to the `CategoryID` of the current `RepeaterItem`.</span></span>

<span data-ttu-id="49c8b-174">A questo gestore eventi, il `ProductsByCategoryList` Repeater in ognuno `RepeaterItem` è associato a tali prodotti nel `RepeaterItem` categoria s.</span><span class="sxs-lookup"><span data-stu-id="49c8b-174">With this event handler, the `ProductsByCategoryList` Repeater in each `RepeaterItem` is bound to those products in the `RepeaterItem` s category.</span></span> <span data-ttu-id="49c8b-175">Figura 5 mostra una cattura di schermata dell'output risultante.</span><span class="sxs-lookup"><span data-stu-id="49c8b-175">Figure 5 shows a screen shot of the resulting output.</span></span>


<span data-ttu-id="49c8b-176">[![Outer Repeater elenca ogni categoria. Quello interno sono elencati i prodotti per categoria](nested-data-web-controls-cs/_static/image14.png)](nested-data-web-controls-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="49c8b-176">[![The Outer Repeater Lists Each Category; the Inner One Lists the Products for that Category](nested-data-web-controls-cs/_static/image14.png)](nested-data-web-controls-cs/_static/image13.png)</span></span>

<span data-ttu-id="49c8b-177">**Figura 5**: Outer Repeater elenca ogni categoria. gli elenchi di un Inner i prodotti per categoria ([fare clic per visualizzare l'immagine con dimensioni normali](nested-data-web-controls-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="49c8b-177">**Figure 5**: The Outer Repeater Lists Each Category; the Inner One Lists the Products for that Category ([Click to view full-size image](nested-data-web-controls-cs/_static/image15.png))</span></span>


## <a name="accessing-the-products-by-category-data-programmatically"></a><span data-ttu-id="49c8b-178">L'accesso a individuare i prodotti per categoria dati a livello di codice</span><span class="sxs-lookup"><span data-stu-id="49c8b-178">Accessing the Products by Category Data Programmatically</span></span>

<span data-ttu-id="49c8b-179">Anziché utilizzare ObjectDataSource per recuperare i prodotti per la categoria corrente, è possibile creare un metodo nella classe code-behind ASP.NET pagina s (o nel `App_Code` cartella o in un progetto libreria di classi separato) che restituisce il set appropriato di prodotti quando vengono passati un `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="49c8b-179">Instead of using an ObjectDataSource to retrieve the products for the current category, we could create a method in our ASP.NET page s code-behind class (or in the `App_Code` folder or in a separate Class Library project) that returns the appropriate set of products when passed in a `CategoryID`.</span></span> <span data-ttu-id="49c8b-180">Si supponga che abbiamo dovuto tale metodo nella classe code-behind ASP.NET pagina s e che il file è stato denominato `GetProductsInCategory(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="49c8b-180">Imagine that we had such a method in our ASP.NET page s code-behind class and that it was named `GetProductsInCategory(categoryID)`.</span></span> <span data-ttu-id="49c8b-181">Con questo metodo posto è stato possibile associazione i prodotti per la categoria corrente a Repeater interno usando la sintassi dichiarativa per il seguente:</span><span class="sxs-lookup"><span data-stu-id="49c8b-181">With this method in place we could bind the products for the current category to the inner Repeater using the following declarative syntax:</span></span>


[!code-aspx[Main](nested-data-web-controls-cs/samples/sample6.aspx)]

<span data-ttu-id="49c8b-182">S Repeater `DataSource` proprietà viene utilizzata la sintassi di associazione dati per indicare che i relativi dati provengono dal `GetProductsInCategory(categoryID)` (metodo).</span><span class="sxs-lookup"><span data-stu-id="49c8b-182">The Repeater s `DataSource` property uses the databinding syntax to indicate that its data comes from the `GetProductsInCategory(categoryID)` method.</span></span> <span data-ttu-id="49c8b-183">Poiché `Eval("CategoryID")` restituisce un valore di tipo `Object`, si esegue il cast dell'oggetto da un `Integer` prima di passarlo nel `GetProductsInCategory(categoryID)` (metodo).</span><span class="sxs-lookup"><span data-stu-id="49c8b-183">Since `Eval("CategoryID")` returns a value of type `Object`, we cast the object to an `Integer` before passing it into the `GetProductsInCategory(categoryID)` method.</span></span> <span data-ttu-id="49c8b-184">Si noti che il `CategoryID` a cui si accede tramite l'associazione dati sintassi Ecco il `CategoryID` nel *outer* Repeater (`CategoryList`), quello che s associato ai record nel `Categories` tabella.</span><span class="sxs-lookup"><span data-stu-id="49c8b-184">Note that the `CategoryID` accessed here via the databinding syntax is the `CategoryID` in the *outer* Repeater (`CategoryList`), the one that s bound to the records in the `Categories` table.</span></span> <span data-ttu-id="49c8b-185">Pertanto, sappiamo che la `CategoryID` non può essere un database `NULL` valore, ovvero il motivo per cui abbiamo alla cieca possiamo eseguire il cast di `Eval` metodo senza controllare se si ri affrontare un `DBNull`.</span><span class="sxs-lookup"><span data-stu-id="49c8b-185">Therefore, we know that `CategoryID` cannot be a database `NULL` value, which is why we can blindly cast the `Eval` method without checking if we re dealing with a `DBNull`.</span></span>

<span data-ttu-id="49c8b-186">Con questo approccio, è necessario creare il `GetProductsInCategory(categoryID)` metodo e recuperare il set appropriato di prodotti ha fornito *`categoryID`*.</span><span class="sxs-lookup"><span data-stu-id="49c8b-186">With this approach, we need to create the `GetProductsInCategory(categoryID)` method and have it retrieve the appropriate set of products given the supplied *`categoryID`*.</span></span> <span data-ttu-id="49c8b-187">È possibile eseguire questa operazione semplicemente restituire la `ProductsDataTable` restituiti dai `ProductsBLL` classe s `GetProductsByCategoryID(categoryID)` (metodo).</span><span class="sxs-lookup"><span data-stu-id="49c8b-187">We can do this by simply returning the `ProductsDataTable` returned by the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="49c8b-188">Consente di creare s il `GetProductsInCategory(categoryID)` metodo nella classe code-behind per il `NestedControls.aspx` pagina.</span><span class="sxs-lookup"><span data-stu-id="49c8b-188">Let s create the `GetProductsInCategory(categoryID)` method in the code-behind class for our `NestedControls.aspx` page.</span></span> <span data-ttu-id="49c8b-189">Eseguire questa operazione usando il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="49c8b-189">Do so using the following code:</span></span>


[!code-csharp[Main](nested-data-web-controls-cs/samples/sample7.cs)]

<span data-ttu-id="49c8b-190">Questo metodo crea semplicemente un'istanza del `ProductsBLL` metodo e restituisce i risultati del `GetProductsByCategoryID(categoryID)` (metodo).</span><span class="sxs-lookup"><span data-stu-id="49c8b-190">This method simply creates an instance of the `ProductsBLL` method and returns the results of the `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="49c8b-191">Si noti che il metodo deve essere contrassegnato `Public` oppure `Protected`; se il metodo è contrassegnato come `Private`, non sarà accessibile da markup dichiarativo s pagina ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="49c8b-191">Note that the method must be marked `Public` or `Protected`; if the method is marked `Private`, it will not be accessible from the ASP.NET page s declarative markup.</span></span>

<span data-ttu-id="49c8b-192">Dopo aver apportato queste modifiche per usare questa tecnica di nuovo, si consiglia di visualizzare la pagina tramite un browser.</span><span class="sxs-lookup"><span data-stu-id="49c8b-192">After making these changes to use this new technique, take a moment to view the page through a browser.</span></span> <span data-ttu-id="49c8b-193">L'output deve essere identica all'output quando si usa l'oggetto ObjectDataSource e `ItemDataBound` approccio gestore dell'evento (vedere la figura 5 per visualizzare una schermata riportata di seguito).</span><span class="sxs-lookup"><span data-stu-id="49c8b-193">The output should be identical to the output when using the ObjectDataSource and `ItemDataBound` event handler approach (refer back to Figure 5 to see a screen shot).</span></span>

> [!NOTE]
> <span data-ttu-id="49c8b-194">Potrebbe sembrare busywork per creare il `GetProductsInCategory(categoryID)` metodo nella classe code-behind ASP.NET pagina s.</span><span class="sxs-lookup"><span data-stu-id="49c8b-194">It may seem like busywork to create the `GetProductsInCategory(categoryID)` method in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="49c8b-195">Dopo tutto, questo metodo crea un'istanza del `ProductsBLL` classe e restituisce i risultati del relativo `GetProductsByCategoryID(categoryID)` (metodo).</span><span class="sxs-lookup"><span data-stu-id="49c8b-195">After all, this method simply creates an instance of the `ProductsBLL` class and returns the results of its `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="49c8b-196">Perché non semplicemente chiamare questo metodo direttamente dalla sintassi del data binding nel Repeater interna, ad esempio: `DataSource='<%# ProductsBLL.GetProductsByCategoryID((int)(Eval("CategoryID"))) %>'`?</span><span class="sxs-lookup"><span data-stu-id="49c8b-196">Why not just call this method directly from the databinding syntax in the inner Repeater, like: `DataSource='<%# ProductsBLL.GetProductsByCategoryID((int)(Eval("CategoryID"))) %>'`?</span></span> <span data-ttu-id="49c8b-197">Sebbene questa sintassi non funziona con l'implementazione corrente del `ProductsBLL` classe (poiché il `GetProductsByCategoryID(categoryID)` è un metodo di istanza), è possibile modificare `ProductsBLL` da includere un valore statico `GetProductsByCategoryID(categoryID)` metodo o che la classe includa un valore statico `Instance()` per restituire una nuova istanza di `ProductsBLL` classe.</span><span class="sxs-lookup"><span data-stu-id="49c8b-197">Although this syntax won't work with our current implementation of the `ProductsBLL` class (since the `GetProductsByCategoryID(categoryID)` method is an instance method), you could modify `ProductsBLL` to include a static `GetProductsByCategoryID(categoryID)` method or have the class include a static `Instance()` method to return a new instance of the `ProductsBLL` class.</span></span>


<span data-ttu-id="49c8b-198">Anche se queste modifiche avrebbe eliminato la necessità per il `GetProductsInCategory(categoryID)` metodo nella classe code-behind ASP.NET pagina s, il metodo della classe code-behind offre una maggiore flessibilità nell'utilizzo dei dati recuperati, come vedremo tra breve.</span><span class="sxs-lookup"><span data-stu-id="49c8b-198">While such modifications would eliminate the need for the `GetProductsInCategory(categoryID)` method in the ASP.NET page s code-behind class, the code-behind class method gives us more flexibility in working with the data retrieved, as we'll see shortly.</span></span>

## <a name="retrieving-all-of-the-product-information-at-once"></a><span data-ttu-id="49c8b-199">Il recupero di tutte le informazioni sul prodotto in una sola volta</span><span class="sxs-lookup"><span data-stu-id="49c8b-199">Retrieving All of the Product Information at Once</span></span>

<span data-ttu-id="49c8b-200">Le due tecniche precedente si va esaminato Scarica i prodotti per la categoria corrente eseguendo una chiamata al `ProductsBLL` classe s `GetProductsByCategoryID(categoryID)` (metodo) (il primo approccio ha tramite ObjectDataSource, il secondo e il `GetProductsInCategory(categoryID)` metodo nel classe code-behind).</span><span class="sxs-lookup"><span data-stu-id="49c8b-200">The two pervious techniques we ve examined grab those products for the current category by making a call to the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method (the first approach did so through an ObjectDataSource, the second through the `GetProductsInCategory(categoryID)` method in the code-behind class).</span></span> <span data-ttu-id="49c8b-201">Ogni volta che viene richiamato questo metodo, le chiamate a Business Logic Layer fino a livello di accesso ai dati, che esegue una query con un'istruzione SQL che restituisce righe dal database di `Products` tabella i cui `CategoryID` campo corrisponde al parametro di input fornito.</span><span class="sxs-lookup"><span data-stu-id="49c8b-201">Each time this method is invoked, the Business Logic Layer calls down to the Data Access Layer, which queries the database with a SQL statement that returns rows from the `Products` table whose `CategoryID` field matches the supplied input parameter.</span></span>

<span data-ttu-id="49c8b-202">Dato *N* viene separata di categorie nel sistema, questo approccio *N* + 1 chiamate a query di un database del database per ottenere tutte le categorie e quindi *N* chiamate per ottenere i prodotti specifico per ogni categoria.</span><span class="sxs-lookup"><span data-stu-id="49c8b-202">Given *N* categories in the system, this approach nets *N* + 1 calls to the database one database query to get all of the categories and then *N* calls to get the products specific to each category.</span></span> <span data-ttu-id="49c8b-203">Tuttavia, è possibile, recuperare tutti i dati necessari in un'unica chiamata chiamate solo due database per ottenere tutte le categorie e l'altro per ottenere tutti i prodotti.</span><span class="sxs-lookup"><span data-stu-id="49c8b-203">We can, however, retrieve all the needed data in just two database calls one call to get all of the categories and another to get all of the products.</span></span> <span data-ttu-id="49c8b-204">Dopo aver ottenuto tutti i prodotti, è possibile filtrare i prodotti in modo che solo i prodotti corrispondenti corrente `CategoryID` sono associati a tale categoria s Repeater interna.</span><span class="sxs-lookup"><span data-stu-id="49c8b-204">Once we have all of the products, we can filter those products so that only the products matching the current `CategoryID` are bound to that category s inner Repeater.</span></span>

<span data-ttu-id="49c8b-205">Per fornire questa funzionalità, è necessario apportare solo una modifica quasi irrilevante il `GetProductsInCategory(categoryID)` metodo nella classe code-behind ASP.NET pagina s.</span><span class="sxs-lookup"><span data-stu-id="49c8b-205">To provide this functionality, we only need to make a slight modification to the `GetProductsInCategory(categoryID)` method in our ASP.NET page s code-behind class.</span></span> <span data-ttu-id="49c8b-206">Invece di restituire alla cieca i risultati del `ProductsBLL` classe s `GetProductsByCategoryID(categoryID)` metodo, è possibile invece prima di tutto accedere *tutte* dei prodotti (se non sono state usate già) e quindi restituire solo la visualizzazione filtrata del prodotti di base passato `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="49c8b-206">Rather than blindly returning the results of the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method, we can instead first access *all* of the products (if they haven't been accessed already) and then return just the filtered view of the products based on the passed-in `CategoryID`.</span></span>


[!code-csharp[Main](nested-data-web-controls-cs/samples/sample8.cs)]

<span data-ttu-id="49c8b-207">Si noti l'aggiunta della variabile a livello di pagina, `allProducts`.</span><span class="sxs-lookup"><span data-stu-id="49c8b-207">Note the addition of the page-level variable, `allProducts`.</span></span> <span data-ttu-id="49c8b-208">Contiene informazioni su tutti i prodotti e viene popolata la prima volta il `GetProductsInCategory(categoryID)` metodo viene richiamato.</span><span class="sxs-lookup"><span data-stu-id="49c8b-208">This holds information about all of the products and is populated the first time the `GetProductsInCategory(categoryID)` method is invoked.</span></span> <span data-ttu-id="49c8b-209">Dopo aver verificato che il `allProducts` oggetto è stato creato e popolato, il metodo di filtrare i risultati di s DataTable in modo che solo le righe la cui proprietà `CategoryID` corrisponde al valore specificato `CategoryID` sono accessibili.</span><span class="sxs-lookup"><span data-stu-id="49c8b-209">After ensuring that the `allProducts` object has been created and populated, the method filters the DataTable s results such that only those rows whose `CategoryID` matches the specified `CategoryID` are accessible.</span></span> <span data-ttu-id="49c8b-210">Questo approccio riduce il numero di volte in cui il database è accessibile dalla *N* + 1 fino a due.</span><span class="sxs-lookup"><span data-stu-id="49c8b-210">This approach reduces the number of times the database is accessed from *N* + 1 down to two.</span></span>

<span data-ttu-id="49c8b-211">Questa funzionalità avanzata non introduce modifiche al markup sottoposto a rendering della pagina, né è caratterizzato da restituire meno record rispetto a altro approccio.</span><span class="sxs-lookup"><span data-stu-id="49c8b-211">This enhancement does not introduce any change to the rendered markup of the page, nor does it bring back fewer records than the other approach.</span></span> <span data-ttu-id="49c8b-212">È sufficiente riduce il numero di chiamate al database.</span><span class="sxs-lookup"><span data-stu-id="49c8b-212">It simply reduces the number of calls to the database.</span></span>

> [!NOTE]
> <span data-ttu-id="49c8b-213">Uno potrebbe intuitivamente motivo che la riduzione del numero di accessi al database con certezza le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="49c8b-213">One might intuitively reason that reducing the number of database accesses would assuredly improve performance.</span></span> <span data-ttu-id="49c8b-214">Tuttavia, ciò potrebbe non essere il caso.</span><span class="sxs-lookup"><span data-stu-id="49c8b-214">However, this might not be the case.</span></span> <span data-ttu-id="49c8b-215">Se si dispone di un numero elevato di prodotti il cui `CategoryID` viene `NULL`, ad esempio, la chiamata al `GetProducts` metodo restituisce un numero di prodotti che non vengono mai visualizzate.</span><span class="sxs-lookup"><span data-stu-id="49c8b-215">If you have a large number of products whose `CategoryID` is `NULL`, for example, then the call to the `GetProducts` method returns a number of products that are never displayed.</span></span> <span data-ttu-id="49c8b-216">Inoltre, la restituzione di tutti i prodotti può essere dispendiosa se si ri Visualizza solo un subset delle categorie, che potrebbe essere il caso se è stato implementato il paging.</span><span class="sxs-lookup"><span data-stu-id="49c8b-216">Moreover, returning all of the products can be wasteful if you re only showing a subset of the categories, which might be the case if you have implemented paging.</span></span>


<span data-ttu-id="49c8b-217">Come sempre, per quanto riguarda l'analisi delle prestazioni delle due tecniche seguenti, la misura solo surefire consiste nell'eseguire test controllati personalizzate per gli scenari di casi comuni di s dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="49c8b-217">As always, when it comes to analyzing the performance of two techniques, the only surefire measure is to run controlled tests tailored for your application s common case scenarios.</span></span>

## <a name="summary"></a><span data-ttu-id="49c8b-218">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="49c8b-218">Summary</span></span>

<span data-ttu-id="49c8b-219">In questa esercitazione abbiamo visto come annidare i dati di un controllo Web in un altro, in particolare per esaminare come disporre un controllo Repeater esterno viene visualizzato un elemento per ogni categoria con un interno Repeater elenca i prodotti per ogni categoria in un elenco puntato.</span><span class="sxs-lookup"><span data-stu-id="49c8b-219">In this tutorial we saw how to nest one data Web control within another, specifically examining how to have an outer Repeater display an item for each category with an inner Repeater listing the products for each category in a bulleted list.</span></span> <span data-ttu-id="49c8b-220">La sfida principale nella creazione di un'interfaccia utente annidati consiste nell'accesso e associazione dei dati corretti per il controllo Web per dati interna.</span><span class="sxs-lookup"><span data-stu-id="49c8b-220">The main challenge in building a nested user interface lies in accessing and binding the correct data to the inner data Web control.</span></span> <span data-ttu-id="49c8b-221">Esistono varie tecniche disponibili, che due dei quali si sono esaminate in questa esercitazione.</span><span class="sxs-lookup"><span data-stu-id="49c8b-221">There are a variety of techniques available, two of which we examined in this tutorial.</span></span> <span data-ttu-id="49c8b-222">Il primo approccio esaminato usato ObjectDataSource nei dati controllo Web s outer `ItemTemplate` che è stata associata al controllo Web dei dati interne tramite relativo `DataSourceID` proprietà.</span><span class="sxs-lookup"><span data-stu-id="49c8b-222">The first approach examined used an ObjectDataSource in the outer data Web control s `ItemTemplate` that was bound to the inner data Web control through its `DataSourceID` property.</span></span> <span data-ttu-id="49c8b-223">La seconda tecnica di accedere ai dati tramite un metodo nella classe code-behind s pagina ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="49c8b-223">The second technique accessed the data via a method in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="49c8b-224">Questo metodo può quindi essere associato a dati interni controllo Web s `DataSource` proprietà tramite la sintassi di associazione dati.</span><span class="sxs-lookup"><span data-stu-id="49c8b-224">This method can then be bound to the inner data Web control s `DataSource` property through databinding syntax.</span></span>

<span data-ttu-id="49c8b-225">Mentre l'interfaccia utente annidato esaminato in questa esercitazione è usato un controllo Repeater annidati all'interno di un controllo Repeater, queste tecniche possono essere estese agli altri controlli Web dei dati.</span><span class="sxs-lookup"><span data-stu-id="49c8b-225">While the nested user interface examined in this tutorial used a Repeater nested within a Repeater, these techniques can be extended to the other data Web controls.</span></span> <span data-ttu-id="49c8b-226">È possibile nidificare un controllo Repeater all'interno di un controllo GridView, o un controllo GridView all'interno di un controllo DataList e così via.</span><span class="sxs-lookup"><span data-stu-id="49c8b-226">You can nest a Repeater within a GridView, or a GridView within a DataList, and so on.</span></span>

<span data-ttu-id="49c8b-227">Buona programmazione!</span><span class="sxs-lookup"><span data-stu-id="49c8b-227">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="49c8b-228">Informazioni sull'autore</span><span class="sxs-lookup"><span data-stu-id="49c8b-228">About the Author</span></span>

<span data-ttu-id="49c8b-229">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autore di sette libri e fondatore di [4GuysFromRolla.com](http://www.4guysfromrolla.com), ha collaborato con tecnologie Web di Microsoft dal 1998.</span><span class="sxs-lookup"><span data-stu-id="49c8b-229">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="49c8b-230">Lavora come un consulente, formatore e autore.</span><span class="sxs-lookup"><span data-stu-id="49c8b-230">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="49c8b-231">Il suo ultimo libro si intitola [ *Sams Teach Yourself ASP.NET 2.0 in 24 ore*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="49c8b-231">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="49c8b-232">È possibile contattarlo al [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="49c8b-232">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="49c8b-233">o sul suo blog, che è reperibile in [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="49c8b-233">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="49c8b-234">Ringraziamenti speciali</span><span class="sxs-lookup"><span data-stu-id="49c8b-234">Special Thanks To</span></span>

<span data-ttu-id="49c8b-235">Questa serie di esercitazioni è stata esaminata da diversi validi revisori.</span><span class="sxs-lookup"><span data-stu-id="49c8b-235">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="49c8b-236">I revisori per questa esercitazione sono state Zack Jones e Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="49c8b-236">Lead reviewers for this tutorial were Zack Jones and Liz Shulok.</span></span> <span data-ttu-id="49c8b-237">Se si è interessati prossimi articoli MSDN dello?</span><span class="sxs-lookup"><span data-stu-id="49c8b-237">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="49c8b-238">In questo caso, Inviami una riga in corrispondenza [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="49c8b-238">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="49c8b-239">[Precedente](showing-multiple-records-per-row-with-the-datalist-control-cs.md)
> [Successivo](displaying-data-with-the-datalist-and-repeater-controls-vb.md)</span><span class="sxs-lookup"><span data-stu-id="49c8b-239">[Previous](showing-multiple-records-per-row-with-the-datalist-control-cs.md)
[Next](displaying-data-with-the-datalist-and-repeater-controls-vb.md)</span></span>
