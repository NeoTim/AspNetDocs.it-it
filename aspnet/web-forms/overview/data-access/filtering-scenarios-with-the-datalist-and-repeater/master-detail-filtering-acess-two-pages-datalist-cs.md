---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
title: Master/dettagli filtro su due pagine (c#) | Microsoft Docs
author: rick-anderson
description: In questa esercitazione verrà esaminata separare un report master o di dettaglio su due pagine. Nella pagina 'master' utilizziamo un controllo Repeater per eseguire il rendering di un elenco di categ...
ms.author: riande
ms.date: 10/30/2010
ms.assetid: 68b8c023-92fa-4df6-9563-1764e16e4b04
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
msc.type: authoredcontent
ms.openlocfilehash: 6d4f38201eaa25097dcba589f35506204d3f73a3
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/01/2019
ms.locfileid: "57031728"
---
<a name="masterdetail-filtering-across-two-pages-c"></a><span data-ttu-id="258e6-104">Applicazione di filtri a report master o di dettaglio su due pagine (C#)</span><span class="sxs-lookup"><span data-stu-id="258e6-104">Master/Detail Filtering Across Two Pages (C#)</span></span>
====================
<span data-ttu-id="258e6-105">da [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="258e6-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="258e6-106">[Scaricare l'App di esempio](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) o [Scarica il PDF](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="258e6-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) or [Download PDF](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span></span>

> <span data-ttu-id="258e6-107">In questa esercitazione verrà esaminata separare un report master o di dettaglio su due pagine.</span><span class="sxs-lookup"><span data-stu-id="258e6-107">In this tutorial we look at how to separate a master/detail report across two pages.</span></span> <span data-ttu-id="258e6-108">Nella pagina "master" utilizziamo un controllo Repeater per eseguire il rendering di un elenco di categorie che, quando selezionato, l'utente passerà alla pagina "Dettagli" in cui un controllo DataList di due colonne Mostra i prodotti appartenenti alla categoria selezionata.</span><span class="sxs-lookup"><span data-stu-id="258e6-108">In the "master" page we use a Repeater control to render a list of categories that, when clicked, will take the user to the "details" page where a two-column DataList shows those products belonging to the selected category.</span></span>


## <a name="introduction"></a><span data-ttu-id="258e6-109">Introduzione</span><span class="sxs-lookup"><span data-stu-id="258e6-109">Introduction</span></span>

<span data-ttu-id="258e6-110">Nel [esercitazione precedente](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) è stato illustrato come visualizzare i report master o di dettaglio in una singola pagina web con controlli DropDownList per visualizzare il record "master" e un controllo DataList da visualizzare "Dettagli".</span><span class="sxs-lookup"><span data-stu-id="258e6-110">In the [preceding tutorial](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) we saw how to display master/detail reports in a single web page using DropDownLists to display the "master" records and a DataList to display the "details."</span></span> <span data-ttu-id="258e6-111">Un altro modello comune usato per i report master o di dettaglio è avere i record master in un'unica pagina web e i dettagli su un altro.</span><span class="sxs-lookup"><span data-stu-id="258e6-111">Another common pattern used for master/detail reports is to have the master records on one web page and the details on another.</span></span> <span data-ttu-id="258e6-112">In precedenza [Master/Dettagli filtro in due pagine](../masterdetail/master-detail-filtering-across-two-pages-cs.md) esercitazione, sono stati esaminati questo modello Usa un controllo GridView per visualizzare tutti i fornitori nel sistema.</span><span class="sxs-lookup"><span data-stu-id="258e6-112">In the earlier [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial, we examined this pattern using a GridView to display all of the suppliers in the system.</span></span> <span data-ttu-id="258e6-113">Questo controllo GridView è incluso un HyperLinkField, che viene eseguito il rendering come collegamento a un'altra pagina, passando il `SupplierID` nella stringa di query.</span><span class="sxs-lookup"><span data-stu-id="258e6-113">This GridView included a HyperLinkField, which rendered as a link to a second page, passing along the `SupplierID` in the querystring.</span></span> <span data-ttu-id="258e6-114">La seconda pagina utilizzato un GridView per elencare i prodotti specificati dal fornitore selezionato.</span><span class="sxs-lookup"><span data-stu-id="258e6-114">The second page used a GridView to list those products provided by the selected supplier.</span></span>

<span data-ttu-id="258e6-115">Tali report due pagine master/dettaglio può essere eseguito usando i controlli DataList e Repeater.</span><span class="sxs-lookup"><span data-stu-id="258e6-115">Such two-page master/detail reports can be accomplished using DataList and Repeater controls as well.</span></span> <span data-ttu-id="258e6-116">L'unica differenza è che il controllo DataList né il controllo Repeater fornisce supporto per il controllo HyperLinkField.</span><span class="sxs-lookup"><span data-stu-id="258e6-116">The only difference is that neither the DataList nor the Repeater provides support for the HyperLinkField control.</span></span> <span data-ttu-id="258e6-117">In alternativa, è necessario aggiungere un controllo Web collegamento ipertestuale o un elemento ancoraggio HTML (`<a>`) all'interno del controllo `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="258e6-117">Instead, we must add a HyperLink Web control or an anchor HTML element (`<a>`) within the control's `ItemTemplate`.</span></span> <span data-ttu-id="258e6-118">Il collegamento ipertestuale `NavigateUrl` proprietà o il punto di ancoraggio `href` attributo può essere personalizzato con gli approcci dichiarativi o a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="258e6-118">The HyperLink's `NavigateUrl` property or the anchor's `href` attribute can then be customized using declarative or programmatic approaches.</span></span>

<span data-ttu-id="258e6-119">In questa esercitazione verrà illustrato un esempio in cui sono elencate le categorie in un elenco puntato in una sola pagina con un controllo Repeater.</span><span class="sxs-lookup"><span data-stu-id="258e6-119">In this tutorial we'll explore an example that lists the categories in a bulleted list on one page using a Repeater control.</span></span> <span data-ttu-id="258e6-120">Ogni elemento dell'elenco includerà nome e una descrizione della categoria con il nome della categoria visualizzato come collegamento a un'altra pagina.</span><span class="sxs-lookup"><span data-stu-id="258e6-120">Each list item will include the category's name and description, with the category name displayed as a link to a second page.</span></span> <span data-ttu-id="258e6-121">Facendo clic su questo collegamento verrà whisk all'utente la seconda pagina, in cui un controllo DataList mostrerà i prodotti appartenenti alla categoria selezionata.</span><span class="sxs-lookup"><span data-stu-id="258e6-121">Clicking on this link will whisk the user to the second page, where a DataList will show those products that belong to the selected category.</span></span>

## <a name="step-1-displaying-the-categories-in-a-bulleted-list"></a><span data-ttu-id="258e6-122">Passaggio 1: Visualizzare le categorie in un elenco puntato</span><span class="sxs-lookup"><span data-stu-id="258e6-122">Step 1: Displaying the Categories in a Bulleted List</span></span>

<span data-ttu-id="258e6-123">Il primo passaggio nella creazione di qualsiasi report master o di dettaglio è iniziare mediante la visualizzazione di record "master".</span><span class="sxs-lookup"><span data-stu-id="258e6-123">The first step in creating any master/detail report is to start by displaying the "master" records.</span></span> <span data-ttu-id="258e6-124">Pertanto, la prima attività consiste nel visualizzare le categorie in pagina "master".</span><span class="sxs-lookup"><span data-stu-id="258e6-124">Therefore, our first task is to display the categories in the "master" page.</span></span> <span data-ttu-id="258e6-125">Aprire il `CategoryListMaster.aspx` nella pagina di `DataListRepeaterFiltering` cartella, aggiungere un controllo Repeater e, dallo smart tag, scegliere di aggiungere un nuovo oggetto ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="258e6-125">Open the `CategoryListMaster.aspx` page in the `DataListRepeaterFiltering` folder, add a Repeater control, and, from the smart tag, opt to add a new ObjectDataSource.</span></span> <span data-ttu-id="258e6-126">Configurare il nuovo oggetto ObjectDataSource in modo che accede ai dati dal `CategoriesBLL` della classe `GetCategories` (metodo) (vedere la figura 1).</span><span class="sxs-lookup"><span data-stu-id="258e6-126">Configure the new ObjectDataSource so that it accesses its data from the `CategoriesBLL` class's `GetCategories` method (see Figure 1).</span></span>


<span data-ttu-id="258e6-127">[![Configurare ObjectDataSource per l'uso GetCategories metodo della classe CategoriesBLL](master-detail-filtering-acess-two-pages-datalist-cs/_static/image2.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="258e6-127">[![Configure the ObjectDataSource to Use the CategoriesBLL Class's GetCategories Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image2.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image1.png)</span></span>

<span data-ttu-id="258e6-128">**Figura 1**: Configurare ObjectDataSource per usare la `CategoriesBLL` della classe `GetCategories` metodo ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="258e6-128">**Figure 1**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class's `GetCategories` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span></span>


<span data-ttu-id="258e6-129">Successivamente, definire i modelli di Repeater in modo che venga visualizzato ogni nome di categoria e una descrizione come un elemento in un elenco puntato.</span><span class="sxs-lookup"><span data-stu-id="258e6-129">Next, define the Repeater's templates such that it displays each category name and description as an item in a bulleted list.</span></span> <span data-ttu-id="258e6-130">È possibile non ancora preoccuparsi della presenza di ogni categoria di collegamento alla pagina dei dettagli.</span><span class="sxs-lookup"><span data-stu-id="258e6-130">Let's not yet worry about having each category link to the details page.</span></span> <span data-ttu-id="258e6-131">Di seguito viene illustrato il markup dichiarativo per il controllo Repeater e ObjectDataSource:</span><span class="sxs-lookup"><span data-stu-id="258e6-131">The following shows the declarative markup for the Repeater and ObjectDataSource:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample1.aspx)]

<span data-ttu-id="258e6-132">Con questo codice completato, si consiglia di visualizzare lo stato di avanzamento tramite un browser.</span><span class="sxs-lookup"><span data-stu-id="258e6-132">With this markup complete, take a moment to view our progress through a browser.</span></span> <span data-ttu-id="258e6-133">Come illustrato nella figura 2, il controllo Repeater esegue il rendering come elenco puntato Mostra nome e descrizione di ogni categoria.</span><span class="sxs-lookup"><span data-stu-id="258e6-133">As Figure 2 shows, the Repeater renders as a bulleted list showing each category's name and description.</span></span>


<span data-ttu-id="258e6-134">[![Ogni categoria viene visualizzata come elemento di elenco puntato](master-detail-filtering-acess-two-pages-datalist-cs/_static/image5.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="258e6-134">[![Each Category is Displayed as a Bulleted List Item](master-detail-filtering-acess-two-pages-datalist-cs/_static/image5.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image4.png)</span></span>

<span data-ttu-id="258e6-135">**Figura 2**: Ogni categoria viene visualizzata come elemento di elenco puntato ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="258e6-135">**Figure 2**: Each Category is Displayed as a Bulleted List Item ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span></span>


## <a name="step-2-turning-the-category-name-into-a-link-to-the-details-page"></a><span data-ttu-id="258e6-136">Passaggio 2: Trasformando il nome della categoria in un collegamento alla pagina dei dettagli</span><span class="sxs-lookup"><span data-stu-id="258e6-136">Step 2: Turning the Category Name into a Link to the Details Page</span></span>

<span data-ttu-id="258e6-137">Per consentire all'utente di visualizzare le informazioni di "Dettagli" per una determinata categoria, è necessario aggiungere un collegamento a ogni elenco puntato di elemento che, quando selezionato, richiederà all'utente la seconda pagina (`ProductsForCategoryDetails.aspx`).</span><span class="sxs-lookup"><span data-stu-id="258e6-137">To allow a user to display the "details" information for a given category, we need to add a link to each bulleted list item that, when clicked, will take the user to the second page (`ProductsForCategoryDetails.aspx`).</span></span> <span data-ttu-id="258e6-138">Questa seconda pagina visualizzerà quindi i prodotti per la categoria selezionata utilizzando un controllo DataList.</span><span class="sxs-lookup"><span data-stu-id="258e6-138">This second page will then display the products for the selected category using a DataList.</span></span> <span data-ttu-id="258e6-139">Per determinare la categoria è stato fatto clic con il collegamento, è necessario passare la categoria selezionata `CategoryID` alla seconda pagina tramite un meccanismo.</span><span class="sxs-lookup"><span data-stu-id="258e6-139">In order to determine the category whose link was clicked, we need to pass the clicked category's `CategoryID` to the second page through some mechanism.</span></span> <span data-ttu-id="258e6-140">Il modo più semplice, più semplice per trasferire dati scalare da una pagina a altra è tramite la stringa di query, ovvero l'opzione che verrà usato in questa esercitazione.</span><span class="sxs-lookup"><span data-stu-id="258e6-140">The simplest, most straightforward way to transfer scalar data from one page to another is through the querystring, which is the option we'll use in this tutorial.</span></span> <span data-ttu-id="258e6-141">In particolare, il `ProductsForCategoryDetails.aspx` pagina previsti selezionata *`categoryID`* valore deve essere passato tramite un campo stringa di query denominato `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="258e6-141">In particular, the `ProductsForCategoryDetails.aspx` page will expect the selected *`categoryID`* value to be passed through a querystring field named `CategoryID`.</span></span> <span data-ttu-id="258e6-142">Ad esempio, per visualizzare i prodotti per la categoria di bevande, che ha un `CategoryID` pari a 1, un utente potrebbe visitare `ProductsForCategoryDetails.aspx?CategoryID=1`.</span><span class="sxs-lookup"><span data-stu-id="258e6-142">For example, to view the products for the Beverages category, which has a `CategoryID` of 1, a user would visit `ProductsForCategoryDetails.aspx?CategoryID=1`.</span></span>

<span data-ttu-id="258e6-143">Per creare un collegamento ipertestuale per ogni elemento dell'elenco puntato in Repeater dobbiamo aggiungere un controllo Web collegamento ipertestuale o un elemento ancoraggio HTML (`<a>`) per il `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="258e6-143">To create a hyperlink for each bulleted list item in the Repeater we need to either add a HyperLink Web control or an HTML anchor element (`<a>`) to the `ItemTemplate`.</span></span> <span data-ttu-id="258e6-144">In scenari in cui il collegamento ipertestuale è visualizzato lo stesso per ogni riga, entrambi gli approcci è sufficiente.</span><span class="sxs-lookup"><span data-stu-id="258e6-144">In scenarios where the hyperlink is displayed the same for each row, either approach will suffice.</span></span> <span data-ttu-id="258e6-145">Per ripetitori, preferisco utilizzare l'elemento di ancoraggio.</span><span class="sxs-lookup"><span data-stu-id="258e6-145">For Repeaters, I prefer using the anchor element.</span></span> <span data-ttu-id="258e6-146">Per usare l'elemento di ancoraggio, aggiornare ItemTemplate il compito di Repeater:</span><span class="sxs-lookup"><span data-stu-id="258e6-146">To use the anchor element, update the Repeater's ItemTemplate to:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample2.aspx)]

<span data-ttu-id="258e6-147">Si noti che il `CategoryID` può essere inserito direttamente all'interno dell'elemento di ancoraggio `href` attributo; tuttavia, per così essere determinate delimitare il `href` valore dell'attributo con (apostrofi e virgolette nota) dal `Eval` (metodo) all'interno di `href` attributo delimita la relativa stringa (`"CategoryID"`) tra virgolette.</span><span class="sxs-lookup"><span data-stu-id="258e6-147">Note that the `CategoryID` can be injected directly within the anchor element's `href` attribute; however, to do so be certain to delimit the `href` attribute's value with apostrophes (and note quotation marks) since the `Eval` method within the `href` attribute delimits its string (`"CategoryID"`) with quotation marks.</span></span> <span data-ttu-id="258e6-148">In alternativa, un controllo Web collegamento ipertestuale può essere usato invece:</span><span class="sxs-lookup"><span data-stu-id="258e6-148">Alternatively, a HyperLink Web control can be used instead:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample3.aspx)]

<span data-ttu-id="258e6-149">Si noti come la parte statica dell'URL, ovvero `ProductsForCategoryDetails.aspx?CategoryID` , viene aggiunto al risultato di `Eval("CategoryID")` direttamente all'interno di sintassi di associazione dati mediante la concatenazione di stringhe.</span><span class="sxs-lookup"><span data-stu-id="258e6-149">Note how the static portion of the URL — `ProductsForCategoryDetails.aspx?CategoryID` — is appended to the result of `Eval("CategoryID")` directly within the databinding syntax using string concatenation.</span></span>

<span data-ttu-id="258e6-150">Uno dei vantaggi dell'utilizzo del controllo collegamento ipertestuale è che sia a livello di codice accessibile dal Repeater `ItemDataBound` gestore dell'evento, se necessario.</span><span class="sxs-lookup"><span data-stu-id="258e6-150">One benefit of using the HyperLink control is that it can be programmatically accessed from the Repeater's `ItemDataBound` event handler, if needed.</span></span> <span data-ttu-id="258e6-151">È possibile, ad esempio visualizzare il nome della categoria come testo anziché come un collegamento per le categorie prodotti non associati.</span><span class="sxs-lookup"><span data-stu-id="258e6-151">For example, you might want to display the category name as text rather than as a link for categories with no associated products.</span></span> <span data-ttu-id="258e6-152">Tale controllo è stato possibile eseguire a livello di codice nel `ItemDataBound` gestore dell'evento; per le categorie senza prodotti associati, il collegamento ipertestuale del `NavigateUrl` proprietà può essere impostata su una stringa vuota, dando come risultato di quel determinato nome di categoria per il rendering come testo normale (anziché come un collegamento).</span><span class="sxs-lookup"><span data-stu-id="258e6-152">Such a check could be programmatically performed in the `ItemDataBound` event handler; for categories with no associated products, the HyperLink's `NavigateUrl` property could be set to a blank string, thereby resulting in that particular category name rendering as plain text (rather than as a link).</span></span> <span data-ttu-id="258e6-153">Fare riferimento al [formattazione di DataList e Repeater in base al momento i dati](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) esercitazione per altre informazioni sulla formattazione di DataList e del Repeater contenuto basato su logica a livello di codice tramite la `ItemDataBound` gestore dell'evento.</span><span class="sxs-lookup"><span data-stu-id="258e6-153">Refer back to the [Formatting the DataList and Repeater Based Upon Data](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) tutorial for more information on formatting the DataList and Repeater's contents based on programmatic logic through the `ItemDataBound` event handler.</span></span>

<span data-ttu-id="258e6-154">Se si segue, è possibile usare l'elemento di ancoraggio o approccio con il controllo collegamento ipertestuale nella pagina.</span><span class="sxs-lookup"><span data-stu-id="258e6-154">If you are following along, feel free to use either the anchor element or HyperLink control approach in your page.</span></span> <span data-ttu-id="258e6-155">Indipendentemente dall'approccio, quando si visualizza la pagina tramite un browser deve eseguire il rendering di ogni nome di categoria come collegamento alla pagina `ProductsForCategoryDetails.aspx`, passando l'applicabile `CategoryID` valore (vedere la figura 3).</span><span class="sxs-lookup"><span data-stu-id="258e6-155">Regardless of the approach, when viewing the page through a browser each category name should be rendered as a link to `ProductsForCategoryDetails.aspx`, passing in the applicable `CategoryID` value (see Figure 3).</span></span>


<span data-ttu-id="258e6-156">[![I nomi delle categorie è ora collegata al ProductsForCategoryDetails.aspx](master-detail-filtering-acess-two-pages-datalist-cs/_static/image8.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="258e6-156">[![The Category Names Now Link to ProductsForCategoryDetails.aspx](master-detail-filtering-acess-two-pages-datalist-cs/_static/image8.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image7.png)</span></span>

<span data-ttu-id="258e6-157">**Figura 3**: Collegamento della categoria nomi ora al `ProductsForCategoryDetails.aspx` ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="258e6-157">**Figure 3**: The Category Names Now Link to `ProductsForCategoryDetails.aspx` ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span></span>


## <a name="step-3-listing-the-products-that-belong-to-the-selected-category"></a><span data-ttu-id="258e6-158">Passaggio 3: Elenca i prodotti appartenenti alla categoria selezionata</span><span class="sxs-lookup"><span data-stu-id="258e6-158">Step 3: Listing the Products that Belong to the Selected Category</span></span>

<span data-ttu-id="258e6-159">Con il `CategoryListMaster.aspx` pagina, completa, siamo pronti per concentrare l'attenzione che implementa la pagina "Dettagli", `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="258e6-159">With the `CategoryListMaster.aspx` page complete, we're ready to turn our attention to implementing the "details" page, `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="258e6-160">Aprire questa pagina, trascinare un controllo DataList dalla casella degli strumenti nella finestra di progettazione e impostare relativi `ID` proprietà `ProductsInCategory`.</span><span class="sxs-lookup"><span data-stu-id="258e6-160">Open this page, drag a DataList from the Toolbox onto the Designer, and set its `ID` property to `ProductsInCategory`.</span></span> <span data-ttu-id="258e6-161">Successivamente, smart tag del controllo DataList di scegliere di aggiungere un nuovo oggetto ObjectDataSource alla pagina, denominarlo `ProductsInCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="258e6-161">Next, from the DataList's smart tag choose to add a new ObjectDataSource to the page, naming it `ProductsInCategoryDataSource`.</span></span> <span data-ttu-id="258e6-162">Configurarlo in modo che chiami il `ProductsBLL` della classe `GetProductsByCategoryID(categoryID)` (metodo), impostare l'elenco a discesa sono elencati nelle schede INSERT, UPDATE e DELETE su (nessuno).</span><span class="sxs-lookup"><span data-stu-id="258e6-162">Configure it such that it calls the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method; set the drop-down lists in the INSERT, UPDATE, and DELETE tabs to (None).</span></span>


<span data-ttu-id="258e6-163">[![Configurare ObjectDataSource per l'uso GetProductsByCategoryID(categoryID) metodo della classe ProductsBLL](master-detail-filtering-acess-two-pages-datalist-cs/_static/image11.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="258e6-163">[![Configure the ObjectDataSource to Use the ProductsBLL Class's GetProductsByCategoryID(categoryID) Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image11.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image10.png)</span></span>

<span data-ttu-id="258e6-164">**Figura 4**: Configurare ObjectDataSource per usare la `ProductsBLL` della classe `GetProductsByCategoryID(categoryID)` metodo ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="258e6-164">**Figure 4**: Configure the ObjectDataSource to Use the `ProductsBLL` Class's `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span></span>


<span data-ttu-id="258e6-165">Poiché il `GetProductsByCategoryID(categoryID)` metodo accetta un parametro di input (*`categoryID`*), la procedura guidata Scegli origine dati offre l'opportunità di specificare l'origine del parametro.</span><span class="sxs-lookup"><span data-stu-id="258e6-165">Since the `GetProductsByCategoryID(categoryID)` method accepts an input parameter (*`categoryID`*), the Choose Data Source wizard offers us an opportunity to specify the parameter's source.</span></span> <span data-ttu-id="258e6-166">Impostare l'origine del parametro QueryString utilizzando il QueryStringField `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="258e6-166">Set the parameter source to QueryString using the QueryStringField `CategoryID`.</span></span>


<span data-ttu-id="258e6-167">[![Usare il parametro CategoryID campo Querystring come origine del parametro](master-detail-filtering-acess-two-pages-datalist-cs/_static/image14.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="258e6-167">[![Use the Querystring Field CategoryID as the Parameter's Source](master-detail-filtering-acess-two-pages-datalist-cs/_static/image14.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image13.png)</span></span>

<span data-ttu-id="258e6-168">**Figura 5**: Usare il Querystring Field `CategoryID` come origine del parametro ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="258e6-168">**Figure 5**: Use the Querystring Field `CategoryID` as the Parameter's Source ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span></span>


<span data-ttu-id="258e6-169">Come illustrato nelle esercitazioni precedenti, dopo aver completato la procedura guidata Scegli origine dati, Visual Studio crea automaticamente un `ItemTemplate` per il controllo DataList che elenca ogni nome del campo dati e il valore.</span><span class="sxs-lookup"><span data-stu-id="258e6-169">As we've seen in previous tutorials, after completing the Choose Data Source wizard, Visual Studio automatically creates an `ItemTemplate` for the DataList that lists each data field name and value.</span></span> <span data-ttu-id="258e6-170">Sostituire questo modello con uno che elenca solo nome del prodotto, fornitore e prezzo.</span><span class="sxs-lookup"><span data-stu-id="258e6-170">Replace this template with one that lists only the product's name, supplier, and price.</span></span> <span data-ttu-id="258e6-171">Inoltre, impostare il controllo DataList `RepeatColumns` proprietà su 2.</span><span class="sxs-lookup"><span data-stu-id="258e6-171">Also, set the DataList's `RepeatColumns` property to 2.</span></span> <span data-ttu-id="258e6-172">Dopo tali modifiche, markup dichiarativo di DataList e ObjectDataSource dovrebbe essere simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="258e6-172">After these changes, your DataList and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample4.aspx)]

<span data-ttu-id="258e6-173">Per visualizzare questa pagina in azione, iniziare dal `CategoryListMaster.aspx` pagina; successivamente, fare clic su un collegamento nell'elenco puntato di categorie.</span><span class="sxs-lookup"><span data-stu-id="258e6-173">To view this page in action, start from the `CategoryListMaster.aspx` page; next, click on a link in the categories bulleted list.</span></span> <span data-ttu-id="258e6-174">In questo modo, verrà `ProductsForCategoryDetails.aspx`, passando lungo il `CategoryID` tramite la stringa di query.</span><span class="sxs-lookup"><span data-stu-id="258e6-174">Doing so will take you to `ProductsForCategoryDetails.aspx`, passing along the `CategoryID` through the querystring.</span></span> <span data-ttu-id="258e6-175">Il `ProductsInCategoryDataSource` ObjectDataSource in `ProductsForCategoryDetails.aspx` verrà quindi visualizzato solo per tali prodotti per la categoria specificata e li visualizzano nella DataList, che esegue il rendering dei due prodotti per ogni riga.</span><span class="sxs-lookup"><span data-stu-id="258e6-175">The `ProductsInCategoryDataSource` ObjectDataSource in `ProductsForCategoryDetails.aspx` will then get just those products for the specified category and display them in the DataList, which renders two products per row.</span></span> <span data-ttu-id="258e6-176">Figura 6 mostra una schermata di `ProductsForCategoryDetails.aspx` quando si visualizzano le bibite.</span><span class="sxs-lookup"><span data-stu-id="258e6-176">Figure 6 shows a screenshot of `ProductsForCategoryDetails.aspx` when viewing the Beverages.</span></span>


<span data-ttu-id="258e6-177">[![Vengono visualizzate le bibite, due per riga](master-detail-filtering-acess-two-pages-datalist-cs/_static/image17.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="258e6-177">[![The Beverages are Displayed, Two per Row](master-detail-filtering-acess-two-pages-datalist-cs/_static/image17.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image16.png)</span></span>

<span data-ttu-id="258e6-178">**Figura 6**: Vengono visualizzate le bibite, due per ogni riga ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="258e6-178">**Figure 6**: The Beverages are Displayed, Two per Row ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span></span>


## <a name="step-4-displaying-category-information-on-productsforcategorydetailsaspx"></a><span data-ttu-id="258e6-179">Passaggio 4: Visualizzazione di informazioni di categoria su ProductsForCategoryDetails.aspx</span><span class="sxs-lookup"><span data-stu-id="258e6-179">Step 4: Displaying Category Information on ProductsForCategoryDetails.aspx</span></span>

<span data-ttu-id="258e6-180">Quando un utente fa clic su una categoria nel `CategoryListMaster.aspx`, vengono rilevati per `ProductsForCategoryDetails.aspx` e visualizzati i prodotti appartenenti alla categoria selezionata.</span><span class="sxs-lookup"><span data-stu-id="258e6-180">When a user clicks on a category in `CategoryListMaster.aspx`, they are taken to `ProductsForCategoryDetails.aspx` and shown the products that belong to the selected category.</span></span> <span data-ttu-id="258e6-181">Tuttavia, in `ProductsForCategoryDetails.aspx` non esistono Nessun visive riguardo a quale categoria è stata selezionata.</span><span class="sxs-lookup"><span data-stu-id="258e6-181">However, in `ProductsForCategoryDetails.aspx` there are no visual cues as to what category was selected.</span></span> <span data-ttu-id="258e6-182">Un utente che deve fare clic su bibite, ma fa clic accidentalmente su condimenti, non ha modo di realizzare gli errore dopo aver raggiunto `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="258e6-182">A user that meant to click Beverages, but accidentally clicked Condiments, has no way of realizing their mistake once they reach `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="258e6-183">Per risolvere questo problema, è possibile visualizzare informazioni relative alla categoria selezionata, il nome e descrizione, ovvero all'inizio del `ProductsForCategoryDetails.aspx` pagina.</span><span class="sxs-lookup"><span data-stu-id="258e6-183">To alleviate this potential problem, we can display information about the selected category — its name and description — at the top of the `ProductsForCategoryDetails.aspx` page.</span></span>

<span data-ttu-id="258e6-184">A tale scopo, aggiungere un controllo FormView sopra il controllo Repeater `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="258e6-184">To accomplish this, add a FormView above the Repeater control in `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="258e6-185">Successivamente, aggiungere un nuovo oggetto ObjectDataSource alla pagina dallo smart tag del controllo FormView denominato `CategoryDataSource` e configurarlo per usare il `CategoriesBLL` della classe `GetCategoryByCategoryID(categoryID)` (metodo).</span><span class="sxs-lookup"><span data-stu-id="258e6-185">Next, add a new ObjectDataSource to the page from the FormView's smart tag named `CategoryDataSource` and configure it to use the `CategoriesBLL` class's `GetCategoryByCategoryID(categoryID)` method.</span></span>


<span data-ttu-id="258e6-186">[![Accedere alle informazioni sulla categoria tramite metodo della classe GetCategoryByCategoryID(categoryID) CategoriesBLL](master-detail-filtering-acess-two-pages-datalist-cs/_static/image20.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="258e6-186">[![Access Information about the Category through the CategoriesBLL Class's GetCategoryByCategoryID(categoryID) Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image20.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image19.png)</span></span>

<span data-ttu-id="258e6-187">**Figura 7**: Accedere alle informazioni sulla categoria tramite la `CategoriesBLL` della classe `GetCategoryByCategoryID(categoryID)` metodo ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="258e6-187">**Figure 7**: Access Information about the Category through the `CategoriesBLL` Class's `GetCategoryByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span></span>


<span data-ttu-id="258e6-188">Come con la `ProductsInCategoryDataSource` ObjectDataSource aggiunto nel passaggio 3, il `CategoryDataSource`della configurazione guidata origine dati richiede un'origine per il `GetCategoryByCategoryID(categoryID)` parametro di input del metodo.</span><span class="sxs-lookup"><span data-stu-id="258e6-188">As with the `ProductsInCategoryDataSource` ObjectDataSource added in Step 3, the `CategoryDataSource`'s Configure Data Source wizard prompts us for a source for the `GetCategoryByCategoryID(categoryID)` method's input parameter.</span></span> <span data-ttu-id="258e6-189">Usare le stesse identiche impostazioni come prima, impostando l'origine del parametro di stringa di query e il valore di QueryStringField su `CategoryID` (vedere la figura 5).</span><span class="sxs-lookup"><span data-stu-id="258e6-189">Use the exact same settings as before, setting the parameter source to QueryString and the QueryStringField value to `CategoryID` (refer back to Figure 5).</span></span>

<span data-ttu-id="258e6-190">Dopo aver completato la procedura guidata, Visual Studio crea automaticamente un' `ItemTemplate`, `EditItemTemplate`, e `InsertItemTemplate` per FormView.</span><span class="sxs-lookup"><span data-stu-id="258e6-190">After completing the wizard, Visual Studio automatically creates an `ItemTemplate`, `EditItemTemplate`, and `InsertItemTemplate` for the FormView.</span></span> <span data-ttu-id="258e6-191">Perché ti offriamo un'interfaccia di sola lettura, è possibile rimuovere il `EditItemTemplate` e `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="258e6-191">Since we're providing a read-only interface, feel free to remove the `EditItemTemplate` and `InsertItemTemplate`.</span></span> <span data-ttu-id="258e6-192">Inoltre, è possibile personalizzare il controllo FormView `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="258e6-192">Also, feel free to customize the FormView's `ItemTemplate`.</span></span> <span data-ttu-id="258e6-193">Dopo avere rimosso i superflui modelli e personalizzazione ItemTemplate, markup dichiarativo di FormView e ObjectDataSource dovrebbe essere simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="258e6-193">After removing the superfluous templates and customizing the ItemTemplate, your FormView and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample5.aspx)]

<span data-ttu-id="258e6-194">Figura 8 mostra una schermata quando si visualizza questa pagina tramite un browser.</span><span class="sxs-lookup"><span data-stu-id="258e6-194">Figure 8 shows a screen shot when viewing this page through a browser.</span></span>

> [!NOTE]
> <span data-ttu-id="258e6-195">Oltre a FormView, ho aggiunto anche un controllo collegamento ipertestuale di sopra di FormView che indirizza l'utente torna all'elenco delle categorie (`CategoryListMaster.aspx`).</span><span class="sxs-lookup"><span data-stu-id="258e6-195">In addition to the FormView, I've also added a HyperLink control above the FormView that will take the user back to the list of categories (`CategoryListMaster.aspx`).</span></span> <span data-ttu-id="258e6-196">È possibile inserire questo collegamento in un' posizione o per ometterlo completamente.</span><span class="sxs-lookup"><span data-stu-id="258e6-196">Feel free to place this link elsewhere or to omit it altogether.</span></span>


<span data-ttu-id="258e6-197">[![Informazioni sulle categorie viene ora visualizzata nella parte superiore della pagina](master-detail-filtering-acess-two-pages-datalist-cs/_static/image23.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="258e6-197">[![Category Information is Now Displayed at the Top of the Page](master-detail-filtering-acess-two-pages-datalist-cs/_static/image23.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image22.png)</span></span>

<span data-ttu-id="258e6-198">**Figura 8**: Informazioni sulle categorie viene ora visualizzata nella parte superiore della pagina ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="258e6-198">**Figure 8**: Category Information is Now Displayed at the Top of the Page ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span></span>


## <a name="step-5-displaying-a-message-if-no-products-belong-to-the-selected-category"></a><span data-ttu-id="258e6-199">Passaggio 5: Visualizzazione di un messaggio se prodotti non appartengono alla categoria selezionata</span><span class="sxs-lookup"><span data-stu-id="258e6-199">Step 5: Displaying a Message if No Products Belong to the Selected Category</span></span>

<span data-ttu-id="258e6-200">Il `CategoryListMaster.aspx` pagina elenca tutte le categorie nel sistema, indipendentemente se sono presenti prodotti associati.</span><span class="sxs-lookup"><span data-stu-id="258e6-200">The `CategoryListMaster.aspx` page lists all categories in the system, regardless of whether there are any associated products.</span></span> <span data-ttu-id="258e6-201">Se un utente fa clic su una categoria con nessun prodotti associati, DataList in `ProductsForCategoryDetails.aspx` non vengono visualizzati, come la relativa origine dati non disporrà di tutti gli elementi.</span><span class="sxs-lookup"><span data-stu-id="258e6-201">If a user clicks on a category with no associated products, the DataList in `ProductsForCategoryDetails.aspx` will not be rendered, as its data source will not have any items.</span></span> <span data-ttu-id="258e6-202">Come abbiamo visto nelle precedenti esercitazioni, GridView fornisce un `EmptyDataText` proprietà che può essere usata per specificare un messaggio di testo da visualizzare se non sono presenti record nell'origine dati.</span><span class="sxs-lookup"><span data-stu-id="258e6-202">As we've seen in past tutorials, the GridView provides an `EmptyDataText` property that can be used to specify a text message to display if there are no records in its data source.</span></span> <span data-ttu-id="258e6-203">Sfortunatamente, nessuna delle due DataList e Repeater dispone di tale proprietà.</span><span class="sxs-lookup"><span data-stu-id="258e6-203">Unfortunately, neither the DataList nor Repeater has such a property.</span></span>

<span data-ttu-id="258e6-204">Per visualizzare un messaggio che informa l'utente che non sono presenti prodotti corrispondenti per la categoria selezionata, è necessario aggiungere un'etichetta di controllo alla pagina di cui `Text` proprietà viene assegnato il messaggio da visualizzare nel caso in cui non sono presenti prodotti corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="258e6-204">In order to display a message informing the user that there are no matching products for the selected category, we need to add a Label control to the page whose `Text` property is assigned the message to display in the event that there are no matching products.</span></span> <span data-ttu-id="258e6-205">È quindi necessario impostare a livello di codice relativo `Visible` proprietà base o meno di DataList contiene elementi.</span><span class="sxs-lookup"><span data-stu-id="258e6-205">We then need to programmatically set its `Visible` property based on whether or not the DataList contains any items.</span></span>

<span data-ttu-id="258e6-206">A tale scopo, iniziare aggiungendo un'etichetta sotto il controllo DataList.</span><span class="sxs-lookup"><span data-stu-id="258e6-206">To accomplish this, start by adding a Label beneath the DataList.</span></span> <span data-ttu-id="258e6-207">Impostare relativi `ID` proprietà `NoProductsMessage` e il relativo `Text` proprietà su "Non sono presenti prodotti per la categoria selezionata..." Successivamente, è necessario impostare a livello di codice questa etichetta `Visible` base o meno tutti i dati è stati associati alla proprietà di `ProductsInCategory` DataList.</span><span class="sxs-lookup"><span data-stu-id="258e6-207">Set its `ID` property to `NoProductsMessage` and its `Text` property to "There are no products for the selected category…" Next, we need to programmatically set this Label's `Visible` property based on whether or not any data was bound to the `ProductsInCategory` DataList.</span></span> <span data-ttu-id="258e6-208">Questa assegnazione deve essere effettuata dopo aver associati i dati per il controllo DataList.</span><span class="sxs-lookup"><span data-stu-id="258e6-208">This assignment must be made after the data has been bound to the DataList.</span></span> <span data-ttu-id="258e6-209">Per il controllo GridView, DetailsView e FormView, è possibile creare un gestore eventi per il controllo `DataBound` evento, che viene attivato dopo l'associazione dati è stata completata.</span><span class="sxs-lookup"><span data-stu-id="258e6-209">For the GridView, DetailsView, and FormView, we could create an event handler for the control's `DataBound` event, which fires after databinding has completed.</span></span> <span data-ttu-id="258e6-210">Tuttavia, DataList, né il Repeater ha un `DataBound` eventi disponibili.</span><span class="sxs-lookup"><span data-stu-id="258e6-210">However, neither the DataList nor the Repeater has a `DataBound` event available.</span></span>

<span data-ttu-id="258e6-211">Per questo particolare esempio è possibile assegnare l'etichetta `Visible` proprietà di `Page_Load` gestore eventi, poiché i dati verranno assegnati a DataList prima che la pagina `Load` evento.</span><span class="sxs-lookup"><span data-stu-id="258e6-211">For this particular example we can assign the Label's `Visible` property in the `Page_Load` event handler, since the data will have been assigned to the DataList prior to the page's `Load` event.</span></span> <span data-ttu-id="258e6-212">Tuttavia, questo approccio non funziona in generale, come i dati da ObjectDataSource sia associati a DataList in un secondo momento nel ciclo di vita della pagina.</span><span class="sxs-lookup"><span data-stu-id="258e6-212">However, this approach would not work in the general case, as the data from the ObjectDataSource might be bound to the DataList later in the page's lifecycle.</span></span> <span data-ttu-id="258e6-213">Ad esempio, se i dati visualizzati sono basati sul valore in un altro controllo, ad esempio si tratta la visualizzazione di un report master o di dettaglio usando un controllo DropDownList per contenere il record "master", i dati potrebbero riassociati non per il controllo Web per dati finché il `PreRender` fase nel ciclo di vita della pagina.</span><span class="sxs-lookup"><span data-stu-id="258e6-213">For example, if the displayed data is based upon the value in another control, such as it is when displaying a master/detail report using a DropDownList to hold the "master" records, the data may not rebound to the data Web control until the `PreRender` stage in the page's life cycle.</span></span>

<span data-ttu-id="258e6-214">Una soluzione che funziona per tutti i casi consiste nell'assegnare il `Visible` proprietà `False` nella finestra di DataList `ItemDataBound` (o `ItemCreated`) gestore dell'evento quando si associa un tipo di elemento di `Item` o `AlternatingItem`.</span><span class="sxs-lookup"><span data-stu-id="258e6-214">One solution which will work for all cases is to assign the `Visible` property to `False` in the DataList's `ItemDataBound` (or `ItemCreated`) event handler when binding an item type of `Item` or `AlternatingItem`.</span></span> <span data-ttu-id="258e6-215">In questo caso sappiamo che vi sia dati almeno un elemento nell'origine dati e pertanto è possibile nascondere la `NoProductsMessage` etichetta.</span><span class="sxs-lookup"><span data-stu-id="258e6-215">In such a case we know that there is at least one data item in the data source and therefore can hide the `NoProductsMessage` Label.</span></span> <span data-ttu-id="258e6-216">Oltre a questo gestore eventi, è necessario anche un gestore eventi per il controllo DataList `DataBinding` evento, in cui viene inizializzata l'etichetta `Visible` proprietà `True`.</span><span class="sxs-lookup"><span data-stu-id="258e6-216">In addition to this event handler, we also need an event handler for the DataList's `DataBinding` event, where we initialize the Label's `Visible` property to `True`.</span></span> <span data-ttu-id="258e6-217">Poiché il `DataBinding` evento viene generato prima il `ItemDataBound` del eventi, l'etichetta `Visible` verrà inizialmente essere impostata su `True`; se sono presenti elementi di dati, tuttavia, verrà impostato `False`.</span><span class="sxs-lookup"><span data-stu-id="258e6-217">Since the `DataBinding` event fires before the `ItemDataBound` events, the Label's `Visible` property will initially be set to `True`; if there are any data items, however, it will be set to `False`.</span></span> <span data-ttu-id="258e6-218">Il codice seguente implementa la logica:</span><span class="sxs-lookup"><span data-stu-id="258e6-218">The following code implements this logic:</span></span>

[!code-csharp[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample6.cs)]

<span data-ttu-id="258e6-219">Tutte le categorie nel database Northwind sono associate uno o più prodotti.</span><span class="sxs-lookup"><span data-stu-id="258e6-219">All of the categories in the Northwind database are associated with one or more products.</span></span> <span data-ttu-id="258e6-220">Per testare questa funzionalità, ho regolato manualmente il database Northwind per questa esercitazione, la riassegnazione di tutti i prodotti associati alla categoria di prodotto (`CategoryID` = 7) per la categoria di frutti di mare (`CategoryID` = 8).</span><span class="sxs-lookup"><span data-stu-id="258e6-220">To test this feature, I've manually adjusted the Northwind database for this tutorial, reassigning all products associated with the Produce category (`CategoryID` = 7) to the Seafood category (`CategoryID` = 8).</span></span> <span data-ttu-id="258e6-221">Ciò può essere effettuata tramite Esplora Server scegliendo Nuova Query e con i seguenti `UPDATE` istruzione:</span><span class="sxs-lookup"><span data-stu-id="258e6-221">This can be accomplished from the Server Explorer by choosing New Query and using the following `UPDATE` statement:</span></span>

[!code-sql[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample7.sql)]

<span data-ttu-id="258e6-222">Dopo aver aggiornato il database di conseguenza, tornare al `CategoryListMaster.aspx` pagina e fare clic sul collegamento producono.</span><span class="sxs-lookup"><span data-stu-id="258e6-222">After updating the database accordingly, return to the `CategoryListMaster.aspx` page and click on the Produce link.</span></span> <span data-ttu-id="258e6-223">Poiché non sono più presenti tutti i prodotti appartenenti alla categoria di prodotto, si dovrebbe vedere il messaggio "Non sono presenti prodotti per la categoria selezionata...", come illustrato nella figura 9.</span><span class="sxs-lookup"><span data-stu-id="258e6-223">Since there are no longer any products belonging to the Produce category, you should see the "There are no products for the selected category…" message, as shown in Figure 9.</span></span>


<span data-ttu-id="258e6-224">[![Se sono presenti n prodotti appartenenti alla categoria selezionata viene visualizzato un messaggio](master-detail-filtering-acess-two-pages-datalist-cs/_static/image26.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="258e6-224">[![A Message is Displayed if there are No Products Belonging to the Selected Category](master-detail-filtering-acess-two-pages-datalist-cs/_static/image26.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image25.png)</span></span>

<span data-ttu-id="258e6-225">**Figura 9**: Se sono presenti n prodotti appartenenti alla categoria selezionata viene visualizzato un messaggio ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="258e6-225">**Figure 9**: A Message is Displayed if there are No Products Belonging to the Selected Category ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span></span>


## <a name="summary"></a><span data-ttu-id="258e6-226">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="258e6-226">Summary</span></span>

<span data-ttu-id="258e6-227">Mentre i report master o di dettaglio è possono visualizzare i record master e di dettaglio in una singola pagina, in molti siti Web sono suddivisi in due pagine web.</span><span class="sxs-lookup"><span data-stu-id="258e6-227">While master/detail reports can display both the master and detail records on a single page, in many websites they are separated out across two web pages.</span></span> <span data-ttu-id="258e6-228">In questa esercitazione è stato illustrato come implementare questo rapporto master/dettaglio facendo in modo che le categorie elencate in un elenco puntato utilizzando un controllo Repeater nella pagina web "master" e i prodotti associati elencati nella pagina "Dettagli".</span><span class="sxs-lookup"><span data-stu-id="258e6-228">In this tutorial we looked at how to implement such a master/detail report by having the categories listed in a bulleted list using a Repeater in the "master" web page and the associated products listed in the "details" page.</span></span> <span data-ttu-id="258e6-229">Ogni elemento dell'elenco nella pagina master web contenuti un collegamento alla pagina dei dettagli passato lungo la riga `CategoryID` valore.</span><span class="sxs-lookup"><span data-stu-id="258e6-229">Each list item in the master web page contained a link to the details page that passed along the row's `CategoryID` value.</span></span>

<span data-ttu-id="258e6-230">Nella pagina dei dettagli del recupero di tali prodotti per il fornitore specificato è stato eseguito tramite il `ProductsBLL` della classe `GetProductsByCategoryID(categoryID)` (metodo).</span><span class="sxs-lookup"><span data-stu-id="258e6-230">In the details page retrieving those products for the specified supplier was accomplished through the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="258e6-231">Il *`categoryID`* valore del parametro è stato specificato in modo dichiarativo utilizzando il `CategoryID` valore querystring come origine del parametro.</span><span class="sxs-lookup"><span data-stu-id="258e6-231">The *`categoryID`* parameter value was specified declaratively using the `CategoryID` querystring value as the parameter source.</span></span> <span data-ttu-id="258e6-232">È stato anche illustrato come visualizzare i dettagli della categoria nella pagina dei dettagli con un controllo FormView e su come visualizzare un messaggio se si sono verificati senza prodotti appartenenti alla categoria selezionata.</span><span class="sxs-lookup"><span data-stu-id="258e6-232">We also looked at how to display category details in the details page using a FormView and how to display a message if there were no products belonging to the selected category.</span></span>

<span data-ttu-id="258e6-233">Buona programmazione!</span><span class="sxs-lookup"><span data-stu-id="258e6-233">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="258e6-234">Informazioni sull'autore</span><span class="sxs-lookup"><span data-stu-id="258e6-234">About the Author</span></span>

<span data-ttu-id="258e6-235">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autore di sette libri e fondatore di [4GuysFromRolla.com](http://www.4guysfromrolla.com), ha collaborato con tecnologie Web di Microsoft dal 1998.</span><span class="sxs-lookup"><span data-stu-id="258e6-235">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="258e6-236">Lavora come un consulente, formatore e autore.</span><span class="sxs-lookup"><span data-stu-id="258e6-236">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="258e6-237">Il suo ultimo libro si intitola [ *Sams Teach Yourself ASP.NET 2.0 in 24 ore*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="258e6-237">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="258e6-238">È possibile contattarlo al [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="258e6-238">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="258e6-239">o sul suo blog, che è reperibile in [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="258e6-239">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="258e6-240">Ringraziamenti speciali...</span><span class="sxs-lookup"><span data-stu-id="258e6-240">Special Thanks To…</span></span>

<span data-ttu-id="258e6-241">Questa serie di esercitazioni è stata esaminata da diversi validi revisori.</span><span class="sxs-lookup"><span data-stu-id="258e6-241">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="258e6-242">I revisori per questa esercitazione sono state Zack Jones e Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="258e6-242">Lead reviewers for this tutorial were Zack Jones and Liz Shulok.</span></span> <span data-ttu-id="258e6-243">Se si è interessati prossimi articoli MSDN dello?</span><span class="sxs-lookup"><span data-stu-id="258e6-243">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="258e6-244">In questo caso, Inviami una riga in corrispondenza [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="258e6-244">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="258e6-245">[Precedente](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
> [Successivo](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span><span class="sxs-lookup"><span data-stu-id="258e6-245">[Previous](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
[Next](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span></span>
