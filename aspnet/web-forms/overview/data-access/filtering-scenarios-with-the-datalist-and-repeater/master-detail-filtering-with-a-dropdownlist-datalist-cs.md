---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-with-a-dropdownlist-datalist-cs
title: Master/dettagli filtro usando un controllo DropDownList (c#) | Microsoft Docs
author: rick-anderson
description: In questa esercitazione viene illustrato come visualizzare i report master/dettaglio in una singola pagina web con controlli DropDownList per visualizzare i record 'master' e un controllo DataList per displ...
ms.author: riande
ms.date: 07/18/2007
ms.assetid: 07fa47ae-e491-4a2f-b265-d342b9ddef46
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-with-a-dropdownlist-datalist-cs
msc.type: authoredcontent
ms.openlocfilehash: d6b5c234c8d0da5500ecf554c5e23cb52e94f411
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/17/2019
ms.locfileid: "59421849"
---
# <a name="masterdetail-filtering-with-a-dropdownlist-c"></a><span data-ttu-id="b5053-103">Applicazione di filtri al report master o di dettaglio usando un controllo DropDownList (C#)</span><span class="sxs-lookup"><span data-stu-id="b5053-103">Master/Detail Filtering With a DropDownList (C#)</span></span>

<span data-ttu-id="b5053-104">da [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="b5053-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="b5053-105">[Scaricare l'App di esempio](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_33_CS.exe) o [Scarica il PDF](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/datatutorial33cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="b5053-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_33_CS.exe) or [Download PDF](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/datatutorial33cs1.pdf)</span></span>

> <span data-ttu-id="b5053-106">In questa esercitazione viene illustrato come visualizzare i report master o di dettaglio in un'unica pagina web mediante controlli DropDownList per visualizzare il record "master" e un controllo DataList da visualizzare "Dettagli".</span><span class="sxs-lookup"><span data-stu-id="b5053-106">In this tutorial we see how to display master/detail reports in a single web page using DropDownLists to display the "master" records and a DataList to display the "details".</span></span>


## <a name="introduction"></a><span data-ttu-id="b5053-107">Introduzione</span><span class="sxs-lookup"><span data-stu-id="b5053-107">Introduction</span></span>

<span data-ttu-id="b5053-108">Report master o di dettaglio, prima di tutto creata Usa un controllo GridView in precedenza [Master/Dettagli filtro con un controllo DropDownList](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) inizio dell'esercitazione, illustrando alcuni set di record "master".</span><span class="sxs-lookup"><span data-stu-id="b5053-108">The master/detail report, which we first created using a GridView in the earlier [Master/Detail Filtering With a DropDownList](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) tutorial, begins by showing some set of "master" records.</span></span> <span data-ttu-id="b5053-109">L'utente può quindi il drill-down in uno dei record master, in tal modo la visualizzazione "dei dettagli." di record master</span><span class="sxs-lookup"><span data-stu-id="b5053-109">The user can then drill down into one of the master records, thereby viewing that master record's "details."</span></span> <span data-ttu-id="b5053-110">Report master o di dettaglio sono la scelta ideale per la visualizzazione delle relazioni uno-a-molti e per visualizzare informazioni dettagliate dalle tabelle "wide" particolarmente (ovvero quelle che presenta un elevato numero di colonne).</span><span class="sxs-lookup"><span data-stu-id="b5053-110">Master/detail reports are an ideal choice for visualizing one-to-many relationships and for displaying detailed information from particularly "wide" tables (ones that have a lot of columns).</span></span> <span data-ttu-id="b5053-111">Abbiamo esplorato come implementare i report master/dettaglio tramite i controlli GridView e DetailsView nelle esercitazioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="b5053-111">We've explored how to implement master/detail reports using the GridView and DetailsView controls in previous tutorials.</span></span> <span data-ttu-id="b5053-112">In questa esercitazione e i successivi due, è possibile esaminare di nuovo questi concetti, ma lo stato attivo sull'uso di DataList e Repeater controlla invece.</span><span class="sxs-lookup"><span data-stu-id="b5053-112">In this tutorial and the next two, we'll reexamine these concepts, but focus on using DataList and Repeater controls instead.</span></span>

<span data-ttu-id="b5053-113">In questa esercitazione verrà esaminato tramite un controllo DropDownList per contenere il record "master", con "Dettagli" vengono visualizzati i record in un controllo DataList.</span><span class="sxs-lookup"><span data-stu-id="b5053-113">In this tutorial, we'll look at using a DropDownList to contain the "master" records, with the "details" records displayed in a DataList.</span></span>

## <a name="step-1-adding-the-masterdetail-tutorial-web-pages"></a><span data-ttu-id="b5053-114">Passaggio 1: Aggiunta di pagine Web di esercitazione Master-Details</span><span class="sxs-lookup"><span data-stu-id="b5053-114">Step 1: Adding the Master/Detail Tutorial Web Pages</span></span>

<span data-ttu-id="b5053-115">Prima di iniziare questa esercitazione, prima di tutto è opportuno aggiungere la cartella e le pagine ASP.NET, che sarà necessario per questa esercitazione e i successivi due trattano report master-Details mediante i controlli DataList e Repeater.</span><span class="sxs-lookup"><span data-stu-id="b5053-115">Before we start this tutorial, let's first take a moment to add the folder and ASP.NET pages we'll need for this tutorial and the next two dealing with master/detail reports using the DataList and Repeater controls.</span></span> <span data-ttu-id="b5053-116">Iniziare creando una nuova cartella nel progetto denominato `DataListRepeaterFiltering`.</span><span class="sxs-lookup"><span data-stu-id="b5053-116">Start by creating a new folder in the project named `DataListRepeaterFiltering`.</span></span> <span data-ttu-id="b5053-117">Successivamente, aggiungere le seguenti cinque pagine ASP.NET per questa cartella, con tutti gli elementi configurati per utilizzare la pagina master `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="b5053-117">Next, add the following five ASP.NET pages to this folder, having all of them configured to use the master page `Site.master`:</span></span>

- `Default.aspx`
- `FilterByDropDownList.aspx`
- `CategoryListMaster.aspx`
- `ProductsForCategoryDetails.aspx`
- `CategoriesAndProducts.aspx`


![Creare una cartella DataListRepeaterFiltering e aggiungere le pagine ASP.NET dell'esercitazione](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image1.png)

<span data-ttu-id="b5053-119">**Figura 1**: Creare un `DataListRepeaterFiltering` cartella e aggiungere le pagine ASP.NET dell'esercitazione</span><span class="sxs-lookup"><span data-stu-id="b5053-119">**Figure 1**: Create a `DataListRepeaterFiltering` Folder and Add the Tutorial ASP.NET Pages</span></span>


<span data-ttu-id="b5053-120">Successivamente, aprire il `Default.aspx` pagina e trascinare il `SectionLevelTutorialListing.ascx` controllo utente dal `UserControls` cartella nell'area di progettazione.</span><span class="sxs-lookup"><span data-stu-id="b5053-120">Next, open the `Default.aspx` page and drag the `SectionLevelTutorialListing.ascx` User Control from the `UserControls` folder onto the Design surface.</span></span> <span data-ttu-id="b5053-121">Questo controllo utente, che è stato creato nel [pagine Master e spostamento nel sito](../introduction/master-pages-and-site-navigation-cs.md) esercitazione enumera la mappa del sito e consente di visualizzare le esercitazioni nella sezione corrente in un elenco puntato.</span><span class="sxs-lookup"><span data-stu-id="b5053-121">This User Control, which we created in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-cs.md) tutorial, enumerates the site map and displays the tutorials from the current section in a bulleted list.</span></span>


<span data-ttu-id="b5053-122">[![Aggiungere il controllo utente sectionleveltutoriallisting. ascx a default. aspx](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image3.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="b5053-122">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image3.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image2.png)</span></span>

<span data-ttu-id="b5053-123">**Figura 2**: Aggiungere il `SectionLevelTutorialListing.ascx` controllo utente da `Default.aspx` ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="b5053-123">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image4.png))</span></span>


<span data-ttu-id="b5053-124">Per la visualizzazione elenco puntato le esercitazioni di master-details che verrà creato, è necessario aggiungerli alla mappa del sito.</span><span class="sxs-lookup"><span data-stu-id="b5053-124">In order to have the bulleted list display the master/detail tutorials we'll be creating, we need to add them to the site map.</span></span> <span data-ttu-id="b5053-125">Aprire il `Web.sitemap` file e aggiungere il markup seguente dopo che il markup di nodo della mappa del sito "Visualizzazione di dati con il DataList e Repeater":</span><span class="sxs-lookup"><span data-stu-id="b5053-125">Open the `Web.sitemap` file and add the following markup after the "Displaying Data with the DataList and Repeater" site map node markup:</span></span>

[!code-xml[Main](master-detail-filtering-with-a-dropdownlist-datalist-cs/samples/sample1.xml)]


![Aggiornare la mappa del sito in modo da includere le nuove pagine ASP.NET](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image5.png)

<span data-ttu-id="b5053-127">**Figura 3**: Aggiornare la mappa del sito in modo da includere le nuove pagine ASP.NET</span><span class="sxs-lookup"><span data-stu-id="b5053-127">**Figure 3**: Update the Site Map to Include the New ASP.NET Pages</span></span>


## <a name="step-2-displaying-the-categories-in-a-dropdownlist"></a><span data-ttu-id="b5053-128">Passaggio 2: Visualizzare le categorie in un controllo DropDownList</span><span class="sxs-lookup"><span data-stu-id="b5053-128">Step 2: Displaying the Categories in a DropDownList</span></span>

<span data-ttu-id="b5053-129">Report master o di dettaglio elencherà le categorie presenti in un elenco a discesa con i prodotti dell'elemento elenco selezionato visualizzati più in basso nella pagina in un controllo DataList.</span><span class="sxs-lookup"><span data-stu-id="b5053-129">Our master/detail report will list the categories in a DropDownList, with the selected list item's products displayed further down in the page in a DataList.</span></span> <span data-ttu-id="b5053-130">La prima attività prima di Stati Uniti, è quindi disporre le categorie visualizzate in un controllo DropDownList.</span><span class="sxs-lookup"><span data-stu-id="b5053-130">The first task ahead of us, then, is to have the categories displayed in a DropDownList.</span></span> <span data-ttu-id="b5053-131">Iniziare aprendo il `FilterByDropDownList.aspx` nella pagina di `DataListRepeaterFiltering` cartelle e trascinare un controllo DropDownList dalla casella degli strumenti nella finestra di progettazione della pagina.</span><span class="sxs-lookup"><span data-stu-id="b5053-131">Start by opening the `FilterByDropDownList.aspx` page in the `DataListRepeaterFiltering` folder and drag a DropDownList from the Toolbox onto the page's designer.</span></span> <span data-ttu-id="b5053-132">Successivamente, impostare il controllo DropDownList `ID` proprietà `Categories`.</span><span class="sxs-lookup"><span data-stu-id="b5053-132">Next, set the DropDownList's `ID` property to `Categories`.</span></span> <span data-ttu-id="b5053-133">Fare clic sul collegamento dallo smart tag del controllo DropDownList Scegli origine dati e creare un nuovo oggetto ObjectDataSource denominato `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="b5053-133">Click on the Choose Data Source link from the DropDownList's smart tag and create a new ObjectDataSource named `CategoriesDataSource`.</span></span>


<span data-ttu-id="b5053-134">[![Aggiungere un nuovo oggetto ObjectDataSource denominato CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image7.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="b5053-134">[![Add a New ObjectDataSource Named CategoriesDataSource](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image7.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image6.png)</span></span>

<span data-ttu-id="b5053-135">**Figura 4**: Aggiungere un nuovo oggetto ObjectDataSource denominato `CategoriesDataSource` ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="b5053-135">**Figure 4**: Add a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image8.png))</span></span>


<span data-ttu-id="b5053-136">Configurare il nuovo oggetto ObjectDataSource in modo che richiama il `CategoriesBLL` della classe `GetCategories()` (metodo).</span><span class="sxs-lookup"><span data-stu-id="b5053-136">Configure the new ObjectDataSource such that it invokes the `CategoriesBLL` class's `GetCategories()` method.</span></span> <span data-ttu-id="b5053-137">Dopo la configurazione di ObjectDataSource è ancora necessario specificare quale campo dell'origine dati deve essere visualizzato in DropDownList e che uno deve essere associato come valore per ogni elemento dell'elenco.</span><span class="sxs-lookup"><span data-stu-id="b5053-137">After configuring the ObjectDataSource we still need to specify what data source field should be displayed in the DropDownList and which one should be associated as the value for each list item.</span></span> <span data-ttu-id="b5053-138">Dispone il `CategoryName` campo, come la visualizzazione e `CategoryID` come valore per ogni elemento dell'elenco.</span><span class="sxs-lookup"><span data-stu-id="b5053-138">Have the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>


<span data-ttu-id="b5053-139">[![Hanno la visualizzazione del controllo DropDownList il campo Nome categoria e CategoryID Usa come valore](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image10.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="b5053-139">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image10.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image9.png)</span></span>

<span data-ttu-id="b5053-140">**Figura 5**: La visualizzazione DropDownList il `CategoryName` campo e l'utilizzo `CategoryID` come valore ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="b5053-140">**Figure 5**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image11.png))</span></span>


<span data-ttu-id="b5053-141">A questo punto si dispone di un controllo DropDownList popolata con i record dal `Categories` tabella (tutto eseguita in circa sei secondi).</span><span class="sxs-lookup"><span data-stu-id="b5053-141">At this point we have a DropDownList control that's populated with the records from the `Categories` table (all accomplished in about six seconds).</span></span> <span data-ttu-id="b5053-142">Figura 6 mostra lo stato di avanzamento fino ad ora, quando viene visualizzato tramite un browser.</span><span class="sxs-lookup"><span data-stu-id="b5053-142">Figure 6 shows our progress thus far when viewed through a browser.</span></span>


<span data-ttu-id="b5053-143">[![Un elenco a discesa Elenca le categorie correnti](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image13.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="b5053-143">[![A Drop-Down Lists the Current Categories](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image13.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image12.png)</span></span>

<span data-ttu-id="b5053-144">**Figura 6**: Un elenco a discesa Elenca le categorie correnti ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="b5053-144">**Figure 6**: A Drop-Down Lists the Current Categories ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image14.png))</span></span>


## <a name="step-2-adding-the-products-datalist"></a><span data-ttu-id="b5053-145">Passaggio 2: Aggiunta di DataList prodotti</span><span class="sxs-lookup"><span data-stu-id="b5053-145">Step 2: Adding the Products DataList</span></span>

<span data-ttu-id="b5053-146">L'ultimo elemento nel report master o di dettaglio è elencare i prodotti associati alla categoria selezionata.</span><span class="sxs-lookup"><span data-stu-id="b5053-146">The last step in our master/detail report is to list the products associated with the selected category.</span></span> <span data-ttu-id="b5053-147">A tale scopo, aggiungere un controllo DataList alla pagina e creare un nuovo oggetto ObjectDataSource denominato `ProductsByCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="b5053-147">To accomplish this, add a DataList to the page and create a new ObjectDataSource named `ProductsByCategoryDataSource`.</span></span> <span data-ttu-id="b5053-148">Disporre le `ProductsByCategoryDataSource` controllo recuperare i dati dal `ProductsBLL` della classe `GetProductsByCategoryID(categoryID)` (metodo).</span><span class="sxs-lookup"><span data-stu-id="b5053-148">Have the `ProductsByCategoryDataSource` control retrieve its data from the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="b5053-149">Poiché questo report master o di dettaglio è di sola lettura, scegliere il che opzione (nessuno) nelle schede INSERT, UPDATE e DELETE.</span><span class="sxs-lookup"><span data-stu-id="b5053-149">Since this master/detail report is read-only, choose the (None) option in the INSERT, UPDATE, and DELETE tabs.</span></span>


<span data-ttu-id="b5053-150">[![Selezionare il metodo GetProductsByCategoryID(categoryID)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image16.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="b5053-150">[![Select the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image16.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image15.png)</span></span>

<span data-ttu-id="b5053-151">**Figura 7**: Selezionare il `GetProductsByCategoryID(categoryID)` metodo ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="b5053-151">**Figure 7**: Select the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image17.png))</span></span>


<span data-ttu-id="b5053-152">Dopo aver fatto clic su Avanti, la procedura guidata ObjectDataSource richiede per l'origine del valore per il `GetProductsByCategoryID(categoryID)` del metodo *`categoryID`* parametro.</span><span class="sxs-lookup"><span data-stu-id="b5053-152">After clicking Next, the ObjectDataSource wizard prompts us for the source of the value for the `GetProductsByCategoryID(categoryID)` method's *`categoryID`* parameter.</span></span> <span data-ttu-id="b5053-153">Per utilizzare il valore dell'oggetto selezionato `categories` DropDownList elemento impostato l'origine del parametro al controllo e il ControlID a `Categories`.</span><span class="sxs-lookup"><span data-stu-id="b5053-153">To use the value of the selected `categories` DropDownList item set the Parameter source to Control and the ControlID to `Categories`.</span></span>


<span data-ttu-id="b5053-154">[![Impostare il parametro categoryID al valore di DropDownList categorie](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image19.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="b5053-154">[![Set the categoryID Parameter to the Value of the Categories DropDownList](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image19.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image18.png)</span></span>

<span data-ttu-id="b5053-155">**Figura 8**: Impostare il *`categoryID`* parametro per il valore del `Categories` DropDownList ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="b5053-155">**Figure 8**: Set the *`categoryID`* Parameter to the Value of the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image20.png))</span></span>


<span data-ttu-id="b5053-156">Dopo aver completato la procedura guidata Configura origine dati, Visual Studio genera automaticamente un `ItemTemplate` per il controllo DataList che visualizza il nome e il valore di ogni campo dati.</span><span class="sxs-lookup"><span data-stu-id="b5053-156">Upon completing the Configure Data Source wizard, Visual Studio will automatically generate an `ItemTemplate` for the DataList that displays the name and value of each data field.</span></span> <span data-ttu-id="b5053-157">È possibile migliorare il DataList per usare invece un' `ItemTemplate` che visualizza solo il nome del prodotto, categoria, fornitore, quantity per ogni unità e il prezzo insieme a un `SeparatorTemplate` che inserisce un `<hr>` elemento tra ogni elemento.</span><span class="sxs-lookup"><span data-stu-id="b5053-157">Let's enhance the DataList to instead use an `ItemTemplate` that displays just the product's name, category, supplier, quantity per unit, and price along with a `SeparatorTemplate` that injects an `<hr>` element between each item.</span></span> <span data-ttu-id="b5053-158">Devo usare il `ItemTemplate` da un esempio nel [visualizzazione dei dati con i controlli DataList e Repeater](../displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-cs.md) esercitazione, ma è possibile usare qualsiasi markup del modello è trovare visivamente più interessante.</span><span class="sxs-lookup"><span data-stu-id="b5053-158">I'm going to use the `ItemTemplate` from an example in the [Displaying Data with the DataList and Repeater Controls](../displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-cs.md) tutorial, but feel free to use whatever template markup you find most visually appealing.</span></span>

<span data-ttu-id="b5053-159">Dopo aver apportato queste modifiche, il DataList e markup relativo ObjectDataSource dovrebbe essere simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="b5053-159">After making these changes, your DataList and its ObjectDataSource's markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-datalist-cs/samples/sample2.aspx)]

<span data-ttu-id="b5053-160">Si consiglia di estrarre lo stato di avanzamento in un browser.</span><span class="sxs-lookup"><span data-stu-id="b5053-160">Take a moment to check out our progress in a browser.</span></span> <span data-ttu-id="b5053-161">Durante la prima visita la pagina, vengono visualizzati i prodotti appartenenti alla categoria selezionata (bevande) (come illustrato nella figura 9), ma la modifica DropDownList non aggiorna i dati.</span><span class="sxs-lookup"><span data-stu-id="b5053-161">When first visiting the page, those products belonging to the selected category (Beverages) are displayed (as shown in Figure 9), but changing the DropDownList doesn't update the data.</span></span> <span data-ttu-id="b5053-162">Infatti, deve verificarsi un postback per il controllo DataList da aggiornare.</span><span class="sxs-lookup"><span data-stu-id="b5053-162">This is because a postback must occur for the DataList to update.</span></span> <span data-ttu-id="b5053-163">A tale scopo è possibile imposta il controllo DropDownList `AutoPostBack` proprietà `true` o aggiungere un controllo pulsante Web alla pagina.</span><span class="sxs-lookup"><span data-stu-id="b5053-163">To accomplish this we can either set the DropDownList's `AutoPostBack` property to `true` or add a Button Web control to the page.</span></span> <span data-ttu-id="b5053-164">Per questa esercitazione, si è ho optato per impostare il controllo DropDownList `AutoPostBack` proprietà `true`.</span><span class="sxs-lookup"><span data-stu-id="b5053-164">For this tutorial, I've opted to set the DropDownList's `AutoPostBack` property to `true`.</span></span>

<span data-ttu-id="b5053-165">Le figure da 9 e 10 illustrano il rapporto master/dettaglio in azione.</span><span class="sxs-lookup"><span data-stu-id="b5053-165">Figures 9 and 10 illustrate the master/detail report in action.</span></span>


<span data-ttu-id="b5053-166">[![Durante la prima visita la pagina, vengono visualizzati i prodotti di bevande](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image22.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="b5053-166">[![When First Visiting the Page, the Beverage Products are Displayed](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image22.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image21.png)</span></span>

<span data-ttu-id="b5053-167">**Figura 9**: Durante la prima visita la pagina, vengono visualizzati i prodotti di bevande ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="b5053-167">**Figure 9**: When First Visiting the Page, the Beverage Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image23.png))</span></span>


<span data-ttu-id="b5053-168">[![Se si seleziona automaticamente un nuovo prodotto (produzione), un PostBack, l'aggiornamento di DataList](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image25.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="b5053-168">[![Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the DataList](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image25.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image24.png)</span></span>

<span data-ttu-id="b5053-169">**Figura 10**: Se si seleziona automaticamente un nuovo prodotto (produzione), un PostBack, l'aggiornamento di DataList ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="b5053-169">**Figure 10**: Selecting a New Product (Produce) Automatically Causes a PostBack, Updating the DataList ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image26.png))</span></span>


## <a name="adding-a----choose-a-category----list-item"></a><span data-ttu-id="b5053-170">Aggiunta di un elemento di elenco ", scegliere una categoria"</span><span class="sxs-lookup"><span data-stu-id="b5053-170">Adding a "-- Choose a Category --" List Item</span></span>

<span data-ttu-id="b5053-171">Quando si visita prima la `FilterByDropDownList.aspx` pagina le categorie primo elemento di elenco del DropDownList (bevande) è selezionata per impostazione predefinita, che mostra i prodotti di bevande in DataList.</span><span class="sxs-lookup"><span data-stu-id="b5053-171">When first visiting the `FilterByDropDownList.aspx` page the categories DropDownList's first list item (Beverages) is selected by default, showing the beverage products in the DataList.</span></span> <span data-ttu-id="b5053-172">Nel *Master/Dettagli filtro con un controllo DropDownList* esercitazione abbiamo aggiunto un'opzione "-- seleziona una categoria," per il controllo DropDownList che è stato selezionato per impostazione predefinita e, quando selezionata, visualizzato *tutte* del prodotti nel database.</span><span class="sxs-lookup"><span data-stu-id="b5053-172">In the *Master/Detail Filtering With a DropDownList* tutorial we added a "-- Choose a Category --" option to the DropDownList that was selected by default and, when selected, displayed *all* of the products in the database.</span></span> <span data-ttu-id="b5053-173">Questo approccio è semplice da gestire quando si elencano i prodotti in un controllo GridView, come ogni riga del prodotto a occuparmi di una piccola quantità di superficie sullo schermo.</span><span class="sxs-lookup"><span data-stu-id="b5053-173">Such an approach was manageable when listing the products in a GridView, as each product row took up a small amount of screen real estate.</span></span> <span data-ttu-id="b5053-174">Con il DataList, tuttavia, le informazioni di ogni prodotto utilizza una quantità eccessiva porzione più grande della schermata.</span><span class="sxs-lookup"><span data-stu-id="b5053-174">With the DataList, however, each product's information consumes a much larger chunk of the screen.</span></span> <span data-ttu-id="b5053-175">È comunque possibile aggiungere un'opzione "-- seleziona una categoria," e averlo selezionata per impostazione predefinita, ma anziché mostrare tutti i prodotti quando è selezionata, è possibile configurarlo in modo che non mostra Nessun prodotto.</span><span class="sxs-lookup"><span data-stu-id="b5053-175">Let's still add a "-- Choose a Category --" option and have it selected by default, but instead of having it show all products when selected, let's configure it so that it shows no products.</span></span>

<span data-ttu-id="b5053-176">Per aggiungere un nuovo elemento elenco per il controllo DropDownList, passare alla finestra proprietà e fare clic sui puntini di sospensione di `Items` proprietà.</span><span class="sxs-lookup"><span data-stu-id="b5053-176">To add a new list item to the DropDownList, go to the Properties window and click on the ellipses in the `Items` property.</span></span> <span data-ttu-id="b5053-177">Aggiungere un nuovo elemento elenco con il `Text` ", scegliere una categoria," e il `Value` `0`.</span><span class="sxs-lookup"><span data-stu-id="b5053-177">Add a new list item with the `Text` "-- Choose a Category --" and the `Value` `0`.</span></span>


![Aggiungere un](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image27.png)

<span data-ttu-id="b5053-179">**Figura 11**: Aggiungere un elemento di elenco ", scegliere una categoria"</span><span class="sxs-lookup"><span data-stu-id="b5053-179">**Figure 11**: Add a "-- Choose a Category --" List Item</span></span>


<span data-ttu-id="b5053-180">In alternativa, è possibile aggiungere l'elemento dell'elenco, aggiungere il markup seguente per il controllo DropDownList:</span><span class="sxs-lookup"><span data-stu-id="b5053-180">Alternatively, you can add the list item by adding the following markup to the DropDownList:</span></span>

[!code-aspx[Main](master-detail-filtering-with-a-dropdownlist-datalist-cs/samples/sample3.aspx)]

<span data-ttu-id="b5053-181">Inoltre, è necessario impostare il controllo DropDownList `AppendDataBoundItems` al `true` poiché se è impostato su `false` (impostazione predefinita), quando le categorie vengono associate a DropDownList da ObjectDataSource, queste sovrascriveranno eventuali aggiunte manualmente dall'elenco elementi.</span><span class="sxs-lookup"><span data-stu-id="b5053-181">Additionally, we need to set the DropDownList control's `AppendDataBoundItems` to `true` because if it's set to `false` (the default), when the categories are bound to the DropDownList from the ObjectDataSource they'll overwrite any manually-added list items.</span></span>


![Impostare la proprietà AppendDataBoundItems su True](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image28.png)

<span data-ttu-id="b5053-183">**Figura 12**: Impostare il `AppendDataBoundItems` proprietà su True</span><span class="sxs-lookup"><span data-stu-id="b5053-183">**Figure 12**: Set the `AppendDataBoundItems` Property to True</span></span>


<span data-ttu-id="b5053-184">Il motivo è stato scelto il valore `0` per l'elenco ", scegliere una categoria," elemento è perché sono presenti categorie nel sistema con valore `0`, di conseguenza non verrà restituito alcun record di prodotto quando è selezionata la voce di elenco ", scegliere una categoria,".</span><span class="sxs-lookup"><span data-stu-id="b5053-184">The reason we chose the value `0` for the "-- Choose a Category --" list item is because there are no categories in the system with a value of `0`, hence no product records will be returned when the "-- Choose a Category --" list item is selected.</span></span> <span data-ttu-id="b5053-185">Per risolvere il problema, si consiglia di visitare la pagina tramite un browser.</span><span class="sxs-lookup"><span data-stu-id="b5053-185">To confirm this, take a moment to visit the page through a browser.</span></span> <span data-ttu-id="b5053-186">Come illustrato nella figura 13, quando la visualizzazione della pagina viene selezionata la voce di elenco ", scegliere una categoria:" inizialmente e prodotti non vengono visualizzata.</span><span class="sxs-lookup"><span data-stu-id="b5053-186">As Figure 13 shows, when initially viewing the page the "-- Choose a Category --" list item is selected and no products are displayed.</span></span>


<span data-ttu-id="b5053-187">[![Quando il](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image30.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="b5053-187">[![When the](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image30.png)](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image29.png)</span></span>

<span data-ttu-id="b5053-188">**Figura 13**: Quando è selezionata la voce di elenco ", scegliere una categoria,", vengono visualizzati i prodotti No ([fare clic per visualizzare l'immagine con dimensioni normali](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image31.png))</span><span class="sxs-lookup"><span data-stu-id="b5053-188">**Figure 13**: When the "-- Choose a Category --" List Item is Selected, No Products are Displayed ([Click to view full-size image](master-detail-filtering-with-a-dropdownlist-datalist-cs/_static/image31.png))</span></span>


<span data-ttu-id="b5053-189">Se invece è visualizzerebbe *tutte* dei prodotti quando è selezionata l'opzione "-- seleziona una categoria,", usare il valore `-1` invece.</span><span class="sxs-lookup"><span data-stu-id="b5053-189">If you'd rather display *all* of the products when the "-- Choose a Category --" option is selected, use a value of `-1` instead.</span></span> <span data-ttu-id="b5053-190">Il lettore astuto ricorderà che riporta indietro nel *Master/Dettagli filtro con un controllo DropDownList* esercitazione abbiamo aggiornato il `ProductsBLL` della classe `GetProductsByCategoryID(categoryID)` metodo in modo che se un *`categoryID`* valore di `-1` è stata passata, tutto il prodotto di record restituiti.</span><span class="sxs-lookup"><span data-stu-id="b5053-190">The astute reader will recall that back in the *Master/Detail Filtering With a DropDownList* tutorial we updated the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method so that if a *`categoryID`* value of `-1` was passed in, all product records were returned.</span></span>

## <a name="summary"></a><span data-ttu-id="b5053-191">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="b5053-191">Summary</span></span>

<span data-ttu-id="b5053-192">Quando si visualizzano dati correlati in modo gerarchico, è spesso utile per presentare i dati usando i report master o di dettaglio, da cui l'utente può iniziare ad analizzare i dati nella parte superiore della gerarchia e il drill-down nei dettagli.</span><span class="sxs-lookup"><span data-stu-id="b5053-192">When displaying hierarchically-related data, it often helps to present the data using master/detail reports, from which the user can start perusing the data from the top of the hierarchy and drill down into details.</span></span> <span data-ttu-id="b5053-193">In questa esercitazione abbiamo esaminato la creazione di un report master o di dettaglio che mostri i prodotti della categoria selezionata.</span><span class="sxs-lookup"><span data-stu-id="b5053-193">In this tutorial we examined building a simple master/detail report showing a selected category's products.</span></span> <span data-ttu-id="b5053-194">Questa operazione è stata eseguita usando un controllo DropDownList per l'elenco di categorie e un controllo DataList per i prodotti appartenenti alla categoria selezionata.</span><span class="sxs-lookup"><span data-stu-id="b5053-194">This was accomplished by using a DropDownList for the list of categories and a DataList for the products belonging to the selected category.</span></span>

<span data-ttu-id="b5053-195">Nella prossima esercitazione verrà esaminato separare i record master e i dettagli su due pagine.</span><span class="sxs-lookup"><span data-stu-id="b5053-195">In the next tutorial we'll look at separating the master and details records across two pages.</span></span> <span data-ttu-id="b5053-196">Nella prima pagina, un elenco di record "master" verrà visualizzato con un collegamento per visualizzare i dettagli.</span><span class="sxs-lookup"><span data-stu-id="b5053-196">In the first page, a list of "master" records will be displayed, with a link to view the details.</span></span> <span data-ttu-id="b5053-197">Facendo clic sul collegamento verrà whisk all'utente la seconda pagina, che verrà visualizzati i dettagli per il record principale selezionato.</span><span class="sxs-lookup"><span data-stu-id="b5053-197">Clicking on the link will whisk the user to the second page, which will display the details for the selected master record.</span></span>

<span data-ttu-id="b5053-198">Buona programmazione!</span><span class="sxs-lookup"><span data-stu-id="b5053-198">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="b5053-199">Informazioni sull'autore</span><span class="sxs-lookup"><span data-stu-id="b5053-199">About the Author</span></span>

<span data-ttu-id="b5053-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autore di sette libri e fondatore di [4GuysFromRolla.com](http://www.4guysfromrolla.com), ha collaborato con tecnologie Web di Microsoft dal 1998.</span><span class="sxs-lookup"><span data-stu-id="b5053-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="b5053-201">Lavora come un consulente, formatore e autore.</span><span class="sxs-lookup"><span data-stu-id="b5053-201">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="b5053-202">Il suo ultimo libro si intitola [ *Sams Teach Yourself ASP.NET 2.0 in 24 ore*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="b5053-202">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="b5053-203">È possibile contattarlo al [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="b5053-203">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="b5053-204">o sul suo blog, che è reperibile in [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="b5053-204">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="b5053-205">Ringraziamenti speciali...</span><span class="sxs-lookup"><span data-stu-id="b5053-205">Special Thanks To…</span></span>

<span data-ttu-id="b5053-206">Questa serie di esercitazioni è stata esaminata da diversi validi revisori.</span><span class="sxs-lookup"><span data-stu-id="b5053-206">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="b5053-207">Il revisore capo di questa esercitazione è stata Randy Schmidt.</span><span class="sxs-lookup"><span data-stu-id="b5053-207">Lead reviewer for this tutorial was Randy Schmidt.</span></span> <span data-ttu-id="b5053-208">Se si è interessati prossimi articoli MSDN dello?</span><span class="sxs-lookup"><span data-stu-id="b5053-208">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="b5053-209">In questo caso, Inviami una riga in corrispondenza [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="b5053-209">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="b5053-210">avanti</span><span class="sxs-lookup"><span data-stu-id="b5053-210">Next</span></span>](master-detail-filtering-acess-two-pages-datalist-cs.md)
