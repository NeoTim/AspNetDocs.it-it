---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-radio-buttons-vb
title: Aggiunta di una colonna GridView di pulsanti di opzione (VB) | Microsoft Docs
author: rick-anderson
description: In questa esercitazione viene illustrato come aggiungere una colonna di pulsanti di opzione a un controllo GridView per fornire all'utente un modo più intuitivo per selezionare una singola riga di...
ms.author: riande
ms.date: 03/06/2007
ms.assetid: 2e31b60b-8723-4f14-b7ee-37859454dc3b
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-radio-buttons-vb
msc.type: authoredcontent
ms.openlocfilehash: ee67a4556c65d2c9570bf15b42fc3c8e5f555bda
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/28/2019
ms.locfileid: "74592740"
---
# <a name="adding-a-gridview-column-of-radio-buttons-vb"></a><span data-ttu-id="71f98-103">Aggiunta di una colonna GridView di pulsanti di opzione (VB)</span><span class="sxs-lookup"><span data-stu-id="71f98-103">Adding a GridView Column of Radio Buttons (VB)</span></span>

<span data-ttu-id="71f98-104">di [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="71f98-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="71f98-105">[Scaricare l'app di esempio](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_51_VB.exe) o [scaricare il file PDF](adding-a-gridview-column-of-radio-buttons-vb/_static/datatutorial51vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="71f98-105">[Download Sample App](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_51_VB.exe) or [Download PDF](adding-a-gridview-column-of-radio-buttons-vb/_static/datatutorial51vb1.pdf)</span></span>

> <span data-ttu-id="71f98-106">In questa esercitazione viene illustrato come aggiungere una colonna di pulsanti di opzione a un controllo GridView per fornire all'utente un modo più intuitivo per selezionare una singola riga di GridView.</span><span class="sxs-lookup"><span data-stu-id="71f98-106">This tutorial looks at how to add a column of radio buttons to a GridView control to provide the user with a more intuitive way of selecting a single row of the GridView.</span></span>

## <a name="introduction"></a><span data-ttu-id="71f98-107">Introduzione</span><span class="sxs-lookup"><span data-stu-id="71f98-107">Introduction</span></span>

<span data-ttu-id="71f98-108">Il controllo GridView offre una grande quantità di funzionalità predefinite.</span><span class="sxs-lookup"><span data-stu-id="71f98-108">The GridView control offers a great deal of built-in functionality.</span></span> <span data-ttu-id="71f98-109">Include una serie di campi diversi per la visualizzazione di testo, immagini, collegamenti ipertestuali e pulsanti.</span><span class="sxs-lookup"><span data-stu-id="71f98-109">It includes a number of different fields for displaying text, images, hyperlinks, and buttons.</span></span> <span data-ttu-id="71f98-110">Supporta i modelli per un'ulteriore personalizzazione.</span><span class="sxs-lookup"><span data-stu-id="71f98-110">It supports templates for further customization.</span></span> <span data-ttu-id="71f98-111">Con pochi clic del mouse, è possibile creare un controllo GridView in cui ogni riga può essere selezionata tramite un pulsante o per abilitare la modifica o l'eliminazione delle funzionalità.</span><span class="sxs-lookup"><span data-stu-id="71f98-111">With a few clicks of the mouse, it s possible to make a GridView where each row can be selected via a button, or to enable editing or deleting capabilities.</span></span> <span data-ttu-id="71f98-112">Nonostante la pletora di funzionalità fornite, spesso si verificano situazioni in cui è necessario aggiungere funzionalità aggiuntive non supportate.</span><span class="sxs-lookup"><span data-stu-id="71f98-112">Despite the plethora of provided features, there will often be situations in which additional, non-supported features will need to be added.</span></span> <span data-ttu-id="71f98-113">In questa esercitazione e nei prossimi due si esaminerà come migliorare la funzionalità di GridView per includere funzionalità aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="71f98-113">In this tutorial and the next two we'll examine how to enhance the GridView s functionality to include additional features.</span></span>

<span data-ttu-id="71f98-114">Questa esercitazione e quella successiva si concentrano sul miglioramento del processo di selezione delle righe.</span><span class="sxs-lookup"><span data-stu-id="71f98-114">This tutorial and the next one focus on enhancing the row-selection process.</span></span> <span data-ttu-id="71f98-115">Come esaminato in [Master/Detail usando un GridView Master selezionabile con un controllo DetailView per di dettagli](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb.md), è possibile aggiungere un oggetto CommandField al GridView che include un pulsante Select.</span><span class="sxs-lookup"><span data-stu-id="71f98-115">As examined in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb.md), we can add a CommandField to the GridView that includes a Select button.</span></span> <span data-ttu-id="71f98-116">Quando si fa clic su un postback, viene eseguito un postback e la proprietà `SelectedIndex` GridView s viene aggiornata all'indice della riga di cui è stato fatto clic sul pulsante Seleziona.</span><span class="sxs-lookup"><span data-stu-id="71f98-116">When clicked, a postback ensues and the GridView s `SelectedIndex` property is updated to the index of the row whose Select button was clicked.</span></span> <span data-ttu-id="71f98-117">In [Master/Details con un'esercitazione Selectable Master GridView with an Details controllo DetailView per](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb.md) è stato illustrato come usare questa funzionalità per visualizzare i dettagli per la riga GridView selezionata.</span><span class="sxs-lookup"><span data-stu-id="71f98-117">In the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb.md) tutorial, we saw how to use this feature to display details for the selected GridView row.</span></span>

<span data-ttu-id="71f98-118">Mentre il pulsante Seleziona funziona in molte situazioni, potrebbe non funzionare anche per altri.</span><span class="sxs-lookup"><span data-stu-id="71f98-118">While the Select button works in many situations, it may not work as well for others.</span></span> <span data-ttu-id="71f98-119">Anziché utilizzare un pulsante, altri due elementi dell'interfaccia utente vengono comunemente utilizzati per la selezione: il pulsante di opzione e la casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="71f98-119">Rather than using a button, two other user interface elements are commonly used for selection: the radio button and checkbox.</span></span> <span data-ttu-id="71f98-120">È possibile aumentare il controllo GridView in modo che invece di un pulsante di selezione ogni riga contenga un pulsante di opzione o una casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="71f98-120">We can augment the GridView so that instead of a Select button, each row contains a radio button or checkbox.</span></span> <span data-ttu-id="71f98-121">Negli scenari in cui l'utente può solo selezionare uno dei record GridView, il pulsante di opzione potrebbe essere preferito sul pulsante Seleziona.</span><span class="sxs-lookup"><span data-stu-id="71f98-121">In scenarios where the user can only select one of the GridView records, the radio button might be preferred over the Select button.</span></span> <span data-ttu-id="71f98-122">Nelle situazioni in cui l'utente può potenzialmente selezionare più record, ad esempio in un'applicazione di posta elettronica basata sul Web, in cui un utente potrebbe voler selezionare più messaggi per l'eliminazione della casella di controllo offre funzionalità non disponibili tramite il pulsante Seleziona o pulsante di opzione interfacce utente.</span><span class="sxs-lookup"><span data-stu-id="71f98-122">In situations where the user can potentially select multiple records such as in a web-based email application, where a user might want to select multiple messages to delete the checkbox offers functionality that is not available from the Select button or radio button user interfaces.</span></span>

<span data-ttu-id="71f98-123">Questa esercitazione illustra come aggiungere una colonna di pulsanti di opzione a GridView.</span><span class="sxs-lookup"><span data-stu-id="71f98-123">This tutorial looks at how to add a column of radio buttons to the GridView.</span></span> <span data-ttu-id="71f98-124">L'esercitazione continuazione Esplora l'uso delle caselle di controllo.</span><span class="sxs-lookup"><span data-stu-id="71f98-124">The proceeding tutorial explores using checkboxes.</span></span>

## <a name="step-1-creating-the-enhancing-the-gridview-web-pages"></a><span data-ttu-id="71f98-125">Passaggio 1: creazione dell'oggetto che migliora le pagine Web GridView</span><span class="sxs-lookup"><span data-stu-id="71f98-125">Step 1: Creating the Enhancing the GridView Web Pages</span></span>

<span data-ttu-id="71f98-126">Prima di iniziare a migliorare GridView per includere una colonna di pulsanti di opzione, è necessario prima di tutto creare le pagine ASP.NET nel progetto del sito Web che saranno necessarie per questa esercitazione e le due successive.</span><span class="sxs-lookup"><span data-stu-id="71f98-126">Before we start enhancing the GridView to include a column of radio buttons, let s first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial and the next two.</span></span> <span data-ttu-id="71f98-127">Per iniziare, aggiungere una nuova cartella denominata `EnhancedGridView`.</span><span class="sxs-lookup"><span data-stu-id="71f98-127">Start by adding a new folder named `EnhancedGridView`.</span></span> <span data-ttu-id="71f98-128">Aggiungere quindi le pagine ASP.NET seguenti a tale cartella, assicurandosi di associare ogni pagina alla pagina master `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="71f98-128">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `RadioButtonField.aspx`
- `CheckBoxField.aspx`
- `InsertThroughFooter.aspx`

![Aggiungere le pagine ASP.NET per le esercitazioni correlate a SqlDataSource](adding-a-gridview-column-of-radio-buttons-vb/_static/image1.gif)

<span data-ttu-id="71f98-130">**Figura 1**: aggiungere le pagine ASP.NET per le esercitazioni correlate a SqlDataSource</span><span class="sxs-lookup"><span data-stu-id="71f98-130">**Figure 1**: Add the ASP.NET Pages for the SqlDataSource-Related Tutorials</span></span>

<span data-ttu-id="71f98-131">Analogamente alle altre cartelle, `Default.aspx` nella cartella `EnhancedGridView` elenca le esercitazioni nella sezione.</span><span class="sxs-lookup"><span data-stu-id="71f98-131">Like in the other folders, `Default.aspx` in the `EnhancedGridView` folder will list the tutorials in its section.</span></span> <span data-ttu-id="71f98-132">Si ricordi che il controllo utente `SectionLevelTutorialListing.ascx` fornisce questa funzionalità.</span><span class="sxs-lookup"><span data-stu-id="71f98-132">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="71f98-133">Quindi, aggiungere questo controllo utente a `Default.aspx` trascinandolo dall'Esplora soluzioni nella visualizzazione di progettazione della pagina.</span><span class="sxs-lookup"><span data-stu-id="71f98-133">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page s Design view.</span></span>

<span data-ttu-id="71f98-134">[![aggiungere il controllo utente SectionLevelTutorialListing. ascx a default. aspx](adding-a-gridview-column-of-radio-buttons-vb/_static/image2.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-134">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](adding-a-gridview-column-of-radio-buttons-vb/_static/image2.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image1.png)</span></span>

<span data-ttu-id="71f98-135">**Figura 2**: aggiungere il controllo utente `SectionLevelTutorialListing.ascx` al `Default.aspx` ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-135">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image2.png))</span></span>

<span data-ttu-id="71f98-136">Infine, aggiungere le quattro pagine come voci al file di `Web.sitemap`.</span><span class="sxs-lookup"><span data-stu-id="71f98-136">Lastly, add these four pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="71f98-137">In particolare, aggiungere il markup seguente dopo l'utilizzo del controllo SqlDataSource `<siteMapNode>`:</span><span class="sxs-lookup"><span data-stu-id="71f98-137">Specifically, add the following markup after the Using the SqlDataSource Control `<siteMapNode>`:</span></span>

[!code-xml[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample1.xml)]

<span data-ttu-id="71f98-138">Dopo avere aggiornato `Web.sitemap`, è possibile visualizzare il sito Web delle esercitazioni tramite un browser.</span><span class="sxs-lookup"><span data-stu-id="71f98-138">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="71f98-139">Il menu a sinistra include ora gli elementi per le esercitazioni di modifica, inserimento ed eliminazione.</span><span class="sxs-lookup"><span data-stu-id="71f98-139">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>

![La mappa del sito include ora le voci per migliorare le esercitazioni di GridView](adding-a-gridview-column-of-radio-buttons-vb/_static/image3.gif)

<span data-ttu-id="71f98-141">**Figura 3**: la mappa del sito include ora le voci per migliorare le esercitazioni di GridView</span><span class="sxs-lookup"><span data-stu-id="71f98-141">**Figure 3**: The Site Map Now Includes Entries for the Enhancing the GridView Tutorials</span></span>

## <a name="step-2-displaying-the-suppliers-in-a-gridview"></a><span data-ttu-id="71f98-142">Passaggio 2: visualizzazione dei fornitori in un controllo GridView</span><span class="sxs-lookup"><span data-stu-id="71f98-142">Step 2: Displaying the Suppliers in a GridView</span></span>

<span data-ttu-id="71f98-143">Per questa esercitazione, s compila un GridView che elenca i fornitori degli Stati Uniti, con ogni riga GridView che fornisce un pulsante di opzione.</span><span class="sxs-lookup"><span data-stu-id="71f98-143">For this tutorial let s build a GridView that lists the suppliers from the USA, with each GridView row providing a radio button.</span></span> <span data-ttu-id="71f98-144">Dopo aver selezionato un fornitore tramite il pulsante di opzione, l'utente può visualizzare i prodotti dei fornitori facendo clic su un pulsante.</span><span class="sxs-lookup"><span data-stu-id="71f98-144">After selecting a supplier via the radio button, the user can view the supplier s products by clicking a button.</span></span> <span data-ttu-id="71f98-145">Sebbene questa attività possa sembrare semplice, esistono diverse sottigliezze che lo rendono particolarmente complesso.</span><span class="sxs-lookup"><span data-stu-id="71f98-145">While this task may sound trivial, there are a number of subtleties that make it particularly tricky.</span></span> <span data-ttu-id="71f98-146">Prima di approfondire queste sottigliezze, si ottiene prima di tutto un GridView che elenca i fornitori.</span><span class="sxs-lookup"><span data-stu-id="71f98-146">Before we delve into these subtleties, let s first get a GridView listing the suppliers.</span></span>

<span data-ttu-id="71f98-147">Per iniziare, aprire la pagina `RadioButtonField.aspx` nella cartella `EnhancedGridView` trascinando un controllo GridView dalla casella degli strumenti nella finestra di progettazione.</span><span class="sxs-lookup"><span data-stu-id="71f98-147">Start by opening the `RadioButtonField.aspx` page in the `EnhancedGridView` folder by dragging a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="71f98-148">Impostare il `ID` di GridView su `Suppliers` e, dallo smart tag, scegliere di creare una nuova origine dati.</span><span class="sxs-lookup"><span data-stu-id="71f98-148">Set the GridView s `ID` to `Suppliers` and, from its smart tag, choose to create a new data source.</span></span> <span data-ttu-id="71f98-149">In particolare, creare un ObjectDataSource denominato `SuppliersDataSource` che estrae i dati dall'oggetto `SuppliersBLL`.</span><span class="sxs-lookup"><span data-stu-id="71f98-149">Specifically, create an ObjectDataSource named `SuppliersDataSource` that pulls its data from the `SuppliersBLL` object.</span></span>

<span data-ttu-id="71f98-150">[![creare un nuovo ObjectDataSource denominato SuppliersDataSource](adding-a-gridview-column-of-radio-buttons-vb/_static/image4.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-150">[![Create a New ObjectDataSource Named SuppliersDataSource](adding-a-gridview-column-of-radio-buttons-vb/_static/image4.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image3.png)</span></span>

<span data-ttu-id="71f98-151">**Figura 4**: creare un nuovo ObjectDataSource denominato `SuppliersDataSource` ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-151">**Figure 4**: Create a New ObjectDataSource Named `SuppliersDataSource` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image4.png))</span></span>

<span data-ttu-id="71f98-152">[![configurare ObjectDataSource per l'utilizzo della classe SuppliersBLL](adding-a-gridview-column-of-radio-buttons-vb/_static/image5.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-152">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-vb/_static/image5.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image5.png)</span></span>

<span data-ttu-id="71f98-153">**Figura 5**: configurare ObjectDataSource per l'uso della classe `SuppliersBLL` ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-153">**Figure 5**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image6.png))</span></span>

<span data-ttu-id="71f98-154">Poiché si desidera solo elencare i fornitori negli Stati Uniti, scegliere il metodo `GetSuppliersByCountry(country)` dall'elenco a discesa nella scheda Seleziona.</span><span class="sxs-lookup"><span data-stu-id="71f98-154">Since we only want to list those suppliers in the USA, choose the `GetSuppliersByCountry(country)` method from the drop-down list in the SELECT tab.</span></span>

<span data-ttu-id="71f98-155">[![configurare ObjectDataSource per l'utilizzo della classe SuppliersBLL](adding-a-gridview-column-of-radio-buttons-vb/_static/image6.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-155">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-vb/_static/image6.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image7.png)</span></span>

<span data-ttu-id="71f98-156">**Figura 6**: configurare ObjectDataSource per l'uso della classe `SuppliersBLL` ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-156">**Figure 6**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image8.png))</span></span>

<span data-ttu-id="71f98-157">Dalla scheda aggiornamento, selezionare l'opzione (nessuno) e fare clic su Avanti.</span><span class="sxs-lookup"><span data-stu-id="71f98-157">From the UPDATE tab, select the (None) option and click Next.</span></span>

<span data-ttu-id="71f98-158">[![configurare ObjectDataSource per l'utilizzo della classe SuppliersBLL](adding-a-gridview-column-of-radio-buttons-vb/_static/image7.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-158">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-vb/_static/image7.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image9.png)</span></span>

<span data-ttu-id="71f98-159">**Figura 7**: configurare ObjectDataSource per l'uso della classe `SuppliersBLL` ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-159">**Figure 7**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image10.png))</span></span>

<span data-ttu-id="71f98-160">Poiché il metodo `GetSuppliersByCountry(country)` accetta un parametro, la procedura guidata Configura origine dati richiede l'origine del parametro.</span><span class="sxs-lookup"><span data-stu-id="71f98-160">Since the `GetSuppliersByCountry(country)` method accepts a parameter, the Configure Data Source wizard prompts us for the source of that parameter.</span></span> <span data-ttu-id="71f98-161">Per specificare un valore hardcoded (USA, in questo esempio), lasciare l'elenco a discesa parametro source impostato su None e immettere il valore predefinito nella casella di testo.</span><span class="sxs-lookup"><span data-stu-id="71f98-161">To specify a hard coded value ( USA, in this example), leave the Parameter source drop-down list set to None and enter the default value in the textbox.</span></span> <span data-ttu-id="71f98-162">Fare clic su Fine per completare la procedura guidata.</span><span class="sxs-lookup"><span data-stu-id="71f98-162">Click Finish to complete the wizard.</span></span>

<span data-ttu-id="71f98-163">[![USA USA come valore predefinito per il parametro Country](adding-a-gridview-column-of-radio-buttons-vb/_static/image8.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-163">[![Use USA as the Default Value for the country Parameter](adding-a-gridview-column-of-radio-buttons-vb/_static/image8.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image11.png)</span></span>

<span data-ttu-id="71f98-164">**Figura 8**: usare USA come valore predefinito per il parametro `country` ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-164">**Figure 8**: Use USA as the Default Value for the `country` Parameter ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image12.png))</span></span>

<span data-ttu-id="71f98-165">Al termine della procedura guidata, in GridView verrà incluso un BoundField per ognuno dei campi dati fornitore.</span><span class="sxs-lookup"><span data-stu-id="71f98-165">After completing the wizard, the GridView will include a BoundField for each of the supplier data fields.</span></span> <span data-ttu-id="71f98-166">Rimuovere tutti i BoundField, tranne i `CompanyName`, `City`e `Country`, e rinominare la proprietà `CompanyName` BoundFields `HeaderText` in Supplier.</span><span class="sxs-lookup"><span data-stu-id="71f98-166">Remove all but the `CompanyName`, `City`, and `Country` BoundFields, and rename the `CompanyName` BoundFields `HeaderText` property to Supplier.</span></span> <span data-ttu-id="71f98-167">Dopo questa operazione, la sintassi dichiarativa GridView e ObjectDataSource dovrebbe essere simile alla seguente.</span><span class="sxs-lookup"><span data-stu-id="71f98-167">After doing so, the GridView and ObjectDataSource declarative syntax should look similar to the following.</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample2.aspx)]

<span data-ttu-id="71f98-168">Per questa esercitazione, consente all'utente di visualizzare i prodotti dei fornitori selezionati nella stessa pagina dell'elenco Supplier o in una pagina diversa.</span><span class="sxs-lookup"><span data-stu-id="71f98-168">For this tutorial, let s allow the user to view the selected supplier s products on the same page as the supplier list, or on a different page.</span></span> <span data-ttu-id="71f98-169">Per risolvere questo problema, aggiungere due controlli Web Button alla pagina.</span><span class="sxs-lookup"><span data-stu-id="71f98-169">To accommodate this, add two Button Web controls to the page.</span></span> <span data-ttu-id="71f98-170">Ho impostato la `ID` di questi due pulsanti su `ListProducts` e `SendToProducts`, con l'idea che, quando si fa clic su `ListProducts` si verificherà un postback, i prodotti selezionati verranno elencati nella stessa pagina, ma quando si fa clic su `SendToProducts`, l'utente verrà sbattuto in un'altra pagina in cui sono elencati i prodotti.</span><span class="sxs-lookup"><span data-stu-id="71f98-170">I ve set the `ID` s of these two Buttons to `ListProducts` and `SendToProducts`, with the idea that when `ListProducts` is clicked a postback will occur and the selected supplier s products will be listed on the same page, but when `SendToProducts` is clicked, the user will be whisked to a another page that lists the products.</span></span>

<span data-ttu-id="71f98-171">Nella figura 9 è illustrato il `Suppliers` GridView e i controlli Web di due pulsanti quando vengono visualizzati tramite un browser.</span><span class="sxs-lookup"><span data-stu-id="71f98-171">Figure 9 shows the `Suppliers` GridView and the two Button Web controls when viewed through a browser.</span></span>

<span data-ttu-id="71f98-172">[![ai fornitori degli Stati Uniti le informazioni relative a nome, città e paese sono elencate](adding-a-gridview-column-of-radio-buttons-vb/_static/image9.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-172">[![Those Suppliers from the USA Have Their Name, City, and Country Information Listed](adding-a-gridview-column-of-radio-buttons-vb/_static/image9.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image13.png)</span></span>

<span data-ttu-id="71f98-173">**Figura 9**: per i fornitori degli Stati Uniti sono elencate le informazioni relative a nome, città e paese ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-173">**Figure 9**: Those Suppliers from the USA Have Their Name, City, and Country Information Listed ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image14.png))</span></span>

## <a name="step-3-adding-a-column-of-radio-buttons"></a><span data-ttu-id="71f98-174">Passaggio 3: aggiunta di una colonna di pulsanti di opzione</span><span class="sxs-lookup"><span data-stu-id="71f98-174">Step 3: Adding a Column of Radio Buttons</span></span>

<span data-ttu-id="71f98-175">A questo punto, il `Suppliers` GridView ha tre BoundField che visualizzano il nome della società, la città e il paese di ogni fornitore negli Stati Uniti.</span><span class="sxs-lookup"><span data-stu-id="71f98-175">At this point the `Suppliers` GridView has three BoundFields displaying the company name, city, and country of each supplier in the USA.</span></span> <span data-ttu-id="71f98-176">Tuttavia, manca ancora una colonna di pulsanti di opzione.</span><span class="sxs-lookup"><span data-stu-id="71f98-176">It is still lacking a column of radio buttons, however.</span></span> <span data-ttu-id="71f98-177">Sfortunatamente, GridView non include una RadioButtonField incorporata, in caso contrario è possibile aggiungerla alla griglia ed essere eseguita.</span><span class="sxs-lookup"><span data-stu-id="71f98-177">Unfortunately, the GridView doesn t include a built-in RadioButtonField, otherwise we could just add that to the grid and be done.</span></span> <span data-ttu-id="71f98-178">Al contrario, è possibile aggiungere un TemplateField e configurarne la `ItemTemplate` per eseguire il rendering di un pulsante di opzione, ottenendo un pulsante di opzione per ogni riga di GridView.</span><span class="sxs-lookup"><span data-stu-id="71f98-178">Instead, we can add a TemplateField and configure its `ItemTemplate` to render a radio button, resulting in a radio button for each GridView row.</span></span>

<span data-ttu-id="71f98-179">Inizialmente, si potrebbe supporre che l'interfaccia utente desiderata possa essere implementata aggiungendo un controllo Web RadioButton al `ItemTemplate` di un TemplateField.</span><span class="sxs-lookup"><span data-stu-id="71f98-179">Initially, we might assume that the desired user interface can be implemented by adding a RadioButton Web control to the `ItemTemplate` of a TemplateField.</span></span> <span data-ttu-id="71f98-180">Sebbene venga effettivamente aggiunto un singolo pulsante di opzione a ogni riga di GridView, i pulsanti di opzione non possono essere raggruppati e pertanto non si escludono a vicenda.</span><span class="sxs-lookup"><span data-stu-id="71f98-180">While this will indeed add a single radio button to each row of the GridView, the radio buttons cannot be grouped and therefore are not mutually exclusive.</span></span> <span data-ttu-id="71f98-181">Ovvero, un utente finale può selezionare più pulsanti di opzione contemporaneamente da GridView.</span><span class="sxs-lookup"><span data-stu-id="71f98-181">That is, an end user is able to select multiple radio buttons simultaneously from the GridView.</span></span>

<span data-ttu-id="71f98-182">Anche se l'uso di un TemplateField di controlli Web RadioButton non offre le funzionalità necessarie, consente di implementare questo approccio, perché vale la pena esaminare il motivo per cui i pulsanti di opzione risultanti non sono raggruppati.</span><span class="sxs-lookup"><span data-stu-id="71f98-182">Even though using a TemplateField of RadioButton Web controls does not offer the functionality we need, let s implement this approach, as it s worthwhile to examine why the resulting radio buttons are not grouped.</span></span> <span data-ttu-id="71f98-183">Per iniziare, aggiungere un TemplateField al GridView Suppliers, rendendolo il campo più a sinistra.</span><span class="sxs-lookup"><span data-stu-id="71f98-183">Start by adding a TemplateField to the Suppliers GridView, making it the leftmost field.</span></span> <span data-ttu-id="71f98-184">Quindi, dallo smart tag di GridView, fare clic sul collegamento modifica modelli e trascinare un controllo Web RadioButton dalla casella degli strumenti in TemplateField s `ItemTemplate` (vedere la figura 10).</span><span class="sxs-lookup"><span data-stu-id="71f98-184">Next, from the GridView s smart tag, click the Edit Templates link and drag a RadioButton Web control from the Toolbox into the TemplateField s `ItemTemplate` (see Figure 10).</span></span> <span data-ttu-id="71f98-185">Impostare la proprietà `ID` di RadioButton su `RowSelector` e la proprietà `GroupName` su `SuppliersGroup`.</span><span class="sxs-lookup"><span data-stu-id="71f98-185">Set the RadioButton s `ID` property to `RowSelector` and the `GroupName` property to `SuppliersGroup`.</span></span>

<span data-ttu-id="71f98-186">[![aggiungere un controllo Web RadioButton a ItemTemplate](adding-a-gridview-column-of-radio-buttons-vb/_static/image10.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-186">[![Add a RadioButton Web Control to the ItemTemplate](adding-a-gridview-column-of-radio-buttons-vb/_static/image10.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image15.png)</span></span>

<span data-ttu-id="71f98-187">**Figura 10**: aggiungere un controllo Web RadioButton al `ItemTemplate` ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-187">**Figure 10**: Add a RadioButton Web Control to the `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image16.png))</span></span>

<span data-ttu-id="71f98-188">Dopo aver apportato queste aggiunte tramite la finestra di progettazione, il markup di GridView avrà un aspetto simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="71f98-188">After making these additions through the Designer, your GridView s markup should look similar to the following:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample3.aspx)]

<span data-ttu-id="71f98-189">La [proprietà`GroupName`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.radiobutton.groupname(VS.80).aspx) di RadioButton è quella usata per raggruppare una serie di pulsanti di opzione.</span><span class="sxs-lookup"><span data-stu-id="71f98-189">The RadioButton s [`GroupName` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.radiobutton.groupname(VS.80).aspx) is what is used to group a series of radio buttons.</span></span> <span data-ttu-id="71f98-190">Tutti i controlli RadioButton con lo stesso valore `GroupName` sono considerati raggruppati; è possibile selezionare un solo pulsante di opzione da un gruppo alla volta.</span><span class="sxs-lookup"><span data-stu-id="71f98-190">All RadioButton controls with the same `GroupName` value are considered grouped; only one radio button can be selected from a group at a time.</span></span> <span data-ttu-id="71f98-191">La proprietà `GroupName` specifica il valore per l'attributo `name` del pulsante di opzione di cui è stato eseguito il rendering.</span><span class="sxs-lookup"><span data-stu-id="71f98-191">The `GroupName` property specifies the value for the rendered radio button s `name` attribute.</span></span> <span data-ttu-id="71f98-192">Il browser esamina i pulsanti di opzione `name` attributi per determinare i raggruppamenti dei pulsanti di opzione.</span><span class="sxs-lookup"><span data-stu-id="71f98-192">The browser examines the radio buttons `name` attributes to determine the radio button groupings.</span></span>

<span data-ttu-id="71f98-193">Con il controllo Web RadioButton aggiunto al `ItemTemplate`, visitare questa pagina tramite un browser e fare clic sui pulsanti di opzione nelle righe della griglia.</span><span class="sxs-lookup"><span data-stu-id="71f98-193">With the RadioButton Web control added to the `ItemTemplate`, visit this page through a browser and click on the radio buttons in the grid s rows.</span></span> <span data-ttu-id="71f98-194">Si noti che i pulsanti di opzione non sono raggruppati, rendendo possibile la selezione di tutte le righe, come illustrato nella figura 11.</span><span class="sxs-lookup"><span data-stu-id="71f98-194">Notice how the radio buttons are not grouped, making it possible to select all of the rows, as Figure 11 shows.</span></span>

<span data-ttu-id="71f98-195">[![i pulsanti di opzione di GridView non sono raggruppati](adding-a-gridview-column-of-radio-buttons-vb/_static/image11.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-195">[![The GridView s Radio Buttons are Not Grouped](adding-a-gridview-column-of-radio-buttons-vb/_static/image11.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image17.png)</span></span>

<span data-ttu-id="71f98-196">**Figura 11**: i pulsanti di opzione di GridView non sono raggruppati ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-196">**Figure 11**: The GridView s Radio Buttons are Not Grouped ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image18.png))</span></span>

<span data-ttu-id="71f98-197">Il motivo per cui i pulsanti di opzione non sono raggruppati è il fatto che gli attributi `name` sottoposti a rendering sono diversi, pur avendo la stessa impostazione della proprietà `GroupName`.</span><span class="sxs-lookup"><span data-stu-id="71f98-197">The reason the radio buttons are not grouped is because their rendered `name` attributes are different, despite having the same `GroupName` property setting.</span></span> <span data-ttu-id="71f98-198">Per visualizzare queste differenze, eseguire una visualizzazione/origine dal browser ed esaminare il markup del pulsante di opzione:</span><span class="sxs-lookup"><span data-stu-id="71f98-198">To see these differences, do a View/Source from the browser and examine the radio button markup:</span></span>

[!code-html[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample4.html)]

<span data-ttu-id="71f98-199">Si noti che gli attributi `name` e `id` non sono i valori esatti specificati nel Finestra Proprietà, ma sono preceduto da un numero di altri valori di `ID`.</span><span class="sxs-lookup"><span data-stu-id="71f98-199">Notice how both the `name` and `id` attributes are not the exact values as specified in the Properties window, but are prepended with a number of other `ID` values.</span></span> <span data-ttu-id="71f98-200">I valori `ID` aggiuntivi aggiunti all'inizio degli `id` sottoposti a rendering e `name` gli attributi sono i `ID` s dei pulsanti di opzione padre controllano le `GridViewRow` s `ID`, il `ID`di GridView, il `ID`del controllo contenuto e il `ID`Web Form.</span><span class="sxs-lookup"><span data-stu-id="71f98-200">The additional `ID` values added to the front of the rendered `id` and `name` attributes are the `ID` s of the radio buttons parent controls the `GridViewRow` s `ID` s, the GridView s `ID`, the Content control s `ID`, and the Web Form s `ID`.</span></span> <span data-ttu-id="71f98-201">Questi `ID` vengono aggiunti in modo che ogni controllo Web di cui è stato eseguito il rendering in GridView disponga di un valore `id` e `name` univoco.</span><span class="sxs-lookup"><span data-stu-id="71f98-201">These `ID` s are added so that each rendered Web control in the GridView has a unique `id` and `name` values.</span></span>

<span data-ttu-id="71f98-202">Ogni controllo di cui è stato eseguito il rendering necessita di un `name` e `id` diversi perché questo è il modo in cui il browser identifica in modo univoco ogni controllo sul lato client e come identifica al server Web quale azione o modifica si è verificata durante il postback.</span><span class="sxs-lookup"><span data-stu-id="71f98-202">Each rendered control needs a different `name` and `id` because this is how the browser uniquely identifies each control on the client-side and how it identifies to the web server what action or change has occurred on postback.</span></span> <span data-ttu-id="71f98-203">Si supponga, ad esempio, di voler eseguire parte del codice sul lato server ogni volta che lo stato selezionato di RadioButton è stato modificato.</span><span class="sxs-lookup"><span data-stu-id="71f98-203">For example, imagine that we wanted to run some server-side code whenever a RadioButton s checked state was changed.</span></span> <span data-ttu-id="71f98-204">A tale scopo, è possibile impostare la proprietà `AutoPostBack` di RadioButton su `True` e creare un gestore eventi per l'evento `CheckChanged`.</span><span class="sxs-lookup"><span data-stu-id="71f98-204">We could accomplish this by setting the RadioButton s `AutoPostBack` property to `True` and creating an event handler for the `CheckChanged` event.</span></span> <span data-ttu-id="71f98-205">Tuttavia, se il `name` e i valori di `id` di cui è stato eseguito il rendering per tutti i pulsanti di opzione sono uguali, durante il postback non è stato possibile determinare quale RadioButton specifico è stato selezionato.</span><span class="sxs-lookup"><span data-stu-id="71f98-205">However, if the rendered `name` and `id` values for all of the radio buttons were the same, on postback we could not determine what specific RadioButton was clicked.</span></span>

<span data-ttu-id="71f98-206">Il breve è che non è possibile creare una colonna di pulsanti di opzione in GridView usando il controllo Web RadioButton.</span><span class="sxs-lookup"><span data-stu-id="71f98-206">The short of it is that we cannot create a column of radio buttons in a GridView using the RadioButton Web control.</span></span> <span data-ttu-id="71f98-207">Al contrario, è necessario utilizzare tecniche piuttosto arcaiche per garantire che il markup appropriato venga inserito in ogni riga di GridView.</span><span class="sxs-lookup"><span data-stu-id="71f98-207">Instead, we must use rather archaic techniques to ensure that the appropriate markup is injected into each GridView row.</span></span>

> [!NOTE]
> <span data-ttu-id="71f98-208">Analogamente al controllo Web RadioButton, il controllo HTML del pulsante di opzione, quando viene aggiunto a un modello, includerà l'attributo `name` univoco, rendendo i pulsanti di opzione nella griglia non raggruppati.</span><span class="sxs-lookup"><span data-stu-id="71f98-208">Like the RadioButton Web control, the radio button HTML control, when added to a template, will include the unique `name` attribute, making the radio buttons in the grid ungrouped.</span></span> <span data-ttu-id="71f98-209">Se non si ha familiarità con i controlli HTML, è possibile ignorare questa nota, perché i controlli HTML vengono usati raramente, soprattutto in ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="71f98-209">If you are not familiar with HTML controls, feel free to disregard this note, as HTML controls are rarely used, especially in ASP.NET 2.0.</span></span> <span data-ttu-id="71f98-210">Tuttavia, se si è interessati a saperne di più, vedere la pagina relativa ai controlli [Web e ai controlli HTML](http://www.odetocode.com/Articles/348.aspx)del post del Blog di [Scott Allen](http://odetocode.com/blogs/scott/default.aspx) .</span><span class="sxs-lookup"><span data-stu-id="71f98-210">But if you are interested in learning more, see [K. Scott Allen](http://odetocode.com/blogs/scott/default.aspx) s blog entry [Web Controls and HTML Controls](http://www.odetocode.com/Articles/348.aspx).</span></span>

## <a name="using-a-literal-control-to-inject-radio-button-markup"></a><span data-ttu-id="71f98-211">Uso di un controllo Literal per inserire il markup del pulsante di opzione</span><span class="sxs-lookup"><span data-stu-id="71f98-211">Using a Literal Control to Inject Radio Button Markup</span></span>

<span data-ttu-id="71f98-212">Per raggruppare correttamente tutti i pulsanti di opzione all'interno di GridView, è necessario inserire manualmente il markup dei pulsanti di opzione nel `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="71f98-212">In order to correctly group all of the radio buttons within the GridView, we need to manually inject the radio buttons markup into the `ItemTemplate`.</span></span> <span data-ttu-id="71f98-213">Per ogni pulsante di opzione è necessario lo stesso attributo `name`, ma deve essere presente un attributo `id` univoco, nel caso in cui si desideri accedere a un pulsante di opzione tramite script sul lato client.</span><span class="sxs-lookup"><span data-stu-id="71f98-213">Each radio button needs the same `name` attribute, but should have a unique `id` attribute (in case we want to access a radio button via client-side script).</span></span> <span data-ttu-id="71f98-214">Quando un utente seleziona un pulsante di opzione e inserisce nuovamente la pagina, il browser restituirà il valore dell'attributo `value` del pulsante di opzione selezionato.</span><span class="sxs-lookup"><span data-stu-id="71f98-214">After a user selects a radio button and posts back the page, the browser will send back the value of the selected radio button s `value` attribute.</span></span> <span data-ttu-id="71f98-215">Per ogni pulsante di opzione sarà pertanto necessario un attributo `value` univoco.</span><span class="sxs-lookup"><span data-stu-id="71f98-215">Therefore, each radio button will need a unique `value` attribute.</span></span> <span data-ttu-id="71f98-216">Infine, al postback è necessario assicurarsi di aggiungere l'attributo `checked` al pulsante di opzione uno selezionato. in caso contrario, dopo che l'utente effettua una selezione e invia un postback, i pulsanti di opzione torneranno allo stato predefinito (tutti deselezionati).</span><span class="sxs-lookup"><span data-stu-id="71f98-216">Finally, on postback we need to make sure to add the `checked` attribute to the one radio button that is selected, otherwise after the user makes a selection and posts back, the radio buttons will return to their default state (all unselected).</span></span>

<span data-ttu-id="71f98-217">Esistono due approcci che è possibile adottare per inserire markup di basso livello in un modello.</span><span class="sxs-lookup"><span data-stu-id="71f98-217">There are two approaches that can be taken in order to inject low-level markup into a template.</span></span> <span data-ttu-id="71f98-218">Uno consiste nell'eseguire una combinazione di markup e chiamate a metodi di formattazione definiti nella classe code-behind.</span><span class="sxs-lookup"><span data-stu-id="71f98-218">One is to do a mix of markup and calls to formatting methods defined in the code-behind class.</span></span> <span data-ttu-id="71f98-219">Questa tecnica è stata descritta per la prima volta nell'esercitazione sull' [uso di TemplateFields nel controllo GridView](../custom-formatting/using-templatefields-in-the-gridview-control-vb.md) .</span><span class="sxs-lookup"><span data-stu-id="71f98-219">This technique was first discussed in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-vb.md) tutorial.</span></span> <span data-ttu-id="71f98-220">In questo caso potrebbe essere simile a:</span><span class="sxs-lookup"><span data-stu-id="71f98-220">In our case it might look something like:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample5.aspx)]

<span data-ttu-id="71f98-221">In questo caso, `GetUniqueRadioButton` e `GetRadioButtonValue` sono i metodi definiti nella classe code-behind che hanno restituito i valori appropriati di `id` e `value` attributo per ogni pulsante di opzione.</span><span class="sxs-lookup"><span data-stu-id="71f98-221">Here, `GetUniqueRadioButton` and `GetRadioButtonValue` would be methods defined in the code-behind class that returned the appropriate `id` and `value` attribute values for each radio button.</span></span> <span data-ttu-id="71f98-222">Questo approccio funziona bene per l'assegnazione degli attributi `id` e `value`, ma non è sufficiente quando è necessario specificare il valore dell'attributo `checked` perché la sintassi DataBinding viene eseguita solo quando i dati vengono prima associati al controllo GridView.</span><span class="sxs-lookup"><span data-stu-id="71f98-222">This approach works well for assigning the `id` and `value` attributes, but falls short when needing to specify the `checked` attribute value because the databinding syntax is only executed when data is first bound to the GridView.</span></span> <span data-ttu-id="71f98-223">Se, pertanto, per GridView è abilitato lo stato di visualizzazione, i metodi di formattazione verranno attivati solo quando la pagina viene caricata per la prima volta (o quando GridView viene riassociato in modo esplicito all'origine dati) e pertanto la funzione che imposta l'attributo `checked` non verrà chiamata durante il postback.</span><span class="sxs-lookup"><span data-stu-id="71f98-223">Therefore, if the GridView has view state enabled, the formatting methods will only fire when the page is first loaded (or when the GridView is explicitly rebound to the data source), and therefore the function that sets the `checked` attribute won't be called on postback.</span></span> <span data-ttu-id="71f98-224">Si tratta di un problema piuttosto sottile e di un po' oltre l'ambito di questo articolo, quindi lascio l'argomento.</span><span class="sxs-lookup"><span data-stu-id="71f98-224">It s a rather subtle problem and a bit beyond the scope of this article, so I'll leave it at this.</span></span> <span data-ttu-id="71f98-225">Tuttavia, si consiglia di provare a usare l'approccio precedente e risolverlo fino al punto in cui si rimarrà bloccati.</span><span class="sxs-lookup"><span data-stu-id="71f98-225">I do, however, encourage you to try using the above approach and work it through to the point where you'll get stuck.</span></span> <span data-ttu-id="71f98-226">Sebbene tale esercizio non consenta di avvicinarsi a una versione funzionante, consentirà di favorire una conoscenza più approfondita di GridView e del ciclo di vita dell'associazione dati.</span><span class="sxs-lookup"><span data-stu-id="71f98-226">While such an exercise won't get you any closer to a working version, it will help foster a deeper understanding of the GridView and the databinding lifecycle.</span></span>

<span data-ttu-id="71f98-227">L'altro approccio per inserire markup personalizzato di basso livello in un modello e l'approccio che verrà usato per questa esercitazione consiste nell'aggiungere un [controllo letterale](https://msdn.microsoft.com/library/sz4949ks(VS.80).aspx) al modello.</span><span class="sxs-lookup"><span data-stu-id="71f98-227">The other approach to injecting custom, low-level markup in a template and the approach that we'll be using for this tutorial is to add a [Literal control](https://msdn.microsoft.com/library/sz4949ks(VS.80).aspx) to the template.</span></span> <span data-ttu-id="71f98-228">Nel gestore dell'evento GridView s `RowCreated` o `RowDataBound`, il controllo Literal può essere accessibile a livello di codice e la relativa proprietà `Text` impostata sul markup da emettere.</span><span class="sxs-lookup"><span data-stu-id="71f98-228">Then, in the GridView s `RowCreated` or `RowDataBound` event handler, the Literal control can be programmatically accessed and its `Text` property set to the markup to emit.</span></span>

<span data-ttu-id="71f98-229">Per iniziare, rimuovere il controllo RadioButton dal `ItemTemplate`s di TemplateField, sostituendo il controllo con un controllo Literal.</span><span class="sxs-lookup"><span data-stu-id="71f98-229">Start by removing the RadioButton from the TemplateField s `ItemTemplate`, replacing it with a Literal control.</span></span> <span data-ttu-id="71f98-230">Impostare la `ID` del controllo letterale su `RadioButtonMarkup`.</span><span class="sxs-lookup"><span data-stu-id="71f98-230">Set the Literal control s `ID` to `RadioButtonMarkup`.</span></span>

<span data-ttu-id="71f98-231">[![aggiungere un controllo Literal a ItemTemplate](adding-a-gridview-column-of-radio-buttons-vb/_static/image12.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-231">[![Add a Literal Control to the ItemTemplate](adding-a-gridview-column-of-radio-buttons-vb/_static/image12.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image19.png)</span></span>

<span data-ttu-id="71f98-232">**Figura 12**: aggiungere un controllo Literal al `ItemTemplate` ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-232">**Figure 12**: Add a Literal Control to the `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image20.png))</span></span>

<span data-ttu-id="71f98-233">Successivamente, creare un gestore eventi per l'evento GridView s `RowCreated`.</span><span class="sxs-lookup"><span data-stu-id="71f98-233">Next, create an event handler for the GridView s `RowCreated` event.</span></span> <span data-ttu-id="71f98-234">L'evento `RowCreated` viene generato una volta per ogni riga aggiunta, indipendentemente dal fatto che i dati vengano riassociati al controllo GridView.</span><span class="sxs-lookup"><span data-stu-id="71f98-234">The `RowCreated` event fires once for every row added, whether or not the data is being rebound to the GridView.</span></span> <span data-ttu-id="71f98-235">Ciò significa che anche su un postback quando i dati vengono ricaricati dallo stato di visualizzazione, l'evento `RowCreated` viene comunque attivato e questo è il motivo per cui viene utilizzato anziché `RowDataBound` (che viene attivato solo quando i dati vengono associati in modo esplicito al controllo Web dati).</span><span class="sxs-lookup"><span data-stu-id="71f98-235">That means that even on a postback when the data is reloaded from view state, the `RowCreated` event still fires and this is the reason we are using it instead of `RowDataBound` (which fires only when the data is explicitly bound to the data Web control).</span></span>

<span data-ttu-id="71f98-236">In questo gestore dell'evento si vuole continuare solo se si sta usando una riga di dati.</span><span class="sxs-lookup"><span data-stu-id="71f98-236">In this event handler, we only want to proceed if we re dealing with a data row.</span></span> <span data-ttu-id="71f98-237">Per ogni riga di dati si vuole fare riferimento a livello di codice al controllo `RadioButtonMarkup` valore letterale e impostare la relativa proprietà `Text` sul markup da emettere.</span><span class="sxs-lookup"><span data-stu-id="71f98-237">For each data row we want to programmatically reference the `RadioButtonMarkup` Literal control and set its `Text` property to the markup to emit.</span></span> <span data-ttu-id="71f98-238">Come illustrato nel codice seguente, il markup generato crea un pulsante di opzione il cui attributo `name` è impostato su `SuppliersGroup`, il cui attributo `id` è impostato su `RowSelectorX`, dove *X* è l'indice della riga GridView e il cui attributo `value` è impostato sull'indice della riga GridView.</span><span class="sxs-lookup"><span data-stu-id="71f98-238">As the following code shows, the markup emitted creates a radio button whose `name` attribute is set to `SuppliersGroup`, whose `id` attribute is set to `RowSelectorX`, where *X* is the index of the GridView row, and whose `value` attribute is set to the index of the GridView row.</span></span>

[!code-vb[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample6.vb)]

<span data-ttu-id="71f98-239">Quando si seleziona una riga GridView e si verifica un postback, si è interessati al `SupplierID` del fornitore selezionato.</span><span class="sxs-lookup"><span data-stu-id="71f98-239">When a GridView row is selected and a postback occurs, we are interested in the `SupplierID` of the selected supplier.</span></span> <span data-ttu-id="71f98-240">Pertanto, si potrebbe pensare che il valore di ogni pulsante di opzione sia il `SupplierID` effettivo (anziché l'indice della riga GridView).</span><span class="sxs-lookup"><span data-stu-id="71f98-240">Therefore, one might think that the value of each radio button should be the actual `SupplierID` (rather than the index of the GridView row).</span></span> <span data-ttu-id="71f98-241">Sebbene ciò possa funzionare in determinate circostanze, sarebbe un rischio per la sicurezza di accettare ed elaborare in modo cieco un `SupplierID`.</span><span class="sxs-lookup"><span data-stu-id="71f98-241">While this may work in certain circumstances, it would be a security risk to blindly accept and process a `SupplierID`.</span></span> <span data-ttu-id="71f98-242">Il GridView, ad esempio, elenca solo i fornitori negli Stati Uniti.</span><span class="sxs-lookup"><span data-stu-id="71f98-242">Our GridView, for example, lists only those suppliers in the USA.</span></span> <span data-ttu-id="71f98-243">Tuttavia, se il `SupplierID` viene passato direttamente dal pulsante di opzione, cosa impedisce a un utente non autorizzato di manipolare il valore `SupplierID` restituito durante il postback?</span><span class="sxs-lookup"><span data-stu-id="71f98-243">However, if the `SupplierID` is passed directly from the radio button, what s to stop a mischievous user from manipulating the `SupplierID` value sent back on postback?</span></span> <span data-ttu-id="71f98-244">Utilizzando l'indice di riga come `value`e quindi recuperando il `SupplierID` durante il postback dalla raccolta `DataKeys`, è possibile garantire che l'utente utilizzi solo uno dei valori `SupplierID` associati a una delle righe di GridView.</span><span class="sxs-lookup"><span data-stu-id="71f98-244">By using the row index as the `value`, and then getting the `SupplierID` on postback from the `DataKeys` collection, we can ensure that the user is only using one of the `SupplierID` values associated with one of the GridView rows.</span></span>

<span data-ttu-id="71f98-245">Dopo l'aggiunta del codice del gestore eventi, provare a eseguire il test della pagina in un browser.</span><span class="sxs-lookup"><span data-stu-id="71f98-245">After adding this event handler code, take a minute to test out the page in a browser.</span></span> <span data-ttu-id="71f98-246">Si noti innanzitutto che è possibile selezionare un solo pulsante di opzione nella griglia alla volta.</span><span class="sxs-lookup"><span data-stu-id="71f98-246">First, note that only one radio button in the grid can be selected at a time.</span></span> <span data-ttu-id="71f98-247">Tuttavia, quando si seleziona un pulsante di opzione e si fa clic su uno dei pulsanti, viene eseguito un postback e i pulsanti di opzione ripristinano lo stato iniziale, ovvero al postback, il pulsante di opzione selezionato non è più selezionato.</span><span class="sxs-lookup"><span data-stu-id="71f98-247">However, when selecting a radio button and clicking one of the buttons, a postback occurs and the radio buttons all revert to their initial state (that is, on postback, the selected radio button is no longer selected).</span></span> <span data-ttu-id="71f98-248">Per risolvere questo problema, è necessario aumentare il gestore dell'evento `RowCreated` in modo che controlli l'indice del pulsante di opzione selezionato inviato dal postback e aggiunga l'attributo `checked="checked"` al markup emesso delle corrispondenze dell'indice di riga.</span><span class="sxs-lookup"><span data-stu-id="71f98-248">To fix this, we need to augment the `RowCreated` event handler so that it inspects the selected radio button index sent from the postback and adds the `checked="checked"` attribute to the emitted markup of the row index matches.</span></span>

<span data-ttu-id="71f98-249">Quando si verifica un postback, il browser restituisce il `name` e `value` del pulsante di opzione selezionato.</span><span class="sxs-lookup"><span data-stu-id="71f98-249">When a postback occurs, the browser sends back the `name` and `value` of the selected radio button.</span></span> <span data-ttu-id="71f98-250">Il valore può essere recuperato a livello di codice utilizzando `Request.Form("name")`.</span><span class="sxs-lookup"><span data-stu-id="71f98-250">The value can be programmatically retrieved using `Request.Form("name")`.</span></span> <span data-ttu-id="71f98-251">La [proprietà`Request.Form`](https://msdn.microsoft.com/library/system.web.httprequest.form.aspx) fornisce un [`NameValueCollection`](https://msdn.microsoft.com/library/system.collections.specialized.namevaluecollection.aspx) che rappresenta le variabili del form.</span><span class="sxs-lookup"><span data-stu-id="71f98-251">The [`Request.Form` property](https://msdn.microsoft.com/library/system.web.httprequest.form.aspx) provides a [`NameValueCollection`](https://msdn.microsoft.com/library/system.collections.specialized.namevaluecollection.aspx) representing the form variables.</span></span> <span data-ttu-id="71f98-252">Le variabili del modulo sono i nomi e i valori dei campi del modulo nella pagina Web e vengono restituiti dal Web browser ogni volta che viene eseguito un postback.</span><span class="sxs-lookup"><span data-stu-id="71f98-252">The form variables are the names and values of the form fields in the web page, and are sent back by the web browser whenever a postback ensues.</span></span> <span data-ttu-id="71f98-253">Poiché l'attributo `name` sottoposto a rendering dei pulsanti di opzione in GridView è `SuppliersGroup`, quando viene eseguito il postback della pagina Web, il browser invierà `SuppliersGroup=valueOfSelectedRadioButton` al server Web (insieme agli altri campi del modulo).</span><span class="sxs-lookup"><span data-stu-id="71f98-253">Because the rendered `name` attribute of the radio buttons in the GridView is `SuppliersGroup`, when the web page is posted back the browser will send `SuppliersGroup=valueOfSelectedRadioButton` back to the web server (along with the other form fields).</span></span> <span data-ttu-id="71f98-254">È quindi possibile accedere a queste informazioni dalla proprietà `Request.Form` utilizzando: `Request.Form("SuppliersGroup")`.</span><span class="sxs-lookup"><span data-stu-id="71f98-254">This information can then be accessed from the `Request.Form` property using: `Request.Form("SuppliersGroup")`.</span></span>

<span data-ttu-id="71f98-255">Poiché è necessario determinare l'indice del pulsante di opzione selezionato non solo nel gestore dell'evento `RowCreated`, ma nei gestori eventi `Click` per i controlli Web del pulsante, consente di aggiungere una proprietà `SuppliersSelectedIndex` alla classe code-behind che restituisce `-1` se non è stato selezionato alcun pulsante di opzione e l'indice selezionato se uno dei pulsanti di opzione è selezionato.</span><span class="sxs-lookup"><span data-stu-id="71f98-255">Since we'll need to determine the selected radio button index not only in the `RowCreated` event handler, but in the `Click` event handlers for the Button Web controls, let s add a `SuppliersSelectedIndex` property to the code-behind class that returns `-1` if no radio button was selected and the selected index if one of the radio buttons is selected.</span></span>

[!code-vb[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample7.vb)]

<span data-ttu-id="71f98-256">Con questa proprietà aggiunta, è possibile aggiungere il markup `checked="checked"` nel gestore eventi `RowCreated` quando `SuppliersSelectedIndex` è uguale a `e.Row.RowIndex`.</span><span class="sxs-lookup"><span data-stu-id="71f98-256">With this property added, we know to add the `checked="checked"` markup in the `RowCreated` event handler when `SuppliersSelectedIndex` equals `e.Row.RowIndex`.</span></span> <span data-ttu-id="71f98-257">Aggiornare il gestore eventi per includere questa logica:</span><span class="sxs-lookup"><span data-stu-id="71f98-257">Update the event handler to include this logic:</span></span>

[!code-vb[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample8.vb)]

<span data-ttu-id="71f98-258">Con questa modifica, il pulsante di opzione selezionato rimane selezionato dopo un postback.</span><span class="sxs-lookup"><span data-stu-id="71f98-258">With this change, the selected radio button remains selected after a postback.</span></span> <span data-ttu-id="71f98-259">Ora che è possibile specificare il pulsante di opzione selezionato, è possibile modificare il comportamento in modo che, quando la pagina è stata visitata per la prima volta, sia stato selezionato il primo pulsante di opzione della riga GridView, anziché avere selezionato pulsanti di opzione per impostazione predefinita, che corrisponde all'attuale comportamento).</span><span class="sxs-lookup"><span data-stu-id="71f98-259">Now that we have the ability to specify what radio button is selected, we could change the behavior so that when the page was first visited, the first GridView row s radio button was selected (rather than having no radio buttons selected by default, which is the current behavior).</span></span> <span data-ttu-id="71f98-260">Per fare in modo che il primo pulsante di opzione sia selezionato per impostazione predefinita, è sufficiente modificare l'istruzione `If SuppliersSelectedIndex = e.Row.RowIndex Then` come riportato di seguito: `If SuppliersSelectedIndex = e.Row.RowIndex OrElse (Not Page.IsPostBack AndAlso e.Row.RowIndex = 0) Then`.</span><span class="sxs-lookup"><span data-stu-id="71f98-260">To have the first radio button selected by default, simply change the `If SuppliersSelectedIndex = e.Row.RowIndex Then` statement to the following: `If SuppliersSelectedIndex = e.Row.RowIndex OrElse (Not Page.IsPostBack AndAlso e.Row.RowIndex = 0) Then`.</span></span>

<span data-ttu-id="71f98-261">A questo punto è stata aggiunta una colonna di pulsanti di opzione raggruppati a GridView che consente di selezionare e ricordare una singola riga GridView nei postback.</span><span class="sxs-lookup"><span data-stu-id="71f98-261">At this point we have added a column of grouped radio buttons to the GridView that allows for a single GridView row to be selected and remembered across postbacks.</span></span> <span data-ttu-id="71f98-262">I passaggi successivi sono la visualizzazione dei prodotti forniti dal fornitore selezionato.</span><span class="sxs-lookup"><span data-stu-id="71f98-262">Our next steps are to display the products provided by the selected supplier.</span></span> <span data-ttu-id="71f98-263">Nel passaggio 4 verrà illustrato come reindirizzare l'utente a un'altra pagina, inviando il `SupplierID`selezionato.</span><span class="sxs-lookup"><span data-stu-id="71f98-263">In Step 4 we'll see how to redirect the user to another page, sending along the selected `SupplierID`.</span></span> <span data-ttu-id="71f98-264">Nel passaggio 5 verrà illustrato come visualizzare i prodotti selezionati del fornitore in un controllo GridView nella stessa pagina.</span><span class="sxs-lookup"><span data-stu-id="71f98-264">In Step 5, we'll see how to display the selected supplier s products in a GridView on the same page.</span></span>

> [!NOTE]
> <span data-ttu-id="71f98-265">Invece di usare un TemplateField (l'obiettivo di questa lunga fase 3), è possibile creare una classe di `DataControlField` personalizzata che esegua il rendering dell'interfaccia utente e della funzionalità appropriate.</span><span class="sxs-lookup"><span data-stu-id="71f98-265">Rather than using a TemplateField (the focus of this lengthy Step 3), we could create a custom `DataControlField` class that renders the appropriate user interface and functionality.</span></span> <span data-ttu-id="71f98-266">La [classe`DataControlField`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.aspx) è la classe di base da cui derivano i campi BoundField, CheckBoxField, TemplateField e altri campi GridView e DetailsView predefiniti.</span><span class="sxs-lookup"><span data-stu-id="71f98-266">The [`DataControlField` class](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.aspx) is the base class from which the BoundField, CheckBoxField, TemplateField, and other built-in GridView and DetailsView fields derive.</span></span> <span data-ttu-id="71f98-267">La creazione di una classe di `DataControlField` personalizzata significherebbe che la colonna di pulsanti di opzione potrebbe essere aggiunta usando solo la sintassi dichiarativa e anche la replica della funzionalità su altre pagine Web e altre applicazioni Web in modo molto più semplice.</span><span class="sxs-lookup"><span data-stu-id="71f98-267">Creating a custom `DataControlField` class would mean that the column of radio buttons could be added just using declarative syntax, and would also make replicating the functionality on other web pages and other web applications significantly easier.</span></span>

<span data-ttu-id="71f98-268">Se sono già stati creati controlli compilati e personalizzati in ASP.NET, tuttavia, si sa che questa operazione richiede una notevole quantità di noia e porta un host di sottigliezze e casi limite che devono essere gestiti con cautela.</span><span class="sxs-lookup"><span data-stu-id="71f98-268">If you ve ever created custom, compiled controls in ASP.NET, however, you know that doing so requires a fair amount of legwork and carries with it a host of subtleties and edge cases that must be carefully handled.</span></span> <span data-ttu-id="71f98-269">Di conseguenza, si rinuncia a implementare una colonna di pulsanti di opzione come classe `DataControlField` personalizzata per il momento e come usare l'opzione TemplateField.</span><span class="sxs-lookup"><span data-stu-id="71f98-269">Therefore, we will forgo implementing a column of radio buttons as a custom `DataControlField` class for now and stick with the TemplateField option.</span></span> <span data-ttu-id="71f98-270">Probabilmente potrai esplorare la creazione, l'uso e la distribuzione di classi di `DataControlField` personalizzate in un'esercitazione futura.</span><span class="sxs-lookup"><span data-stu-id="71f98-270">Perhaps we'll have the chance to explore creating, using, and deploying custom `DataControlField` classes in a future tutorial!</span></span>

## <a name="step-4-displaying-the-selected-supplier-s-products-in-a-separate-page"></a><span data-ttu-id="71f98-271">Passaggio 4: visualizzazione dei prodotti selezionati per i fornitori in una pagina separata</span><span class="sxs-lookup"><span data-stu-id="71f98-271">Step 4: Displaying the Selected Supplier s Products in a Separate Page</span></span>

<span data-ttu-id="71f98-272">Dopo che l'utente ha selezionato una riga GridView, è necessario mostrare i prodotti selezionati del fornitore.</span><span class="sxs-lookup"><span data-stu-id="71f98-272">After the user has selected a GridView row, we need to show the selected supplier s products.</span></span> <span data-ttu-id="71f98-273">In alcuni casi, è possibile che si desideri visualizzare questi prodotti in una pagina separata, in altri potrebbe essere preferibile eseguire questa operazione nella stessa pagina.</span><span class="sxs-lookup"><span data-stu-id="71f98-273">In some circumstances, we may want to display these products in a separate page, in others we might prefer to do it in the same page.</span></span> <span data-ttu-id="71f98-274">Consente di esaminare prima di tutto come visualizzare i prodotti in una pagina separata; nel passaggio 5 si esaminerà l'aggiunta di GridView a `RadioButtonField.aspx` per visualizzare i prodotti selezionati dei fornitori.</span><span class="sxs-lookup"><span data-stu-id="71f98-274">Let s first examine how to display the products in a separate page; in Step 5 we'll look at adding a GridView to `RadioButtonField.aspx` to display the selected supplier s products.</span></span>

<span data-ttu-id="71f98-275">Attualmente sono presenti due controlli Web dei pulsanti nella pagina `ListProducts` e `SendToProducts`.</span><span class="sxs-lookup"><span data-stu-id="71f98-275">Currently there are two Button Web controls on the page `ListProducts` and `SendToProducts`.</span></span> <span data-ttu-id="71f98-276">Quando si fa clic sul pulsante `SendToProducts`, si vuole inviare l'utente a `~/Filtering/ProductsForSupplierDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="71f98-276">When the `SendToProducts` Button is clicked, we want to send the user to `~/Filtering/ProductsForSupplierDetails.aspx`.</span></span> <span data-ttu-id="71f98-277">Questa pagina è stata creata nell'esercitazione [filtro master/dettagli in due pagine](../masterdetail/master-detail-filtering-across-two-pages-vb.md) e Visualizza i prodotti per il fornitore il cui `SupplierID` viene passato tramite il campo querystring denominato `SupplierID`.</span><span class="sxs-lookup"><span data-stu-id="71f98-277">This page was created in the [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-vb.md) tutorial and displays the products for the supplier whose `SupplierID` is passed through the querystring field named `SupplierID`.</span></span>

<span data-ttu-id="71f98-278">Per fornire questa funzionalità, creare un gestore eventi per l'evento `Click` del pulsante `SendToProducts`.</span><span class="sxs-lookup"><span data-stu-id="71f98-278">To provide this functionality, create an event handler for the `SendToProducts` Button s `Click` event.</span></span> <span data-ttu-id="71f98-279">Nel passaggio 3 è stata aggiunta la proprietà `SuppliersSelectedIndex`, che restituisce l'indice della riga di cui è stato selezionato il pulsante di opzione.</span><span class="sxs-lookup"><span data-stu-id="71f98-279">In Step 3 we added the `SuppliersSelectedIndex` property, which returns the index of the row whose radio button is selected.</span></span> <span data-ttu-id="71f98-280">Il `SupplierID` corrispondente può essere recuperato dalla raccolta `DataKeys` di GridView e l'utente può quindi essere inviato a `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` utilizzando `Response.Redirect("url")`.</span><span class="sxs-lookup"><span data-stu-id="71f98-280">The corresponding `SupplierID` can be retrieved from the GridView s `DataKeys` collection and the user can then be sent to `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` using `Response.Redirect("url")`.</span></span>

[!code-vb[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample9.vb)]

<span data-ttu-id="71f98-281">Questo codice funziona meravigliosamente purché uno dei pulsanti di opzione sia selezionato da GridView.</span><span class="sxs-lookup"><span data-stu-id="71f98-281">This code works wonderfully as long as one of the radio buttons is selected from the GridView.</span></span> <span data-ttu-id="71f98-282">Se, inizialmente, per GridView non sono selezionati pulsanti di opzione e l'utente fa clic sul pulsante `SendToProducts`, `SuppliersSelectedIndex` verrà `-1`, che genera un'eccezione poiché `-1` non è compreso nell'intervallo di indici della raccolta di `DataKeys`.</span><span class="sxs-lookup"><span data-stu-id="71f98-282">If, initially, the GridView does not have any radio buttons selected, and the user clicks the `SendToProducts` button, `SuppliersSelectedIndex` will be `-1`, which will cause an exception to be thrown since `-1` is out of the index range of the `DataKeys` collection.</span></span> <span data-ttu-id="71f98-283">Questo non è un problema, tuttavia, se si è deciso di aggiornare il gestore dell'evento `RowCreated` come illustrato nel passaggio 3, in modo da avere inizialmente selezionato il primo pulsante di opzione in GridView.</span><span class="sxs-lookup"><span data-stu-id="71f98-283">This is not a concern, however, if you decided to update the `RowCreated` event handler as discussed in Step 3 so as to have the first radio button in the GridView initially selected.</span></span>

<span data-ttu-id="71f98-284">Per adattare un valore `SuppliersSelectedIndex` di `-1`, aggiungere un controllo Web Label alla pagina sopra GridView.</span><span class="sxs-lookup"><span data-stu-id="71f98-284">To accommodate a `SuppliersSelectedIndex` value of `-1`, add a Label Web control to the page above the GridView.</span></span> <span data-ttu-id="71f98-285">Impostare la relativa proprietà `ID` su `ChooseSupplierMsg`, la relativa proprietà `CssClass` su `Warning`, le proprietà `EnableViewState` e `Visible` su `False`e la relativa proprietà `Text` per scegliere un fornitore dalla griglia.</span><span class="sxs-lookup"><span data-stu-id="71f98-285">Set its `ID` property to `ChooseSupplierMsg`, its `CssClass` property to `Warning`, its `EnableViewState` and `Visible` properties to `False`, and its `Text` property to Please choose a supplier from the grid.</span></span> <span data-ttu-id="71f98-286">La classe CSS `Warning` Visualizza il testo in un tipo di carattere rosso, corsivo, grassetto e di grandi dimensioni e viene definito in `Styles.css`.</span><span class="sxs-lookup"><span data-stu-id="71f98-286">The CSS class `Warning` displays text in a red, italic, bold, large font and is defined in `Styles.css`.</span></span> <span data-ttu-id="71f98-287">Impostando le proprietà `EnableViewState` e `Visible` su `False`, l'etichetta non viene sottoposta a rendering ad eccezione dei soli postback in cui la proprietà `Visible` del controllo è impostata a livello di codice su `True`.</span><span class="sxs-lookup"><span data-stu-id="71f98-287">By setting the `EnableViewState` and `Visible` properties to `False`, the Label is not rendered except for only those postbacks where the control s `Visible` property is programmatically set to `True`.</span></span>

<span data-ttu-id="71f98-288">[![aggiungere un controllo Web Label sopra GridView](adding-a-gridview-column-of-radio-buttons-vb/_static/image13.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-288">[![Add a Label Web Control Above the GridView](adding-a-gridview-column-of-radio-buttons-vb/_static/image13.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image21.png)</span></span>

<span data-ttu-id="71f98-289">**Figura 13**: aggiungere un controllo Web etichetta sopra il GridView ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-289">**Figure 13**: Add a Label Web Control Above the GridView ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image22.png))</span></span>

<span data-ttu-id="71f98-290">Successivamente, aumentare il gestore dell'evento `Click` per visualizzare l'etichetta `ChooseSupplierMsg` se `SuppliersSelectedIndex` è minore di zero e reindirizzare l'utente a `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` in caso contrario.</span><span class="sxs-lookup"><span data-stu-id="71f98-290">Next, augment the `Click` event handler to display the `ChooseSupplierMsg` Label if `SuppliersSelectedIndex` is less than zero, and redirect the user to `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` otherwise.</span></span>

[!code-vb[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample10.vb)]

<span data-ttu-id="71f98-291">Visita la pagina in un browser e fai clic sul pulsante `SendToProducts` prima di selezionare un fornitore in GridView.</span><span class="sxs-lookup"><span data-stu-id="71f98-291">Visit the page in a browser and click the `SendToProducts` button before selecting a supplier from the GridView.</span></span> <span data-ttu-id="71f98-292">Come illustrato nella figura 14, viene visualizzata l'etichetta `ChooseSupplierMsg`.</span><span class="sxs-lookup"><span data-stu-id="71f98-292">As Figure 14 shows, this displays the `ChooseSupplierMsg` label.</span></span> <span data-ttu-id="71f98-293">Selezionare quindi un fornitore e fare clic sul pulsante `SendToProducts`.</span><span class="sxs-lookup"><span data-stu-id="71f98-293">Next, select a supplier and click the `SendToProducts` button.</span></span> <span data-ttu-id="71f98-294">Questa operazione consente di visualizzare una pagina in cui sono elencati i prodotti forniti dal fornitore selezionato.</span><span class="sxs-lookup"><span data-stu-id="71f98-294">This will whisk you to a page that lists the products supplied by the selected supplier.</span></span> <span data-ttu-id="71f98-295">Nella figura 15 viene illustrata la pagina `ProductsForSupplierDetails.aspx` quando è stato selezionato il fornitore di Bigfoot birrerie.</span><span class="sxs-lookup"><span data-stu-id="71f98-295">Figure 15 shows the `ProductsForSupplierDetails.aspx` page when the Bigfoot Breweries supplier was selected.</span></span>

<span data-ttu-id="71f98-296">[![viene visualizzata l'etichetta ChooseSupplierMsg se non è selezionato alcun fornitore](adding-a-gridview-column-of-radio-buttons-vb/_static/image14.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-296">[![The ChooseSupplierMsg Label is Displayed if No Supplier is Selected](adding-a-gridview-column-of-radio-buttons-vb/_static/image14.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image23.png)</span></span>

<span data-ttu-id="71f98-297">**Figura 14**: l'etichetta di `ChooseSupplierMsg` viene visualizzata se non è selezionato alcun fornitore ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-297">**Figure 14**: The `ChooseSupplierMsg` Label is Displayed if No Supplier is Selected ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image24.png))</span></span>

<span data-ttu-id="71f98-298">[![i prodotti selezionati vengono visualizzati in ProductsForSupplierDetails. aspx](adding-a-gridview-column-of-radio-buttons-vb/_static/image15.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-298">[![The Selected Supplier s Products are Displayed in ProductsForSupplierDetails.aspx](adding-a-gridview-column-of-radio-buttons-vb/_static/image15.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image25.png)</span></span>

<span data-ttu-id="71f98-299">**Figura 15**: i prodotti selezionati sono visualizzati in `ProductsForSupplierDetails.aspx` ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-299">**Figure 15**: The Selected Supplier s Products are Displayed in `ProductsForSupplierDetails.aspx` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image26.png))</span></span>

## <a name="step-5-displaying-the-selected-supplier-s-products-on-the-same-page"></a><span data-ttu-id="71f98-300">Passaggio 5: visualizzazione dei prodotti selezionati del fornitore nella stessa pagina</span><span class="sxs-lookup"><span data-stu-id="71f98-300">Step 5: Displaying the Selected Supplier s Products on the Same Page</span></span>

<span data-ttu-id="71f98-301">Nel passaggio 4 è stato illustrato come inviare l'utente a un'altra pagina Web per visualizzare i prodotti selezionati del fornitore.</span><span class="sxs-lookup"><span data-stu-id="71f98-301">In Step 4 we saw how to send the user to another web page to display the selected supplier s products.</span></span> <span data-ttu-id="71f98-302">In alternativa, è possibile visualizzare i prodotti dei fornitori selezionati nella stessa pagina.</span><span class="sxs-lookup"><span data-stu-id="71f98-302">Alternatively, the selected supplier s products can be displayed on the same page.</span></span> <span data-ttu-id="71f98-303">Per illustrare questo problema, si aggiungerà un altro GridView per `RadioButtonField.aspx` per visualizzare i prodotti selezionati del fornitore.</span><span class="sxs-lookup"><span data-stu-id="71f98-303">To illustrate this, we'll add another GridView to `RadioButtonField.aspx` to display the selected supplier s products.</span></span>

<span data-ttu-id="71f98-304">Poiché si desidera che questo GridView di prodotti venga visualizzato solo dopo la selezione di un fornitore, aggiungere un controllo Web Panel sotto la `Suppliers` GridView, impostando il `ID` su `ProductsBySupplierPanel` e la relativa proprietà `Visible` su `False`.</span><span class="sxs-lookup"><span data-stu-id="71f98-304">Since we only want this GridView of products to display once a supplier has been selected, add a Panel Web control beneath the `Suppliers` GridView, setting its `ID` to `ProductsBySupplierPanel` and its `Visible` property to `False`.</span></span> <span data-ttu-id="71f98-305">All'interno del pannello aggiungere i prodotti di testo per il fornitore selezionato, seguito da un controllo GridView denominato `ProductsBySupplier`.</span><span class="sxs-lookup"><span data-stu-id="71f98-305">Within the Panel, add the text Products for the Selected Supplier, followed by a GridView named `ProductsBySupplier`.</span></span> <span data-ttu-id="71f98-306">Dallo smart tag GridView s scegliere di associarlo a un nuovo ObjectDataSource denominato `ProductsBySupplierDataSource`.</span><span class="sxs-lookup"><span data-stu-id="71f98-306">From the GridView s smart tag, choose to bind it to a new ObjectDataSource named `ProductsBySupplierDataSource`.</span></span>

<span data-ttu-id="71f98-307">[![associare GridView ProductsBySupplier a un nuovo ObjectDataSource](adding-a-gridview-column-of-radio-buttons-vb/_static/image16.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-307">[![Bind the ProductsBySupplier GridView to a New ObjectDataSource](adding-a-gridview-column-of-radio-buttons-vb/_static/image16.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image27.png)</span></span>

<span data-ttu-id="71f98-308">**Figura 16**: associare il `ProductsBySupplier` GridView a un nuovo ObjectDataSource ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-308">**Figure 16**: Bind the `ProductsBySupplier` GridView to a New ObjectDataSource ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image28.png))</span></span>

<span data-ttu-id="71f98-309">Configurare quindi ObjectDataSource per l'uso della classe `ProductsBLL`.</span><span class="sxs-lookup"><span data-stu-id="71f98-309">Next, configure the ObjectDataSource to use the `ProductsBLL` class.</span></span> <span data-ttu-id="71f98-310">Poiché si desidera recuperare solo i prodotti forniti dal fornitore selezionato, specificare che ObjectDataSource deve richiamare il metodo `GetProductsBySupplierID(supplierID)` per recuperare i dati.</span><span class="sxs-lookup"><span data-stu-id="71f98-310">Since we only want to retrieve those products provided by the selected supplier, specify that the ObjectDataSource should invoke the `GetProductsBySupplierID(supplierID)` method to retrieve its data.</span></span> <span data-ttu-id="71f98-311">Selezionare (nessuno) dagli elenchi a discesa nelle schede Aggiorna, Inserisci ed Elimina.</span><span class="sxs-lookup"><span data-stu-id="71f98-311">Select (None) from the drop-down lists in the UPDATE, INSERT, and DELETE tabs.</span></span>

<span data-ttu-id="71f98-312">[![configurare ObjectDataSource per l'utilizzo del metodo GetProductsBySupplierID (supplierID)](adding-a-gridview-column-of-radio-buttons-vb/_static/image17.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-312">[![Configure the ObjectDataSource to Use the GetProductsBySupplierID(supplierID) Method](adding-a-gridview-column-of-radio-buttons-vb/_static/image17.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image29.png)</span></span>

<span data-ttu-id="71f98-313">**Figura 17**: configurare ObjectDataSource per l'uso del metodo `GetProductsBySupplierID(supplierID)` ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-313">**Figure 17**: Configure the ObjectDataSource to Use the `GetProductsBySupplierID(supplierID)` Method ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image30.png))</span></span>

<span data-ttu-id="71f98-314">[![impostare gli elenchi a discesa su (nessuno) nelle schede Aggiorna, Inserisci ed Elimina](adding-a-gridview-column-of-radio-buttons-vb/_static/image18.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-314">[![Set the Drop-Down Lists to (None) in the UPDATE, INSERT, and DELETE Tabs](adding-a-gridview-column-of-radio-buttons-vb/_static/image18.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image31.png)</span></span>

<span data-ttu-id="71f98-315">**Figura 18**: impostare gli elenchi a discesa su (nessuno) nelle schede di aggiornamento, inserimento ed eliminazione ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image32.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-315">**Figure 18**: Set the Drop-Down Lists to (None) in the UPDATE, INSERT, and DELETE Tabs ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image32.png))</span></span>

<span data-ttu-id="71f98-316">Dopo aver configurato le schede SELECT, UPDATE, INSERT e DELETE, fare clic su Next.</span><span class="sxs-lookup"><span data-stu-id="71f98-316">After configuring the SELECT, UPDATE, INSERT, and DELETE tabs, click Next.</span></span> <span data-ttu-id="71f98-317">Poiché il metodo `GetProductsBySupplierID(supplierID)` prevede un parametro di input, la creazione guidata origine dati richiede di specificare l'origine per il valore del parametro.</span><span class="sxs-lookup"><span data-stu-id="71f98-317">Since the `GetProductsBySupplierID(supplierID)` method expects an input parameter, the Create Data Source wizard prompts us to specify the source for the parameter s value.</span></span>

<span data-ttu-id="71f98-318">Qui sono disponibili due opzioni per specificare l'origine del valore del parametro.</span><span class="sxs-lookup"><span data-stu-id="71f98-318">We have a couple of options here in specifying the source of the parameter s value.</span></span> <span data-ttu-id="71f98-319">È possibile utilizzare l'oggetto parametro predefinito e assegnare a livello di codice il valore della proprietà `SuppliersSelectedIndex` alla proprietà `DefaultValue` del parametro nel gestore dell'evento ObjectDataSource s `Selecting`.</span><span class="sxs-lookup"><span data-stu-id="71f98-319">We could use the default Parameter object, and programmatically assign the value of the `SuppliersSelectedIndex` property to the Parameter s `DefaultValue` property in the ObjectDataSource s `Selecting` event handler.</span></span> <span data-ttu-id="71f98-320">Fare riferimento all' [impostazione a livello di codice dell'esercitazione sui valori dei parametri di ObjectDataSource](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-vb.md) per un aggiornamento a livello di codice per l'assegnazione di valori ai parametri di ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="71f98-320">Refer back to the [Programmatically Setting the ObjectDataSource's Parameter Values](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-vb.md) tutorial for a refresher on programmatically assigning values to the ObjectDataSource s parameters.</span></span>

<span data-ttu-id="71f98-321">In alternativa, è possibile usare un ControlParameter e fare riferimento alla proprietà `Suppliers` GridView s [`SelectedValue`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue.aspx) (vedere la figura 19).</span><span class="sxs-lookup"><span data-stu-id="71f98-321">Alternatively, we can use a ControlParameter and refer to the `Suppliers` GridView s [`SelectedValue` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue.aspx) (see Figure 19).</span></span> <span data-ttu-id="71f98-322">La proprietà `SelectedValue` di GridView restituisce il valore `DataKey` corrispondente alla [proprietà`SelectedIndex`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex.aspx).</span><span class="sxs-lookup"><span data-stu-id="71f98-322">The GridView s `SelectedValue` property returns the `DataKey` value corresponding to the [`SelectedIndex` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex.aspx).</span></span> <span data-ttu-id="71f98-323">Per consentire il funzionamento di questa opzione, è necessario impostare a livello di codice la proprietà `SelectedIndex` di GridView sulla riga selezionata quando si fa clic sul pulsante `ListProducts`.</span><span class="sxs-lookup"><span data-stu-id="71f98-323">In order for this option to work, we need to programmatically set the GridView s `SelectedIndex` property to the selected row when the `ListProducts` button is clicked.</span></span> <span data-ttu-id="71f98-324">Come ulteriore vantaggio, impostando la `SelectedIndex`, il record selezionato prenderà in `SelectedRowStyle` definito nel tema `DataWebControls` (uno sfondo giallo).</span><span class="sxs-lookup"><span data-stu-id="71f98-324">As an added benefit, by setting the `SelectedIndex`, the selected record will take on the `SelectedRowStyle` defined in the `DataWebControls` Theme (a yellow background).</span></span>

<span data-ttu-id="71f98-325">[![utilizzare un ControlParameter per specificare il valore di GridView s SelectedValue come origine del parametro](adding-a-gridview-column-of-radio-buttons-vb/_static/image19.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-325">[![Use a ControlParameter to Specify the GridView s SelectedValue as the Parameter Source](adding-a-gridview-column-of-radio-buttons-vb/_static/image19.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image33.png)</span></span>

<span data-ttu-id="71f98-326">**Figura 19**: usare un ControlParameter per specificare il valore di GridView s SelectedValue come origine del parametro ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image34.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-326">**Figure 19**: Use a ControlParameter to Specify the GridView s SelectedValue as the Parameter Source ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image34.png))</span></span>

<span data-ttu-id="71f98-327">Quando si completa la procedura guidata, Visual Studio aggiunge automaticamente i campi per i campi dati del prodotto.</span><span class="sxs-lookup"><span data-stu-id="71f98-327">Upon completing the wizard, Visual Studio will automatically add fields for the product s data fields.</span></span> <span data-ttu-id="71f98-328">Rimuovere tutti i BoundField tranne `ProductName`, `CategoryName`e `UnitPrice` e modificare le proprietà del `HeaderText` in Product, Category e price.</span><span class="sxs-lookup"><span data-stu-id="71f98-328">Remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="71f98-329">Configurare il BoundField `UnitPrice` in modo che il relativo valore venga formattato come valuta.</span><span class="sxs-lookup"><span data-stu-id="71f98-329">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="71f98-330">Dopo aver apportato queste modifiche, il markup dichiarativo Panel, GridView e ObjectDataSource dovrebbe essere simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="71f98-330">After making these changes, the Panel, GridView, and ObjectDataSource s declarative markup should look like the following:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample11.aspx)]

<span data-ttu-id="71f98-331">Per completare questo esercizio, è necessario impostare la proprietà `SelectedIndex` di GridView sul `SelectedSuppliersIndex` e la proprietà `Visible` del pannello `ProductsBySupplierPanel` per `True` quando si fa clic sul pulsante `ListProducts`.</span><span class="sxs-lookup"><span data-stu-id="71f98-331">To complete this exercise, we need to set the GridView s `SelectedIndex` property to the `SelectedSuppliersIndex` and the `ProductsBySupplierPanel` Panel s `Visible` property to `True` when the `ListProducts` button is clicked.</span></span> <span data-ttu-id="71f98-332">A tale scopo, creare un gestore eventi per l'evento `Click` del controllo Web di `ListProducts` Button e aggiungere il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="71f98-332">To accomplish this, create an event handler for the `ListProducts` Button Web control s `Click` event and add the following code:</span></span>

[!code-vb[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample12.vb)]

<span data-ttu-id="71f98-333">Se un fornitore non è stato selezionato da GridView, viene visualizzata l'etichetta `ChooseSupplierMsg` e il pannello `ProductsBySupplierPanel` nascosto.</span><span class="sxs-lookup"><span data-stu-id="71f98-333">If a supplier has not been selected from the GridView, the `ChooseSupplierMsg` Label is displayed and the `ProductsBySupplierPanel` Panel hidden.</span></span> <span data-ttu-id="71f98-334">In caso contrario, se è stato selezionato un fornitore, viene visualizzato il `ProductsBySupplierPanel` e viene aggiornata la proprietà `SelectedIndex` di GridView.</span><span class="sxs-lookup"><span data-stu-id="71f98-334">Otherwise, if a supplier has been selected, the `ProductsBySupplierPanel` is displayed and the GridView s `SelectedIndex` property is updated.</span></span>

<span data-ttu-id="71f98-335">La figura 20 Mostra i risultati dopo che il fornitore di Bigfoot birrerie è stato selezionato ed è stato fatto clic sul pulsante Mostra prodotti su pagina.</span><span class="sxs-lookup"><span data-stu-id="71f98-335">Figure 20 shows the results after the Bigfoot Breweries supplier has been selected and the Show Products on Page button has been clicked.</span></span>

<span data-ttu-id="71f98-336">[![i prodotti forniti da Bigfoot birrifici sono elencati nella stessa pagina](adding-a-gridview-column-of-radio-buttons-vb/_static/image20.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="71f98-336">[![The Products Supplied by Bigfoot Breweries are Listed on the Same Page](adding-a-gridview-column-of-radio-buttons-vb/_static/image20.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image35.png)</span></span>

<span data-ttu-id="71f98-337">**Figura 20**: i prodotti forniti da un birrificio Bigfoot sono elencati nella stessa pagina ([fare clic per visualizzare l'immagine con dimensioni complete](adding-a-gridview-column-of-radio-buttons-vb/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="71f98-337">**Figure 20**: The Products Supplied by Bigfoot Breweries are Listed on the Same Page ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image36.png))</span></span>

## <a name="summary"></a><span data-ttu-id="71f98-338">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="71f98-338">Summary</span></span>

<span data-ttu-id="71f98-339">Come illustrato in [Master/Details con un'esercitazione Selectable Master GridView with an Details controllo DetailView per](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb.md) , è possibile selezionare i record da un GridView usando un oggetto CommandField la cui proprietà `ShowSelectButton` è impostata su `True`.</span><span class="sxs-lookup"><span data-stu-id="71f98-339">As discussed in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb.md) tutorial, records can be selected from a GridView using a CommandField whose `ShowSelectButton` property is set to `True`.</span></span> <span data-ttu-id="71f98-340">Tuttavia, CommandField Visualizza i pulsanti come pulsanti di push normali, collegamenti o immagini.</span><span class="sxs-lookup"><span data-stu-id="71f98-340">But the CommandField displays its buttons either as regular push buttons, links, or images.</span></span> <span data-ttu-id="71f98-341">Un'interfaccia utente alternativa per la selezione delle righe consiste nel fornire un pulsante di opzione o una casella di controllo in ogni riga di GridView.</span><span class="sxs-lookup"><span data-stu-id="71f98-341">An alternative row-selection user interface is to provide a radio button or checkbox in each GridView row.</span></span> <span data-ttu-id="71f98-342">In questa esercitazione è stato esaminato come aggiungere una colonna di pulsanti di opzione.</span><span class="sxs-lookup"><span data-stu-id="71f98-342">In this tutorial we examined how to add a column of radio buttons.</span></span>

<span data-ttu-id="71f98-343">Sfortunatamente, l'aggiunta di una colonna di pulsanti di opzione non è semplice o semplice come si può prevedere.</span><span class="sxs-lookup"><span data-stu-id="71f98-343">Unfortunately, adding a column of radio buttons isn t as straightforward or simple as one might expect.</span></span> <span data-ttu-id="71f98-344">Non è presente alcun RadioButtonField incorporato che può essere aggiunto con un clic di un pulsante e l'uso del controllo Web RadioButton all'interno di un TemplateField introduce un proprio set di problemi.</span><span class="sxs-lookup"><span data-stu-id="71f98-344">There is no built-in RadioButtonField that can be added at the click of a button, and using the RadioButton Web control within a TemplateField introduces its own set of problems.</span></span> <span data-ttu-id="71f98-345">Alla fine, per fornire un'interfaccia di questo tipo, è necessario creare una classe di `DataControlField` personalizzata o ricorrere a inserire il codice HTML appropriato in un TemplateField durante l'evento di `RowCreated`.</span><span class="sxs-lookup"><span data-stu-id="71f98-345">In the end, to provide such an interface we either have to create a custom `DataControlField` class or resort to injecting the appropriate HTML into a TemplateField during the `RowCreated` event.</span></span>

<span data-ttu-id="71f98-346">Dopo aver esplorato come aggiungere una colonna di pulsanti di opzione, è possibile riportare l'attenzione sull'aggiunta di una colonna di caselle di controllo.</span><span class="sxs-lookup"><span data-stu-id="71f98-346">Having explored how to add a column of radio buttons, let us turn our attention to adding a column of checkboxes.</span></span> <span data-ttu-id="71f98-347">Con una colonna di caselle di controllo, un utente può selezionare una o più righe GridView, quindi eseguire alcune operazioni su tutte le righe selezionate, ad esempio selezionando un set di messaggi di posta elettronica da un client di posta elettronica basato sul Web e quindi scegliendo di eliminare tutti i messaggi di posta elettronica selezionati.</span><span class="sxs-lookup"><span data-stu-id="71f98-347">With a column of checkboxes, a user can select one or more GridView rows and then perform some operation on all of the selected rows (such as selecting a set of emails from a web-based email client, and then choosing to delete all selected emails).</span></span> <span data-ttu-id="71f98-348">Nell'esercitazione successiva si vedrà come aggiungere una colonna di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="71f98-348">In the next tutorial we'll see how to add such a column.</span></span>

<span data-ttu-id="71f98-349">Buona programmazione!</span><span class="sxs-lookup"><span data-stu-id="71f98-349">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="71f98-350">Informazioni sull'autore</span><span class="sxs-lookup"><span data-stu-id="71f98-350">About the Author</span></span>

<span data-ttu-id="71f98-351">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autore di sette ASP/ASP. NET Books e fondatore di [4GuysFromRolla.com](http://www.4guysfromrolla.com), collabora con le tecnologie Web Microsoft a partire da 1998.</span><span class="sxs-lookup"><span data-stu-id="71f98-351">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="71f98-352">Scott lavora come consulente, trainer e writer indipendenti.</span><span class="sxs-lookup"><span data-stu-id="71f98-352">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="71f98-353">Il suo ultimo libro è [*Sams Teach Yourself ASP.NET 2,0 in 24 ore*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="71f98-353">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="71f98-354">Può essere raggiunto in [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="71f98-354">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="71f98-355">o tramite il suo Blog, disponibile in [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="71f98-355">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="71f98-356">Grazie speciale</span><span class="sxs-lookup"><span data-stu-id="71f98-356">Special Thanks To</span></span>

<span data-ttu-id="71f98-357">Questa serie di esercitazioni è stata esaminata da molti revisori utili.</span><span class="sxs-lookup"><span data-stu-id="71f98-357">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="71f98-358">Il revisore principale di questa esercitazione è stato David Suru.</span><span class="sxs-lookup"><span data-stu-id="71f98-358">Lead reviewer for this tutorial was David Suru.</span></span> <span data-ttu-id="71f98-359">Sei interessato a esaminare i miei prossimi articoli MSDN?</span><span class="sxs-lookup"><span data-stu-id="71f98-359">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="71f98-360">In tal caso, rilasciare una riga in [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="71f98-360">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="71f98-361">[Precedente](inserting-a-new-record-from-the-gridview-s-footer-cs.md)
> [Successivo](adding-a-gridview-column-of-checkboxes-vb.md)</span><span class="sxs-lookup"><span data-stu-id="71f98-361">[Previous](inserting-a-new-record-from-the-gridview-s-footer-cs.md)
[Next](adding-a-gridview-column-of-checkboxes-vb.md)</span></span>
