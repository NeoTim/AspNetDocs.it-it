---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/configuring-parameters-for-web-package-deployment
title: Configurazione dei parametri per la distribuzione di pacchetti Web | Microsoft Docs
author: jrjlee
description: In questo argomento viene descritto come impostare i valori dei parametri, ad esempio i nomi delle applicazioni Web Internet Information Services (IIS), le stringhe di connessione e gli endpoint di servizio,...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 37947d79-ab1e-4ba9-9017-52e7a2757414
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/configuring-parameters-for-web-package-deployment
msc.type: authoredcontent
ms.openlocfilehash: f04ace98d81a33053b10cab7e40dbd75a6c0992c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/06/2020
ms.locfileid: "78544954"
---
# <a name="configuring-parameters-for-web-package-deployment"></a><span data-ttu-id="688c3-103">Configurazione dei parametri per la distribuzione di pacchetti Web</span><span class="sxs-lookup"><span data-stu-id="688c3-103">Configuring Parameters for Web Package Deployment</span></span>

<span data-ttu-id="688c3-104">di [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="688c3-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="688c3-105">Scaricare PDF</span><span class="sxs-lookup"><span data-stu-id="688c3-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="688c3-106">In questo argomento viene descritto come impostare i valori dei parametri, ad esempio i nomi delle applicazioni Web Internet Information Services (IIS), le stringhe di connessione e gli endpoint di servizio, quando si distribuisce un pacchetto Web in un server Web IIS remoto.</span><span class="sxs-lookup"><span data-stu-id="688c3-106">This topic describes how to set parameter values, like Internet Information Services (IIS) web application names, connection strings, and service endpoints, when you deploy a web package to a remote IIS web server.</span></span>

<span data-ttu-id="688c3-107">Quando si compila un progetto di applicazione Web, il processo di compilazione e creazione di pacchetti genera tre file di chiave:</span><span class="sxs-lookup"><span data-stu-id="688c3-107">When you build a web application project, the build and packaging process generates three key files:</span></span>

- <span data-ttu-id="688c3-108">Un file con estensione *zip [nome progetto]* .</span><span class="sxs-lookup"><span data-stu-id="688c3-108">A *[project name].zip* file.</span></span> <span data-ttu-id="688c3-109">Si tratta del pacchetto di distribuzione Web per il progetto di applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="688c3-109">This is the web deployment package for your web application project.</span></span> <span data-ttu-id="688c3-110">Questo pacchetto contiene tutti gli assembly, i file, gli script di database e le risorse necessarie per ricreare l'applicazione Web in un server Web IIS remoto.</span><span class="sxs-lookup"><span data-stu-id="688c3-110">This package contains all the assemblies, files, database scripts, and resources required to recreate your web application on a remote IIS web server.</span></span>
- <span data-ttu-id="688c3-111">Un file *[nome progetto]. deploy. cmd* .</span><span class="sxs-lookup"><span data-stu-id="688c3-111">A *[project name].deploy.cmd* file.</span></span> <span data-ttu-id="688c3-112">Contiene un set di comandi Distribuzione Web con parametri (MSDeploy. exe) che pubblicano il pacchetto di distribuzione Web in un server Web IIS remoto.</span><span class="sxs-lookup"><span data-stu-id="688c3-112">This contains a set of parameterized Web Deploy (MSDeploy.exe) commands that publish your web deployment package to a remote IIS web server.</span></span>
- <span data-ttu-id="688c3-113">*[Nome progetto]. File separameters. XML* .</span><span class="sxs-lookup"><span data-stu-id="688c3-113">A *[project name].SetParameters.xml* file.</span></span> <span data-ttu-id="688c3-114">In questo modo viene fornito un set di valori di parametro al comando MSDeploy. exe.</span><span class="sxs-lookup"><span data-stu-id="688c3-114">This provides a set of parameter values to the MSDeploy.exe command.</span></span> <span data-ttu-id="688c3-115">È possibile aggiornare i valori in questo file e passarli a Distribuzione Web come parametro della riga di comando quando si distribuisce il pacchetto Web.</span><span class="sxs-lookup"><span data-stu-id="688c3-115">You can update the values in this file and pass it to Web Deploy as a command-line parameter when you deploy your web package.</span></span>

> [!NOTE]
> <span data-ttu-id="688c3-116">Per ulteriori informazioni sul processo di compilazione e creazione di pacchetti, vedere [compilazione e creazione di pacchetti di progetti di applicazione Web](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="688c3-116">For more information on the build and packaging process, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>

<span data-ttu-id="688c3-117">Il file *Separameters. XML* viene generato in modo dinamico dal file di progetto dell'applicazione Web e da eventuali file di configurazione all'interno del progetto.</span><span class="sxs-lookup"><span data-stu-id="688c3-117">The *SetParameters.xml* file is dynamically generated from your web application project file and any configuration files within your project.</span></span> <span data-ttu-id="688c3-118">Quando si compila e si crea il pacchetto del progetto, la pipeline di pubblicazione sul Web (WPP) rileva automaticamente molte delle variabili che probabilmente cambiano tra gli ambienti di distribuzione, ad esempio l'applicazione Web IIS di destinazione e le stringhe di connessione del database.</span><span class="sxs-lookup"><span data-stu-id="688c3-118">When you build and package your project, the Web Publishing Pipeline (WPP) will automatically detect lots of the variables that are likely to change between deployment environments, like the destination IIS web application and any database connection strings.</span></span> <span data-ttu-id="688c3-119">Questi valori vengono parametrizzati automaticamente nel pacchetto di distribuzione Web e aggiunti al file *Separameters. XML* .</span><span class="sxs-lookup"><span data-stu-id="688c3-119">These values are automatically parameterized in the web deployment package and added to the *SetParameters.xml* file.</span></span> <span data-ttu-id="688c3-120">Se ad esempio si aggiunge una stringa di connessione al file *Web. config* nel progetto di applicazione Web, il processo di compilazione rileverà questa modifica e aggiungerà una voce al file *separameters. XML* di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="688c3-120">For example, if you add a connection string to the *web.config* file in your web application project, the build process will detect this change and will add an entry to the *SetParameters.xml* file accordingly.</span></span>

<span data-ttu-id="688c3-121">In numerosi casi, la parametrizzazione automatica sarà sufficiente.</span><span class="sxs-lookup"><span data-stu-id="688c3-121">In a lot of cases, this automatic parameterization will be sufficient.</span></span> <span data-ttu-id="688c3-122">Tuttavia, se gli utenti devono variare altre impostazioni tra gli ambienti di distribuzione, ad esempio le impostazioni dell'applicazione o gli URL degli endpoint di servizio, è necessario indicare a WPP di parametrizzare questi valori nel pacchetto di distribuzione e aggiungere le voci corrispondenti al file *Separameters. XML* .</span><span class="sxs-lookup"><span data-stu-id="688c3-122">However, if your users need to vary other settings between deployment environments, like application settings or service endpoint URLs, you need to tell the WPP to parameterize these values in the deployment package and add corresponding entries to the *SetParameters.xml* file.</span></span> <span data-ttu-id="688c3-123">Le sezioni seguenti illustrano come eseguire questa operazione.</span><span class="sxs-lookup"><span data-stu-id="688c3-123">The sections that follow explain how to do this.</span></span>

### <a name="automatic-parameterization"></a><span data-ttu-id="688c3-124">Parametrizzazione automatica</span><span class="sxs-lookup"><span data-stu-id="688c3-124">Automatic Parameterization</span></span>

<span data-ttu-id="688c3-125">Quando si compila e si crea il pacchetto di un'applicazione Web, il WPP parametrizza automaticamente questi elementi:</span><span class="sxs-lookup"><span data-stu-id="688c3-125">When you build and package a web application, the WPP will automatically parameterize these things:</span></span>

- <span data-ttu-id="688c3-126">Il percorso e il nome dell'applicazione Web IIS di destinazione.</span><span class="sxs-lookup"><span data-stu-id="688c3-126">The destination IIS web application path and name.</span></span>
- <span data-ttu-id="688c3-127">Tutte le stringhe di connessione nel file *Web. config* .</span><span class="sxs-lookup"><span data-stu-id="688c3-127">Any connection strings in your *web.config* file.</span></span>
- <span data-ttu-id="688c3-128">Stringhe di connessione per tutti i database aggiunti alla scheda **pubblicazione/pubblicazione pacchetto SQL** nelle pagine delle proprietà del progetto.</span><span class="sxs-lookup"><span data-stu-id="688c3-128">Connection strings for any databases you add to the **Package/Publish SQL** tab in the project property pages.</span></span>

<span data-ttu-id="688c3-129">Se ad esempio si compila e si crea il pacchetto della soluzione di esempio [Contact Manager](the-contact-manager-solution.md) senza toccare il processo di parametrizzazione in alcun modo, il WPP genera il file *ContactManager. Mvc. separameters. XML* :</span><span class="sxs-lookup"><span data-stu-id="688c3-129">For example, if you were to build and package the [Contact Manager](the-contact-manager-solution.md) sample solution without touching the parameterization process in any way, the WPP would generate this *ContactManager.Mvc.SetParameters.xml* file:</span></span>

[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample1.xml)]

<span data-ttu-id="688c3-130">In questo caso:</span><span class="sxs-lookup"><span data-stu-id="688c3-130">In this case:</span></span>

- <span data-ttu-id="688c3-131">Il parametro del **nome dell'applicazione Web IIS** è il percorso IIS in cui si desidera distribuire l'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="688c3-131">The **IIS Web Application Name** parameter is the IIS path where you want to deploy the web application.</span></span> <span data-ttu-id="688c3-132">Il valore predefinito viene tratto dalla pagina **Web del pacchetto o della pubblicazione** nelle pagine delle proprietà del progetto.</span><span class="sxs-lookup"><span data-stu-id="688c3-132">The default value is taken from the **Package/Publish Web** page in the project property pages.</span></span>
- <span data-ttu-id="688c3-133">Il parametro della **stringa di connessione ApplicationServices-Web. config** è stato generato da un elemento **connectionStrings/add** nel file *Web. config* .</span><span class="sxs-lookup"><span data-stu-id="688c3-133">The **ApplicationServices-Web.config Connection String** parameter was generated from a **connectionStrings/add** element in the *web.config* file.</span></span> <span data-ttu-id="688c3-134">Rappresenta la stringa di connessione che l'applicazione deve utilizzare per contattare il database delle appartenenze.</span><span class="sxs-lookup"><span data-stu-id="688c3-134">It represents the connection string that the application should use to contact the membership database.</span></span> <span data-ttu-id="688c3-135">Il valore fornito qui verrà sostituito con il file *Web. config* distribuito.</span><span class="sxs-lookup"><span data-stu-id="688c3-135">The value you provide here will be substituted into the deployed *web.config* file.</span></span> <span data-ttu-id="688c3-136">Il valore predefinito viene ricavato dal file *Web. config* pre-distribuzione.</span><span class="sxs-lookup"><span data-stu-id="688c3-136">The default value is taken from the pre-deployment *web.config* file.</span></span>

<span data-ttu-id="688c3-137">Anche WPP parametrizza queste proprietà nel pacchetto di distribuzione che genera.</span><span class="sxs-lookup"><span data-stu-id="688c3-137">The WPP also parameterizes these properties in the deployment package it generates.</span></span> <span data-ttu-id="688c3-138">Quando si installa il pacchetto di distribuzione, è possibile specificare i valori per queste proprietà.</span><span class="sxs-lookup"><span data-stu-id="688c3-138">You can provide values for these properties when you install the deployment package.</span></span> <span data-ttu-id="688c3-139">Se il pacchetto viene installato manualmente tramite Gestione IIS, come descritto in [installazione manuale di pacchetti Web](manually-installing-web-packages.md), l'installazione guidata richiede di specificare i valori per tutti i parametri.</span><span class="sxs-lookup"><span data-stu-id="688c3-139">If you install the package manually through IIS Manager, as described in [Manually Installing Web Packages](manually-installing-web-packages.md), the installation wizard prompts you to provide values for any parameters.</span></span> <span data-ttu-id="688c3-140">Se si installa il pacchetto in modalità remota utilizzando il file *. deploy. cmd* , come descritto in [Deploying Web packages](deploying-web-packages.md), distribuzione Web guarderà il file *separameters. XML* per specificare i valori dei parametri.</span><span class="sxs-lookup"><span data-stu-id="688c3-140">If you install the package remotely using the *.deploy.cmd* file, as described in [Deploying Web Packages](deploying-web-packages.md), Web Deploy will look to this *SetParameters.xml* file to provide the parameter values.</span></span> <span data-ttu-id="688c3-141">È possibile modificare i valori nel file *Separameters. XML* manualmente oppure è possibile personalizzare il file come parte di un processo di compilazione e distribuzione automatizzato.</span><span class="sxs-lookup"><span data-stu-id="688c3-141">You can edit the values in the *SetParameters.xml* file manually, or you can customize the file as part of an automated build and deployment process.</span></span> <span data-ttu-id="688c3-142">Questo processo è descritto in modo più dettagliato più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="688c3-142">This process is described in more detail later in this topic.</span></span>

### <a name="custom-parameterization"></a><span data-ttu-id="688c3-143">Parametrizzazione personalizzata</span><span class="sxs-lookup"><span data-stu-id="688c3-143">Custom Parameterization</span></span>

<span data-ttu-id="688c3-144">Negli scenari di distribuzione più complessi è spesso necessario parametrizzare proprietà aggiuntive prima di distribuire il progetto.</span><span class="sxs-lookup"><span data-stu-id="688c3-144">In more complex deployment scenarios, you'll often want to parameterize additional properties before you deploy your project.</span></span> <span data-ttu-id="688c3-145">In generale, è necessario parametrizzare le proprietà e le impostazioni che variano tra gli ambienti di destinazione.</span><span class="sxs-lookup"><span data-stu-id="688c3-145">Generally speaking, you should parameterize any properties and settings that will vary between destination environments.</span></span> <span data-ttu-id="688c3-146">Questi possono includere:</span><span class="sxs-lookup"><span data-stu-id="688c3-146">These can include:</span></span>

- <span data-ttu-id="688c3-147">Endpoint del servizio nel file *Web. config* .</span><span class="sxs-lookup"><span data-stu-id="688c3-147">Service endpoints in the *web.config* file.</span></span>
- <span data-ttu-id="688c3-148">Impostazioni dell'applicazione nel file *Web. config* .</span><span class="sxs-lookup"><span data-stu-id="688c3-148">Application settings in the *web.config* file.</span></span>
- <span data-ttu-id="688c3-149">Qualsiasi altra proprietà dichiarativa che si desidera richiedere agli utenti di specificare.</span><span class="sxs-lookup"><span data-stu-id="688c3-149">Any other declarative properties that you want to prompt users to specify.</span></span>

<span data-ttu-id="688c3-150">Il modo più semplice per parametrizzare queste proprietà consiste nell'aggiungere un file *Parameters. XML* alla cartella radice del progetto di applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="688c3-150">The easiest way to parameterize these properties is to add a *parameters.xml* file to the root folder of your web application project.</span></span> <span data-ttu-id="688c3-151">Ad esempio, nella soluzione Contact Manager il progetto ContactManager. MVC include un file *Parameters. XML* nella cartella radice.</span><span class="sxs-lookup"><span data-stu-id="688c3-151">For example, in the Contact Manager solution, the ContactManager.Mvc project includes a *parameters.xml* file in the root folder.</span></span>

![](configuring-parameters-for-web-package-deployment/_static/image1.png)

<span data-ttu-id="688c3-152">Se si apre questo file, si noterà che contiene una voce di **parametro** singolo.</span><span class="sxs-lookup"><span data-stu-id="688c3-152">If you open this file, you'll see that it contains a single **parameter** entry.</span></span> <span data-ttu-id="688c3-153">La voce utilizza una query XPath (XML Path Language) per individuare e parametrizzare l'URL dell'endpoint del servizio ContactService Windows Communication Foundation (WCF) nel file *Web. config* .</span><span class="sxs-lookup"><span data-stu-id="688c3-153">The entry uses an XML Path Language (XPath) query to locate and parameterize the endpoint URL of the ContactService Windows Communication Foundation (WCF) service in the *web.config* file.</span></span>

[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample2.xml)]

<span data-ttu-id="688c3-154">Oltre a parametrizzazione l'URL dell'endpoint nel pacchetto di distribuzione, WPP aggiunge anche una voce corrispondente al file *Separameters. XML* che viene generato insieme al pacchetto di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="688c3-154">In addition to parameterizing the endpoint URL in the deployment package, the WPP also adds a corresponding entry to the *SetParameters.xml* file that gets generated alongside the deployment package.</span></span>

[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample3.xml)]

<span data-ttu-id="688c3-155">Se il pacchetto di distribuzione viene installato manualmente, gestione IIS richiederà l'indirizzo dell'endpoint del servizio insieme alle proprietà parametrizzate automaticamente.</span><span class="sxs-lookup"><span data-stu-id="688c3-155">If you install the deployment package manually, IIS Manager will prompt you for the service endpoint address alongside the properties that were parameterized automatically.</span></span> <span data-ttu-id="688c3-156">Se si installa il pacchetto di distribuzione eseguendo il file *. deploy. cmd* , è possibile modificare il file *separameters. XML* per fornire un valore per l'indirizzo dell'endpoint del servizio insieme ai valori per le proprietà che sono state parametrizzate automaticamente.</span><span class="sxs-lookup"><span data-stu-id="688c3-156">If you install the deployment package by running the *.deploy.cmd* file, you can edit the *SetParameters.xml* file to provide a value for the service endpoint address together with values for the properties that were parameterized automatically.</span></span>

<span data-ttu-id="688c3-157">Per informazioni dettagliate su come creare un file *Parameters. XML* , vedere [procedura: usare i parametri per configurare le impostazioni di distribuzione durante l'installazione di un pacchetto](https://msdn.microsoft.com/library/ff398068.aspx).</span><span class="sxs-lookup"><span data-stu-id="688c3-157">For full details on how to create a *parameters.xml* file, see [How to: Use Parameters to Configure Deployment Settings When a Package is Installed](https://msdn.microsoft.com/library/ff398068.aspx).</span></span> <span data-ttu-id="688c3-158">La procedura denominata **per l'utilizzo dei parametri di distribuzione per le impostazioni del file Web. config** include istruzioni dettagliate.</span><span class="sxs-lookup"><span data-stu-id="688c3-158">The procedure named **To use deployment parameters for Web.config file settings** provides step-by-step instructions.</span></span>

## <a name="modifying-the-setparametersxml-file"></a><span data-ttu-id="688c3-159">Modifica del file separameters. XML</span><span class="sxs-lookup"><span data-stu-id="688c3-159">Modifying the SetParameters.xml File</span></span>

<span data-ttu-id="688c3-160">Se si prevede di distribuire il pacchetto dell'applicazione Web&#x2014;manualmente eseguendo il file *. deploy. cmd* o eseguendo MSDeploy. exe dalla riga&#x2014;di comando, non c'è nulla da arrestare per modificare manualmente il file *separameters. XML* prima della distribuzione.</span><span class="sxs-lookup"><span data-stu-id="688c3-160">If you plan to deploy the web application package manually&#x2014;either by running the *.deploy.cmd* file or by running MSDeploy.exe from the command line&#x2014;there's nothing to stop you manually editing the *SetParameters.xml* file prior to the deployment.</span></span> <span data-ttu-id="688c3-161">Tuttavia, se si lavora su una soluzione su scala aziendale, potrebbe essere necessario distribuire un pacchetto di applicazione Web come parte di un processo di compilazione e distribuzione automatizzato più ampio.</span><span class="sxs-lookup"><span data-stu-id="688c3-161">However, if you're working on an enterprise-scale solution, you may need to deploy a web application package as part of a larger, automated build and deployment process.</span></span> <span data-ttu-id="688c3-162">In questo scenario è necessario il Microsoft Build Engine (MSBuild) per modificare il file *Separameters. XML* .</span><span class="sxs-lookup"><span data-stu-id="688c3-162">In this scenario, you need the Microsoft Build Engine (MSBuild) to modify the *SetParameters.xml* file for you.</span></span> <span data-ttu-id="688c3-163">A tale scopo, è possibile usare l'attività MSBuild **XmlPoke** .</span><span class="sxs-lookup"><span data-stu-id="688c3-163">You can do this by using the MSBuild **XmlPoke** task.</span></span>

<span data-ttu-id="688c3-164">Questo processo è illustrato nella [soluzione di esempio Contact Manager](the-contact-manager-solution.md) .</span><span class="sxs-lookup"><span data-stu-id="688c3-164">The [Contact Manager sample solution](the-contact-manager-solution.md) illustrates this process.</span></span> <span data-ttu-id="688c3-165">Gli esempi di codice seguenti sono stati modificati in modo da visualizzare solo i dettagli relativi a questo esempio.</span><span class="sxs-lookup"><span data-stu-id="688c3-165">The code examples that follow have been edited to show only the details that are relevant to this example.</span></span>

> [!NOTE]
> <span data-ttu-id="688c3-166">Per una panoramica più ampia del modello di file di progetto nella soluzione di esempio e un'introduzione ai file di progetto personalizzati in generale, vedere [informazioni sul file di progetto](understanding-the-project-file.md) e [informazioni sul processo di compilazione](understanding-the-build-process.md).</span><span class="sxs-lookup"><span data-stu-id="688c3-166">For a broader overview of the project file model in the sample solution, and an introduction to custom project files in general, see [Understanding the Project File](understanding-the-project-file.md) and [Understanding the Build Process](understanding-the-build-process.md).</span></span>

<span data-ttu-id="688c3-167">In primo luogo, i valori dei parametri di interesse vengono definiti come proprietà nel file di progetto specifico dell'ambiente (ad esempio, *env-dev. proj*).</span><span class="sxs-lookup"><span data-stu-id="688c3-167">First, the parameter values of interest are defined as properties in the environment-specific project file (for example, *Env-Dev.proj*).</span></span>

[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample4.xml)]

> [!NOTE]
> <span data-ttu-id="688c3-168">Per istruzioni su come personalizzare i file di progetto specifici dell'ambiente per gli ambienti server, vedere [configurare le proprietà di distribuzione per un ambiente di destinazione](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span><span class="sxs-lookup"><span data-stu-id="688c3-168">For guidance on how to customize the environment-specific project files for your own server environments, see [Configure Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>

<span data-ttu-id="688c3-169">Successivamente, il file *Publish. proj* importa queste proprietà.</span><span class="sxs-lookup"><span data-stu-id="688c3-169">Next, the *Publish.proj* file imports these properties.</span></span> <span data-ttu-id="688c3-170">Poiché ogni *file Separameters. XML* è associato a un file *. deploy. cmd* e si desidera che il file di progetto richiami ogni file *. deploy. cmd* , il file di progetto crea un *elemento* MSBuild per ogni file *. deploy. cmd* e definisce le proprietà di interesse come *metadati dell'elemento*.</span><span class="sxs-lookup"><span data-stu-id="688c3-170">Because each *SetParameters.xml* file is associated with a *.deploy.cmd* file, and we ultimately want the project file to invoke each *.deploy.cmd* file, the project file creates an MSBuild *item* for each *.deploy.cmd* file and defines the properties of interest as *item metadata*.</span></span>

[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample5.xml)]

<span data-ttu-id="688c3-171">In questo caso:</span><span class="sxs-lookup"><span data-stu-id="688c3-171">In this case:</span></span>

- <span data-ttu-id="688c3-172">Il valore dei metadati **ParametersXml** indica il percorso del file *separameters. XML* .</span><span class="sxs-lookup"><span data-stu-id="688c3-172">The **ParametersXml** metadata value indicates the location of the *SetParameters.xml* file.</span></span>
- <span data-ttu-id="688c3-173">Il valore **IisWebAppName** è il percorso IIS in cui si desidera distribuire l'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="688c3-173">The **IisWebAppName** value is the IIS path to which you want to deploy the web application.</span></span>
- <span data-ttu-id="688c3-174">Il valore **MembershipDBConnectionString** è la stringa di connessione per il database di appartenenza e il valore **MembershipDBConnectionName** è l'attributo **Name** del parametro corrispondente nel file *separameters. XML* .</span><span class="sxs-lookup"><span data-stu-id="688c3-174">The **MembershipDBConnectionString** value is the connection string for the membership database, and the **MembershipDBConnectionName** value is the **name** attribute of the corresponding parameter in the *SetParameters.xml* file.</span></span>
- <span data-ttu-id="688c3-175">Il valore **ServiceEndpointValue** è l'indirizzo endpoint per il servizio WCF nel server di destinazione e il valore **ServiceEndpointParamName** è l'attributo Name del parametro corrispondente nel file *separameters. XML* .</span><span class="sxs-lookup"><span data-stu-id="688c3-175">The **ServiceEndpointValue** value is the endpoint address for the WCF service on the destination server, and the **ServiceEndpointParamName** value is the name attribute of the corresponding parameter in the *SetParameters.xml* file.</span></span>

<span data-ttu-id="688c3-176">Infine, nel file *Publish. proj* la destinazione **PublishWebPackages** usa l'attività **XmlPoke** per modificare questi valori nel file *separameters. XML* .</span><span class="sxs-lookup"><span data-stu-id="688c3-176">Finally, in the *Publish.proj* file, the **PublishWebPackages** target uses the **XmlPoke** task to modify these values in the *SetParameters.xml* file.</span></span>

[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample6.xml)]

<span data-ttu-id="688c3-177">Si noterà che ogni attività **XmlPoke** specifica quattro valori di attributo:</span><span class="sxs-lookup"><span data-stu-id="688c3-177">You'll notice that each **XmlPoke** task specifies four attribute values:</span></span>

- <span data-ttu-id="688c3-178">L'attributo **XmlInputPath** indica all'attività dove trovare il file che si desidera modificare.</span><span class="sxs-lookup"><span data-stu-id="688c3-178">The **XmlInputPath** attribute tells the task where to find the file you want to modify.</span></span>
- <span data-ttu-id="688c3-179">L'attributo **query** è una query XPath che identifica il nodo XML che si desidera modificare.</span><span class="sxs-lookup"><span data-stu-id="688c3-179">The **Query** attribute is an XPath query that identifies the XML node you want to change.</span></span>
- <span data-ttu-id="688c3-180">L'attributo **value** è il nuovo valore che si desidera inserire nel nodo XML selezionato.</span><span class="sxs-lookup"><span data-stu-id="688c3-180">The **Value** attribute is the new value you want to insert into the selected XML node.</span></span>
- <span data-ttu-id="688c3-181">L'attributo **Condition** è costituito dai criteri in cui l'attività deve essere eseguita o meno.</span><span class="sxs-lookup"><span data-stu-id="688c3-181">The **Condition** attribute is the criteria on which the task should run or not run.</span></span> <span data-ttu-id="688c3-182">In questi casi, la condizione garantisce che non si tenti di inserire un valore null o vuoto nel file *Separameters. XML* .</span><span class="sxs-lookup"><span data-stu-id="688c3-182">In these cases, the condition ensures that you don't try to insert a null or empty value into the *SetParameters.xml* file.</span></span>

## <a name="conclusion"></a><span data-ttu-id="688c3-183">Conclusione</span><span class="sxs-lookup"><span data-stu-id="688c3-183">Conclusion</span></span>

<span data-ttu-id="688c3-184">In questo argomento viene descritto il ruolo del file *Separameters. XML* e viene illustrato come viene generato quando si compila un progetto di applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="688c3-184">This topic described the role of the *SetParameters.xml* file and explained how it's generated when you build a web application project.</span></span> <span data-ttu-id="688c3-185">È stato illustrato come parametrizzare impostazioni aggiuntive aggiungendo un file *Parameters. XML* al progetto.</span><span class="sxs-lookup"><span data-stu-id="688c3-185">It explained how you can parameterize additional settings by adding a *parameters.xml* file to your project.</span></span> <span data-ttu-id="688c3-186">Viene anche descritto come modificare il file *Separameters. XML* come parte di un processo di compilazione automatizzato più grande, usando l'attività **XmlPoke** nei file di progetto.</span><span class="sxs-lookup"><span data-stu-id="688c3-186">It also described how you can modify the *SetParameters.xml* file as part of a larger, automated build process, by using the **XmlPoke** task in your project files.</span></span>

<span data-ttu-id="688c3-187">Nell'argomento successivo, [distribuzione di pacchetti Web](deploying-web-packages.md), viene descritto come è possibile distribuire un pacchetto Web eseguendo il file *. deploy. cmd* o usando direttamente i comandi MSDeploy. exe.</span><span class="sxs-lookup"><span data-stu-id="688c3-187">The next topic, [Deploying Web Packages](deploying-web-packages.md), describes how you can deploy a web package either by running the *.deploy.cmd* file or by using MSDeploy.exe commands directly.</span></span> <span data-ttu-id="688c3-188">In entrambi i casi, è possibile specificare il file *Separameters. XML* come parametro di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="688c3-188">In both cases, you can specify your *SetParameters.xml* file as a deployment parameter.</span></span>

## <a name="further-reading"></a><span data-ttu-id="688c3-189">Ulteriori informazioni</span><span class="sxs-lookup"><span data-stu-id="688c3-189">Further Reading</span></span>

<span data-ttu-id="688c3-190">Per informazioni su come creare pacchetti Web, vedere [compilazione e creazione di pacchetti di progetti di applicazioni Web](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="688c3-190">For information on how to create web packages, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span> <span data-ttu-id="688c3-191">Per istruzioni su come distribuire effettivamente un pacchetto Web, vedere [distribuzione di pacchetti Web](deploying-web-packages.md).</span><span class="sxs-lookup"><span data-stu-id="688c3-191">For guidance on how to actually deploy a web package, see [Deploying Web Packages](deploying-web-packages.md).</span></span> <span data-ttu-id="688c3-192">Per una procedura dettagliata su come creare un file *Parameters. XML* , vedere [procedura: usare i parametri per configurare le impostazioni di distribuzione durante l'installazione di un pacchetto](https://msdn.microsoft.com/library/ff398068.aspx).</span><span class="sxs-lookup"><span data-stu-id="688c3-192">For a step-by-step walkthrough on how to create a *parameters.xml* file, see [How to: Use Parameters to Configure Deployment Settings When a Package is Installed](https://msdn.microsoft.com/library/ff398068.aspx).</span></span>

<span data-ttu-id="688c3-193">Per informazioni più generali sulla parametrizzazione in Distribuzione Web, vedere [distribuzione Web parametrizzazione in azione](https://go.microsoft.com/?linkid=9805119) (post di Blog).</span><span class="sxs-lookup"><span data-stu-id="688c3-193">For more general information on parameterization in Web Deploy, see [Web Deploy Parameterization in Action](https://go.microsoft.com/?linkid=9805119) (blog post).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="688c3-194">[Precedente](building-and-packaging-web-application-projects.md)
> [Successivo](deploying-web-packages.md)</span><span class="sxs-lookup"><span data-stu-id="688c3-194">[Previous](building-and-packaging-web-application-projects.md)
[Next](deploying-web-packages.md)</span></span>
