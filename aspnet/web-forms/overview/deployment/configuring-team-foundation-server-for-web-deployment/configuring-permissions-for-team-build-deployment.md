---
uid: web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
title: Configurazione delle autorizzazioni per Team di distribuzione della compilazione | Microsoft Docs
author: jrjlee
description: In questo argomento descrive come configurare le autorizzazioni per abilitare il server di compilazione distribuire il contenuto al server web e server di database come parte di un automatizzati b...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 2488a91e-b0a8-465a-b874-3233f724b56b
msc.legacyurl: /web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
msc.type: authoredcontent
ms.openlocfilehash: 5699f72af6b8d7f18d1a2c631dfdedd63c66e1e6
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/06/2019
ms.locfileid: "65133848"
---
# <a name="configuring-permissions-for-team-build-deployment"></a><span data-ttu-id="89001-103">Configurazione delle autorizzazioni per la distribuzione di Team Build</span><span class="sxs-lookup"><span data-stu-id="89001-103">Configuring Permissions for Team Build Deployment</span></span>

<span data-ttu-id="89001-104">da [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="89001-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="89001-105">Scaricare PDF</span><span class="sxs-lookup"><span data-stu-id="89001-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="89001-106">Questo argomento descrive come configurare le autorizzazioni per abilitare il server di compilazione distribuire il contenuto al server web e server di database come parte di un processo di compilazione automatizzata.</span><span class="sxs-lookup"><span data-stu-id="89001-106">This topic describes how to configure permissions to enable your build server to deploy content to web servers and database servers as part of an automated build process.</span></span>

<span data-ttu-id="89001-107">In questo argomento fa parte di una serie di esercitazioni basate su requisiti di distribuzione aziendale di una società fittizia, denominata Fabrikam, Inc. Questa serie di esercitazioni Usa una soluzione di esempio&#x2014;il [soluzione Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;per rappresentare un'applicazione web con un livello di complessità, tra cui un'applicazione ASP.NET MVC 3, una comunicazione Windows realistico Servizio Foundation (WCF) e un progetto di database.</span><span class="sxs-lookup"><span data-stu-id="89001-107">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="89001-108">Il metodo di distribuzione il fulcro delle esercitazioni seguenti si basa sull'approccio di file di progetto split descritto in [informazioni sul File di progetto](../web-deployment-in-the-enterprise/understanding-the-project-file.md), in cui il processo di compilazione è controllato da due file di progetto&#x2014;contenente una istruzioni che si applicano a tutti gli ambienti di destinazione e quella che contiene le impostazioni di compilazione e distribuzione specifiche dell'ambiente di creazione.</span><span class="sxs-lookup"><span data-stu-id="89001-108">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="89001-109">In fase di compilazione, il file di progetto specifici dell'ambiente viene unito nel file di progetto indipendenti dall'ambiente in modo da formare un set completo di istruzioni di compilazione.</span><span class="sxs-lookup"><span data-stu-id="89001-109">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="task-overview"></a><span data-ttu-id="89001-110">Panoramica di Task</span><span class="sxs-lookup"><span data-stu-id="89001-110">Task Overview</span></span>

<span data-ttu-id="89001-111">Quando si installa il servizio di compilazione 2010 Team Foundation Server (TFS), si specifica l'identità con cui si vuole eseguire il servizio.</span><span class="sxs-lookup"><span data-stu-id="89001-111">When you install the Team Foundation Server (TFS) 2010 build service, you specify the identity with which you want the service to run.</span></span> <span data-ttu-id="89001-112">Per impostazione predefinita, si tratta dell'account di servizio di rete.</span><span class="sxs-lookup"><span data-stu-id="89001-112">By default, this is the Network Service account.</span></span> <span data-ttu-id="89001-113">In alternativa, è possibile configurare il servizio di compilazione per l'esecuzione con un account di dominio.</span><span class="sxs-lookup"><span data-stu-id="89001-113">Alternatively, you can configure the build service to run using a domain account.</span></span>

<span data-ttu-id="89001-114">Qualsiasi attività di distribuzione che richiedono l'autenticazione di Windows e che si intende automatizzare con Team Build, verrà eseguito usando l'identità del servizio di compilazione.</span><span class="sxs-lookup"><span data-stu-id="89001-114">Any deployment tasks that require Windows authentication, and that you plan to automate using Team Build, will run using the build service identity.</span></span> <span data-ttu-id="89001-115">Di conseguenza, è necessario concedere l'identità del servizio di compilazione di tutte le autorizzazioni necessarie per i server web e i server di database.</span><span class="sxs-lookup"><span data-stu-id="89001-115">As such, you'll need to grant the build service identity any required permissions on your web servers and your database servers.</span></span>

> [!NOTE]
> <span data-ttu-id="89001-116">L'account del servizio di rete Usa l'account del computer per eseguire l'autenticazione ad altri computer.</span><span class="sxs-lookup"><span data-stu-id="89001-116">The Network Service account uses the machine account to authenticate to other computers.</span></span> <span data-ttu-id="89001-117">Gli account Machine assumono la forma \* [nome dominio]\[nome macchina] \***$**&#x2014;, ad esempio, **FABRIKAM\TFSBUILD$**.</span><span class="sxs-lookup"><span data-stu-id="89001-117">Machine accounts take the form \*[domain name]\[machine name]\***$**&#x2014;for example, **FABRIKAM\TFSBUILD$**.</span></span> <span data-ttu-id="89001-118">Di conseguenza, se il servizio di compilazione viene eseguita usando l'identità del servizio di rete, si devono concedere le autorizzazioni necessarie per l'identità dell'account computer per il server di compilazione.</span><span class="sxs-lookup"><span data-stu-id="89001-118">As such, if your build service runs using the Network Service identity, you should grant any required permissions to the machine account identity for your build server.</span></span>

## <a name="configuring-web-server-permissions"></a><span data-ttu-id="89001-119">Configurazione delle autorizzazioni per Server Web</span><span class="sxs-lookup"><span data-stu-id="89001-119">Configuring Web Server Permissions</span></span>

<span data-ttu-id="89001-120">Come descritto in [scelta dell'approccio a destra per la distribuzione Web](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md), esistono due approcci principali, è possibile usare se si desidera distribuire i pacchetti web in un server web remoto:</span><span class="sxs-lookup"><span data-stu-id="89001-120">As described in [Choosing the Right Approach to Web Deployment](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md), there are two main approaches you can use if you want to deploy web packages to a remote web server:</span></span>

- <span data-ttu-id="89001-121">Distribuire l'applicazione da una posizione remota usando come destinazione il *servizio agente distribuzione Web* (noto anche come agente remoto) nel server di destinazione.</span><span class="sxs-lookup"><span data-stu-id="89001-121">Deploy the application from a remote location by targeting the *Web Deployment Agent Service* (also known as the remote agent) on the destination server.</span></span>
- <span data-ttu-id="89001-122">Distribuire l'applicazione da una posizione remota usando come destinazione il *Internet Information Services* (*IIS) Web distribuire gestore* nel server di destinazione.</span><span class="sxs-lookup"><span data-stu-id="89001-122">Deploy the application from a remote location by targeting the *Internet Information Services* (*IIS) Web Deploy Handler* on the destination server.</span></span>

<span data-ttu-id="89001-123">L'agente remoto presenta due limitazioni principali in questo caso:</span><span class="sxs-lookup"><span data-stu-id="89001-123">The remote agent has two key limitations in this case:</span></span>

- <span data-ttu-id="89001-124">L'agente remoto supporta solo l'autenticazione NTLM.</span><span class="sxs-lookup"><span data-stu-id="89001-124">The remote agent supports only NTLM authentication.</span></span> <span data-ttu-id="89001-125">In altre parole, la distribuzione deve usare l'identità del servizio di compilazione&#x2014;è non può rappresentare un altro account.</span><span class="sxs-lookup"><span data-stu-id="89001-125">In other words, the deployment must use the build service identity&#x2014;you can't impersonate another account.</span></span>
- <span data-ttu-id="89001-126">Per usare l'agente remoto, l'account che esegue la distribuzione deve essere un amministratore nel server di destinazione.</span><span class="sxs-lookup"><span data-stu-id="89001-126">To use the remote agent, the account that performs the deployment must be an administrator on the target server.</span></span>

<span data-ttu-id="89001-127">Insieme, queste due limitazioni rendono l'approccio agente remoto inaccettabile per una distribuzione di Team Build automatizzata.</span><span class="sxs-lookup"><span data-stu-id="89001-127">Together, these two limitations make the remote agent approach undesirable for an automated Team Build deployment.</span></span> <span data-ttu-id="89001-128">Per usare questo approccio, è necessario impostare il servizio di compilazione come account di amministratore su tutti i server web di destinazione.</span><span class="sxs-lookup"><span data-stu-id="89001-128">To use this approach, you'd need to make the build service account an administrator on any target web servers.</span></span>

<span data-ttu-id="89001-129">Al contrario, l'approccio gestore distribuzione Web offre vari vantaggi:</span><span class="sxs-lookup"><span data-stu-id="89001-129">In contrast, the Web Deploy Handler approach offers various advantages:</span></span>

- <span data-ttu-id="89001-130">Il gestore di distribuzione Web supporta l'autenticazione di base su HTTPS, che consente di passare le credenziali di un account alternativo per lo strumento di distribuzione Web IIS (distribuzione Web).</span><span class="sxs-lookup"><span data-stu-id="89001-130">The Web Deploy Handler supports basic authentication over HTTPS, which allows you to pass the credentials of an alternative account to the IIS Web Deployment Tool (Web Deploy).</span></span>
- <span data-ttu-id="89001-131">È possibile configurare i server web di destinazione per consentire agli utenti senza privilegi di amministratore distribuire il contenuto a specifici siti Web IIS tramite il gestore di distribuzione Web.</span><span class="sxs-lookup"><span data-stu-id="89001-131">You can configure target web servers to allow non-administrator users to deploy content to specific IIS websites using the Web Deploy Handler.</span></span>

<span data-ttu-id="89001-132">Di conseguenza, è ovviamente preferibile usare come destinazione il gestore di distribuzione Web quando si automatizza la distribuzione del pacchetto web da Team Build.</span><span class="sxs-lookup"><span data-stu-id="89001-132">As a result, it's clearly preferable to target the Web Deploy Handler when you automate web package deployment from Team Build.</span></span> <span data-ttu-id="89001-133">Questo è il processo consigliato:</span><span class="sxs-lookup"><span data-stu-id="89001-133">This is the recommended process:</span></span>

1. <span data-ttu-id="89001-134">Creare un account di dominio con privilegi limitati da usare per la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="89001-134">Create a low-privileged domain account to use for the deployment.</span></span>
2. <span data-ttu-id="89001-135">Configurare il gestore di distribuzione Web e concedere all'account le autorizzazioni necessarie per distribuire il contenuto a un sito Web IIS specifici, come descritto in [configurazione di un Server Web per la pubblicazione distribuzione Web (gestore di distribuzione Web)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span><span class="sxs-lookup"><span data-stu-id="89001-135">Configure the Web Deploy Handler and grant the account the required permissions to deploy content to a specific IIS website, as described in [Configuring a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span></span>
3. <span data-ttu-id="89001-136">Richiamare distribuzione Web e il gestore di distribuzione Web di destinazione, utilizzando l'autenticazione di base e fornendo le credenziali dell'account di dominio è stato creato, per eseguire la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="89001-136">Invoke Web Deploy and target the Web Deploy Handler, using basic authentication and supplying the credentials of the domain account you created, to perform the deployment.</span></span>

<span data-ttu-id="89001-137">Nel [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) , soluzione di esempio si specifica il tipo di autenticazione (base o NTLM), le credenziali di distribuzione Web e l'indirizzo dell'endpoint (agente remoto o gestore distribuzione Web) nel file di progetto specifici dell'ambiente.</span><span class="sxs-lookup"><span data-stu-id="89001-137">In the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) sample solution, you specify the authentication type (basic or NTLM), the Web Deploy credentials, and the endpoint address (remote agent or Web Deploy Handler) in the environment-specific project file.</span></span> <span data-ttu-id="89001-138">Questi valori vengono usati per formulare ed eseguire un comando di distribuzione Web quando viene eseguito il file di progetto.</span><span class="sxs-lookup"><span data-stu-id="89001-138">These values are used to formulate and run a Web Deploy command when the project file is executed.</span></span> <span data-ttu-id="89001-139">Per altre informazioni, vedere [distribuzione di pacchetti Web](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span><span class="sxs-lookup"><span data-stu-id="89001-139">For more information, see [Deploying Web Packages](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span></span>

<span data-ttu-id="89001-140">Per altre informazioni su come configurare la distribuzione gestore Web, incluse le procedure configurare le autorizzazioni, vedere [configurazione di un Server Web per la pubblicazione distribuzione Web (gestore di distribuzione Web)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span><span class="sxs-lookup"><span data-stu-id="89001-140">For more information on configuring the Web Deploy Handler, including how to configure permissions, see [Configuring a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span></span> <span data-ttu-id="89001-141">Per altre informazioni su come configurare l'agente remoto, vedere [configurazione di un Server Web per la pubblicazione distribuzione Web (agente remoto)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span><span class="sxs-lookup"><span data-stu-id="89001-141">For more information on configuring the remote agent, see [Configuring a Web Server for Web Deploy Publishing (Remote Agent)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span></span>

## <a name="configuring-database-server-permissions"></a><span data-ttu-id="89001-142">Configurazione delle autorizzazioni Server di Database</span><span class="sxs-lookup"><span data-stu-id="89001-142">Configuring Database Server Permissions</span></span>

<span data-ttu-id="89001-143">Per distribuire un database in SQL Server, è necessario:</span><span class="sxs-lookup"><span data-stu-id="89001-143">To deploy a database to SQL Server, you must:</span></span>

- <span data-ttu-id="89001-144">Creare un account di accesso per l'account di distribuzione nell'istanza di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="89001-144">Create a login for the deploying account on the SQL Server instance.</span></span>
- <span data-ttu-id="89001-145">Concedere l'accesso **DBCreator** le autorizzazioni per l'istanza di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="89001-145">Grant the login **DBCreator** permissions on the SQL Server instance.</span></span>
- <span data-ttu-id="89001-146">Dopo la distribuzione iniziale, aggiungere l'account di accesso per il **db\_proprietario** ruolo nel database di destinazione.</span><span class="sxs-lookup"><span data-stu-id="89001-146">After the initial deployment, add the login to the **db\_owner** role on the target database.</span></span> <span data-ttu-id="89001-147">Ciò è necessario quanto nelle successive distribuzioni, è sta modificando un database esistente anziché creare un nuovo database.</span><span class="sxs-lookup"><span data-stu-id="89001-147">This is required because on subsequent deployments, you're modifying an existing database rather than creating a new database.</span></span>

<span data-ttu-id="89001-148">È possibile eseguire l'autenticazione a un'istanza di SQL Server usando l'autenticazione NTLM o autenticazione di SQL Server:</span><span class="sxs-lookup"><span data-stu-id="89001-148">You can authenticate to a SQL Server instance using either NTLM authentication or SQL Server authentication:</span></span>

- <span data-ttu-id="89001-149">Se si usa l'autenticazione NTLM, è necessario concedere le autorizzazioni descritte in precedenza per l'account del servizio di compilazione.</span><span class="sxs-lookup"><span data-stu-id="89001-149">If you use NTLM authentication, you need to grant the permissions described above to the build service account.</span></span>
- <span data-ttu-id="89001-150">Se si usa l'autenticazione di SQL Server, è necessario concedere le autorizzazioni descritte in precedenza per l'account di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="89001-150">If you use SQL Server authentication, you need to grant the permissions described above to the SQL Server account.</span></span> <span data-ttu-id="89001-151">È anche necessario includere il nome utente di SQL Server e la password nella stringa di connessione che consente di distribuire il database.</span><span class="sxs-lookup"><span data-stu-id="89001-151">You also need to include the SQL Server user name and password in the connection string you use to deploy the database.</span></span>

<span data-ttu-id="89001-152">Per istruzioni dettagliate su come configurare le autorizzazioni per la distribuzione del database, vedere [configurazione di un Server di Database per la pubblicazione di distribuzione Web](../configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing.md).</span><span class="sxs-lookup"><span data-stu-id="89001-152">For step-by-step details on how to configure permissions for database deployment, see [Configuring a Database Server for Web Deploy Publishing](../configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="89001-153">Conclusione</span><span class="sxs-lookup"><span data-stu-id="89001-153">Conclusion</span></span>

<span data-ttu-id="89001-154">A questo punto, è necessario comprendere le autorizzazioni necessarie, insieme alle opzioni di autenticazione open, quando si automatizza le distribuzioni di database e dell'applicazione web da Team Build.</span><span class="sxs-lookup"><span data-stu-id="89001-154">At this point, you should understand the permissions required, together with the authentication options open to you, when you automate web application and database deployments from Team Build.</span></span> <span data-ttu-id="89001-155">È anche possibile implementare le autorizzazioni necessarie sul server web IIS e i server di database di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="89001-155">You should also be able to implement the necessary permissions on IIS web servers and SQL Server database servers.</span></span>

## <a name="further-reading"></a><span data-ttu-id="89001-156">Ulteriori informazioni</span><span class="sxs-lookup"><span data-stu-id="89001-156">Further Reading</span></span>

<span data-ttu-id="89001-157">Per altre informazioni sulla configurazione di ambienti di Windows server per supportare la distribuzione remota, vedere [configurazione di ambienti Server per la distribuzione Web](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="89001-157">For more information on configuring Windows server environments to support remote deployment, see [Configuring Server Environments for Web Deployment](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="89001-158">Precedente</span><span class="sxs-lookup"><span data-stu-id="89001-158">Previous</span></span>](deploying-a-specific-build.md)
