---
uid: web-forms/overview/moving-to-aspnet-20/the-asp-net-2-0-page-model
title: Il modello di pagina ASP.NET 2.0 Documenti Microsoft
author: rick-anderson
description: Nella ASP.NET 1.x, gli sviluppatori hanno scelto tra un modello di codice inline e un modello di codice code-behind. Code-behind potrebbe essere implementato utilizzando il Src attr...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: af4575a3-0ae3-4638-ba4d-218fad7a1642
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/the-asp-net-2-0-page-model
msc.type: authoredcontent
ms.openlocfilehash: 6c2435a06d04209db21fb8e075f68ff0b7a9ef7e
ms.sourcegitcommit: 022f79dbc1350e0c6ffaa1e7e7c6e850cdabf9af
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/17/2020
ms.locfileid: "81542859"
---
# <a name="the-aspnet-20-page-model"></a><span data-ttu-id="1883b-104">Il modello di pagina di ASP.NET 2.0The ASP.NET 2.0 Page Model</span><span class="sxs-lookup"><span data-stu-id="1883b-104">The ASP.NET 2.0 Page Model</span></span>

<span data-ttu-id="1883b-105">da parte [di Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="1883b-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="1883b-106">Nella ASP.NET 1.x, gli sviluppatori hanno scelto tra un modello di codice inline e un modello di codice code-behind.</span><span class="sxs-lookup"><span data-stu-id="1883b-106">In ASP.NET 1.x, developers had a choice between an inline code model and a code-behind code model.</span></span> <span data-ttu-id="1883b-107">Il code-behind può essere implementato utilizzando l'attributo @Page Src o CodeBehind della direttiva.</span><span class="sxs-lookup"><span data-stu-id="1883b-107">Code-behind could be implemented using either the Src attribute or the CodeBehind attribute of the @Page directive.</span></span> <span data-ttu-id="1883b-108">In ASP.NET 2.0, gli sviluppatori hanno ancora una scelta tra codice inline e code-behind, ma sono stati apportati miglioramenti significativi al modello code-behind.</span><span class="sxs-lookup"><span data-stu-id="1883b-108">In ASP.NET 2.0, developers still have a choice between inline code and code-behind, but there have been significant enhancements to the code-behind model.</span></span>

<span data-ttu-id="1883b-109">Nella ASP.NET 1.x, gli sviluppatori hanno scelto tra un modello di codice inline e un modello di codice code-behind.</span><span class="sxs-lookup"><span data-stu-id="1883b-109">In ASP.NET 1.x, developers had a choice between an inline code model and a code-behind code model.</span></span> <span data-ttu-id="1883b-110">Il code-behind può essere implementato utilizzando l'attributo @Page Src o CodeBehind della direttiva.</span><span class="sxs-lookup"><span data-stu-id="1883b-110">Code-behind could be implemented using either the Src attribute or the CodeBehind attribute of the @Page directive.</span></span> <span data-ttu-id="1883b-111">In ASP.NET 2.0, gli sviluppatori hanno ancora una scelta tra codice inline e code-behind, ma sono stati apportati miglioramenti significativi al modello code-behind.</span><span class="sxs-lookup"><span data-stu-id="1883b-111">In ASP.NET 2.0, developers still have a choice between inline code and code-behind, but there have been significant enhancements to the code-behind model.</span></span>

## <a name="improvements-in-the-code-behind-model"></a><span data-ttu-id="1883b-112">Miglioramenti nel modello Code-Behind</span><span class="sxs-lookup"><span data-stu-id="1883b-112">Improvements in the Code-Behind Model</span></span>

<span data-ttu-id="1883b-113">Per comprendere appieno le modifiche nel modello code-behind in ASP.NET 2.0, è meglio rivedere rapidamente il modello come esisteva nella ASP.NET 1.x.</span><span class="sxs-lookup"><span data-stu-id="1883b-113">In order to fully understand the changes in the code-behind model in ASP.NET 2.0, its best to quickly review the model as it existed in ASP.NET 1.x.</span></span>

## <a name="the-code-behind-model-in-aspnet-1x"></a><span data-ttu-id="1883b-114">Il modello Code-Behind in ASP.NET 1.xThe Code-Behind Model in ASP.NET 1.x</span><span class="sxs-lookup"><span data-stu-id="1883b-114">The Code-Behind Model in ASP.NET 1.x</span></span>

<span data-ttu-id="1883b-115">Nella ASP.NET 1.x, il modello code-behind è costituito da un file ASPX (Webform) e un file code-behind contenente codice di programmazione.</span><span class="sxs-lookup"><span data-stu-id="1883b-115">In ASP.NET 1.x, the code-behind model consisted of an ASPX file (the Webform) and a code-behind file containing programming code.</span></span> <span data-ttu-id="1883b-116">I due file sono @Page stati collegati utilizzando la direttiva nel file ASPX.</span><span class="sxs-lookup"><span data-stu-id="1883b-116">The two files were connected using the @Page directive in the ASPX file.</span></span> <span data-ttu-id="1883b-117">Ogni controllo nella pagina ASPX disponeva di una dichiarazione corrispondente nel file code-behind come variabile di istanza.</span><span class="sxs-lookup"><span data-stu-id="1883b-117">Each control on the ASPX page had a corresponding declaration in the code-behind file as an instance variable.</span></span> <span data-ttu-id="1883b-118">Il file code-behind conteneva anche il codice per l'associazione di eventi e il codice generato necessario per la finestra di progettazione di Visual Studio.The code-behind file also contained code for event binding and generated code necessary for the Visual Studio designer.</span><span class="sxs-lookup"><span data-stu-id="1883b-118">The code-behind file also contained code for event binding and generated code necessary for the Visual Studio designer.</span></span> <span data-ttu-id="1883b-119">Questo modello ha funzionato abbastanza bene, ma poiché ogni elemento ASP.NET nella pagina ASPX richiedeva il codice corrispondente nel file code-behind, non vi era alcuna vera separazione di codice e contenuto.</span><span class="sxs-lookup"><span data-stu-id="1883b-119">This model worked fairly well, but because every ASP.NET element in the ASPX page required corresponding code in the code-behind file, there was no true separation of code and content.</span></span> <span data-ttu-id="1883b-120">Ad esempio, se una finestra di progettazione ha aggiunto un nuovo controllo server a un file ASPX all'esterno dell'IDE di Visual Studio, l'applicazione si interromperebbe a causa dell'assenza di una dichiarazione per tale controllo nel file code-behind.</span><span class="sxs-lookup"><span data-stu-id="1883b-120">For example, if a designer added a new server control to an ASPX file outside of the Visual Studio IDE, the application would break due to the absence of a declaration for that control in the code-behind file.</span></span>

## <a name="the-code-behind-model-in-aspnet-20"></a><span data-ttu-id="1883b-121">Il modello Code-Behind in ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="1883b-121">The Code-Behind Model in ASP.NET 2.0</span></span>

<span data-ttu-id="1883b-122">ASP.NET 2.0 migliora notevolmente questo modello.</span><span class="sxs-lookup"><span data-stu-id="1883b-122">ASP.NET 2.0 greatly improves upon this model.</span></span> <span data-ttu-id="1883b-123">In ASP.NET 2.0, il code-behind viene implementato utilizzando le nuove *classi parziali* fornite in ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="1883b-123">In ASP.NET 2.0, code-behind is implemented using the new *partial classes* provided in ASP.NET 2.0.</span></span> <span data-ttu-id="1883b-124">La classe code-behind in ASP.NET 2.0 è definita come una classe parziale, ovvero contiene solo una parte della definizione della classe.</span><span class="sxs-lookup"><span data-stu-id="1883b-124">The code-behind class in ASP.NET 2.0 is defined as a partial class meaning that it contains only part of the class definition.</span></span> <span data-ttu-id="1883b-125">La parte rimanente della definizione della classe viene generata dinamicamente da ASP.NET 2.0 utilizzando la pagina ASPX in fase di esecuzione o quando il sito Web è precompilato.</span><span class="sxs-lookup"><span data-stu-id="1883b-125">The remaining part of the class definition is dynamically generated by ASP.NET 2.0 using the ASPX page at runtime or when the Web site is precompiled.</span></span> <span data-ttu-id="1883b-126">Il collegamento tra il file code-behind e la pagina ASPX viene ancora stabilito utilizzando la direttiva di pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-126">The link between the code-behind file and the ASPX page is still established using the @ Page directive.</span></span> <span data-ttu-id="1883b-127">Tuttavia, anziché un attributo CodeBehind o Src, ASP.NET 2.0 ora utilizza l'attributo CodeFile.</span><span class="sxs-lookup"><span data-stu-id="1883b-127">However, instead of a CodeBehind or Src attribute, ASP.NET 2.0 now uses the CodeFile attribute.</span></span> <span data-ttu-id="1883b-128">L'attributo Inherits viene utilizzato anche per specificare il nome della classe per la pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-128">The Inherits attribute is also used to specify the class name for the page.</span></span>

<span data-ttu-id="1883b-129">Una tipica direttiva di pagina di tipo :</span><span class="sxs-lookup"><span data-stu-id="1883b-129">A typical @ Page directive might look like this:</span></span>

[!code-aspx[Main](the-asp-net-2-0-page-model/samples/sample1.aspx)]

<span data-ttu-id="1883b-130">Una definizione di classe tipica in un file code-behind ASP.NET 2.0 potrebbe essere simile alla seguente:A typical class definition in an ASP.NET 2.0 code-behind file might look like this:</span><span class="sxs-lookup"><span data-stu-id="1883b-130">A typical class definition in an ASP.NET 2.0 code-behind file might look like this:</span></span>

[!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample2.cs)]

> [!NOTE]
> <span data-ttu-id="1883b-131">Il linguaggio Visual Basic e visual basic sono gli unici linguaggi gestiti che attualmente supportano le classi parziali.</span><span class="sxs-lookup"><span data-stu-id="1883b-131">C# and Visual Basic are the only managed languages that currently support partial classes.</span></span> <span data-ttu-id="1883b-132">Di conseguenza, gli sviluppatori che utilizzano J , non saranno in grado di utilizzare il modello code-behind in ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="1883b-132">Therefore, developers using J# will not be able to use the code-behind model in ASP.NET 2.0.</span></span>

<span data-ttu-id="1883b-133">Il nuovo modello migliora il modello code-behind perché gli sviluppatori avranno ora file di codice che contengono solo il codice che hanno creato.</span><span class="sxs-lookup"><span data-stu-id="1883b-133">The new model enhances the code-behind model because developers will now have code files that contain only the code that they have created.</span></span> <span data-ttu-id="1883b-134">Fornisce inoltre una vera separazione di codice e contenuto perché non sono presenti dichiarazioni di variabili di istanza nel file code-behind.</span><span class="sxs-lookup"><span data-stu-id="1883b-134">It also provides for a true separation of code and content because there are no instance variable declarations in the code-behind file.</span></span>

> [!NOTE]
> <span data-ttu-id="1883b-135">Poiché la classe parziale per la pagina ASPX è dove avviene l'associazione di eventi, gli sviluppatori Visual Basic possono realizzare un leggero aumento delle prestazioni utilizzando la parola chiave Handles nel code-behind per associare gli eventi.</span><span class="sxs-lookup"><span data-stu-id="1883b-135">Because the partial class for the ASPX page is where event binding takes place, Visual Basic developers can realize a slight performance increase by using the Handles keyword in code-behind to bind events.</span></span> <span data-ttu-id="1883b-136">Il linguaggio Cè non dispone di una parola chiave equivalente.</span><span class="sxs-lookup"><span data-stu-id="1883b-136">C# has no equivalent keyword.</span></span>

## <a name="new--page-directive-attributes"></a><span data-ttu-id="1883b-137">Nuovi attributi della direttiva page</span><span class="sxs-lookup"><span data-stu-id="1883b-137">New @ Page Directive Attributes</span></span>

<span data-ttu-id="1883b-138">ASP.NET 2.0 aggiunge molti nuovi attributi per il , direttiva di pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-138">ASP.NET 2.0 adds many new attributes to the @ Page directive.</span></span> <span data-ttu-id="1883b-139">Gli attributi seguenti sono nuovi in ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="1883b-139">The following attributes are new in ASP.NET 2.0.</span></span>

## <a name="async"></a><span data-ttu-id="1883b-140">Async</span><span class="sxs-lookup"><span data-stu-id="1883b-140">Async</span></span>

<span data-ttu-id="1883b-141">L'attributo Async consente di configurare l'esecuzione della pagina in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="1883b-141">The Async attribute allows you to configure page to be executed asynchronously.</span></span> <span data-ttu-id="1883b-142">Bene coprire le pagine asincrone più avanti in questo modulo.</span><span class="sxs-lookup"><span data-stu-id="1883b-142">Well cover asynchronous pages later in this module.</span></span>

## <a name="asynctimeout"></a><span data-ttu-id="1883b-143">Asynctimeout</span><span class="sxs-lookup"><span data-stu-id="1883b-143">AsyncTimeout</span></span>

<span data-ttu-id="1883b-144">Specifica il timeout per le pagine asincrone.</span><span class="sxs-lookup"><span data-stu-id="1883b-144">Specified the timeout for asynchronous pages.</span></span> <span data-ttu-id="1883b-145">Il valore predefinito è 45 secondi.</span><span class="sxs-lookup"><span data-stu-id="1883b-145">The default is 45 seconds.</span></span>

## <a name="codefile"></a><span data-ttu-id="1883b-146">Codefile</span><span class="sxs-lookup"><span data-stu-id="1883b-146">CodeFile</span></span>

<span data-ttu-id="1883b-147">L'attributo CodeFile è la sostituzione dell'attributo CodeBehind in Visual Studio 2002/2003.</span><span class="sxs-lookup"><span data-stu-id="1883b-147">The CodeFile attribute is the replacement for the CodeBehind attribute in Visual Studio 2002/2003.</span></span>

### <a name="codefilebaseclass"></a><span data-ttu-id="1883b-148">CodeFileBaseClass</span><span class="sxs-lookup"><span data-stu-id="1883b-148">CodeFileBaseClass</span></span>

<span data-ttu-id="1883b-149">Il CodeFileBaseClass attributo viene utilizzato nei casi in cui si desidera che più pagine da derivare da una singola classe di base.</span><span class="sxs-lookup"><span data-stu-id="1883b-149">The CodeFileBaseClass attribute is used in cases where you want multiple pages to derive from a single base class.</span></span> <span data-ttu-id="1883b-150">A causa dell'implementazione di classi parziali in ASP.NET, senza questo attributo, una classe di base che utilizza campi comuni condivisi per fare riferimento ai controlli dichiarati in una pagina ASPX non funzionerebbe correttamente perché il motore di compilazione ASP.NET Crea automaticamente nuovi membri in base ai controlli nella pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-150">Because of the implementation of partial classes in ASP.NET, without this attribute, a base class that uses shared common fields to reference controls declared in an ASPX page would not work properly because ASP.NETs compilation engine will automatically create new members based on controls in the page.</span></span> <span data-ttu-id="1883b-151">Pertanto, se si desidera una classe base comune per due o più pagine in ASP.NET, è necessario definire specificare la classe di base nel CodeFileBaseClass attributo e quindi derivare ogni classe di pagine da tale classe di base.</span><span class="sxs-lookup"><span data-stu-id="1883b-151">Therefore, if you want a common base class for two or more pages in ASP.NET, you will need to define specify your base class in the CodeFileBaseClass attribute and then derive each pages class from that base class.</span></span> <span data-ttu-id="1883b-152">L'attributo CodeFile è necessario anche quando viene utilizzato questo attributo.</span><span class="sxs-lookup"><span data-stu-id="1883b-152">The CodeFile attribute is also required when this attribute is used.</span></span>

## <a name="compilationmode"></a><span data-ttu-id="1883b-153">Compilationmode</span><span class="sxs-lookup"><span data-stu-id="1883b-153">CompilationMode</span></span>

<span data-ttu-id="1883b-154">Questo attributo consente di impostare la proprietà CompilationMode della pagina ASPX.</span><span class="sxs-lookup"><span data-stu-id="1883b-154">This attribute allows you to set the CompilationMode property of the ASPX page.</span></span> <span data-ttu-id="1883b-155">La proprietà CompilationMode è un'enumerazione contenente i valori **Always**, **Auto**e **Never**.</span><span class="sxs-lookup"><span data-stu-id="1883b-155">The CompilationMode property is an enumeration containing the values **Always**, **Auto**, and **Never**.</span></span> <span data-ttu-id="1883b-156">Il valore predefinito è **Sempre**.</span><span class="sxs-lookup"><span data-stu-id="1883b-156">The default is **Always**.</span></span> <span data-ttu-id="1883b-157">L'impostazione **Auto** impedirà ai ASP.NET di compilare dinamicamente la pagina, se possibile.</span><span class="sxs-lookup"><span data-stu-id="1883b-157">The **Auto** setting will prevent ASP.NET from dynamically compiling the page if possible.</span></span> <span data-ttu-id="1883b-158">L'esclusione delle pagine dalla compilazione dinamica aumenta le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="1883b-158">Excluding pages from dynamic compilation increases performance.</span></span> <span data-ttu-id="1883b-159">Tuttavia, se una pagina esclusa contiene tale codice che deve essere compilato, verrà generato un errore quando la pagina viene esplorata.</span><span class="sxs-lookup"><span data-stu-id="1883b-159">However, if a page that is excluded contains that code that must be compiled, an error will be thrown when the page is browsed.</span></span>

## <a name="enableeventvalidation"></a><span data-ttu-id="1883b-160">Enableeventvalidation</span><span class="sxs-lookup"><span data-stu-id="1883b-160">EnableEventValidation</span></span>

<span data-ttu-id="1883b-161">Questo attributo specifica se gli eventi di postback e callback vengono convalidati o meno.</span><span class="sxs-lookup"><span data-stu-id="1883b-161">This attribute specifies whether or not postback and callback events are validated.</span></span> <span data-ttu-id="1883b-162">Quando questa opzione è abilitata, gli argomenti per gli eventi di postback o callback vengono controllati per verificare che abbiano avuto origine dal controllo server che li ha originariamente sottoposti a rendering.</span><span class="sxs-lookup"><span data-stu-id="1883b-162">When this is enabled, arguments to postback or callback events are checked to ensure that they originated from the server control that originally rendered them.</span></span>

## <a name="enabletheming"></a><span data-ttu-id="1883b-163">Enabletheming</span><span class="sxs-lookup"><span data-stu-id="1883b-163">EnableTheming</span></span>

<span data-ttu-id="1883b-164">Questo attributo specifica se ASP.NET temi vengono utilizzati in una pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-164">This attribute specifies whether or not ASP.NET themes are used on a page.</span></span> <span data-ttu-id="1883b-165">Il valore predefinito è **false**.</span><span class="sxs-lookup"><span data-stu-id="1883b-165">The default is **false**.</span></span> <span data-ttu-id="1883b-166">ASP.NET temi sono trattati nel [Modulo 10.](profiles-themes-and-web-parts.md)</span><span class="sxs-lookup"><span data-stu-id="1883b-166">ASP.NET themes are covered in [Module 10](profiles-themes-and-web-parts.md).</span></span>

## <a name="linepragmas"></a><span data-ttu-id="1883b-167">LinePragmas</span><span class="sxs-lookup"><span data-stu-id="1883b-167">LinePragmas</span></span>

<span data-ttu-id="1883b-168">Questo attributo specifica se i pragma di riga devono essere aggiunti durante la compilazione.</span><span class="sxs-lookup"><span data-stu-id="1883b-168">This attribute specifies whether line pragmas should be added during compilation.</span></span> <span data-ttu-id="1883b-169">I pragma di linea sono opzioni utilizzate dai debugger per contrassegnare sezioni specifiche del codice.</span><span class="sxs-lookup"><span data-stu-id="1883b-169">Line pragmas are options used by debuggers to mark specific sections of code.</span></span>

## <a name="maintainscrollpositiononpostback"></a><span data-ttu-id="1883b-170">MaintainScrollPositionOnPostback (GestioneScrollPositionOnPostback)</span><span class="sxs-lookup"><span data-stu-id="1883b-170">MaintainScrollPositionOnPostback</span></span>

<span data-ttu-id="1883b-171">Questo attributo specifica se JavaScript viene inserito nella pagina per mantenere la posizione di scorrimento tra i postback.</span><span class="sxs-lookup"><span data-stu-id="1883b-171">This attribute specifies whether or not JavaScript is injected into the page in order to maintain scroll position between postbacks.</span></span> <span data-ttu-id="1883b-172">Questo attributo è **false** per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="1883b-172">This attribute is **false** by default.</span></span>

<span data-ttu-id="1883b-173">Quando questo **true**attributo è true &lt;&gt; , ASP.NET aggiungerà un blocco di script al postback simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="1883b-173">When this attribute is **true**, ASP.NET will add a &lt;script&gt; block on postback that looks like this:</span></span>

[!code-html[Main](the-asp-net-2-0-page-model/samples/sample3.html)]

<span data-ttu-id="1883b-174">Si noti che lo src per questo blocco di script è WebResource.axd.Note that the src for this script block is WebResource.axd.</span><span class="sxs-lookup"><span data-stu-id="1883b-174">Note that the src for this script block is WebResource.axd.</span></span> <span data-ttu-id="1883b-175">Questa risorsa non è un percorso fisico.</span><span class="sxs-lookup"><span data-stu-id="1883b-175">This resource is not a physical path.</span></span> <span data-ttu-id="1883b-176">Quando viene richiesto questo script, ASP.NET compila dinamicamente lo script.</span><span class="sxs-lookup"><span data-stu-id="1883b-176">When this script is requested, ASP.NET dynamically builds the script.</span></span>

### <a name="masterpagefile"></a><span data-ttu-id="1883b-177">Masterpagefile</span><span class="sxs-lookup"><span data-stu-id="1883b-177">MasterPageFile</span></span>

<span data-ttu-id="1883b-178">Questo attributo specifica il file della pagina master per la pagina corrente.</span><span class="sxs-lookup"><span data-stu-id="1883b-178">This attribute specifies the master page file for the current page.</span></span> <span data-ttu-id="1883b-179">Il percorso può essere relativo o assoluto.</span><span class="sxs-lookup"><span data-stu-id="1883b-179">The path can be relative or absolute.</span></span> <span data-ttu-id="1883b-180">Le pagine master sono trattate nel [Modulo 4](master-pages.md).</span><span class="sxs-lookup"><span data-stu-id="1883b-180">Master pages are covered in [Module 4](master-pages.md).</span></span>

## <a name="stylesheettheme"></a><span data-ttu-id="1883b-181">Stylesheettheme</span><span class="sxs-lookup"><span data-stu-id="1883b-181">StyleSheetTheme</span></span>

<span data-ttu-id="1883b-182">Questo attributo consente di eseguire l'override delle proprietà di aspetto dell'interfaccia utente definite da un tema ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="1883b-182">This attribute allows you to override user-interface appearance properties defined by an ASP.NET 2.0 theme.</span></span> <span data-ttu-id="1883b-183">I temi sono trattati nel [Modulo 10.](profiles-themes-and-web-parts.md)</span><span class="sxs-lookup"><span data-stu-id="1883b-183">Themes are covered in [Module 10](profiles-themes-and-web-parts.md).</span></span>

## <a name="theme"></a><span data-ttu-id="1883b-184">Tema</span><span class="sxs-lookup"><span data-stu-id="1883b-184">Theme</span></span>

<span data-ttu-id="1883b-185">Specifica il tema della pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-185">Specifies the theme for the page.</span></span> <span data-ttu-id="1883b-186">Se non viene specificato un valore per l'attributo StyleSheetTheme, l'attributo Theme esegue l'override di tutti gli stili applicati ai controlli nella pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-186">If a value is not specified for the StyleSheetTheme attribute, the Theme attribute overrides all styles applied to controls on the page.</span></span>

## <a name="title"></a><span data-ttu-id="1883b-187">Titolo</span><span class="sxs-lookup"><span data-stu-id="1883b-187">Title</span></span>

<span data-ttu-id="1883b-188">Imposta il titolo per la pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-188">Sets the title for the page.</span></span> <span data-ttu-id="1883b-189">Il valore specificato qui &lt;verrà&gt; visualizzato nell'elemento title della pagina di cui è stato eseguito il rendering.</span><span class="sxs-lookup"><span data-stu-id="1883b-189">The value specified here will appear in the &lt;title&gt; element of the rendered page.</span></span>

### <a name="viewstateencryptionmode"></a><span data-ttu-id="1883b-190">Viewstateencryptionmode</span><span class="sxs-lookup"><span data-stu-id="1883b-190">ViewStateEncryptionMode</span></span>

<span data-ttu-id="1883b-191">Imposta il valore per il ViewStateEncryptionMode enumerazione.</span><span class="sxs-lookup"><span data-stu-id="1883b-191">Sets the value for the ViewStateEncryptionMode enumeration.</span></span> <span data-ttu-id="1883b-192">I valori disponibili sono **Sempre**, **Automatico**e **Mai**.</span><span class="sxs-lookup"><span data-stu-id="1883b-192">The available values are **Always**, **Auto**, and **Never**.</span></span> <span data-ttu-id="1883b-193">Il valore predefinito è **Auto**. Quando questo attributo è impostato su un valore di **Auto**, viewstate viene crittografato è un controllo che lo richiede chiamando il **RegisterRequiresViewStateEncryption** metodo.</span><span class="sxs-lookup"><span data-stu-id="1883b-193">The default value is **Auto**. When this attribute is set to a value of **Auto**, viewstate is encrypted is a control requests it by calling the **RegisterRequiresViewStateEncryption** method.</span></span>

## <a name="setting-public-property-values-via-the--page-directive"></a><span data-ttu-id="1883b-194">Impostazione dei valori delle proprietà pubbliche tramite la direttiva di pagina</span><span class="sxs-lookup"><span data-stu-id="1883b-194">Setting Public Property Values via the @ Page Directive</span></span>

<span data-ttu-id="1883b-195">Un'altra nuova funzionalità della direttiva di pagina in ASP.NET 2.0 è la possibilità di impostare il valore iniziale delle proprietà pubbliche di una classe base.</span><span class="sxs-lookup"><span data-stu-id="1883b-195">Another new capability of the @ Page directive in ASP.NET 2.0 is the ability to set the initial value of public properties of a base class.</span></span> <span data-ttu-id="1883b-196">Si supponga, ad esempio, di disporre di una proprietà pubblica denominata **SomeText** nella classe base e di volerlo inizializzare **su Hello** quando viene caricata una pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-196">Suppose, for example, that you have a public property called **SomeText** in your base class and you d like it to be initialized to **Hello** when a page is loaded.</span></span> <span data-ttu-id="1883b-197">A tale scopo, è possibile impostare semplicemente il valore nella direttiva di pagina in questo modo:You can accomplish this by simply setting the value in the 'Page directive like so:</span><span class="sxs-lookup"><span data-stu-id="1883b-197">You can accomplish this by simply setting the value in the @ Page directive like so:</span></span>

[!code-aspx[Main](the-asp-net-2-0-page-model/samples/sample4.aspx)]

<span data-ttu-id="1883b-198">L'attributo **SomeText** della direttiva di pagina imposta il valore iniziale della proprietà SomeText nella classe base su *Hello!*.</span><span class="sxs-lookup"><span data-stu-id="1883b-198">The **SomeText** attribute of the @ Page directive sets the initial value of the SomeText property in the base class to *Hello!*.</span></span> <span data-ttu-id="1883b-199">Il video seguente è una procedura dettagliata dell'impostazione del valore iniziale di una proprietà pubblica in una classe di base utilizzando il Page direttiva.</span><span class="sxs-lookup"><span data-stu-id="1883b-199">The video below is a walkthrough of setting the initial value of a public property in a base class using the @ Page directive.</span></span>

![](the-asp-net-2-0-page-model/_static/image1.png)

[<span data-ttu-id="1883b-200">Apri video a schermo intero</span><span class="sxs-lookup"><span data-stu-id="1883b-200">Open Full-Screen Video</span></span>](the-asp-net-2-0-page-model/_static/setprop1.wmv)

## <a name="new-public-properties-of-the-page-class"></a><span data-ttu-id="1883b-201">Nuove proprietà pubbliche della classe Page</span><span class="sxs-lookup"><span data-stu-id="1883b-201">New Public Properties of the Page Class</span></span>

<span data-ttu-id="1883b-202">Le seguenti proprietà pubbliche sono nuove in ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="1883b-202">The following public properties are new in ASP.NET 2.0.</span></span>

## <a name="apprelativetemplatesourcedirectory"></a><span data-ttu-id="1883b-203">AppRelativeTemplateSourceDirectory</span><span class="sxs-lookup"><span data-stu-id="1883b-203">AppRelativeTemplateSourceDirectory</span></span>

<span data-ttu-id="1883b-204">Restituisce il percorso relativo all'applicazione della pagina o del controllo.</span><span class="sxs-lookup"><span data-stu-id="1883b-204">Returns the application-relative path to the page or control.</span></span> <span data-ttu-id="1883b-205">Ad esempio, per una http://app/folder/page.aspxpagina che si trova in , la proprietà restituisce il valore di /cartella/.</span><span class="sxs-lookup"><span data-stu-id="1883b-205">For example, for a page located at http://app/folder/page.aspx, the property returns ~/folder/.</span></span>

## <a name="apprelativevirtualpath"></a><span data-ttu-id="1883b-206">AppRelativeVirtualPath (percorso in un confronto tra gli ambienti)</span><span class="sxs-lookup"><span data-stu-id="1883b-206">AppRelativeVirtualPath</span></span>

<span data-ttu-id="1883b-207">Restituisce il percorso relativo della directory virtuale della pagina o del controllo.</span><span class="sxs-lookup"><span data-stu-id="1883b-207">Returns the relative virtual directory path to the page or control.</span></span> <span data-ttu-id="1883b-208">Ad esempio, per http://app/folder/page.aspxuna pagina che si trova in , la proprietà restituisce il valore di /folder/page.aspx.</span><span class="sxs-lookup"><span data-stu-id="1883b-208">For example for a page located at http://app/folder/page.aspx, the property returns ~/folder/page.aspx.</span></span>

## <a name="asynctimeout"></a><span data-ttu-id="1883b-209">Asynctimeout</span><span class="sxs-lookup"><span data-stu-id="1883b-209">AsyncTimeout</span></span>

<span data-ttu-id="1883b-210">Ottiene o imposta il timeout utilizzato per la gestione asincrona delle pagine.</span><span class="sxs-lookup"><span data-stu-id="1883b-210">Gets or sets the timeout used for asynchronous page handling.</span></span> <span data-ttu-id="1883b-211">Le pagine asincrone verranno trattate più avanti in questo modulo.</span><span class="sxs-lookup"><span data-stu-id="1883b-211">(Asynchronous pages will be covered later in this module.)</span></span>

## <a name="clientquerystring"></a><span data-ttu-id="1883b-212">ClientQueryString</span><span class="sxs-lookup"><span data-stu-id="1883b-212">ClientQueryString</span></span>

<span data-ttu-id="1883b-213">Proprietà di sola lettura che restituisce la stringa di query dell'URL richiesto.</span><span class="sxs-lookup"><span data-stu-id="1883b-213">A read-only property that returns the query string portion of the requested URL.</span></span> <span data-ttu-id="1883b-214">Questo valore è codificato in URL.</span><span class="sxs-lookup"><span data-stu-id="1883b-214">This value is URL encoded.</span></span> <span data-ttu-id="1883b-215">È possibile utilizzare il metodo UrlDecode della classe HttpServerUtility per decodificarlo.</span><span class="sxs-lookup"><span data-stu-id="1883b-215">You can use the UrlDecode method of the HttpServerUtility class to decode it.</span></span>

## <a name="clientscript"></a><span data-ttu-id="1883b-216">ClientScript (script ClientScript)</span><span class="sxs-lookup"><span data-stu-id="1883b-216">ClientScript</span></span>

<span data-ttu-id="1883b-217">Questa proprietà restituisce un oggetto ClientScriptManager che può essere utilizzato per gestire l'emissione di script ASP.NETs di script sul lato client.</span><span class="sxs-lookup"><span data-stu-id="1883b-217">This property returns a ClientScriptManager object that can be used to manage ASP.NETs emission of client-side script.</span></span> <span data-ttu-id="1883b-218">La classe ClientScriptManager viene descritta più avanti in questo modulo.</span><span class="sxs-lookup"><span data-stu-id="1883b-218">(The ClientScriptManager class is covered later in this module.)</span></span>

## <a name="enableeventvalidation"></a><span data-ttu-id="1883b-219">Enableeventvalidation</span><span class="sxs-lookup"><span data-stu-id="1883b-219">EnableEventValidation</span></span>

<span data-ttu-id="1883b-220">Questa proprietà controlla se la convalida degli eventi è abilitata per gli eventi di postback e callback.</span><span class="sxs-lookup"><span data-stu-id="1883b-220">This property controls whether or not event validation is enabled for postback and callback events.</span></span> <span data-ttu-id="1883b-221">Se abilitato, gli argomenti per gli eventi di postback o callback vengono verificati per garantire che abbiano avuto origine dal controllo server che li ha originariamente sottoposti a rendering.</span><span class="sxs-lookup"><span data-stu-id="1883b-221">When enabled, arguments to postback or callback events are verified to ensure that they originated from the server control that originally rendered them.</span></span>

## <a name="enabletheming"></a><span data-ttu-id="1883b-222">Enabletheming</span><span class="sxs-lookup"><span data-stu-id="1883b-222">EnableTheming</span></span>

<span data-ttu-id="1883b-223">Questa proprietà ottiene o imposta un Boolean che specifica se un ASP.NET 2.0 tema si applica alla pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-223">This property gets or sets a Boolean that specifies whether or not an ASP.NET 2.0 theme applies to the page.</span></span>

## <a name="form"></a><span data-ttu-id="1883b-224">Form</span><span class="sxs-lookup"><span data-stu-id="1883b-224">Form</span></span>

<span data-ttu-id="1883b-225">Questa proprietà restituisce il form HTML nella pagina ASPX come oggetto HtmlForm.</span><span class="sxs-lookup"><span data-stu-id="1883b-225">This property returns the HTML form on the ASPX page as an HtmlForm object.</span></span>

## <a name="header"></a><span data-ttu-id="1883b-226">Intestazione</span><span class="sxs-lookup"><span data-stu-id="1883b-226">Header</span></span>

<span data-ttu-id="1883b-227">Questa proprietà restituisce un riferimento a un HtmlHead oggetto che contiene l'intestazione di pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-227">This property returns a reference to an HtmlHead object that contains the page header.</span></span> <span data-ttu-id="1883b-228">È possibile utilizzare l'oggetto restituito HtmlHead oggetto per ottenere/impostare fogli di stile, Meta tag e così via.</span><span class="sxs-lookup"><span data-stu-id="1883b-228">You can use the returned HtmlHead object to get/set style sheets, Meta tags, etc.</span></span>

## <a name="idseparator"></a><span data-ttu-id="1883b-229">IdSeparator (Separatore)</span><span class="sxs-lookup"><span data-stu-id="1883b-229">IdSeparator</span></span>

<span data-ttu-id="1883b-230">Questa proprietà di sola lettura ottiene il carattere utilizzato per separare gli identificatori di controllo quando ASP.NET sta compilando un ID univoco per i controlli in una pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-230">This read-only property gets the character that is used to separate control identifiers when ASP.NET is building a unique ID for controls on a page.</span></span> <span data-ttu-id="1883b-231">Non è progettato per l'utilizzo diretto dal codice.</span><span class="sxs-lookup"><span data-stu-id="1883b-231">It is not intended to be used directly from your code.</span></span>

## <a name="isasync"></a><span data-ttu-id="1883b-232">IsAsync</span><span class="sxs-lookup"><span data-stu-id="1883b-232">IsAsync</span></span>

<span data-ttu-id="1883b-233">Questa proprietà consente pagine asincrone.</span><span class="sxs-lookup"><span data-stu-id="1883b-233">This property allows for asynchronous pages.</span></span> <span data-ttu-id="1883b-234">Le pagine asincrone vengono descritte più avanti in questo modulo.</span><span class="sxs-lookup"><span data-stu-id="1883b-234">Asynchronous pages are discussed later in this module.</span></span>

## <a name="iscallback"></a><span data-ttu-id="1883b-235">IsCallback</span><span class="sxs-lookup"><span data-stu-id="1883b-235">IsCallback</span></span>

<span data-ttu-id="1883b-236">Questa proprietà di sola lettura restituisce **true** se la pagina è il risultato di una richiamata.</span><span class="sxs-lookup"><span data-stu-id="1883b-236">This read-only property returns **true** if the page is the result of a call back.</span></span> <span data-ttu-id="1883b-237">Le richiamate vengono descritte più avanti in questo modulo.</span><span class="sxs-lookup"><span data-stu-id="1883b-237">Call backs are discussed later in this module.</span></span>

## <a name="iscrosspagepostback"></a><span data-ttu-id="1883b-238">IsCrossPagePostBack (informazioni in base alla finestra utente)</span><span class="sxs-lookup"><span data-stu-id="1883b-238">IsCrossPagePostBack</span></span>

<span data-ttu-id="1883b-239">Questa proprietà di sola lettura restituisce **true** se la pagina fa parte di un postback tra pagine.</span><span class="sxs-lookup"><span data-stu-id="1883b-239">This read-only property returns **true** if the page is part of a cross-page postback.</span></span> <span data-ttu-id="1883b-240">I postback tra pagine vengono trattati più avanti in questo modulo.</span><span class="sxs-lookup"><span data-stu-id="1883b-240">Cross-page postbacks are covered later in this module.</span></span>

## <a name="items"></a><span data-ttu-id="1883b-241">Items</span><span class="sxs-lookup"><span data-stu-id="1883b-241">Items</span></span>

<span data-ttu-id="1883b-242">Restituisce un riferimento a un IDictionary istanza che contiene tutti gli oggetti archiviati nel contesto di pagine.</span><span class="sxs-lookup"><span data-stu-id="1883b-242">Returns a reference to an IDictionary instance that contains all objects stored in the pages context.</span></span> <span data-ttu-id="1883b-243">È possibile aggiungere elementi a questo IDictionary oggetto e saranno disponibili per tutta la durata del contesto.</span><span class="sxs-lookup"><span data-stu-id="1883b-243">You can add items to this IDictionary object and they will be available to you throughout the lifetime of the context.</span></span>

## <a name="maintainscrollpositiononpostback"></a><span data-ttu-id="1883b-244">MaintainScrollPositionOnPostBack</span><span class="sxs-lookup"><span data-stu-id="1883b-244">MaintainScrollPositionOnPostBack</span></span>

<span data-ttu-id="1883b-245">Questa proprietà controlla se ASP.NET genera JavaScript che mantiene la posizione di scorrimento delle pagine nel browser dopo un postback.</span><span class="sxs-lookup"><span data-stu-id="1883b-245">This property controls whether or not ASP.NET emits JavaScript that maintains the pages scroll position in the browser after a postback occurs.</span></span> <span data-ttu-id="1883b-246">(I dettagli di questa proprietà sono stati illustrati in precedenza in questo modulo.)</span><span class="sxs-lookup"><span data-stu-id="1883b-246">(Details of this property were discussed earlier in this module.)</span></span>

## <a name="master"></a><span data-ttu-id="1883b-247">Master</span><span class="sxs-lookup"><span data-stu-id="1883b-247">Master</span></span>

<span data-ttu-id="1883b-248">Questa proprietà di sola lettura restituisce un riferimento all'istanza di MasterPage per una pagina a cui è stata applicata una pagina master.</span><span class="sxs-lookup"><span data-stu-id="1883b-248">This read-only property returns a reference to the MasterPage instance for a page to which a master page has been applied.</span></span>

## <a name="masterpagefile"></a><span data-ttu-id="1883b-249">Masterpagefile</span><span class="sxs-lookup"><span data-stu-id="1883b-249">MasterPageFile</span></span>

<span data-ttu-id="1883b-250">Ottiene o imposta il nome file della pagina master per la pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-250">Gets or sets the master page filename for the page.</span></span> <span data-ttu-id="1883b-251">Questa proprietà può essere impostata solo nel PreInit metodo.</span><span class="sxs-lookup"><span data-stu-id="1883b-251">This property can only be set in the PreInit method.</span></span>

## <a name="maxpagestatefieldlength"></a><span data-ttu-id="1883b-252">Maxpagestatefieldlength</span><span class="sxs-lookup"><span data-stu-id="1883b-252">MaxPageStateFieldLength</span></span>

<span data-ttu-id="1883b-253">Questa proprietà ottiene o imposta la lunghezza massima per lo stato delle pagine in byte.</span><span class="sxs-lookup"><span data-stu-id="1883b-253">This property gets or sets the maximum length for the pages state in bytes.</span></span> <span data-ttu-id="1883b-254">Se la proprietà è impostata su un numero positivo, lo stato di visualizzazione delle pagine verrà suddiviso in più campi nascosti in modo da non superare il numero di byte specificato.</span><span class="sxs-lookup"><span data-stu-id="1883b-254">If the property is set to a positive number, the pages view state will be broken up into multiple hidden fields so that it doesnt exceed the number of bytes specified.</span></span> <span data-ttu-id="1883b-255">Se la proprietà è un numero negativo, lo stato di visualizzazione non verrà suddiviso in blocchi.</span><span class="sxs-lookup"><span data-stu-id="1883b-255">If the property is a negative number, the view state will not be broken into chunks.</span></span>

## <a name="pageadapter"></a><span data-ttu-id="1883b-256">Pageadapter</span><span class="sxs-lookup"><span data-stu-id="1883b-256">PageAdapter</span></span>

<span data-ttu-id="1883b-257">Restituisce un riferimento all'oggetto PageAdapter che modifica la pagina per il browser richiedente.</span><span class="sxs-lookup"><span data-stu-id="1883b-257">Returns a reference to the PageAdapter object that modifies the page for the requesting browser.</span></span>

## <a name="previouspage"></a><span data-ttu-id="1883b-258">Previouspage</span><span class="sxs-lookup"><span data-stu-id="1883b-258">PreviousPage</span></span>

<span data-ttu-id="1883b-259">Restituisce un riferimento alla pagina precedente nei casi di un Server.Transfer o di un postback tra pagine.</span><span class="sxs-lookup"><span data-stu-id="1883b-259">Returns a reference to the previous page in cases of a Server.Transfer or a cross-page postback.</span></span>

## <a name="skinid"></a><span data-ttu-id="1883b-260">Skinid</span><span class="sxs-lookup"><span data-stu-id="1883b-260">SkinID</span></span>

<span data-ttu-id="1883b-261">Specifica l'ASP.NET lo skin 2.0 da applicare alla pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-261">Specifies the ASP.NET 2.0 skin to apply to the page.</span></span>

## <a name="stylesheettheme"></a><span data-ttu-id="1883b-262">Stylesheettheme</span><span class="sxs-lookup"><span data-stu-id="1883b-262">StyleSheetTheme</span></span>

<span data-ttu-id="1883b-263">Questa proprietà ottiene o imposta il foglio di stile applicato a una pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-263">This property gets or sets the style sheet that is applied to a page.</span></span>

## <a name="templatecontrol"></a><span data-ttu-id="1883b-264">Templatecontrol</span><span class="sxs-lookup"><span data-stu-id="1883b-264">TemplateControl</span></span>

<span data-ttu-id="1883b-265">Restituisce un riferimento al controllo contenitore per la pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-265">Returns a reference to the containing control for the page.</span></span>

## <a name="theme"></a><span data-ttu-id="1883b-266">Tema</span><span class="sxs-lookup"><span data-stu-id="1883b-266">Theme</span></span>

<span data-ttu-id="1883b-267">Ottiene o imposta il nome del ASP.NET 2.0 tema applicato alla pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-267">Gets or sets the name of the ASP.NET 2.0 theme applied to the page.</span></span> <span data-ttu-id="1883b-268">Questo valore deve essere impostato prima del metodo PreInit.</span><span class="sxs-lookup"><span data-stu-id="1883b-268">This value must be set prior to the PreInit method.</span></span>

## <a name="title"></a><span data-ttu-id="1883b-269">Titolo</span><span class="sxs-lookup"><span data-stu-id="1883b-269">Title</span></span>

<span data-ttu-id="1883b-270">Questa proprietà ottiene o imposta il titolo per la pagina come ottenuto dall'intestazione delle pagine.</span><span class="sxs-lookup"><span data-stu-id="1883b-270">This property gets or sets the title for the page as obtained from the pages header.</span></span>

## <a name="viewstateencryptionmode"></a><span data-ttu-id="1883b-271">Viewstateencryptionmode</span><span class="sxs-lookup"><span data-stu-id="1883b-271">ViewStateEncryptionMode</span></span>

<span data-ttu-id="1883b-272">Ottiene o imposta il ViewStateEncryptionMode della pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-272">Gets or sets the ViewStateEncryptionMode of the page.</span></span> <span data-ttu-id="1883b-273">Vedere una descrizione dettagliata di questa proprietà più indietro in questo modulo.</span><span class="sxs-lookup"><span data-stu-id="1883b-273">See a detailed discussion of this property earlier in this module.</span></span>

## <a name="new-protected-properties-of-the-page-class"></a><span data-ttu-id="1883b-274">Nuove proprietà protette della classe Page</span><span class="sxs-lookup"><span data-stu-id="1883b-274">New Protected Properties of the Page Class</span></span>

<span data-ttu-id="1883b-275">Di seguito sono riportate le nuove proprietà protette della classe Page in ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="1883b-275">The following are the new protected properties of the Page class in ASP.NET 2.0.</span></span>

## <a name="adapter"></a><span data-ttu-id="1883b-276">Adattatore</span><span class="sxs-lookup"><span data-stu-id="1883b-276">Adapter</span></span>

<span data-ttu-id="1883b-277">Restituisce un riferimento al ControlAdapter che esegue il rendering della pagina nel dispositivo che lo ha richiesto.</span><span class="sxs-lookup"><span data-stu-id="1883b-277">Returns a reference to the ControlAdapter that renders the page on the device that requested it.</span></span>

## <a name="asyncmode"></a><span data-ttu-id="1883b-278">AsyncMode</span><span class="sxs-lookup"><span data-stu-id="1883b-278">AsyncMode</span></span>

<span data-ttu-id="1883b-279">Questa proprietà indica se la pagina viene elaborata in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="1883b-279">This property indicates whether or not the page is processed asynchronously.</span></span> <span data-ttu-id="1883b-280">È destinato all'utilizzo da parte del runtime e non direttamente nel codice.</span><span class="sxs-lookup"><span data-stu-id="1883b-280">It is intended for use by the runtime and not directly in code.</span></span>

## <a name="clientidseparator"></a><span data-ttu-id="1883b-281">ClientIDSeparator</span><span class="sxs-lookup"><span data-stu-id="1883b-281">ClientIDSeparator</span></span>

<span data-ttu-id="1883b-282">Questa proprietà restituisce il carattere utilizzato come separatore durante la creazione di ID client univoci per i controlli.</span><span class="sxs-lookup"><span data-stu-id="1883b-282">This property returns the character used as a separator when creating unique client IDs for controls.</span></span> <span data-ttu-id="1883b-283">È destinato all'utilizzo da parte del runtime e non direttamente nel codice.</span><span class="sxs-lookup"><span data-stu-id="1883b-283">It is intended for use by the runtime and not directly in code.</span></span>

## <a name="pagestatepersister"></a><span data-ttu-id="1883b-284">Pagestatepersister</span><span class="sxs-lookup"><span data-stu-id="1883b-284">PageStatePersister</span></span>

<span data-ttu-id="1883b-285">Questa proprietà restituisce l'oggetto PageStatePersister per la pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-285">This property returns the PageStatePersister object for the page.</span></span> <span data-ttu-id="1883b-286">Questa proprietà viene utilizzata principalmente dagli sviluppatori di controlli ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1883b-286">This property is primarily used by ASP.NET control developers.</span></span>

## <a name="uniquefilepathsuffix"></a><span data-ttu-id="1883b-287">UniqueFilePathSuffix (Suffisso univoco di UnFilePath)</span><span class="sxs-lookup"><span data-stu-id="1883b-287">UniqueFilePathSuffix</span></span>

<span data-ttu-id="1883b-288">Questa proprietà restituisce un suffisso univoco che viene aggiunto al percorso del file per i browser di memorizzazione nella cache.</span><span class="sxs-lookup"><span data-stu-id="1883b-288">This property returns a unique suffix that is appended to the file path for caching browsers.</span></span> <span data-ttu-id="1883b-289">Il valore \_ \_predefinito è ufps e un numero a 6 cifre.</span><span class="sxs-lookup"><span data-stu-id="1883b-289">The default value is \_\_ufps= and a 6-digit number.</span></span>

## <a name="new-public-methods-for-the-page-class"></a><span data-ttu-id="1883b-290">Nuovi metodi pubblici per la classe Page</span><span class="sxs-lookup"><span data-stu-id="1883b-290">New Public Methods for the Page Class</span></span>

<span data-ttu-id="1883b-291">I metodi pubblici seguenti sono nuovi per il Page classe in ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="1883b-291">The following public methods are new to the Page class in ASP.NET 2.0.</span></span>

## <a name="addonprerendercompleteasync"></a><span data-ttu-id="1883b-292">AddOnPreRenderCompleteAsync</span><span class="sxs-lookup"><span data-stu-id="1883b-292">AddOnPreRenderCompleteAsync</span></span>

<span data-ttu-id="1883b-293">Questo metodo registra i delegati del gestore eventi per l'esecuzione asincrona della pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-293">This method registers event handler delegates for asynchronous page execution.</span></span> <span data-ttu-id="1883b-294">Le pagine asincrone vengono descritte più avanti in questo modulo.</span><span class="sxs-lookup"><span data-stu-id="1883b-294">Asynchronous pages are discussed later in this module.</span></span>

## <a name="applystylesheetskin"></a><span data-ttu-id="1883b-295">ApplyStyleSheetSkin</span><span class="sxs-lookup"><span data-stu-id="1883b-295">ApplyStyleSheetSkin</span></span>

<span data-ttu-id="1883b-296">Applica le proprietà di un foglio di stile di pagina alla pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-296">Applies the properties in a pages style sheet to the page.</span></span>

## <a name="executeregisteredasynctasks"></a><span data-ttu-id="1883b-297">ExecuteRegisteredAsyncTasks</span><span class="sxs-lookup"><span data-stu-id="1883b-297">ExecuteRegisteredAsyncTasks</span></span>

<span data-ttu-id="1883b-298">Questo metodo è un'attività asincrona.</span><span class="sxs-lookup"><span data-stu-id="1883b-298">This method beings an asynchronous task.</span></span>

### <a name="getvalidators"></a><span data-ttu-id="1883b-299">GetValidators</span><span class="sxs-lookup"><span data-stu-id="1883b-299">GetValidators</span></span>

<span data-ttu-id="1883b-300">Restituisce una raccolta di validator per il gruppo di convalida specificato o il gruppo di convalida predefinito se non ne è stato specificato alcuno.</span><span class="sxs-lookup"><span data-stu-id="1883b-300">Returns a collection of validators for the specified validation group or the default validation group if none is specified.</span></span>

## <a name="registerasynctask"></a><span data-ttu-id="1883b-301">RegisterAsyncTask</span><span class="sxs-lookup"><span data-stu-id="1883b-301">RegisterAsyncTask</span></span>

<span data-ttu-id="1883b-302">Questo metodo registra una nuova attività asincrona.</span><span class="sxs-lookup"><span data-stu-id="1883b-302">This method registers a new async task.</span></span> <span data-ttu-id="1883b-303">Le pagine asincrone vengono trattate più avanti in questo modulo.</span><span class="sxs-lookup"><span data-stu-id="1883b-303">Asynchronous pages are covered later in this module.</span></span>

## <a name="registerrequirescontrolstate"></a><span data-ttu-id="1883b-304">RegisterRequiresControlState</span><span class="sxs-lookup"><span data-stu-id="1883b-304">RegisterRequiresControlState</span></span>

<span data-ttu-id="1883b-305">Questo metodo indica a ASP.NET che lo stato del controllo pagine deve essere reso persistente.</span><span class="sxs-lookup"><span data-stu-id="1883b-305">This method tells ASP.NET that the pages control state must be persisted.</span></span>

## <a name="registerrequiresviewstateencryption"></a><span data-ttu-id="1883b-306">RegisterRequiresViewStateEncryption</span><span class="sxs-lookup"><span data-stu-id="1883b-306">RegisterRequiresViewStateEncryption</span></span>

<span data-ttu-id="1883b-307">Questo metodo indica a ASP.NET che viewstate delle pagine richiede la crittografia.</span><span class="sxs-lookup"><span data-stu-id="1883b-307">This method tells ASP.NET that the pages viewstate requires encryption.</span></span>

## <a name="resolveclienturl"></a><span data-ttu-id="1883b-308">ResolveClientUrl (Risolvere ClientUrl)</span><span class="sxs-lookup"><span data-stu-id="1883b-308">ResolveClientUrl</span></span>

<span data-ttu-id="1883b-309">Restituisce un URL relativo che può essere utilizzato per le richieste client per le immagini e così via.</span><span class="sxs-lookup"><span data-stu-id="1883b-309">Returns a relative URL that can be used for client requests for images, etc.</span></span>

## <a name="setfocus"></a><span data-ttu-id="1883b-310">SetFocus</span><span class="sxs-lookup"><span data-stu-id="1883b-310">SetFocus</span></span>

<span data-ttu-id="1883b-311">Questo metodo imposterà lo stato attivo sul controllo specificato quando la pagina viene caricata inizialmente.</span><span class="sxs-lookup"><span data-stu-id="1883b-311">This method will set the focus to the control that is specified when the page is initially loaded.</span></span>

## <a name="unregisterrequirescontrolstate"></a><span data-ttu-id="1883b-312">UnregisterRequiresControlState</span><span class="sxs-lookup"><span data-stu-id="1883b-312">UnregisterRequiresControlState</span></span>

<span data-ttu-id="1883b-313">Questo metodo antuncierà la registrazione del controllo passato come non richiede più la persistenza dello stato del controllo.</span><span class="sxs-lookup"><span data-stu-id="1883b-313">This method will unregister the control that is passed to it as no longer requiring control state persistence.</span></span>

## <a name="changes-to-the-page-lifecycle"></a><span data-ttu-id="1883b-314">Modifiche al ciclo di vita della pagina</span><span class="sxs-lookup"><span data-stu-id="1883b-314">Changes to the Page Lifecycle</span></span>

<span data-ttu-id="1883b-315">Il ciclo di vita della pagina in ASP.NET 2.0 non è cambiato drasticamente, ma esistono alcuni nuovi metodi di cui è necessario essere a conoscenza.</span><span class="sxs-lookup"><span data-stu-id="1883b-315">The page lifecycle in ASP.NET 2.0 hasn't changed dramatically, but there are some new methods that you should be aware of.</span></span> <span data-ttu-id="1883b-316">Il ciclo di vita della pagina ASP.NET 2.0 è descritto di seguito.</span><span class="sxs-lookup"><span data-stu-id="1883b-316">The ASP.NET 2.0 page lifecycle is outlined below.</span></span>

## <a name="preinit-new-in-aspnet-20"></a><span data-ttu-id="1883b-317">PreInit (Novità in ASP.NET 2.0)</span><span class="sxs-lookup"><span data-stu-id="1883b-317">PreInit (New in ASP.NET 2.0)</span></span>

<span data-ttu-id="1883b-318">L'evento PreInit è la prima fase del ciclo di vita a cui uno sviluppatore può accedere.</span><span class="sxs-lookup"><span data-stu-id="1883b-318">The PreInit event is the earliest stage in the lifecycle that a developer can access.</span></span> <span data-ttu-id="1883b-319">L'aggiunta di questo evento consente di modificare a livello di codice ASP.NET temi 2.0, pagine master, proprietà di accesso per un profilo ASP.NET 2.0 e così via. Se si è in uno stato di postback, è importante rendersi conto che Viewstate non è ancora stato applicato ai controlli a questo punto del ciclo di vita.</span><span class="sxs-lookup"><span data-stu-id="1883b-319">The addition of this event makes it possible to programmatically change ASP.NET 2.0 themes, master pages, access properties for an ASP.NET 2.0 profile, etc. If you are in a postback state, its important to realize that Viewstate has not yet been applied to controls at this point in the lifecycle.</span></span> <span data-ttu-id="1883b-320">Pertanto, se uno sviluppatore modifica una proprietà di un controllo in questa fase, verrà probabilmente sovrascritto in un secondo momento nel ciclo di vita delle pagine.</span><span class="sxs-lookup"><span data-stu-id="1883b-320">Therefore, if a developer changes a property of a control at this stage, it will likely be overwritten later in the pages lifecycle.</span></span>

## <a name="init"></a><span data-ttu-id="1883b-321">Init</span><span class="sxs-lookup"><span data-stu-id="1883b-321">Init</span></span>

<span data-ttu-id="1883b-322">L'evento Init non è stato modificato da ASP.NET 1.x.</span><span class="sxs-lookup"><span data-stu-id="1883b-322">The Init event has not changed from ASP.NET 1.x.</span></span> <span data-ttu-id="1883b-323">Questo è dove si desidera leggere o inizializzare le proprietà dei controlli nella pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-323">This is where you would want to read or initialize properties of controls on your page.</span></span> <span data-ttu-id="1883b-324">In questa fase, le pagine mastro, i temi e così via sono già applicati alla pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-324">At this stage, master pages, themes, etc. are already applied to the page.</span></span>

## <a name="initcomplete-new-in-20"></a><span data-ttu-id="1883b-325">InitComplete (novità della versione 2.0)InitComplete (New in 2.0)</span><span class="sxs-lookup"><span data-stu-id="1883b-325">InitComplete (New in 2.0)</span></span>

<span data-ttu-id="1883b-326">L'evento InitComplete viene chiamato alla fine della fase di inizializzazione delle pagine.</span><span class="sxs-lookup"><span data-stu-id="1883b-326">The InitComplete event is called at the end of the pages initialization stage.</span></span> <span data-ttu-id="1883b-327">A questo punto del ciclo di vita, è possibile accedere ai controlli nella pagina, ma il relativo stato non è ancora stato popolato.</span><span class="sxs-lookup"><span data-stu-id="1883b-327">At this point in the lifecycle, you can access controls on the page, but their state has not yet been populated.</span></span>

## <a name="preload-new-in-20"></a><span data-ttu-id="1883b-328">PreLoad (Novità in 2.0)</span><span class="sxs-lookup"><span data-stu-id="1883b-328">PreLoad (New in 2.0)</span></span>

<span data-ttu-id="1883b-329">Questo evento viene chiamato dopo l'applicazione di tutti\_i dati di postback e appena prima di Caricamento pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-329">This event is called after all postback data has been applied and just prior to Page\_Load.</span></span>

## <a name="load"></a><span data-ttu-id="1883b-330">Caricamento</span><span class="sxs-lookup"><span data-stu-id="1883b-330">Load</span></span>

<span data-ttu-id="1883b-331">L'evento Load non è stato modificato da ASP.NET 1.x.</span><span class="sxs-lookup"><span data-stu-id="1883b-331">The Load event has not changed from ASP.NET 1.x.</span></span>

## <a name="loadcomplete-new-in-20"></a><span data-ttu-id="1883b-332">LoadComplete (Novità della versione 2.0)LoadComplete (New in 2.0)</span><span class="sxs-lookup"><span data-stu-id="1883b-332">LoadComplete (New in 2.0)</span></span>

<span data-ttu-id="1883b-333">L'evento LoadComplete è l'ultimo evento nella fase di caricamento delle pagine.</span><span class="sxs-lookup"><span data-stu-id="1883b-333">The LoadComplete event is the last event in the pages load stage.</span></span> <span data-ttu-id="1883b-334">In questa fase, tutti i dati di postback e viewstate sono stati applicati alla pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-334">At this stage, all postback and viewstate data has been applied to the page.</span></span>

## <a name="prerender"></a><span data-ttu-id="1883b-335">Prerender</span><span class="sxs-lookup"><span data-stu-id="1883b-335">PreRender</span></span>

<span data-ttu-id="1883b-336">Se si desidera che viewstate venga gestito correttamente per i controlli aggiunti alla pagina in modo dinamico, l'evento PreRender è l'ultima opportunità per aggiungerli.</span><span class="sxs-lookup"><span data-stu-id="1883b-336">If you would like for viewstate to be properly maintained for controls that are added to the page dynamically, the PreRender event is the last opportunity to add them.</span></span>

## <a name="prerendercomplete-new-in-20"></a><span data-ttu-id="1883b-337">PreRenderComplete (Novità della versione 2.0)PreRenderComplete (New in 2.0)</span><span class="sxs-lookup"><span data-stu-id="1883b-337">PreRenderComplete (New in 2.0)</span></span>

<span data-ttu-id="1883b-338">Nella fase PreRenderComplete, tutti i controlli sono stati aggiunti alla pagina e la pagina è pronta per il rendering.</span><span class="sxs-lookup"><span data-stu-id="1883b-338">At the PreRenderComplete stage, all controls have been added to the page and the page is ready to be rendered.</span></span> <span data-ttu-id="1883b-339">L'evento PreRenderComplete è l'ultimo evento generato prima del salvataggio dello stato di visualizzazione delle pagine.</span><span class="sxs-lookup"><span data-stu-id="1883b-339">The PreRenderComplete event is the last event raised before the pages viewstate is saved.</span></span>

## <a name="savestatecomplete-new-in-20"></a><span data-ttu-id="1883b-340">SaveStateComplete (Novità della versione 2.0)SaveStateComplete (New in 2.0)</span><span class="sxs-lookup"><span data-stu-id="1883b-340">SaveStateComplete (New in 2.0)</span></span>

<span data-ttu-id="1883b-341">Il SaveStateComplete evento viene chiamato immediatamente dopo il salvataggio di tutti gli stati di visualizzazione della pagina e lo stato del controllo.</span><span class="sxs-lookup"><span data-stu-id="1883b-341">The SaveStateComplete event is called immediately after all page viewstate and control state has been saved.</span></span> <span data-ttu-id="1883b-342">Questo è l'ultimo evento prima che la pagina viene effettivamente eseguito il rendering nel browser.</span><span class="sxs-lookup"><span data-stu-id="1883b-342">This is the last event before the page is actually rendered to the browser.</span></span>

## <a name="render"></a><span data-ttu-id="1883b-343">Rendering</span><span class="sxs-lookup"><span data-stu-id="1883b-343">Render</span></span>

<span data-ttu-id="1883b-344">Il Render metodo non è stato modificato dopo ASP.NET 1.x.</span><span class="sxs-lookup"><span data-stu-id="1883b-344">The Render method has not changed since ASP.NET 1.x.</span></span> <span data-ttu-id="1883b-345">Questo è dove il HtmlTextWriter viene inizializzato e la pagina viene eseguito il rendering nel browser.</span><span class="sxs-lookup"><span data-stu-id="1883b-345">This is where the HtmlTextWriter is initialized and the page is rendered to the browser.</span></span>

## <a name="cross-page-postback-in-aspnet-20"></a><span data-ttu-id="1883b-346">Postback tra pagine in ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="1883b-346">Cross-Page Postback in ASP.NET 2.0</span></span>

<span data-ttu-id="1883b-347">Nella ASP.NET 1.x, i postback dovevano essere inviati alla stessa pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-347">In ASP.NET 1.x, postbacks were required to post to the same page.</span></span> <span data-ttu-id="1883b-348">I postback tra pagine non erano consentiti.</span><span class="sxs-lookup"><span data-stu-id="1883b-348">Cross-page postbacks were not allowed.</span></span> <span data-ttu-id="1883b-349">ASP.NET 2.0 aggiunge la possibilità di eseguire il postback a una pagina diversa tramite il IButtonControl interfaccia.</span><span class="sxs-lookup"><span data-stu-id="1883b-349">ASP.NET 2.0 adds the ability to post back to a different page via the IButtonControl interface.</span></span> <span data-ttu-id="1883b-350">Qualsiasi controllo che implementa la nuova interfaccia IButtonControl (Button, LinkButton e ImageButton oltre ai controlli personalizzati di terze parti) può sfruttare questa nuova funzionalità tramite l'uso dell'attributo PostBackUrl.</span><span class="sxs-lookup"><span data-stu-id="1883b-350">Any control that implements the new IButtonControl interface (Button, LinkButton, and ImageButton in addition to third-party custom controls) can take advantage of this new functionality via the use of the PostBackUrl attribute.</span></span> <span data-ttu-id="1883b-351">Il codice seguente viene illustrato un Button controllo che esegue il postback a una seconda pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-351">The following code shows a Button control that posts back to a second page.</span></span>

[!code-aspx[Main](the-asp-net-2-0-page-model/samples/sample5.aspx)]

<span data-ttu-id="1883b-352">Quando viene eseguito il postback della pagina, la pagina che avvia il postback è accessibile tramite il PreviousPage proprietà nella seconda pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-352">When the page is posted back, the Page that initiates the postback is accessible via the PreviousPage property on the second page.</span></span> <span data-ttu-id="1883b-353">Questa funzionalità viene implementata\_tramite la nuova funzione Lato client WebForm DoPostBackWithOptions che ASP.NET 2.0 esegue il rendering nella pagina quando un controllo esegue il postback a una pagina diversa.</span><span class="sxs-lookup"><span data-stu-id="1883b-353">This functionality is implemented via the new WebForm\_DoPostBackWithOptions client-side function that ASP.NET 2.0 renders to the page when a control posts back to a different page.</span></span> <span data-ttu-id="1883b-354">Questa funzione JavaScript viene fornita dal nuovo gestore WebResource.axd che genera script al client.</span><span class="sxs-lookup"><span data-stu-id="1883b-354">This JavaScript function is provided by the new WebResource.axd handler which emits script to the client.</span></span>

<span data-ttu-id="1883b-355">Il video seguente è una procedura dettagliata di un postback tra pagine.</span><span class="sxs-lookup"><span data-stu-id="1883b-355">The video below is a walkthrough of a cross-page postback.</span></span>

![](the-asp-net-2-0-page-model/_static/image2.png)

[<span data-ttu-id="1883b-356">Apri video a schermo intero</span><span class="sxs-lookup"><span data-stu-id="1883b-356">Open Full-Screen Video</span></span>](the-asp-net-2-0-page-model/_static/xpage1.wmv)

## <a name="more-details-on-cross-page-postbacks"></a><span data-ttu-id="1883b-357">Ulteriori dettagli sui postback tra pagine</span><span class="sxs-lookup"><span data-stu-id="1883b-357">More Details on Cross-Page Postbacks</span></span>

### <a name="viewstate"></a><span data-ttu-id="1883b-358">Viewstate</span><span class="sxs-lookup"><span data-stu-id="1883b-358">Viewstate</span></span>

<span data-ttu-id="1883b-359">È possibile che si sia già chiesto cosa accade al viewstate dalla prima pagina in uno scenario di postback tra pagine.</span><span class="sxs-lookup"><span data-stu-id="1883b-359">You may have asked yourself already about what happens to the viewstate from the first page in a cross-page postback scenario.</span></span> <span data-ttu-id="1883b-360">Dopo tutto, qualsiasi controllo che non implementa IPostBackDataHandler manterrà il proprio stato tramite viewstate, in modo da avere accesso alle proprietà di tale controllo nella seconda pagina di un postback tra pagine, è necessario avere accesso allo stato di visualizzazione per la pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-360">After all, any control that does not implement IPostBackDataHandler will persist its state via viewstate, so to have access to the properties of that control on the second page of a cross-page postback, you must have access to the viewstate for the page.</span></span> <span data-ttu-id="1883b-361">ASP.NET 2.0 si occupa di questo scenario utilizzando un \_ \_nuovo campo nascosto nella seconda pagina denominata PREVIOUSPAGE.</span><span class="sxs-lookup"><span data-stu-id="1883b-361">ASP.NET 2.0 takes care of this scenario using a new hidden field in the second page called \_\_PREVIOUSPAGE.</span></span> <span data-ttu-id="1883b-362">Il \_ \_campo modulo PREVIOUSPAGE contiene il riquadro di visualizzazione per la prima pagina in modo che sia possibile accedere alle proprietà di tutti i controlli nella seconda pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-362">The \_\_PREVIOUSPAGE form field contains the viewstate for the first page so that you can have access to the properties of all controls in the second page.</span></span>

### <a name="circumventing-findcontrol"></a><span data-ttu-id="1883b-363">Elusione di FindControl</span><span class="sxs-lookup"><span data-stu-id="1883b-363">Circumventing FindControl</span></span>

<span data-ttu-id="1883b-364">Nella procedura dettagliata video di un postback tra pagine, ho usato il FindControl metodo per ottenere un riferimento al TextBox controllo nella prima pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-364">In the video walkthrough of a cross-page postback, I used the FindControl method to get a reference to the TextBox control on the first page.</span></span> <span data-ttu-id="1883b-365">Questo metodo funziona bene a tale scopo, ma FindControl è costoso e richiede la scrittura di codice aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="1883b-365">That method works well for that purpose, but FindControl is expensive and it requires writing additional code.</span></span> <span data-ttu-id="1883b-366">Fortunatamente, ASP.NET 2.0 fornisce un'alternativa a FindControl per questo scopo che funzionerà in molti scenari.</span><span class="sxs-lookup"><span data-stu-id="1883b-366">Fortunately, ASP.NET 2.0 provides an alternative to FindControl for this purpose that will work in many scenarios.</span></span> <span data-ttu-id="1883b-367">La direttiva PreviousPageType consente di avere un riferimento fortemente tipizzato alla pagina precedente utilizzando l'attributo TypeName o VirtualPath.</span><span class="sxs-lookup"><span data-stu-id="1883b-367">The PreviousPageType directive allows you to have a strongly-typed reference to the previous page by using either the TypeName or the VirtualPath attribute.</span></span> <span data-ttu-id="1883b-368">L'attributo TypeName consente di specificare il tipo della pagina precedente, mentre l'attributo VirtualPath consente di fare riferimento alla pagina precedente utilizzando un percorso virtuale.</span><span class="sxs-lookup"><span data-stu-id="1883b-368">The TypeName attribute allows you to specify the type of the previous page while the VirtualPath attribute allows you to refer to the previous page using a virtual path.</span></span> <span data-ttu-id="1883b-369">Dopo aver impostato il PreviousPageType direttiva, è quindi necessario esporre i controlli e così via a cui si desidera consentire l'accesso utilizzando le proprietà pubbliche.</span><span class="sxs-lookup"><span data-stu-id="1883b-369">After you've set the PreviousPageType directive, you must then expose the controls, etc. to which you want to allow access using public properties.</span></span>

## <a name="lab-1-cross-page-postback"></a><span data-ttu-id="1883b-370">Laboratorio 1 Postback tra pagine</span><span class="sxs-lookup"><span data-stu-id="1883b-370">Lab 1 Cross-Page Postback</span></span>

<span data-ttu-id="1883b-371">In questa esercitazione verrà creata un'applicazione che utilizza la nuova funzionalità di postback tra pagine di ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="1883b-371">In this lab, you will create an application that uses the new cross-page postback functionality of ASP.NET 2.0.</span></span>

1. <span data-ttu-id="1883b-372">Aprire Visual Studio 2005 e creare un nuovo sito Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1883b-372">Open Visual Studio 2005 and create a new ASP.NET Web site.</span></span>
2. <span data-ttu-id="1883b-373">Aggiungere un nuovo Webform denominato page2.aspx.</span><span class="sxs-lookup"><span data-stu-id="1883b-373">Add a new Webform called page2.aspx.</span></span>
3. <span data-ttu-id="1883b-374">Aprire il Default.aspx in visualizzazione Progettazione e aggiungere un Button controllo e un TextBox controllo.</span><span class="sxs-lookup"><span data-stu-id="1883b-374">Open the Default.aspx in Design view and add a Button control and a TextBox control.</span></span> 

    1. <span data-ttu-id="1883b-375">Assegnare al controllo Button un ID **SubmitButton** e il controllo TextBox un ID **UserName**.</span><span class="sxs-lookup"><span data-stu-id="1883b-375">Give the Button control an ID of **SubmitButton** and the TextBox control an ID of **UserName**.</span></span>
    2. <span data-ttu-id="1883b-376">Impostare la proprietà PostBackUrl del Button su page2.aspx.</span><span class="sxs-lookup"><span data-stu-id="1883b-376">Set the PostBackUrl property of the Button to page2.aspx.</span></span>
4. <span data-ttu-id="1883b-377">Aprire page2.aspx nella visualizzazione Origine.</span><span class="sxs-lookup"><span data-stu-id="1883b-377">Open page2.aspx in Source view.</span></span>
5. <span data-ttu-id="1883b-378">Aggiungere una direttiva PreviousPageType come illustrato di seguito:</span><span class="sxs-lookup"><span data-stu-id="1883b-378">Add a @ PreviousPageType directive as shown below:</span></span>
6. <span data-ttu-id="1883b-379">Aggiungere il codice seguente\_al caricamento della pagina del code-behind di page2.aspx:</span><span class="sxs-lookup"><span data-stu-id="1883b-379">Add the following code to the Page\_Load of page2.aspx's code-behind:</span></span> 

    [!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample6.cs)]
7. <span data-ttu-id="1883b-380">Compilare il progetto scegliendo Compila dal menu Compila .</span><span class="sxs-lookup"><span data-stu-id="1883b-380">Build the project by clicking on Build on the Build menu.</span></span>
8. <span data-ttu-id="1883b-381">Aggiungere il codice seguente al code-behind per Default.aspx:</span><span class="sxs-lookup"><span data-stu-id="1883b-381">Add the following code to the code-behind for Default.aspx:</span></span> 

    [!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample7.cs)]
9. <span data-ttu-id="1883b-382">Modificare il\_caricamento della pagina in page2.aspx nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="1883b-382">Change the Page\_Load in page2.aspx to the following:</span></span> 

    [!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample8.cs)]
10. <span data-ttu-id="1883b-383">Compilare il progetto.</span><span class="sxs-lookup"><span data-stu-id="1883b-383">Build the project.</span></span>
11. <span data-ttu-id="1883b-384">Eseguire il progetto.</span><span class="sxs-lookup"><span data-stu-id="1883b-384">Run the project.</span></span>
12. <span data-ttu-id="1883b-385">Immettere il proprio nome nella casella di testo e fare clic sul pulsante.</span><span class="sxs-lookup"><span data-stu-id="1883b-385">Enter your name in the TextBox and click the button.</span></span>
13. <span data-ttu-id="1883b-386">Qual è il risultato?</span><span class="sxs-lookup"><span data-stu-id="1883b-386">What is the result?</span></span>

## <a name="asynchronous-pages-in-aspnet-20"></a><span data-ttu-id="1883b-387">Pagine asincrone in ASP.NET 2.0Asynchronous Pages in ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="1883b-387">Asynchronous Pages in ASP.NET 2.0</span></span>

<span data-ttu-id="1883b-388">Molti problemi di contesa in ASP.NET sono causati dalla latenza delle chiamate esterne (ad esempio le chiamate al servizio Web o al database), dalla latenza di I/O dei file e così via. Quando viene effettuata una richiesta su un'applicazione ASP.NET, ASP.NET utilizza uno dei relativi thread di lavoro per soddisfare tale richiesta.</span><span class="sxs-lookup"><span data-stu-id="1883b-388">Many contention problems in ASP.NET are caused by latency of external calls (such as Web service or database calls), file IO latency, etc. When a request is made against an ASP.NET application, ASP.NET uses one of its worker threads to service that request.</span></span> <span data-ttu-id="1883b-389">Tale richiesta è proprietaria di tale thread fino al completamento della richiesta e all'invio della risposta.</span><span class="sxs-lookup"><span data-stu-id="1883b-389">That request owns that thread until the request is complete and the response has been sent.</span></span> <span data-ttu-id="1883b-390">ASP.NET 2.0 cerca di risolvere i problemi di latenza con questi tipi di problemi aggiungendo la possibilità di eseguire le pagine in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="1883b-390">ASP.NET 2.0 seeks to resolve latency issues with these types of issues by adding the capability to execute pages asynchronously.</span></span> <span data-ttu-id="1883b-391">Ciò significa che un thread di lavoro può avviare la richiesta e quindi passare l'esecuzione aggiuntiva a un altro thread, tornando così rapidamente al pool di thread disponibili.</span><span class="sxs-lookup"><span data-stu-id="1883b-391">That means that a worker thread can start the request and then hand off additional execution to another thread, thereby returning to the available thread pool quickly.</span></span> <span data-ttu-id="1883b-392">Al termine dell'i/o di file, della chiamata al database e così via, viene ottenuto un nuovo thread dal pool di thread per completare la richiesta.</span><span class="sxs-lookup"><span data-stu-id="1883b-392">When the file IO, database call, etc. has completed, a new thread is obtained from the thread pool to finish the request.</span></span>

<span data-ttu-id="1883b-393">Il primo passaggio per l'esecuzione asincrona di una pagina consiste nell'impostare l'attributo **Async** della direttiva della pagina in questo modo:</span><span class="sxs-lookup"><span data-stu-id="1883b-393">The first step in making a page execute asynchronously is to set the **Async** attribute of the page directive like so:</span></span>

[!code-aspx[Main](the-asp-net-2-0-page-model/samples/sample9.aspx)]

<span data-ttu-id="1883b-394">Questo attributo indica a ASP.NET di implementare IHttpAsyncHandler per la pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-394">This attribute tells ASP.NET to implement the IHttpAsyncHandler for the page.</span></span>

<span data-ttu-id="1883b-395">The next step is to call the AddOnPreRenderCompleteAsync method at a point in the lifecycle of the page prior to PreRender.</span><span class="sxs-lookup"><span data-stu-id="1883b-395">The next step is to call the AddOnPreRenderCompleteAsync method at a point in the lifecycle of the page prior to PreRender.</span></span> <span data-ttu-id="1883b-396">Questo metodo viene in\_genere chiamato in Caricamento pagina. Il metodo AddOnPreRenderCompleteAsync accetta due parametri; un BeginEventHandler e un EndEventHandler.</span><span class="sxs-lookup"><span data-stu-id="1883b-396">(This method is typically called in Page\_Load.) The AddOnPreRenderCompleteAsync method takes two parameters; a BeginEventHandler and an EndEventHandler.</span></span> <span data-ttu-id="1883b-397">BeginEventHandler restituisce un IAsyncResult che viene quindi passato come parametro per il EndEventHandler.</span><span class="sxs-lookup"><span data-stu-id="1883b-397">The BeginEventHandler returns an IAsyncResult which is then passed as a parameter to the EndEventHandler.</span></span>

<span data-ttu-id="1883b-398">Il video seguente è una procedura dettagliata di una richiesta di pagina asincrona.</span><span class="sxs-lookup"><span data-stu-id="1883b-398">The video below is a walkthrough of an asynchronous page request.</span></span>

![](the-asp-net-2-0-page-model/_static/image3.png)

[<span data-ttu-id="1883b-399">Apri video a schermo intero</span><span class="sxs-lookup"><span data-stu-id="1883b-399">Open Full-Screen Video</span></span>](the-asp-net-2-0-page-model/_static/async1.wmv)

> [!NOTE]
> <span data-ttu-id="1883b-400">Una pagina asincrona non esegue il rendering nel browser fino al completamento di EndEventHandler.</span><span class="sxs-lookup"><span data-stu-id="1883b-400">An async page does not render to the browser until the EndEventHandler has completed.</span></span> <span data-ttu-id="1883b-401">Senza dubbio, ma che alcuni sviluppatori penseranno di richieste asincrone come essere simile a callback asincroni.</span><span class="sxs-lookup"><span data-stu-id="1883b-401">No doubt but that some developers will think of async requests as being similar to async callbacks.</span></span> <span data-ttu-id="1883b-402">È importante rendersi conto che non lo sono.</span><span class="sxs-lookup"><span data-stu-id="1883b-402">It's important to realize that they are not.</span></span> <span data-ttu-id="1883b-403">Il vantaggio delle richieste asincrone è che il primo thread di lavoro può essere restituito al pool di thread per soddisfare le nuove richieste, riducendo in tal modo i conflitti dovuti all'associazione i/O e così via.</span><span class="sxs-lookup"><span data-stu-id="1883b-403">The benefit to asynchronous requests is that the first worker thread can be returned to the thread pool to service new requests, thereby reducing contention due to being IO bound, etc.</span></span>

## <a name="script-callbacks-in-aspnet-20"></a><span data-ttu-id="1883b-404">Callback di script in ASP.NET 2.0Script Callbacks in ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="1883b-404">Script Callbacks in ASP.NET 2.0</span></span>

<span data-ttu-id="1883b-405">Gli sviluppatori Web hanno sempre cercato modi per evitare lo sfarfallio associato a un callback.</span><span class="sxs-lookup"><span data-stu-id="1883b-405">Web developers have always looked for ways to prevent the flickering associated with a callback.</span></span> <span data-ttu-id="1883b-406">In ASP.NET 1.x, SmartNavigation è stato il metodo più comune per evitare lo sfarfallio, ma SmartNavigation ha causato problemi per alcuni sviluppatori a causa della complessità della sua implementazione sul client.</span><span class="sxs-lookup"><span data-stu-id="1883b-406">In ASP.NET 1.x, SmartNavigation was the most common method for avoiding flickering, but SmartNavigation caused problems for some developers because of the complexity of its implementation on the client.</span></span> <span data-ttu-id="1883b-407">ASP.NET 2.0 risolve questo problema con i callback di script.</span><span class="sxs-lookup"><span data-stu-id="1883b-407">ASP.NET 2.0 addresses this issue with script callbacks.</span></span> <span data-ttu-id="1883b-408">I callback di script utilizzano XMLHttp per effettuare richieste al server Web tramite JavaScript.</span><span class="sxs-lookup"><span data-stu-id="1883b-408">Script callbacks utilize XMLHttp to make requests against the Web server via JavaScript.</span></span> <span data-ttu-id="1883b-409">La richiesta XMLHttp restituisce dati XML che possono quindi essere modificati tramite il DOM del browser.</span><span class="sxs-lookup"><span data-stu-id="1883b-409">The XMLHttp request returns XML data that can then be manipulated via the browser's DOM.</span></span> <span data-ttu-id="1883b-410">Il codice XMLHttp è nascosto all'utente dal nuovo gestore WebResource.axd.</span><span class="sxs-lookup"><span data-stu-id="1883b-410">XMLHttp code is hidden from the user by the new WebResource.axd handler.</span></span>

<span data-ttu-id="1883b-411">Esistono diversi passaggi necessari per configurare un callback di script in ASP.NET 2.0.There are several steps that are necessary in order to configure a script callback in ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="1883b-411">There are several steps that are necessary in order to configure a script callback in ASP.NET 2.0.</span></span>

## <a name="step-1--implement-the-icallbackeventhandler-interface"></a><span data-ttu-id="1883b-412">Passaggio 1: Implementare l'interfaccia ICallbackEventHandlerStep 1: Implement the ICallbackEventHandler Interface</span><span class="sxs-lookup"><span data-stu-id="1883b-412">Step 1 : Implement the ICallbackEventHandler Interface</span></span>

<span data-ttu-id="1883b-413">Affinché ASP.NET riconosca la pagina come partecipante a un callback di script, è necessario implementare l'interfaccia ICallbackEventHandler.</span><span class="sxs-lookup"><span data-stu-id="1883b-413">In order for ASP.NET to recognize your page as participating in a script callback, you must implement the ICallbackEventHandler interface.</span></span> <span data-ttu-id="1883b-414">È possibile eseguire questa operazione nel file code-behind in questo modo:You can do this in your code-behind file like so:</span><span class="sxs-lookup"><span data-stu-id="1883b-414">You can do this in your code-behind file like so:</span></span>

[!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample10.cs)]

<span data-ttu-id="1883b-415">È anche possibile eseguire questa operazione usando la direttiva :</a0></span><span class="sxs-lookup"><span data-stu-id="1883b-415">You can also do this using the @ Implements directive like so:</span></span>

[!code-aspx[Main](the-asp-net-2-0-page-model/samples/sample11.aspx)]

<span data-ttu-id="1883b-416">In genere si usa la direttiva : Implements quando si usa il codice inline ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1883b-416">You would typically use the @ Implements directive when using inline ASP.NET code.</span></span>

## <a name="step-2--call-getcallbackeventreference"></a><span data-ttu-id="1883b-417">Passaggio 2: Chiamare GetCallbackEventReferenceStep 2: Call GetCallbackEventReference</span><span class="sxs-lookup"><span data-stu-id="1883b-417">Step 2 : Call GetCallbackEventReference</span></span>

<span data-ttu-id="1883b-418">Come accennato in precedenza, la chiamata XMLHttp viene incapsulata nel gestore WebResource.axd.</span><span class="sxs-lookup"><span data-stu-id="1883b-418">As mentioned previously, the XMLHttp call is encapsulated in the WebResource.axd handler.</span></span> <span data-ttu-id="1883b-419">Quando viene eseguito il rendering della pagina, ASP.NET aggiungerà una chiamata a WebForm\_DoCallback, uno script client fornito da WebResource.axd.</span><span class="sxs-lookup"><span data-stu-id="1883b-419">When your page is rendered, ASP.NET will add a call to WebForm\_DoCallback, a client script that is provided by WebResource.axd.</span></span> <span data-ttu-id="1883b-420">La funzione\_DoCallback WebForm \_ \_sostituisce la funzione doPostBack per un callback.</span><span class="sxs-lookup"><span data-stu-id="1883b-420">The WebForm\_DoCallback function replaces the \_\_doPostBack function for a callback.</span></span> <span data-ttu-id="1883b-421">Tenere \_ \_presente che doPostBack a livello di codice invia il modulo nella pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-421">Remember that \_\_doPostBack programmatically submits the form on the page.</span></span> <span data-ttu-id="1883b-422">In uno scenario di callback, si desidera \_ \_impedire un postback, pertanto doPostBack non sarà sufficiente.</span><span class="sxs-lookup"><span data-stu-id="1883b-422">In a callback scenario, you want to prevent a postback, so \_\_doPostBack will not suffice.</span></span>

> [!NOTE]
> <span data-ttu-id="1883b-423">\_\_doPostBack viene ancora eseguito il rendering nella pagina in uno scenario di callback di script client.</span><span class="sxs-lookup"><span data-stu-id="1883b-423">\_\_doPostBack is still rendered to the page in a client script callback scenario.</span></span> <span data-ttu-id="1883b-424">Tuttavia, non viene utilizzato per il callback.</span><span class="sxs-lookup"><span data-stu-id="1883b-424">However, it's not used for the callback.</span></span>

<span data-ttu-id="1883b-425">Gli argomenti per\_la funzione lato client WebForm DoCallback vengono forniti tramite la funzione\_lato server GetCallbackEventReference che normalmente verrebbe chiamata in Caricamento pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-425">The arguments for the WebForm\_DoCallback client-side function are provided via the server-side function GetCallbackEventReference which would normally be called in Page\_Load.</span></span> <span data-ttu-id="1883b-426">Una chiamata tipica a GetCallbackEventReference potrebbe essere simile alla seguente:A typical call to GetCallbackEventReference might look like this:</span><span class="sxs-lookup"><span data-stu-id="1883b-426">A typical call to GetCallbackEventReference might look like this:</span></span>

[!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample12.cs)]

> [!NOTE]
> <span data-ttu-id="1883b-427">In questo caso, cm è un'istanza di ClientScriptManager.</span><span class="sxs-lookup"><span data-stu-id="1883b-427">In this case, cm is an instance of ClientScriptManager.</span></span> <span data-ttu-id="1883b-428">La classe ClientScriptManager verrà descritta più avanti in questo modulo.</span><span class="sxs-lookup"><span data-stu-id="1883b-428">The ClientScriptManager class will be covered later in this module.</span></span>

<span data-ttu-id="1883b-429">Esistono diverse versioni di overload di GetCallbackEventReference.There are several overloaded versions of GetCallbackEventReference.</span><span class="sxs-lookup"><span data-stu-id="1883b-429">There are several overloaded versions of GetCallbackEventReference.</span></span> <span data-ttu-id="1883b-430">In questo caso, gli argomenti sono i seguenti:</span><span class="sxs-lookup"><span data-stu-id="1883b-430">In this case, the arguments are as follows:</span></span>

`this`

<span data-ttu-id="1883b-431">Un riferimento al controllo in cui viene chiamato GetCallbackEventReference.</span><span class="sxs-lookup"><span data-stu-id="1883b-431">A reference to the control where GetCallbackEventReference is being called.</span></span> <span data-ttu-id="1883b-432">In questo caso, è la pagina stessa.</span><span class="sxs-lookup"><span data-stu-id="1883b-432">In this case, it's the page itself.</span></span>

[!code-javascript[Main](the-asp-net-2-0-page-model/samples/sample13.js)]

<span data-ttu-id="1883b-433">Argomento stringa che verrà passato dal codice lato client all'evento sul lato server.</span><span class="sxs-lookup"><span data-stu-id="1883b-433">A string argument that will be passed from the client-side code to the server-side event.</span></span> <span data-ttu-id="1883b-434">In questo caso, Im passando il valore di un elenco a discesa denominato ddlCompany.</span><span class="sxs-lookup"><span data-stu-id="1883b-434">In this case, Im passing the value of a dropdown called ddlCompany.</span></span>

`ShowCompanyName`

<span data-ttu-id="1883b-435">Nome della funzione lato client che accetterà il valore restituito (come stringa) dall'evento di callback sul lato server.</span><span class="sxs-lookup"><span data-stu-id="1883b-435">The name of the client-side function that will accept the return value (as string) from the server-side callback event.</span></span> <span data-ttu-id="1883b-436">Questa funzione verrà chiamata solo quando il callback sul lato server ha esito positivo.</span><span class="sxs-lookup"><span data-stu-id="1883b-436">This function will only be called when the server-side callback is successful.</span></span> <span data-ttu-id="1883b-437">Pertanto, per motivi di robustezza, è in genere consigliabile utilizzare la versione di overload di GetCallbackEventReference che accetta un argomento stringa aggiuntivo che specifica il nome di una funzione lato client da eseguire in caso di errore.</span><span class="sxs-lookup"><span data-stu-id="1883b-437">Therefore, for the sake of robustness, it is generally recommended to use the overloaded version of GetCallbackEventReference that takes an additional string argument specifying the name of a client-side function to execute in the event of an error.</span></span>

`null`

<span data-ttu-id="1883b-438">Stringa che rappresenta una funzione lato client avviata prima del callback al server.</span><span class="sxs-lookup"><span data-stu-id="1883b-438">A string representing a client-side function that it initiated before the callback to the server.</span></span> <span data-ttu-id="1883b-439">In questo caso, non esiste uno script di questo tipo, pertanto l'argomento è null.</span><span class="sxs-lookup"><span data-stu-id="1883b-439">In this case, there is no such script, so the argument is null.</span></span>

`true`

<span data-ttu-id="1883b-440">Valore booleano che specifica se eseguire o meno il callback in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="1883b-440">A Boolean specifying whether or not to conduct the callback asynchronously.</span></span>

<span data-ttu-id="1883b-441">La chiamata a\_WebForm DoCallback sul client passerà questi argomenti.</span><span class="sxs-lookup"><span data-stu-id="1883b-441">The call to WebForm\_DoCallback on the client will pass these arguments.</span></span> <span data-ttu-id="1883b-442">Pertanto, quando viene eseguito il rendering di questa pagina nel client, tale codice sarà simile a questo:Therefore, when this page is rendered on the client, that code will look like so:</span><span class="sxs-lookup"><span data-stu-id="1883b-442">Therefore, when this page is rendered on the client, that code will look like so:</span></span>

[!code-javascript[Main](the-asp-net-2-0-page-model/samples/sample14.js)]

<span data-ttu-id="1883b-443">Si noti che la firma della funzione sul client è leggermente diversa.</span><span class="sxs-lookup"><span data-stu-id="1883b-443">Notice that the signature of the function on the client is a bit different.</span></span> <span data-ttu-id="1883b-444">La funzione lato client passa 5 stringhe e un valore booleano.</span><span class="sxs-lookup"><span data-stu-id="1883b-444">The client-side function passes 5 strings and a Boolean.</span></span> <span data-ttu-id="1883b-445">La stringa aggiuntiva (che è null nell'esempio precedente) contiene la funzione lato client che gestirà eventuali errori dal callback sul lato server.</span><span class="sxs-lookup"><span data-stu-id="1883b-445">The additional string (which is null in the above example) contains the client-side function that will handle any errors from the server-side callback.</span></span>

## <a name="step-3--hook-the-client-side-control-event"></a><span data-ttu-id="1883b-446">Passaggio 3: Agganciare l'evento di controllo lato clientStep 3: Hook the Client-Side Control Event</span><span class="sxs-lookup"><span data-stu-id="1883b-446">Step 3 : Hook the Client-Side Control Event</span></span>

<span data-ttu-id="1883b-447">Si noti che il valore restituito di GetCallbackEventReference precedente è stato assegnato a una variabile stringa.</span><span class="sxs-lookup"><span data-stu-id="1883b-447">Notice that the return value of GetCallbackEventReference above was assigned to a string variable.</span></span> <span data-ttu-id="1883b-448">Tale stringa viene utilizzata per associare un evento sul lato client per il controllo che avvia il callback.</span><span class="sxs-lookup"><span data-stu-id="1883b-448">That string is used to hook a client-side event for the control that initiates the callback.</span></span> <span data-ttu-id="1883b-449">In questo esempio, il callback viene avviato da un elenco a discesa nella pagina, pertanto si desidera associare l'evento *OnChange.*</span><span class="sxs-lookup"><span data-stu-id="1883b-449">In this example, the callback is initiated by a dropdown on the page, so I want to hook the *OnChange* event.</span></span>

<span data-ttu-id="1883b-450">Per associare l'evento lato client, è sufficiente aggiungere un gestore al markup lato client come segue:</span><span class="sxs-lookup"><span data-stu-id="1883b-450">To hook the client-side event, simply add a handler to the client-side markup as follows:</span></span>

[!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample15.cs)]

<span data-ttu-id="1883b-451">Tenere presente che *cbRef* è il valore restituito dalla chiamata a GetCallbackEventReference.</span><span class="sxs-lookup"><span data-stu-id="1883b-451">Recall that *cbRef* is the return value from the call to GetCallbackEventReference.</span></span> <span data-ttu-id="1883b-452">Contiene la chiamata a\_WebForm DoCallback illustrata in precedenza.</span><span class="sxs-lookup"><span data-stu-id="1883b-452">It contains the call to WebForm\_DoCallback that was shown above.</span></span>

## <a name="step-4--register-the-client-side-script"></a><span data-ttu-id="1883b-453">Passaggio 4: Registrare lo script lato clientStep 4 : Register the Client-Side Script</span><span class="sxs-lookup"><span data-stu-id="1883b-453">Step 4 : Register the Client-Side Script</span></span>

<span data-ttu-id="1883b-454">Tenere presente che la chiamata a GetCallbackEventReference ha specificato che uno script sul lato client denominato **ShowCompanyName** verrà eseguito quando il callback sul lato server ha esito positivo.</span><span class="sxs-lookup"><span data-stu-id="1883b-454">Recall that the call to GetCallbackEventReference specified that a client-side script called **ShowCompanyName** would be executed when the server-side callback succeeds.</span></span> <span data-ttu-id="1883b-455">Tale script deve essere aggiunto alla pagina utilizzando un ClientScriptManager istanza.</span><span class="sxs-lookup"><span data-stu-id="1883b-455">That script needs to be added to the page using a ClientScriptManager instance.</span></span> <span data-ttu-id="1883b-456">La classe ClientScriptManager verrà descritta più avanti in questo modulo. Lo fai così:</span><span class="sxs-lookup"><span data-stu-id="1883b-456">(The ClientScriptManager class will be discussed later in this module.) You do that like so:</span></span>

[!code-javascript[Main](the-asp-net-2-0-page-model/samples/sample16.js)]

## <a name="step-5--call-the-methods-of-the-icallbackeventhandler-interface"></a><span data-ttu-id="1883b-457">Passaggio 5: Chiamare i metodi dell'interfaccia ICallbackEventHandlerStep 5 : Call the Methods of the ICallbackEventHandler Interface</span><span class="sxs-lookup"><span data-stu-id="1883b-457">Step 5 : Call the Methods of the ICallbackEventHandler Interface</span></span>

<span data-ttu-id="1883b-458">Il ICallbackEventHandler contiene due metodi che è necessario implementare nel codice.</span><span class="sxs-lookup"><span data-stu-id="1883b-458">The ICallbackEventHandler contains two methods that you need to implement in your code.</span></span> <span data-ttu-id="1883b-459">Sono **RaiseCallbackEvent** e **GetCallbackEvent**.</span><span class="sxs-lookup"><span data-stu-id="1883b-459">They are **RaiseCallbackEvent** and **GetCallbackEvent**.</span></span>

<span data-ttu-id="1883b-460">**RaiseCallbackEvent** accetta una stringa come argomento e non restituisce alcun valore.</span><span class="sxs-lookup"><span data-stu-id="1883b-460">**RaiseCallbackEvent** takes a string as an argument and returns nothing.</span></span> <span data-ttu-id="1883b-461">L'argomento stringa viene passato dalla chiamata\_sul lato client a WebForm DoCallback.</span><span class="sxs-lookup"><span data-stu-id="1883b-461">The string argument is passed from the client-side call to WebForm\_DoCallback.</span></span> <span data-ttu-id="1883b-462">In questo caso, tale valore è l'attributo *value* dell'elenco a discesa denominato ddlCompany.</span><span class="sxs-lookup"><span data-stu-id="1883b-462">In this case, that value is the *value* attribute of the dropdown called ddlCompany.</span></span> <span data-ttu-id="1883b-463">Il codice lato server deve essere inserito nel RaiseCallbackEvent metodo.</span><span class="sxs-lookup"><span data-stu-id="1883b-463">Your server-side code should be placed in the RaiseCallbackEvent method.</span></span> <span data-ttu-id="1883b-464">Ad esempio, se il callback sta effettuando un WebRequest su una risorsa esterna, tale codice deve essere inserito in RaiseCallbackEvent.For example, if your callback is making a WebRequest against an external resource, that code should be placed in RaiseCallbackEvent.</span><span class="sxs-lookup"><span data-stu-id="1883b-464">For example, if your callback is making a WebRequest against an external resource, that code should be placed in RaiseCallbackEvent.</span></span>

<span data-ttu-id="1883b-465">**GetCallbackEvent** è responsabile dell'elaborazione della restituzione del callback al client.</span><span class="sxs-lookup"><span data-stu-id="1883b-465">**GetCallbackEvent** is responsible for processing the return of the callback to the client.</span></span> <span data-ttu-id="1883b-466">Non accetta argomenti e restituisce una stringa.</span><span class="sxs-lookup"><span data-stu-id="1883b-466">It takes no arguments and returns a string.</span></span> <span data-ttu-id="1883b-467">La stringa restituita verrà passata come argomento alla funzione lato client, in questo caso *ShowCompanyName*.</span><span class="sxs-lookup"><span data-stu-id="1883b-467">The string that it returns will be passed as an argument to the client-side function, in this case *ShowCompanyName*.</span></span>

<span data-ttu-id="1883b-468">Dopo aver completato i passaggi precedenti, si è pronti per eseguire un callback di script in ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="1883b-468">Once you have completed the above steps, you are ready to perform a script callback in ASP.NET 2.0.</span></span>

![](the-asp-net-2-0-page-model/_static/image4.png)

[<span data-ttu-id="1883b-469">Apri video a schermo intero</span><span class="sxs-lookup"><span data-stu-id="1883b-469">Open Full-Screen Video</span></span>](the-asp-net-2-0-page-model/_static/callback1.wmv)

<span data-ttu-id="1883b-470">I callback di script in ASP.NET sono supportati in qualsiasi browser che supporti l'esecuzione di chiamate XMLHttp.</span><span class="sxs-lookup"><span data-stu-id="1883b-470">Script callbacks in ASP.NET are supported in any browser that supports making XMLHttp calls.</span></span> <span data-ttu-id="1883b-471">Questo include tutti i browser moderni in uso oggi.</span><span class="sxs-lookup"><span data-stu-id="1883b-471">That includes all of the modern browsers in use today.</span></span> <span data-ttu-id="1883b-472">Internet Explorer utilizza l'oggetto ActiveX XMLHttp, mentre altri browser moderni (incluso il prossimo IE 7) utilizzano un oggetto XMLHttp intrinseco.</span><span class="sxs-lookup"><span data-stu-id="1883b-472">Internet Explorer uses the XMLHttp ActiveX object while other modern browsers (including the upcoming IE 7) use an intrinsic XMLHttp object.</span></span> <span data-ttu-id="1883b-473">Per determinare a livello di codice se un browser supporta i callback, è possibile utilizzare la proprietà **Request.Browser.SupportCallback.To** programmatically determine if a browser supports callbacks, you can use the Request.Browser.SupportCallback property.</span><span class="sxs-lookup"><span data-stu-id="1883b-473">To programmatically determine if a browser supports callbacks, you can use the **Request.Browser.SupportCallback** property.</span></span> <span data-ttu-id="1883b-474">Questa proprietà restituirà **true** se il client richiedente supporta i callback di script.</span><span class="sxs-lookup"><span data-stu-id="1883b-474">This property will return **true** if the requesting client supports script callbacks.</span></span>

## <a name="working-with-client-script-in-aspnet-20"></a><span data-ttu-id="1883b-475">Utilizzo di script client in ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="1883b-475">Working with Client Script in ASP.NET 2.0</span></span>

<span data-ttu-id="1883b-476">Gli script client in ASP.NET 2.0 vengono gestiti tramite l'utilizzo della classe ClientScriptManager.</span><span class="sxs-lookup"><span data-stu-id="1883b-476">Client scripts in ASP.NET 2.0 are managed via the use of the ClientScriptManager class.</span></span> <span data-ttu-id="1883b-477">La classe ClientScriptManager tiene traccia degli script client utilizzando un tipo e un nome.</span><span class="sxs-lookup"><span data-stu-id="1883b-477">The ClientScriptManager class keeps track of client scripts using a type and a name.</span></span> <span data-ttu-id="1883b-478">In questo modo si impedisce che lo stesso script venga inserito a livello di codice in una pagina più di una volta.</span><span class="sxs-lookup"><span data-stu-id="1883b-478">This prevents the same script from being programmatically inserted on a page more than once.</span></span>

> [!NOTE]
> <span data-ttu-id="1883b-479">Dopo che uno script è stato registrato correttamente in una pagina, qualsiasi tentativo successivo di registrare lo stesso script comporterà semplicemente la registrazione dello script una seconda volta.</span><span class="sxs-lookup"><span data-stu-id="1883b-479">After a script has been successfully registered on a page, any subsequent attempt to register the same script will simply result in the script not being registered a second time.</span></span> <span data-ttu-id="1883b-480">Non viene aggiunto alcuno script duplicato e non si verifica alcuna eccezione.</span><span class="sxs-lookup"><span data-stu-id="1883b-480">No duplicate scripts are added and no exception occurs.</span></span> <span data-ttu-id="1883b-481">Per evitare calcoli non necessari, esistono metodi che è possibile utilizzare per determinare se uno script è già registrato in modo da non tentare di registrarlo più di una volta.</span><span class="sxs-lookup"><span data-stu-id="1883b-481">To avoid unnecessary computation, there are methods that you can use to determine if a script is already registered so that you do not attempt to register it more than once.</span></span>

<span data-ttu-id="1883b-482">I metodi di ClientScriptManager devono avere familiarità con tutti gli attuali sviluppatori di ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="1883b-482">The methods of the ClientScriptManager should be familiar to all current ASP.NET developers:</span></span>

## <a name="registerclientscriptblock"></a><span data-ttu-id="1883b-483">Registerclientscriptblock</span><span class="sxs-lookup"><span data-stu-id="1883b-483">RegisterClientScriptBlock</span></span>

<span data-ttu-id="1883b-484">Questo metodo aggiunge uno script nella parte superiore della pagina di cui è stato eseguito il rendering.</span><span class="sxs-lookup"><span data-stu-id="1883b-484">This method adds a script to the top of the rendered page.</span></span> <span data-ttu-id="1883b-485">Ciò è utile per l'aggiunta di funzioni che verranno chiamate in modo esplicito sul client.</span><span class="sxs-lookup"><span data-stu-id="1883b-485">This is useful for adding functions that will be explicitly called on the client.</span></span>

<span data-ttu-id="1883b-486">Esistono due versioni di overload di questo metodo.</span><span class="sxs-lookup"><span data-stu-id="1883b-486">There are two overloaded versions of this method.</span></span> <span data-ttu-id="1883b-487">Tre dei quattro argomenti sono comuni tra loro.</span><span class="sxs-lookup"><span data-stu-id="1883b-487">Three of four arguments are common among them.</span></span> <span data-ttu-id="1883b-488">ovvero:</span><span class="sxs-lookup"><span data-stu-id="1883b-488">They are:</span></span>

`type (string)`

<span data-ttu-id="1883b-489">L'argomento ***di tipo*** identifica un tipo per lo script.</span><span class="sxs-lookup"><span data-stu-id="1883b-489">The ***type*** argument identifies a type for the script.</span></span> <span data-ttu-id="1883b-490">In genere è una buona idea utilizzare il tipo di pagina (questo. GetType()) per il tipo.</span><span class="sxs-lookup"><span data-stu-id="1883b-490">It is generally a good idea to use the page's type (this.GetType()) for the type.</span></span>

`key (string)`

<span data-ttu-id="1883b-491">L'argomento ***chiave*** è una chiave definita dall'utente per lo script.</span><span class="sxs-lookup"><span data-stu-id="1883b-491">The ***key*** argument is a user-defined key for the script.</span></span> <span data-ttu-id="1883b-492">Questo dovrebbe essere univoco per ogni script.</span><span class="sxs-lookup"><span data-stu-id="1883b-492">This should be unique for each script.</span></span> <span data-ttu-id="1883b-493">Se si tenta di aggiungere uno script con la stessa chiave e lo stesso tipo di uno script già aggiunto, non verrà aggiunto.</span><span class="sxs-lookup"><span data-stu-id="1883b-493">If you attempt to add a script with the same key and type of an already added script, it will not be added.</span></span>

`script (string)`

<span data-ttu-id="1883b-494">L'argomento ***script*** è una stringa contenente lo script effettivo da aggiungere.</span><span class="sxs-lookup"><span data-stu-id="1883b-494">The ***script*** argument is a string containing the actual script to add.</span></span> <span data-ttu-id="1883b-495">Si consiglia di utilizzare un StringBuilder per creare lo script e quindi utilizzare il metodo ToString() su StringBuilder per assegnare l'argomento ***script.***</span><span class="sxs-lookup"><span data-stu-id="1883b-495">It's recommended that you use a StringBuilder to create the script and then use the ToString() method on the StringBuilder to assign the ***script*** argument.</span></span>

<span data-ttu-id="1883b-496">Se si utilizza l'overload RegisterClientScriptBlock che accetta solo tre&lt;&gt; argomenti, è necessario includere elementi script ( script e &lt;/script&gt;) nello script.</span><span class="sxs-lookup"><span data-stu-id="1883b-496">If you use the overloaded RegisterClientScriptBlock that only takes three arguments, you must include script elements (&lt;script&gt; and &lt;/script&gt;) in your script.</span></span>

<span data-ttu-id="1883b-497">È possibile scegliere di utilizzare l'overload di RegisterClientScriptBlock che accetta un quarto argomento.</span><span class="sxs-lookup"><span data-stu-id="1883b-497">You may choose to use the overload of RegisterClientScriptBlock that takes a fourth argument.</span></span> <span data-ttu-id="1883b-498">Il quarto argomento è un valore booleano che specifica se ASP.NET deve aggiungere automaticamente elementi di script.</span><span class="sxs-lookup"><span data-stu-id="1883b-498">The fourth argument is a Boolean that specifies whether or not ASP.NET should add script elements for you.</span></span> <span data-ttu-id="1883b-499">Se questo argomento è **true**, lo script non deve includere gli elementi di script in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="1883b-499">If this argument is **true**, your script should not include the script elements explicitly.</span></span>

<span data-ttu-id="1883b-500">Utilizzare il IsClientScriptBlockRegistered metodo per determinare se uno script è già stato registrato.</span><span class="sxs-lookup"><span data-stu-id="1883b-500">Use the IsClientScriptBlockRegistered method to determine if a script has already been registered.</span></span> <span data-ttu-id="1883b-501">In questo modo è possibile evitare un tentativo di registrare nuovamente uno script già registrato.</span><span class="sxs-lookup"><span data-stu-id="1883b-501">This allows you to avoid an attempt to re-register a script that has already been registered.</span></span>

### <a name="registerclientscriptinclude-new-in-20"></a><span data-ttu-id="1883b-502">RegisterClientScriptInclude (Novità della versione 2.0)RegisterClientScriptInclude (New in 2.0)</span><span class="sxs-lookup"><span data-stu-id="1883b-502">RegisterClientScriptInclude (New in 2.0)</span></span>

<span data-ttu-id="1883b-503">Il tag RegisterClientScriptInclude crea un blocco di script che si collega a un file di script esterno.</span><span class="sxs-lookup"><span data-stu-id="1883b-503">The RegisterClientScriptInclude tag creates a script block that links to an external script file.</span></span> <span data-ttu-id="1883b-504">Ha due overload.</span><span class="sxs-lookup"><span data-stu-id="1883b-504">It has two overloads.</span></span> <span data-ttu-id="1883b-505">Uno prende una chiave e un URL.</span><span class="sxs-lookup"><span data-stu-id="1883b-505">One takes a key and a URL.</span></span> <span data-ttu-id="1883b-506">Il secondo aggiunge un terzo argomento che specifica il tipo.</span><span class="sxs-lookup"><span data-stu-id="1883b-506">The second adds a third argument specifying the type.</span></span>

<span data-ttu-id="1883b-507">Ad esempio, il codice seguente genera un blocco di script che si collega a jsfunctions.js nella radice della cartella scripts dell'applicazione:</span><span class="sxs-lookup"><span data-stu-id="1883b-507">For example, the following code generates a script block that links to jsfunctions.js in the root of the scripts folder of the application:</span></span>

[!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample17.cs)]

<span data-ttu-id="1883b-508">Questo codice produce il codice seguente nella pagina di cui è stato eseguito il rendering:This code produces the following code in the rendered page:</span><span class="sxs-lookup"><span data-stu-id="1883b-508">This code produces the following code in the rendered page:</span></span>

[!code-html[Main](the-asp-net-2-0-page-model/samples/sample18.html)]

> [!NOTE]
> <span data-ttu-id="1883b-509">Il rendering del blocco di script viene eseguito nella parte inferiore della pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-509">The script block is rendered at the bottom of the page.</span></span>

<span data-ttu-id="1883b-510">Utilizzare il IsClientScriptIncludeRegistered metodo per determinare se uno script è già stato registrato.</span><span class="sxs-lookup"><span data-stu-id="1883b-510">Use the IsClientScriptIncludeRegistered method to determine if a script has already been registered.</span></span> <span data-ttu-id="1883b-511">In questo modo è possibile evitare un tentativo di registrare nuovamente uno script.</span><span class="sxs-lookup"><span data-stu-id="1883b-511">This allows you to avoid an attempt to re-register a script.</span></span>

## <a name="registerstartupscript"></a><span data-ttu-id="1883b-512">Registerstartupscript</span><span class="sxs-lookup"><span data-stu-id="1883b-512">RegisterStartupScript</span></span>

<span data-ttu-id="1883b-513">Il RegisterStartupScript metodo accetta gli stessi argomenti di RegisterClientScriptBlock metodo.</span><span class="sxs-lookup"><span data-stu-id="1883b-513">The RegisterStartupScript method takes the same arguments as the RegisterClientScriptBlock method.</span></span> <span data-ttu-id="1883b-514">Uno script registrato con RegisterStartupScript viene eseguito dopo il caricamento della pagina, ma prima dell'evento OnLoad sul lato client.</span><span class="sxs-lookup"><span data-stu-id="1883b-514">A script registered with RegisterStartupScript executes after the page loads but before the OnLoad client-side event.</span></span> <span data-ttu-id="1883b-515">In 1.X, gli script registrati con RegisterStartupScript&gt; sono stati inseriti appena prima del tag &lt;/form di chiusura,&gt; &lt;mentre gli script registrati con RegisterClientScriptBlock venivano inseriti immediatamente dopo il tag del modulo di apertura.</span><span class="sxs-lookup"><span data-stu-id="1883b-515">In 1.X, scripts registered with RegisterStartupScript were placed just before the closing &lt;/form&gt; tag while scripts registered with RegisterClientScriptBlock were placed immediately after the opening &lt;form&gt; tag.</span></span> <span data-ttu-id="1883b-516">In ASP.NET 2.0, entrambi vengono &lt;posizionati&gt; immediatamente prima del tag closing /form.</span><span class="sxs-lookup"><span data-stu-id="1883b-516">In ASP.NET 2.0, both are placed immediately before the closing &lt;/form&gt; tag.</span></span>

> [!NOTE]
> <span data-ttu-id="1883b-517">Se si registra una funzione con RegisterStartupScript, tale funzione non verrà eseguita fino a quando non viene chiamata in modo esplicito nel codice lato client.</span><span class="sxs-lookup"><span data-stu-id="1883b-517">If you register a function with RegisterStartupScript, that function will not execute until you explicitly call it in client-side code.</span></span>

<span data-ttu-id="1883b-518">Utilizzare il IsStartupScriptRegistered metodo per determinare se uno script è già stato registrato ed evitare un tentativo di registrare nuovamente uno script.</span><span class="sxs-lookup"><span data-stu-id="1883b-518">Use the IsStartupScriptRegistered method to determine if a script has already been registered and avoid an attempt to re-register a script.</span></span>

## <a name="other-clientscriptmanager-methods"></a><span data-ttu-id="1883b-519">Altri metodi ClientScriptManager</span><span class="sxs-lookup"><span data-stu-id="1883b-519">Other ClientScriptManager Methods</span></span>

<span data-ttu-id="1883b-520">Di seguito sono riportati alcuni degli altri metodi utili della classe ClientScriptManager.</span><span class="sxs-lookup"><span data-stu-id="1883b-520">Here are some of the other useful methods of the ClientScriptManager class.</span></span>

|  <span data-ttu-id="1883b-521"><strong>Getcallbackeventreference</strong></span><span class="sxs-lookup"><span data-stu-id="1883b-521"><strong>GetCallbackEventReference</strong></span></span>   |                                                 <span data-ttu-id="1883b-522">Vedere i callback di script più indietro in questo modulo.</span><span class="sxs-lookup"><span data-stu-id="1883b-522">See script callbacks earlier in this module.</span></span>                                                 |
|-----------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
|  <span data-ttu-id="1883b-523"><strong>GetPostBackClientHyperlink</strong></span><span class="sxs-lookup"><span data-stu-id="1883b-523"><strong>GetPostBackClientHyperlink</strong></span></span>  |                <span data-ttu-id="1883b-524">Ottiene un riferimento JavaScript&lt;(javascript: call&gt;) che può essere utilizzato per eseguire il postback da un evento sul lato client.</span><span class="sxs-lookup"><span data-stu-id="1883b-524">Gets a JavaScript reference (javascript:&lt;call&gt;) that can be used to post back from a client-side event.</span></span>                 |
|  <span data-ttu-id="1883b-525"><strong>GetPostBackEventReference</strong></span><span class="sxs-lookup"><span data-stu-id="1883b-525"><strong>GetPostBackEventReference</strong></span></span>   |                                   <span data-ttu-id="1883b-526">Ottiene una stringa che può essere utilizzata per avviare un postback dal client.</span><span class="sxs-lookup"><span data-stu-id="1883b-526">Gets a string that can be used to initiate a post back from the client.</span></span>                                    |
|      <span data-ttu-id="1883b-527"><strong>GetWebResourceUrl</strong></span><span class="sxs-lookup"><span data-stu-id="1883b-527"><strong>GetWebResourceUrl</strong></span></span>       | <span data-ttu-id="1883b-528">Restituisce un URL di una risorsa incorporata in un assembly.</span><span class="sxs-lookup"><span data-stu-id="1883b-528">Returns a URL to a resource that is embedded in an assembly.</span></span> <span data-ttu-id="1883b-529">Deve essere utilizzato insieme a <strong>RegisterClientScriptResource</strong>.</span><span class="sxs-lookup"><span data-stu-id="1883b-529">Must be used in conjunction with <strong>RegisterClientScriptResource</strong>.</span></span> |
| <span data-ttu-id="1883b-530"><strong>RegistraClientScriptResource</strong></span><span class="sxs-lookup"><span data-stu-id="1883b-530"><strong>RegisterClientScriptResource</strong></span></span> |     <span data-ttu-id="1883b-531">Registra una risorsa Web con la pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-531">Registers a Web resource with the page.</span></span> <span data-ttu-id="1883b-532">Si tratta di risorse incorporate in un assembly e gestite dal nuovo gestore WebResource.axd.</span><span class="sxs-lookup"><span data-stu-id="1883b-532">These are resources embedded in an assembly and handled by the new WebResource.axd handler.</span></span>      |
|     <span data-ttu-id="1883b-533"><strong>RegisterHiddenField (Campo di registrazione)</strong></span><span class="sxs-lookup"><span data-stu-id="1883b-533"><strong>RegisterHiddenField</strong></span></span>      |                                                 <span data-ttu-id="1883b-534">Registra un campo modulo nascosto con la pagina.</span><span class="sxs-lookup"><span data-stu-id="1883b-534">Registers a hidden form field with the page.</span></span>                                                 |
|  <span data-ttu-id="1883b-535"><strong>RegisterOnSubmitStatement</strong></span><span class="sxs-lookup"><span data-stu-id="1883b-535"><strong>RegisterOnSubmitStatement</strong></span></span>   |                                  <span data-ttu-id="1883b-536">Registra il codice lato client che viene eseguito quando il modulo HTML viene inviato.</span><span class="sxs-lookup"><span data-stu-id="1883b-536">Registers client-side code that executes when the HTML form is submitted.</span></span>                                   |
