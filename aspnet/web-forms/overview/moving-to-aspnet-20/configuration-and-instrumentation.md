---
uid: web-forms/overview/moving-to-aspnet-20/configuration-and-instrumentation
title: Configurazione e Strumentazione Documenti Microsoft
author: rick-anderson
description: La configurazione e la strumentazione sono state apportate in ASP.NET 2.0. La nuova API di configurazione ASP.NET consente di apportare modifiche alla configurazione pr...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 21ebbaee-7ed8-45ae-b6c1-c27c88342e48
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/configuration-and-instrumentation
msc.type: authoredcontent
ms.openlocfilehash: 30ea2ffd3d055c5373a33615bc19a8f68fb568ab
ms.sourcegitcommit: 022f79dbc1350e0c6ffaa1e7e7c6e850cdabf9af
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/17/2020
ms.locfileid: "81543054"
---
# <a name="configuration-and-instrumentation"></a><span data-ttu-id="7bb7c-104">Configurazione e strumentazione</span><span class="sxs-lookup"><span data-stu-id="7bb7c-104">Configuration and Instrumentation</span></span>

<span data-ttu-id="7bb7c-105">da parte [di Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="7bb7c-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="7bb7c-106">La configurazione e la strumentazione sono state apportate in ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-106">There are major changes in configuration and instrumentation in ASP.NET 2.0.</span></span> <span data-ttu-id="7bb7c-107">La nuova API di configurazione ASP.NET consente di apportare modifiche alla configurazione a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-107">The new ASP.NET configuration API allows for configuration changes to be made programmatically.</span></span> <span data-ttu-id="7bb7c-108">Inoltre, esistono molte nuove impostazioni di configurazione che consentono nuove configurazioni e strumentazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-108">In addition, many new configuration settings exist allow for new configurations and instrumentation.</span></span>

<span data-ttu-id="7bb7c-109">La configurazione e la strumentazione sono state apportate in ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-109">There are major changes in configuration and instrumentation in ASP.NET 2.0.</span></span> <span data-ttu-id="7bb7c-110">La nuova API di configurazione ASP.NET consente di apportare modifiche alla configurazione a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-110">The new ASP.NET configuration API allows for configuration changes to be made programmatically.</span></span> <span data-ttu-id="7bb7c-111">Inoltre, esistono molte nuove impostazioni di configurazione che consentono nuove configurazioni e strumentazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-111">In addition, many new configuration settings exist allow for new configurations and instrumentation.</span></span>

<span data-ttu-id="7bb7c-112">In questo modulo, discuteremo ASP.NET'API di configurazione in relazione alla lettura e scrittura nei file di configurazione di ASP.NET, e tratteremo anche ASP.NET strumentazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-112">In this module, we will discuss ASP.NET the configuration API as it relates to reading from and writing to ASP.NET configuration files, and we will also cover ASP.NET instrumentation.</span></span> <span data-ttu-id="7bb7c-113">Parleremo anche delle nuove funzionalità disponibili nel ASP.NET tracciamento.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-113">We will also cover the new features available in ASP.NET tracing.</span></span>

## <a name="aspnet-configuration-api"></a><span data-ttu-id="7bb7c-114">API di configurazione di ASP.NET</span><span class="sxs-lookup"><span data-stu-id="7bb7c-114">ASP.NET Configuration API</span></span>

<span data-ttu-id="7bb7c-115">L'API di configurazione ASP.NET consente di sviluppare, distribuire e gestire i dati di configurazione delle applicazioni utilizzando un'unica interfaccia di programmazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-115">The ASP.NET configuration API allows you to develop, deploy, and manage application configuration data by using a single programming interface.</span></span> <span data-ttu-id="7bb7c-116">È possibile utilizzare l'API di configurazione per sviluppare e modificare configurazioni complete ASP.NET a livello di codice senza modificare direttamente il codice XML nei file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-116">You can use the configuration API to develop and modify complete ASP.NET configurations programmatically without directly editing the XML in the configuration files.</span></span> <span data-ttu-id="7bb7c-117">Inoltre, è possibile utilizzare l'API di configurazione nelle applicazioni console e negli script sviluppati, negli strumenti di gestione basati sul Web e negli snap-in di Microsoft Management Console (MMC).</span><span class="sxs-lookup"><span data-stu-id="7bb7c-117">In addition, you can use the configuration API in console applications and scripts that you develop, in Web-based management tools, and in Microsoft Management Console (MMC) snap-ins.</span></span>

<span data-ttu-id="7bb7c-118">I due strumenti di gestione della configurazione seguenti utilizzano l'API di configurazione e sono inclusi in .NET Framework versione 2.0:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-118">The following two configuration-management tools use the configuration API and are included with the .NET Framework version 2.0:</span></span>

- <span data-ttu-id="7bb7c-119">Lo snap-in MMC ASP.NET, che utilizza l'API di configurazione per semplificare le attività amministrative, fornendo una visualizzazione integrata dei dati di configurazione locali da tutti i livelli della gerarchia di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-119">The ASP.NET MMC snap-in, which uses the configuration API to simplify administrative tasks, providing an integrated view of local configuration data from all levels of the configuration hierarchy.</span></span>
- <span data-ttu-id="7bb7c-120">Lo strumento Amministrazione sito Web, che consente di gestire le impostazioni di configurazione per le applicazioni locali e remote, inclusi i siti ospitati.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-120">The Web Site Administration Tool, which allows you to manage configuration settings for local and remote applications, including hosted sites.</span></span>

<span data-ttu-id="7bb7c-121">L'API di configurazione ASP.NET comprende un set di oggetti di gestione ASP.NET che è possibile utilizzare per configurare siti Web e applicazioni a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-121">The ASP.NET configuration API comprises a set of ASP.NET management objects that you can use to configure Web sites and applications programmatically.</span></span> <span data-ttu-id="7bb7c-122">Gli oggetti di gestione vengono implementati come libreria di classi .NET Framework.Management objects are implemented as a .NET Framework class library.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-122">Management objects are implemented as a .NET Framework class library.</span></span> <span data-ttu-id="7bb7c-123">Il modello di programmazione dell'API di configurazione consente di garantire la coerenza e l'affidabilità del codice applicando i tipi di dati in fase di compilazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-123">The configuration API programming model helps ensure code consistency and reliability by enforcing data types at compile time.</span></span> <span data-ttu-id="7bb7c-124">Per semplificare la gestione delle configurazioni dell'applicazione, l'API di configurazione consente di visualizzare i dati uniti da tutti i punti della gerarchia di configurazione come una singola raccolta, anziché visualizzare i dati come raccolte separate da file di configurazione diversi.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-124">To make it easier to manage application configurations, the configuration API allows you to view data that is merged from all points in the configuration hierarchy as a single collection, instead of viewing the data as separate collections from different configuration files.</span></span> <span data-ttu-id="7bb7c-125">Inoltre, l'API di configurazione consente di modificare intere configurazioni dell'applicazione senza modificare direttamente il codice XML nei file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-125">Additionally, the configuration API enables you to manipulate entire application configurations without directly editing the XML in the configuration files.</span></span> <span data-ttu-id="7bb7c-126">Infine, l'API semplifica le attività di configurazione supportando gli strumenti di amministrazione, ad esempio lo strumento Amministrazione sito Web.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-126">Finally, the API simplifies configuration tasks by supporting administrative tools, such as the Web Site Administration Tool.</span></span> <span data-ttu-id="7bb7c-127">L'API di configurazione semplifica la distribuzione supportando la creazione di file di configurazione in un computer ed eseguendo script di configurazione su più computer.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-127">The configuration API simplifies deployment by supporting the creation of configuration files on a computer and running configuration scripts across multiple computers.</span></span>

> [!NOTE]
> <span data-ttu-id="7bb7c-128">L'API di configurazione non supporta la creazione di applicazioni IIS.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-128">The configuration API does not support the creation of IIS applications.</span></span>

## <a name="working-with-local-and-remote-configuration-settings"></a><span data-ttu-id="7bb7c-129">Utilizzo delle impostazioni di configurazione locale e remota</span><span class="sxs-lookup"><span data-stu-id="7bb7c-129">Working with Local and Remote Configuration Settings</span></span>

<span data-ttu-id="7bb7c-130">Oggetto Configuration oggetto rappresenta la visualizzazione unita delle impostazioni di configurazione che si applicano a un'entità fisica specifica, ad esempio un computer, o a un'entità logica, ad esempio un'applicazione o un sito Web.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-130">A Configuration object represents the merged view of the configuration settings that apply to a specific physical entity, such as a computer, or to a logical entity, such as an application or a Web site.</span></span> <span data-ttu-id="7bb7c-131">L'entità logica specificata può esistere nel computer locale o in un server remoto.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-131">The specified logical entity can exist on the local computer or on a remote server.</span></span> <span data-ttu-id="7bb7c-132">Quando non esiste alcun file di configurazione per un'entità specificata, l'oggetto Configuration rappresenta le impostazioni di configurazione predefinite definite dal file Machine.config.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-132">When no configuration file exists for a specified entity, the Configuration object represents the default configuration settings as defined by the Machine.config file.</span></span>

<span data-ttu-id="7bb7c-133">È possibile ottenere un oggetto Configuration utilizzando uno dei metodi di configurazione aperti dalle classi seguenti:You can get a Configuration object by using one of the open configuration methods from the following classes:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-133">You can get a Configuration object by using one of the open configuration methods from the following classes:</span></span>

1. <span data-ttu-id="7bb7c-134">La classe ConfigurationManager, se l'entità è un'applicazione client.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-134">The ConfigurationManager class, if your entity is a client application.</span></span>
2. <span data-ttu-id="7bb7c-135">La classe WebConfigurationManager, se l'entità è un'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-135">The WebConfigurationManager class, if your entity is a Web application.</span></span>

<span data-ttu-id="7bb7c-136">Questi metodi restituiranno un Configuration oggetto, che a sua volta fornisce i metodi e le proprietà necessarie per gestire i file di configurazione sottostanti.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-136">These methods will return a Configuration object, which in turn provides the required methods and properties to handle the underlying configuration files.</span></span> <span data-ttu-id="7bb7c-137">È possibile accedere a questi file per la lettura o la scrittura.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-137">You can access these files for reading or writing.</span></span>

### <a name="reading"></a><span data-ttu-id="7bb7c-138">Lettura</span><span class="sxs-lookup"><span data-stu-id="7bb7c-138">Reading</span></span>

<span data-ttu-id="7bb7c-139">Utilizzare il GetSection o GetSectionGroup metodo per leggere le informazioni di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-139">You use the GetSection or GetSectionGroup method to read configuration information.</span></span> <span data-ttu-id="7bb7c-140">L'utente o il processo che legge deve disporre delle autorizzazioni di lettura per tutti i file di configurazione nella gerarchia.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-140">The user or process that reads must have Read permissions on all of the configuration files in the hierarchy.</span></span>

> [!NOTE]
> <span data-ttu-id="7bb7c-141">Se si utilizza un metodo GetSection statico che accetta un parametro path, il parametro path deve fare riferimento all'applicazione in cui è in esecuzione il codice.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-141">If you use a static GetSection method that takes a path parameter, the path parameter must refer to the application in which the code is running.</span></span> <span data-ttu-id="7bb7c-142">In caso contrario, il parametro viene ignorato e vengono restituite le informazioni di configurazione per l'applicazione attualmente in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-142">Otherwise, the parameter is ignored and the configuration information for the currently running application is returned.</span></span>

### <a name="writing"></a><span data-ttu-id="7bb7c-143">Scrittura</span><span class="sxs-lookup"><span data-stu-id="7bb7c-143">Writing</span></span>

<span data-ttu-id="7bb7c-144">Utilizzare uno dei metodi Save per scrivere le informazioni di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-144">You use one of the Save methods to write configuration information.</span></span> <span data-ttu-id="7bb7c-145">L'utente o il processo che scrive deve disporre delle autorizzazioni di scrittura per il file di configurazione e la directory al livello corrente della gerarchia di configurazione, nonché delle autorizzazioni di lettura per tutti i file di configurazione nella gerarchia.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-145">The user or process that writes must have Write permissions on the configuration file and directory at the current configuration hierarchy level, as well as Read permissions on all of the configuration files in the hierarchy.</span></span>

<span data-ttu-id="7bb7c-146">Per generare un file di configurazione che rappresenta le impostazioni di configurazione ereditate per un'entità specificata, utilizzare uno dei seguenti metodi di configurazione di salvataggio:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-146">To generate a configuration file that represents the inherited configuration settings for a specified entity, use one of the following save-configuration methods:</span></span>

1. <span data-ttu-id="7bb7c-147">Il Save metodo per creare un nuovo file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-147">The Save method to create a new configuration file.</span></span>
2. <span data-ttu-id="7bb7c-148">Il SaveAs metodo per generare un nuovo file di configurazione in un'altra posizione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-148">The SaveAs method to generate a new configuration file at another location.</span></span>

## <a name="configuration-classes-and-namespaces"></a><span data-ttu-id="7bb7c-149">Classi di configurazione e spazi dei nomiConfiguration Classes and Namespaces</span><span class="sxs-lookup"><span data-stu-id="7bb7c-149">Configuration Classes and Namespaces</span></span>

<span data-ttu-id="7bb7c-150">Molte classi e metodi di configurazione sono simili tra loro.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-150">Many configuration classes and methods are similar to each other.</span></span> <span data-ttu-id="7bb7c-151">Nella tabella seguente vengono descritte le classi di configurazione e gli spazi dei nomi utilizzati più di più di più di seguito.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-151">The following table describes the most commonly used configuration classes and namespaces.</span></span>

| <span data-ttu-id="7bb7c-152">**Classe o spazio dei nomi di configurazione**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-152">**Configuration class or namespace**</span></span> | <span data-ttu-id="7bb7c-153">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-153">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="7bb7c-154">Spazio dei nomi [System.Configuration](https://msdn.microsoft.com/library/system.configuration.aspx)</span><span class="sxs-lookup"><span data-stu-id="7bb7c-154">[System.Configuration](https://msdn.microsoft.com/library/system.configuration.aspx) namespace</span></span> | <span data-ttu-id="7bb7c-155">Contiene le classi di configurazione principali per tutte le applicazioni .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-155">Contains the main configuration classes for all .NET Framework applications.</span></span> <span data-ttu-id="7bb7c-156">Section handler classes are used to obtain configuration data for a section from methods, such as GetSection and GetSectionGroup.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-156">Section handler classes are used to obtain configuration data for a section from methods, such as GetSection and GetSectionGroup.</span></span> <span data-ttu-id="7bb7c-157">Questi due metodi non sono statici.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-157">These two methods are non-static.</span></span> |
| <span data-ttu-id="7bb7c-158">Classe System.Configuration.Configuration</span><span class="sxs-lookup"><span data-stu-id="7bb7c-158">System.Configuration.Configuration class</span></span> | <span data-ttu-id="7bb7c-159">Rappresenta un set di dati di configurazione per un computer, un'applicazione, una directory Web o un'altra risorsa.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-159">Represents a set of configuration data for a computer, application, Web directory, or other resource.</span></span> <span data-ttu-id="7bb7c-160">Questa classe contiene metodi utili, ad esempio GetSection e GetSectionGroup, per aggiornare le impostazioni di configurazione e ottenere riferimenti a sezioni e gruppi di sezioni.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-160">This class contains useful methods, such as GetSection and GetSectionGroup, for updating configuration settings and obtaining references to sections and section groups.</span></span> <span data-ttu-id="7bb7c-161">Questa classe viene utilizzata come tipo restituito per i metodi che ottengono i dati di configurazione in fase di progettazione, ad esempio i metodi delle classi WebConfigurationManager e ConfigurationManager.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-161">This class is used as a return type for methods that obtain design-time configuration data, such as the methods of the WebConfigurationManager and ConfigurationManager classes.</span></span> |
| <span data-ttu-id="7bb7c-162">Spazio dei nomi System.Web.Configuration</span><span class="sxs-lookup"><span data-stu-id="7bb7c-162">System.Web.Configuration namespace</span></span> | <span data-ttu-id="7bb7c-163">Contiene le classi del gestore di sezione per le sezioni di configurazione ASP.NET definite in [ASP.NET Impostazioni di configurazione](https://msdn.microsoft.com/library/b5ysx397.aspx).</span><span class="sxs-lookup"><span data-stu-id="7bb7c-163">Contains the section handler classes for the ASP.NET configuration sections defined at [ASP.NET Configuration Settings](https://msdn.microsoft.com/library/b5ysx397.aspx).</span></span> <span data-ttu-id="7bb7c-164">Section handler classes are used to obtain configuration data for a section from methods, such as GetSection and GetSectionGroup.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-164">Section handler classes are used to obtain configuration data for a section from methods, such as GetSection and GetSectionGroup.</span></span> |
| <span data-ttu-id="7bb7c-165">Classe System.Web.Configuration.WebConfigurationManager</span><span class="sxs-lookup"><span data-stu-id="7bb7c-165">System.Web.Configuration.WebConfigurationManager class</span></span> | <span data-ttu-id="7bb7c-166">Fornisce metodi utili per ottenere riferimenti alle impostazioni di configurazione in fase di esecuzione e in fase di progettazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-166">Provides useful methods for obtaining references to run-time and design-time configuration settings.</span></span> <span data-ttu-id="7bb7c-167">Questi metodi utilizzano la classe System.Configuration.Configuration come tipo restituito.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-167">These methods use the System.Configuration.Configuration class as a return type.</span></span> <span data-ttu-id="7bb7c-168">È possibile utilizzare il metodo statico GetSection metodo di questa classe o il non statico GetSection metodo il System.Configuration.ConfigurationManager classe in modo intercambiabile.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-168">You can use the static GetSection method of this class or the non-static GetSection method of the System.Configuration.ConfigurationManager class interchangeably.</span></span> <span data-ttu-id="7bb7c-169">Per le configurazioni di applicazioni Web, è consigliata la classe System.Web.Configuration.WebConfigurationManager anziché la classe System.Configuration.ConfigurationManager .</span><span class="sxs-lookup"><span data-stu-id="7bb7c-169">For Web application configurations, the System.Web.Configuration.WebConfigurationManager class is recommended instead of the System.Configuration.ConfigurationManager class.</span></span> |
| <span data-ttu-id="7bb7c-170">Spazio dei nomi [System.Configuration.Provider](https://msdn.microsoft.com/library/system.configuration.provider.aspx)</span><span class="sxs-lookup"><span data-stu-id="7bb7c-170">[System.Configuration.Provider](https://msdn.microsoft.com/library/system.configuration.provider.aspx) namespace</span></span> | <span data-ttu-id="7bb7c-171">Fornisce un modo per personalizzare ed estendere il provider di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-171">Provides a way to customize and extend the configuration provider.</span></span> <span data-ttu-id="7bb7c-172">Questa è la classe base per tutte le classi di provider nel sistema di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-172">This is the base class for all provider classes in the configuration system.</span></span> |
| <span data-ttu-id="7bb7c-173">Spazio dei nomi [System.Web.Management](https://msdn.microsoft.com/library/system.web.management.aspx)</span><span class="sxs-lookup"><span data-stu-id="7bb7c-173">[System.Web.Management](https://msdn.microsoft.com/library/system.web.management.aspx) namespace</span></span> | <span data-ttu-id="7bb7c-174">Contiene classi e interfacce per la gestione e il monitoraggio dell'integrità delle applicazioni Web.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-174">Contains classes and interfaces for managing and monitoring the health of Web applications.</span></span> <span data-ttu-id="7bb7c-175">In senso stretto, questo spazio dei nomi non è considerato parte dell'API di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-175">Strictly speaking, this namespace is not considered part of the configuration API.</span></span> <span data-ttu-id="7bb7c-176">Ad esempio, la traccia e la generazione di eventi vengono eseguite dalle classi in questo spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-176">For example, tracing and event firing is accomplished by the classes in this namespace.</span></span> |
| <span data-ttu-id="7bb7c-177">Spazio dei nomi [System.Management.Instrumentation](https://msdn.microsoft.com/library/system.management.instrumentation.aspx)</span><span class="sxs-lookup"><span data-stu-id="7bb7c-177">[System.Management.Instrumentation](https://msdn.microsoft.com/library/system.management.instrumentation.aspx) namespace</span></span> | <span data-ttu-id="7bb7c-178">Fornisce alle classi necessarie per la strumentazione delle applicazioni di esporre le informazioni di gestione e gli eventi tramite Strumentazione gestione Windows (WMI) ai potenziali consumer.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-178">Provides the classes necessary for the instrumentation of applications to expose their management information and events through Windows Management Instrumentation (WMI) to potential consumers.</span></span> <span data-ttu-id="7bb7c-179">ASP.NET monitoraggio dello stato utilizza WMI per recapitare gli eventi.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-179">ASP.NET health monitoring uses WMI to deliver events.</span></span> <span data-ttu-id="7bb7c-180">In senso stretto, questo spazio dei nomi non è considerato parte dell'API di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-180">Strictly speaking, this namespace is not considered part of the configuration API.</span></span> |

## <a name="reading-from-aspnet-configuration-files"></a><span data-ttu-id="7bb7c-181">Lettura da ASP.NET file di configurazione</span><span class="sxs-lookup"><span data-stu-id="7bb7c-181">Reading from ASP.NET Configuration Files</span></span>

<span data-ttu-id="7bb7c-182">La classe WebConfigurationManager è la classe principale per la lettura da ASP.NET file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-182">The WebConfigurationManager class is the core class for reading from ASP.NET configuration files.</span></span> <span data-ttu-id="7bb7c-183">Esistono essenzialmente tre passaggi per leggere i file di configurazione ASP.NET:There are essentially three steps to reading ASP.NET configuration files:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-183">There are essentially three steps to reading ASP.NET configuration files:</span></span>

1. <span data-ttu-id="7bb7c-184">Ottenere un oggetto Configuration utilizzando il metodo OpenWebConfiguration.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-184">Get a Configuration object using the OpenWebConfiguration method.</span></span>
2. <span data-ttu-id="7bb7c-185">Ottenere un riferimento alla sezione desiderata nel file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-185">Get a reference to the desired section in the configuration file.</span></span>
3. <span data-ttu-id="7bb7c-186">Leggere le informazioni desiderate dal file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-186">Read the desired information from the configuration file.</span></span>

<span data-ttu-id="7bb7c-187">Il Configuration oggetto rappresenta non rappresenta un particolare file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-187">The Configuration object represents does not represent a particular configuration file.</span></span> <span data-ttu-id="7bb7c-188">Rappresenta invece una visualizzazione unita della configurazione di un computer, un'applicazione o un sito Web.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-188">Instead, it represents a merged view of the configuration of a computer, application, or Web site.</span></span> <span data-ttu-id="7bb7c-189">Nell'esempio di codice riportato di seguito viene creata un'istanza di un oggetto Configuration che rappresenta la configurazione di un'applicazione Web denominata *ProductInfo*.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-189">The following code sample instantiates a Configuration object representing the configuration of a Web application called *ProductInfo*.</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample1.cs)]

> [!NOTE]
> <span data-ttu-id="7bb7c-190">Si noti che se il percorso /ProductInfo non esiste, il codice precedente restituirà la configurazione predefinita specificata nel file machine.config.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-190">Note that if the /ProductInfo path doesn't exist, the above code will return the default configuration as specified in the machine.config file.</span></span>

<span data-ttu-id="7bb7c-191">Dopo aver ottenuto l'oggetto Configuration, è possibile utilizzare il metodo GetSection o GetSectionGroup per esaminare le impostazioni di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-191">Once you have the Configuration object, you can then use the GetSection or GetSectionGroup method to drill into the configuration settings.</span></span> <span data-ttu-id="7bb7c-192">L'esempio seguente ottiene un riferimento alle impostazioni di rappresentazione per l'applicazione ProductInfo precedente:The following example gets a reference to the impersonation settings for the above ProductInfo application:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-192">The following example gets a reference to the impersonation settings for the above ProductInfo application:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample2.cs)]

## <a name="writing-to-aspnet-configuration-files"></a><span data-ttu-id="7bb7c-193">Scrittura nei file di configurazione di ASP.NET</span><span class="sxs-lookup"><span data-stu-id="7bb7c-193">Writing to ASP.NET Configuration Files</span></span>

<span data-ttu-id="7bb7c-194">Come nella lettura dai file di configurazione, la classe WebConfigurationManager è il nucleo per la scrittura in Asp.NET file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-194">As in reading from configuration files, the WebConfigurationManager class is the core for writing to Asp.NET configuration files.</span></span> <span data-ttu-id="7bb7c-195">Sono inoltre disponibili tre passaggi per scrivere nei file di configurazione ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-195">There are also three steps to writing to ASP.NET configuration files.</span></span>

1. <span data-ttu-id="7bb7c-196">Ottenere un oggetto Configuration utilizzando il metodo OpenWebConfiguration.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-196">Get a Configuration object using the OpenWebConfiguration method.</span></span>
2. <span data-ttu-id="7bb7c-197">Ottenere un riferimento alla sezione desiderata nel file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-197">Get a reference to the desired section in the configuration file.</span></span>
3. <span data-ttu-id="7bb7c-198">Scrivere le informazioni desiderate dal file di configurazione utilizzando il metodo Save o SaveAs.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-198">Write the desired information from the configuration file using the Save or SaveAs method.</span></span>

<span data-ttu-id="7bb7c-199">Il codice seguente modifica l'attributo **debug** dell'elemento &lt;compilation&gt; su false:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-199">The following code changes the **debug** attribute of the &lt;compilation&gt; element to false:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample3.cs)]

<span data-ttu-id="7bb7c-200">Quando viene eseguito questo **debug** codice, &lt;l'attributo debug dell'elemento compilation&gt; verrà impostato su false per il file web.config dell'applicazione *webApp.*</span><span class="sxs-lookup"><span data-stu-id="7bb7c-200">When this code is executed, the **debug** attribute of the &lt;compilation&gt; element will be set to false for the *webApp* application's web.config file.</span></span>

## <a name="systemwebmanagement-namespace"></a><span data-ttu-id="7bb7c-201">Spazio dei nomi System.Web.Management</span><span class="sxs-lookup"><span data-stu-id="7bb7c-201">System.Web.Management Namespace</span></span>

<span data-ttu-id="7bb7c-202">Lo spazio dei nomi System.Web.Management fornisce le classi e le interfacce per la gestione e il monitoraggio dell'integrità delle applicazioni ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-202">The System.Web.Management namespace provides the classes and interfaces for managing and monitoring the health of ASP.NET applications.</span></span>

<span data-ttu-id="7bb7c-203">La registrazione viene eseguita definendo una regola che associa gli eventi a un provider.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-203">Logging is accomplished by defining a rule that associates events with a provider.</span></span> <span data-ttu-id="7bb7c-204">La regola definisce il tipo di eventi inviati al provider.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-204">The rule defines the type of events that are sent to the provider.</span></span> <span data-ttu-id="7bb7c-205">Per la registrazione sono disponibili i seguenti eventi di base:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-205">The following base events are available for you to log:</span></span>

| <span data-ttu-id="7bb7c-206">**Webbaseevent**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-206">**WebBaseEvent**</span></span> | <span data-ttu-id="7bb7c-207">Classe di evento di base per tutti gli eventi.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-207">The base event class for all events.</span></span> <span data-ttu-id="7bb7c-208">Contiene le proprietà necessarie per tutti gli eventi, ad esempio il codice evento, il codice di dettaglio dell'evento, la data e l'ora in cui l'evento è stato generato, il numero di sequenza, il messaggio dell'evento e i dettagli dell'evento.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-208">Contains the required properties for all events such as event code, event detail code, the date and time the event was raised, sequence number, the event message, and event details.</span></span> |
| --- | --- |
| <span data-ttu-id="7bb7c-209">**Evento WebManagementEvent**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-209">**WebManagementEvent**</span></span> | <span data-ttu-id="7bb7c-210">Classe di eventi di base per gli eventi di gestione, ad esempio eventi di durata, richiesta, errore e controllo dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-210">The base event class for management events, such as application lifetime, request, error, and audit events.</span></span> |
| <span data-ttu-id="7bb7c-211">**Evento WebHeartbeatEvent**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-211">**WebHeartbeatEvent**</span></span> | <span data-ttu-id="7bb7c-212">Evento generato dall'applicazione a intervalli regolari per acquisire informazioni utili sullo stato di runtime.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-212">The event generated by the application in regular intervals to capture useful runtime state information.</span></span> |
| <span data-ttu-id="7bb7c-213">**Webauditevent**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-213">**WebAuditEvent**</span></span> | <span data-ttu-id="7bb7c-214">Classe base per gli eventi di controllo di sicurezza, utilizzati per contrassegnare condizioni quali l'errore di autorizzazione, l'errore di decrittografia *e così via.*</span><span class="sxs-lookup"><span data-stu-id="7bb7c-214">The base class for security audit events, which are used to mark conditions such as authorization failure, decryption failure, *etc.*</span></span> |
| <span data-ttu-id="7bb7c-215">**Webrequestevent**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-215">**WebRequestEvent**</span></span> | <span data-ttu-id="7bb7c-216">Classe base per tutti gli eventi di richiesta informativa.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-216">The base class for all informational request events.</span></span> |
| <span data-ttu-id="7bb7c-217">**Evento WebBaseErrorEvent**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-217">**WebBaseErrorEvent**</span></span> | <span data-ttu-id="7bb7c-218">Classe base per tutti gli eventi che indicano le condizioni di errore.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-218">The base class for all events indicating error conditions.</span></span> |

<span data-ttu-id="7bb7c-219">I tipi di provider disponibili consentono di inviare l'output degli eventi al Visualizzatore eventi, SQL Server, Strumentazione gestione Windows (WMI) e alla posta elettronica.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-219">The types of providers available allow you to send event output to Event Viewer, SQL Server, Windows Management Instrumentation (WMI), and email.</span></span> <span data-ttu-id="7bb7c-220">I provider preconfigurati e i mapping degli eventi riducono la quantità di lavoro necessaria per registrare l'output degli eventi.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-220">The pre-configured providers and event mappings reduce the amount of work necessary to get event output logged.</span></span>

<span data-ttu-id="7bb7c-221">ASP.NET 2.0 utilizza il provider del registro eventi out-of-the-box per registrare gli eventi in base all'avvio e all'arresto dei domini applicazione, nonché registrare eventuali eccezioni non gestite.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-221">ASP.NET 2.0 uses the Event Log provider out-of-the-box to log events based on application domains starting and stopping, as well as logging any unhandled exceptions.</span></span> <span data-ttu-id="7bb7c-222">Questo aiuta a coprire alcuni degli scenari di base.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-222">This helps to cover some of the basic scenarios.</span></span> <span data-ttu-id="7bb7c-223">Si supponga, ad esempio, che l'applicazione genera un'eccezione, ma l'utente non salva l'errore e non è possibile riprodurlo.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-223">For example, let's say that your application throws an exception, but the user doesn't save the error and you can't reproduce it.</span></span> <span data-ttu-id="7bb7c-224">Con la regola predefinita del registro eventi, si sarebbe in grado di raccogliere l'eccezione e le informazioni sullo stack per avere un'idea migliore del tipo di errore che si è verificato.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-224">With the default Event Log rule, you would be able to gather the exception and stack information to get a better idea of what kind of error occurred.</span></span> <span data-ttu-id="7bb7c-225">Un altro esempio si applica se l'applicazione perde lo stato della sessione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-225">Another example applies if your application is losing session state.</span></span> <span data-ttu-id="7bb7c-226">In tal caso, è possibile esaminare il registro eventi per determinare se il dominio applicazione è in grado di eseguire il riciclo e il motivo per cui il dominio applicazione è stato arrestato in primo luogo.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-226">In that case, you can look in the Event Log to determine whether the application domain is recycling, and why the application domain stopped in the first place.</span></span>

<span data-ttu-id="7bb7c-227">Inoltre, il sistema di monitoraggio dello stato è estensibile.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-227">Also, the health monitoring system is extensible.</span></span> <span data-ttu-id="7bb7c-228">Ad esempio, è possibile definire eventi Web personalizzati, generarli all'interno dell'applicazione e quindi definire una regola per inviare le informazioni sull'evento a un provider, ad esempio il messaggio di posta elettronica.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-228">For example, you can define custom Web events, fire them within your application, and then define a rule to send the event information to a provider such as your email.</span></span> <span data-ttu-id="7bb7c-229">Ciò consente di collegare facilmente la strumentazione ai provider di monitoraggio dello stato.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-229">This allows you to easily tie your instrumentation to the health monitoring providers.</span></span> <span data-ttu-id="7bb7c-230">Come altro esempio, è possibile generare un evento ogni volta che viene elaborato un ordine e impostare una regola che invia ogni evento al database di SQL Server.As another example, you could fire an event each time an order is processed and set up a rule that sends each event to the SQL Server database.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-230">As another example, you could fire an event each time an order is processed and set up a rule that sends each event to the SQL Server database.</span></span> <span data-ttu-id="7bb7c-231">È inoltre possibile generare un evento quando un utente non riesce ad accedere più volte di seguito e impostare l'evento per l'utilizzo dei provider basati su posta elettronica.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-231">You could also fire an event when a user fails to log on multiple times in a row, and set up the event to use the email-based providers.</span></span>

<span data-ttu-id="7bb7c-232">La configurazione per i provider e gli eventi predefiniti viene archiviata nel file Web.config globale.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-232">The configuration for the default providers and events is stored in the global Web.config file.</span></span> <span data-ttu-id="7bb7c-233">Nel file Web.config globale vengono archiviate in ASP.NET 1x tutte le impostazioni basate sul Web archiviate nel file Machine.config.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-233">The global Web.config file stores all the Web-based settings that were stored in the Machine.config file in ASP.NET 1x.</span></span> <span data-ttu-id="7bb7c-234">Il file Web.config globale si trova nella seguente directory:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-234">The global Web.config file is located in the following directory:</span></span>

`%windir%\Microsoft.Net\Framework\v2.0.*\config\Web.config`

<span data-ttu-id="7bb7c-235">La &lt;sezione&gt; healthMonitoring del file Web.config globale fornisce le impostazioni di configurazione predefinite.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-235">The &lt;healthMonitoring&gt; section of the global Web.config file provides default configuration settings.</span></span> <span data-ttu-id="7bb7c-236">È possibile eseguire l'override di queste &lt;impostazioni&gt; o configurare impostazioni personalizzate implementando la sezione healthMonitoring nel file Web.config per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-236">You can override these setting or configure your own settings by implementing the &lt;healthMonitoring&gt; section in the Web.config file for your application.</span></span>

<span data-ttu-id="7bb7c-237">La &lt;sezione&gt; healthMonitoring del file Web.config globale contiene gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-237">The &lt;healthMonitoring&gt; section of the global Web.config file contains the following items:</span></span>

| <span data-ttu-id="7bb7c-238">**Provider**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-238">**providers**</span></span> | <span data-ttu-id="7bb7c-239">Contiene i provider impostati per il Visualizzatore eventi, WMI e SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-239">Contains providers set up for the Event Viewer, WMI, and SQL Server.</span></span> |
| --- | --- |
| <span data-ttu-id="7bb7c-240">**Eventmappings**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-240">**eventMappings**</span></span> | <span data-ttu-id="7bb7c-241">Contiene i mapping per le varie classi WebBase.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-241">Contains mappings for the various WebBase classes.</span></span> <span data-ttu-id="7bb7c-242">È possibile estendere questo elenco se si genera una classe di evento personalizzata.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-242">You can extend this list if you generate your own event class.</span></span> <span data-ttu-id="7bb7c-243">La generazione di una classe di evento personalizzata offre una granularità più fine rispetto ai provider a cui si inviano informazioni.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-243">Generating your own event class gives you finer granularity over the providers you send information to.</span></span> <span data-ttu-id="7bb7c-244">Ad esempio, è possibile configurare le eccezioni non gestite da inviare a SQL ServerSQL Server, inviando al messaggio di posta elettronica eventi personalizzati.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-244">For example, you could configure unhandled exceptions to be sent to SQL Server, while sending your own custom events to email.</span></span> |
| <span data-ttu-id="7bb7c-245">**Regole**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-245">**rules**</span></span> | <span data-ttu-id="7bb7c-246">Collega eventMappings al provider.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-246">Links the eventMappings to the provider.</span></span> |
| <span data-ttu-id="7bb7c-247">**Buffer**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-247">**buffering**</span></span> | <span data-ttu-id="7bb7c-248">Utilizzato con SQL ServerSQL Server e i provider di posta elettronica per determinare la frequenza con cui scaricare gli eventi nel provider.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-248">Used with SQL Server and email providers to determine how often to flush the events to the provider.</span></span> |

<span data-ttu-id="7bb7c-249">Di seguito è riportato un esempio di codice dal file Web.config globale.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-249">Below is a code example from the global Web.config file.</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample4.xml)]

## <a name="how-to-store-events-to-event-viewer"></a><span data-ttu-id="7bb7c-250">Come archiviare gli eventi nel Visualizzatore eventi</span><span class="sxs-lookup"><span data-stu-id="7bb7c-250">How to store events to Event Viewer</span></span>

<span data-ttu-id="7bb7c-251">Come accennato in precedenza, il provider per la registrazione degli eventi nel Visualizzatore eventi è configurato automaticamente nel file Web.config globale.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-251">As mentioned earlier, the provider for logging events in the Event Viewer is configured for you in the global Web.config file.</span></span> <span data-ttu-id="7bb7c-252">Per impostazione predefinita, vengono registrati tutti gli eventi basati su **WebBaseErrorEvent** e **WebFailureAuditEvent.**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-252">By default, all events based on **WebBaseErrorEvent** and **WebFailureAuditEvent** are logged.</span></span> <span data-ttu-id="7bb7c-253">È possibile aggiungere ulteriori regole per registrare informazioni aggiuntive nel registro eventi.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-253">You can add additional rules to log additional information to the Event Log.</span></span> <span data-ttu-id="7bb7c-254">Ad esempio, se si desidera registrare tutti gli eventi *(ad esempio*, ogni evento basato su **WebBaseEvent**), è possibile aggiungere la seguente regola al file Web.config:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-254">For example, if you wanted to log all events (*i.e.*, every event based on **WebBaseEvent**), you could add the following rule to your Web.config file:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample5.xml)]

<span data-ttu-id="7bb7c-255">Questa regola collegherebbe la mappa **eventi Tutti gli eventi** al provider del registro eventi.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-255">This rule would link the **All Events** event map to the Event Log provider.</span></span> <span data-ttu-id="7bb7c-256">Sia eventMapping che il provider sono inclusi nel file Web.config globale.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-256">Both eventMapping and the provider are included in the global Web.config file.</span></span>

## <a name="how-to-store-events-to-sql-server"></a><span data-ttu-id="7bb7c-257">Come archiviare gli eventi in SQL ServerHow to store events to SQL Server</span><span class="sxs-lookup"><span data-stu-id="7bb7c-257">How to store events to SQL Server</span></span>

<span data-ttu-id="7bb7c-258">Questo metodo utilizza il database **ASPNETDB,** generato\_dallo strumento Aspnet regsql.exe.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-258">This method uses the **ASPNETDB** database, which is generated by the Aspnet\_regsql.exe tool.</span></span> <span data-ttu-id="7bb7c-259">Il provider predefinito utilizza la stringa di connessione LocalSqlServer, che\_utilizza un database basato su file nella cartella dati dell'app o l'istanza SQLExpress locale di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-259">The default provider uses the LocalSqlServer connection string, which uses either a file-based database in the App\_data folder or the local SQLExpress instance of SQL Server.</span></span> <span data-ttu-id="7bb7c-260">Sia la stringa di connessione LocalSqlServer che l'Oggetto SqlProvider vengono configurati nel file Web.config globale.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-260">Both the LocalSqlServer connection string and the SqlProvider are configured in the global Web.config file.</span></span>

<span data-ttu-id="7bb7c-261">La stringa di connessione LocalSqlServer nel file Web.config globale è simile alla seguente:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-261">The LocalSqlServer connection string in the global Web.config file looks like this:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample6.xml)]

<span data-ttu-id="7bb7c-262">Se si desidera utilizzare un'altra istanza di SQL Server, è necessario utilizzare lo strumento Aspnet\_regsql.exe, disponibile in %windir%. \* nella cartella.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-262">If you want to use another SQL Server instance, you'll need to use the Aspnet\_regsql.exe tool, which can be found in the %windir%\Microsoft.Net\Framework\v2.0.\* folder.</span></span> <span data-ttu-id="7bb7c-263">Utilizzare lo\_strumento Aspnet regsql.exe per generare un database **ASPNETDB** personalizzato nell'istanza di SQL Server, quindi aggiungere la stringa di connessione al file di configurazione delle applicazioni e quindi aggiungere un provider utilizzando la nuova stringa di connessione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-263">Use the Aspnet\_regsql.exe tool to generate a custom **ASPNETDB** database on the SQL Server instance, then add the connection string to your applications configuration file, and then add a provider by using the new connection string.</span></span> <span data-ttu-id="7bb7c-264">Dopo aver creato il database **ASPNETDB,** è necessario impostare una regola per collegare un eventMapping a sqlProvider.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-264">Once you have the **ASPNETDB** database created, you'll need to set a rule to link an eventMapping to the sqlProvider.</span></span>

<span data-ttu-id="7bb7c-265">Se si utilizza il sqlProvider predefinito o configurare il proprio provider, è necessario aggiungere una regola che collega il provider con una mappa eventi.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-265">Whether you use the default SqlProvider or configure your own provider, you'll need to add a rule linking the provider with an event map.</span></span> <span data-ttu-id="7bb7c-266">La regola seguente collega il nuovo provider creato in precedenza alla mappa eventi **Tutti gli eventi.**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-266">The following rule links the new provider that you created above to the **All Events** event map.</span></span> <span data-ttu-id="7bb7c-267">Questa regola registrerà tutti gli eventi basati su **WebBaseEvent** e li invierà a MySqlWebEventProvider che utilizzerà la stringa di connessione MYASPNETDB.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-267">This rule will log all the events based on **WebBaseEvent** and send them to the MySqlWebEventProvider that will use the MYASPNETDB connection string.</span></span> <span data-ttu-id="7bb7c-268">Il codice seguente aggiunge una regola per collegare il provider a una mappa eventi:The following code adds a rule to link the provider with an event map:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-268">The following code adds a rule to link the provider with an event map:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample7.xml)]

<span data-ttu-id="7bb7c-269">Se si desidera inviare solo errori a SQL Server, è possibile aggiungere la regola seguente:If you wanted to only send errors to SQL ServerSQL Server, you could add the following rule:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-269">If you wanted to only send errors to SQL Server, you could add the following rule:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample8.xml)]

## <a name="how-to-forward-events-to-wmi"></a><span data-ttu-id="7bb7c-270">Come inoltrare gli eventi a WMI</span><span class="sxs-lookup"><span data-stu-id="7bb7c-270">How to forward events to WMI</span></span>

<span data-ttu-id="7bb7c-271">È inoltre possibile inoltrare gli eventi a WMI.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-271">You can also forward the events to WMI.</span></span> <span data-ttu-id="7bb7c-272">Il provider WMI è configurato per l'utente nel file Web.config globale per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-272">The WMI provider is configured for you in the global Web.config file by default.</span></span>

<span data-ttu-id="7bb7c-273">Nell'esempio di codice riportato di seguito viene aggiunta una regola per l'inoltro degli eventi a WMI:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-273">The following code example adds a rule to forward the events to WMI:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample9.xml)]

<span data-ttu-id="7bb7c-274">Sarà necessario aggiungere una regola per associare un eventMapping al provider e anche un'applicazione listener WMI per l'ascolto degli eventi.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-274">You will need to add a rule to associate an eventMapping to the provider, and also a WMI listener application to listen for the events.</span></span> <span data-ttu-id="7bb7c-275">Nell'esempio di codice riportato di seguito viene aggiunta una regola per collegare il provider WMI alla mappa **eventi Tutti gli eventi:**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-275">The following code example adds a rule to link the WMI provider to the **All Events** event map:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample10.xml)]

## <a name="how-to-forward-events-to-email"></a><span data-ttu-id="7bb7c-276">Come inoltrare gli eventi alla posta elettronica</span><span class="sxs-lookup"><span data-stu-id="7bb7c-276">How to forward events to email</span></span>

<span data-ttu-id="7bb7c-277">Puoi anche inoltrare gli eventi alla posta elettronica.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-277">You can also forward events to email.</span></span> <span data-ttu-id="7bb7c-278">Prestare attenzione alle regole di evento mappate al provider di posta elettronica, in quanto è possibile inviare inavvertitamente molte informazioni che potrebbero essere più adatte per SQL Server o il registro eventi.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-278">Be careful about which event rules you map to your email provider, as you can unintentionally send yourself a lot of information that may be better suited for SQL Server or the Event Log.</span></span> <span data-ttu-id="7bb7c-279">Ci sono due provider di posta elettronica; SimpleMailWebEventProvider e TemplatedMailWebEventProvider.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-279">There are two email providers; SimpleMailWebEventProvider and TemplatedMailWebEventProvider.</span></span> <span data-ttu-id="7bb7c-280">Ognuno ha gli stessi attributi di configurazione, ad eccezione degli attributi "template" e "detailedTemplateErrors", entrambi disponibili solo nel TemplatedMailWebEventProvider.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-280">Each has the same configuration attributes, with the exception of the "template" and "detailedTemplateErrors" attributes, both of which are only available on the TemplatedMailWebEventProvider.</span></span>

> [!NOTE]
> <span data-ttu-id="7bb7c-281">Nessuno di questi provider di posta elettronica è configurato per l'utente.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-281">Neither of these email providers is configured for you.</span></span> <span data-ttu-id="7bb7c-282">Sarà necessario aggiungerli al file Web.config.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-282">You'll need to add them to your Web.config file.</span></span>

<span data-ttu-id="7bb7c-283">La differenza principale tra questi due provider di posta elettronica è che SimpleMailWebEventProvider invia messaggi di posta elettronica in un modello generico che non può essere modificato.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-283">The main difference between these two email providers is that SimpleMailWebEventProvider sends emails in a generic template that cannot be modified.</span></span> <span data-ttu-id="7bb7c-284">Il file Web.config di esempio aggiunge questo provider di posta elettronica all'elenco dei provider configurati utilizzando la regola seguente:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-284">The sample Web.config file adds this email provider to the list of configured providers by using the following rule:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample11.xml)]

<span data-ttu-id="7bb7c-285">Viene inoltre aggiunta la regola seguente per legare il provider di posta elettronica alla mappa **eventi Tutti gli eventi:The** following rule is also added to tie the email provider to the All Events event map:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-285">The following rule is also added to tie the email provider to the **All Events** event map:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample12.xml)]

## <a name="aspnet-20-tracing"></a><span data-ttu-id="7bb7c-286">Traccia di ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="7bb7c-286">ASP.NET 2.0 Tracing</span></span>

<span data-ttu-id="7bb7c-287">Sono stati apportati tre miglioramenti principali alla traccia in ASP.NET 2.0.There are three major enhancements to tracing in ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-287">There are three major enhancements to tracing in ASP.NET 2.0.</span></span>

1. <span data-ttu-id="7bb7c-288">Funzionalità di tracciamento integrata</span><span class="sxs-lookup"><span data-stu-id="7bb7c-288">Integrated tracing functionality</span></span>
2. <span data-ttu-id="7bb7c-289">Accesso a livello di codice ai messaggi di tracciaProgrammatic access to trace messages</span><span class="sxs-lookup"><span data-stu-id="7bb7c-289">Programmatic access to trace messages</span></span>
3. <span data-ttu-id="7bb7c-290">Traccia a livello di applicazione migliorataImproved application-level tracing</span><span class="sxs-lookup"><span data-stu-id="7bb7c-290">Improved application-level tracing</span></span>

## <a name="integrated-tracing-functionality"></a><span data-ttu-id="7bb7c-291">Funzionalità di traccia integrata</span><span class="sxs-lookup"><span data-stu-id="7bb7c-291">Integrated Tracing Functionality</span></span>

<span data-ttu-id="7bb7c-292">È ora possibile instradare i messaggi generati dalla classe System.Diagnostics.Trace a ASP.NET'output di analisi e i messaggi generati dallASP.NET'analisi a System.Diagnostics.Trace.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-292">You can now route messages emitted by the System.Diagnostics.Trace class to ASP.NET tracing output, and route messages emitted by ASP.NET tracing to System.Diagnostics.Trace.</span></span> <span data-ttu-id="7bb7c-293">È inoltre possibile inoltrare ASP.NET eventi di strumentazione a System.Diagnostics.Trace.You can also forward ASP.NET instrumentation events to System.Diagnostics.Trace.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-293">You can also forward ASP.NET instrumentation events to System.Diagnostics.Trace.</span></span> <span data-ttu-id="7bb7c-294">Questa funzionalità viene fornita dal nuovo attributo &lt;&gt; **writeToDiagnosticsTrace** dell'elemento di traccia.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-294">This functionality is provided by the new **writeToDiagnosticsTrace** attribute of the &lt;trace&gt; element.</span></span> <span data-ttu-id="7bb7c-295">Quando questo valore booleano è true, i messaggi di traccia ASP.NET vengono inoltrati all'infrastruttura di traccia System.Diagnostics per l'utilizzo da parte di qualsiasi listener registrato per visualizzare i messaggi di traccia.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-295">When this Boolean value is true, ASP.NET Trace messages are forwarded to the System.Diagnostics tracing infrastructure for use by any listeners that are registered to display Trace messages.</span></span>

## <a name="programmatic-access-to-trace-messages"></a><span data-ttu-id="7bb7c-296">Accesso a livello di codice ai messaggi di tracciaProgrammatic Access to Trace Messages</span><span class="sxs-lookup"><span data-stu-id="7bb7c-296">Programmatic Access to Trace Messages</span></span>

<span data-ttu-id="7bb7c-297">ASP.NET 2.0 consente l'accesso a livello di codice a tutti i messaggi di traccia tramite la classe **TraceContextRecord** e l'insieme **TraceRecords.**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-297">ASP.NET 2.0 allows for programmatic access to all trace messages via the **TraceContextRecord** class and the **TraceRecords** collection.</span></span> <span data-ttu-id="7bb7c-298">Il modo più efficiente di accedere ai messaggi di traccia consiste nel registrare un delegato **TraceContextEventHandler** (anche nuovo in ASP.NET 2.0) per gestire il nuovo evento **TraceFinished.**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-298">The most efficient way of accessing trace messages is to register a **TraceContextEventHandler** delegate (also new in ASP.NET 2.0) to handle the new **TraceFinished** event.</span></span> <span data-ttu-id="7bb7c-299">È quindi possibile scorrere i messaggi di traccia come si desidera.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-299">You can then loop through the trace messages as you wish.</span></span>

<span data-ttu-id="7bb7c-300">Nell'esempio di codice seguente viene illustrato quanto segue:The following code sample illustrates this:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-300">The following code sample illustrates this:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample13.cs)]

<span data-ttu-id="7bb7c-301">Nell'esempio precedente, scorrere in ciclo la raccolta TraceRecords e quindi scrivere ogni messaggio nel flusso di risposta.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-301">In the above example, I loop through the TraceRecords collection and then write each message to the Response stream.</span></span>

## <a name="improved-application-level-tracing"></a><span data-ttu-id="7bb7c-302">Traccia a livello di applicazione migliorataImproved Application-Level Tracing</span><span class="sxs-lookup"><span data-stu-id="7bb7c-302">Improved Application-Level Tracing</span></span>

<span data-ttu-id="7bb7c-303">L'analisi a livello di applicazione è stata migliorata&gt; tramite l'introduzione del nuovo attributo **mostRecent** dell'elemento &lt;di traccia.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-303">Application-level tracing is improved via the introduction of the new **mostRecent** attribute of the &lt;trace&gt; element.</span></span> <span data-ttu-id="7bb7c-304">Questo attributo specifica se viene visualizzato l'output di traccia a livello di applicazione più recente e i dati di traccia meno recenti oltre i limiti indicati da requestLimit vengono eliminati.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-304">This attribute specifies whether the most recent application-level tracing output is displayed and older trace data beyond the limits that are indicated by the requestLimit are discarded.</span></span> <span data-ttu-id="7bb7c-305">Se false, i dati di traccia vengono visualizzati per le richieste fino a quando non viene raggiunto l'attributo requestLimit.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-305">If false, trace data are displayed for requests until the requestLimit attribute is reached.</span></span>

## <a name="aspnet-command-line-tools"></a><span data-ttu-id="7bb7c-306">Strumenti della riga di comando di ASP.NET</span><span class="sxs-lookup"><span data-stu-id="7bb7c-306">ASP.NET Command Line Tools</span></span>

<span data-ttu-id="7bb7c-307">Sono disponibili diversi strumenti della riga di comando per facilitare la configurazione dei ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-307">There are several command-line tools to aid in configuration of ASP.NET.</span></span> <span data-ttu-id="7bb7c-308">ASP.NET sviluppatori devono avere familiarità con lo strumento aspnet\_regiis.exe.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-308">ASP.NET developers should be familiar with the aspnet\_regiis.exe tool.</span></span> <span data-ttu-id="7bb7c-309">ASP.NET 2.0 fornisce altri tre strumenti della riga di comando per facilitare la configurazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-309">ASP.NET 2.0 provides three other command-line tools to aid in configuration.</span></span>

<span data-ttu-id="7bb7c-310">Sono disponibili i seguenti strumenti da riga di comando:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-310">The following command-line tools are available:</span></span>

| <span data-ttu-id="7bb7c-311">**Strumento**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-311">**Tool**</span></span> | <span data-ttu-id="7bb7c-312">**Utilizzare**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-312">**Use**</span></span> |
| --- | --- |
| <span data-ttu-id="7bb7c-313">**aspnet\_regiis.exe**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-313">**aspnet\_regiis.exe**</span></span> | <span data-ttu-id="7bb7c-314">Consente la registrazione di ASP.NET con IIS.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-314">Allows for registration of ASP.NET with IIS.</span></span> <span data-ttu-id="7bb7c-315">Esistono due versioni di questi strumenti forniti con ASP.NET 2.0, una per i sistemi a 32 bit (nella cartella Framework) e una per i sistemi a 64 bit (nella cartella Framework64). La versione a 64 bit non verrà installata in un sistema operativo a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-315">There are two versions of this tools that ship with ASP.NET 2.0, one for 32-bit systems (in the Framework folder) and one for 64-bit systems (in the Framework64 folder.) The 64-bit version will not be installed on a 32-bit OS.</span></span> |
| <span data-ttu-id="7bb7c-316">**aspnet\_regsql.exe**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-316">**aspnet\_regsql.exe**</span></span> | <span data-ttu-id="7bb7c-317">Lo strumento di registrazione ASP.NET SQL Server viene utilizzato per creare un database di Microsoft SQL Server per l'utilizzo da parte dei provider di SQL Server in ASP.NET o per aggiungere o rimuovere opzioni da un database esistente.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-317">The ASP.NET SQL Server Registration tool is used to create a Microsoft SQL Server database for use by the SQL Server providers in ASP.NET, or to add or remove options from an existing database.</span></span> <span data-ttu-id="7bb7c-318">Il file\_Aspnet regsql.exe si trova nella cartella [unità:] WINDOWS.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-318">The Aspnet\_regsql.exe file is located in the [drive:]\WINDOWS\Microsoft.NET\Framework\versionNumber folder on your Web server.</span></span> |
| <span data-ttu-id="7bb7c-319">**aspnet\_regbrowsers.exe**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-319">**aspnet\_regbrowsers.exe**</span></span> | <span data-ttu-id="7bb7c-320">Lo strumento ASP.NET registrazione browser analizza e compila tutte le definizioni del browser a livello di sistema in un assembly e installa l'assembly nella Global Assembly Cache.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-320">The ASP.NET Browser Registration tool parses and compiles all system-wide browser definitions into an assembly and installs the assembly into the global assembly cache.</span></span> <span data-ttu-id="7bb7c-321">Lo strumento utilizza i file di definizione del browser (. BROWSER) dalla sottodirectory .NET Framework Browsers.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-321">The tool uses the browser definition files (.BROWSER files) from the .NET Framework Browsers subdirectory.</span></span> <span data-ttu-id="7bb7c-322">Lo strumento è reperibile nella directory %SystemRoot%.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-322">The tool can be found in the %SystemRoot%\Microsoft.NET\Framework\version\ directory.</span></span> |
| <span data-ttu-id="7bb7c-323">**compilatore\_aspnet.exe**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-323">**aspnet\_compiler.exe**</span></span> | <span data-ttu-id="7bb7c-324">Lo strumento di compilazione ASP.NET consente di compilare un'applicazione Web ASP.NET, sul posto o per la distribuzione in un percorso di destinazione, ad esempio un server di produzione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-324">The ASP.NET Compilation tool enables you to compile an ASP.NET Web application, either in place or for deployment to a target location such as a production server.</span></span> <span data-ttu-id="7bb7c-325">La compilazione sul posto consente le prestazioni dell'applicazione perché gli utenti finali non riscontrano un ritardo nella prima richiesta all'applicazione durante la compilazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-325">In-place compilation helps application performance because end users do not encounter a delay on the first request to the application while the application is compiled.</span></span> |

<span data-ttu-id="7bb7c-326">Poiché lo\_strumento aspnet regiis.exe non è una novità per ASP.NET 2.0, non ne parleremo qui.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-326">Because the aspnet\_regiis.exe tool is not new to ASP.NET 2.0, we will not discuss it here.</span></span>

## <a name="aspnet-sql-server-registration-tool---aspnet_regsqlexe"></a><span data-ttu-id="7bb7c-327">ASP.NET strumento di registrazione\_di SQL Server - aspnet regsql.exe</span><span class="sxs-lookup"><span data-stu-id="7bb7c-327">ASP.NET SQL Server Registration Tool - aspnet\_regsql.exe</span></span>

<span data-ttu-id="7bb7c-328">È possibile impostare diversi tipi di opzioni utilizzando lo strumento di registrazione di ASP.NET SQL Server.You can set several types of options using the ASP.NET SQL Server Registration tool.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-328">You can set several types of options using the ASP.NET SQL Server Registration tool.</span></span> <span data-ttu-id="7bb7c-329">È possibile specificare una connessione SQL, specificare quali ASP.NET servizi dell'applicazione utilizzano SQL Server per gestire le informazioni, indicare il database o la tabella utilizzata per la dipendenza della cache SQL e aggiungere o rimuovere il supporto per l'utilizzo di SQL Server per archiviare le procedure e lo stato della sessione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-329">You can specify a SQL connection, specify which ASP.NET application services use SQL Server to manage information, indicate which database or table is used for SQL cache dependency, and add or remove support for using SQL Server to store procedures and session state.</span></span>

<span data-ttu-id="7bb7c-330">Diversi ASP.NET servizi applicativi si basano su un provider per gestire l'archiviazione e il recupero dei dati da un'origine dati.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-330">Several ASP.NET application services rely on a provider to manage storing and retrieving data from a data source.</span></span> <span data-ttu-id="7bb7c-331">Ogni provider è specifico dell'origine dati.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-331">Each provider is specific to the data source.</span></span> <span data-ttu-id="7bb7c-332">ASP.NET include un provider SQL Server per le funzionalità di ASP.NET seguenti:To includes a SQL Server provider for the following ASP.NET features:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-332">ASP.NET includes a SQL Server provider for the following ASP.NET features:</span></span>

- <span data-ttu-id="7bb7c-333">Appartenenza (la classe [SqlMembershipProvider).](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx)</span><span class="sxs-lookup"><span data-stu-id="7bb7c-333">Membership (the [SqlMembershipProvider](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx) class).</span></span>
- <span data-ttu-id="7bb7c-334">Gestione dei ruoli (la classe [SqlRoleProvider).](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx)</span><span class="sxs-lookup"><span data-stu-id="7bb7c-334">Role Management (the [SqlRoleProvider](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx) class).</span></span>
- <span data-ttu-id="7bb7c-335">Profile (la classe [SqlProfileProvider).](https://msdn.microsoft.com/library/system.web.profile.sqlprofileprovider.aspx)</span><span class="sxs-lookup"><span data-stu-id="7bb7c-335">Profile (the [SqlProfileProvider](https://msdn.microsoft.com/library/system.web.profile.sqlprofileprovider.aspx) class).</span></span>
- <span data-ttu-id="7bb7c-336">Personalizzazione web part (classe [SqlPersonalizationProvider).](https://msdn.microsoft.com/library/system.web.ui.webcontrols.webparts.sqlpersonalizationprovider.aspx)</span><span class="sxs-lookup"><span data-stu-id="7bb7c-336">Web Parts Personalization (the [SqlPersonalizationProvider](https://msdn.microsoft.com/library/system.web.ui.webcontrols.webparts.sqlpersonalizationprovider.aspx) class).</span></span>
- <span data-ttu-id="7bb7c-337">Eventi Web (la classe [SqlWebEventProvider).](https://msdn.microsoft.com/library/system.web.management.sqlwebeventprovider.aspx)</span><span class="sxs-lookup"><span data-stu-id="7bb7c-337">Web Events (the [SqlWebEventProvider](https://msdn.microsoft.com/library/system.web.management.sqlwebeventprovider.aspx) class).</span></span>

<span data-ttu-id="7bb7c-338">Quando si installa ASP.NET, il file Machine.config per il server include elementi di configurazione che specificano i provider SQL Server per ognuna delle funzionalità di ASP.NET che si basano su un provider.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-338">When you install ASP.NET, the Machine.config file for your server includes configuration elements that specify SQL Server providers for each of the ASP.NET features that rely on a provider.</span></span> <span data-ttu-id="7bb7c-339">Questi provider sono configurati, per impostazione predefinita, per connettersi a un'istanza utente locale di SQL Server Express 2005.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-339">These providers are configured, by default, to connect to a local user instance of SQL Server Express 2005.</span></span> <span data-ttu-id="7bb7c-340">Se si modifica la stringa di connessione predefinita utilizzata dai provider, prima di poter utilizzare una delle funzionalità ASP.NET configurate nella configurazione\_del computer, è necessario installare il database di SQL Server e gli elementi di database per la funzionalità scelta utilizzando Aspnet regsql.exe.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-340">If you change the default connection string used by the providers, then before you can use any of the ASP.NET features configured in the machine configuration, you must install the SQL Server database and the database elements for your chosen feature using Aspnet\_regsql.exe.</span></span> <span data-ttu-id="7bb7c-341">Se il database specificato con lo strumento di registrazione SQL non esiste già (aspnetdb sarà il database predefinito se non ne viene specificato uno nella riga di comando), l'utente corrente deve disporre dei diritti per creare database in SQL Server e per creare elementi dello schema all'interno di un database.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-341">If the database that you specify with the SQL registration tool does not already exist (aspnetdb will be the default database if one is not specified on the command line), then the current user must have rights to create databases in SQL Server as well as to create schema elements within a database.</span></span>

### <a name="sql-cache-dependency"></a><span data-ttu-id="7bb7c-342">Dipendenza dalla cache SQL</span><span class="sxs-lookup"><span data-stu-id="7bb7c-342">SQL Cache Dependency</span></span>

<span data-ttu-id="7bb7c-343">Una funzionalità avanzata della memorizzazione nella cache di output di ASP.NET è la dipendenza della cache SQL.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-343">An advanced feature of ASP.NET output caching is SQL cache dependency.</span></span> <span data-ttu-id="7bb7c-344">La dipendenza della cache SQL supporta due diverse modalità di funzionamento: una che utilizza un'implementazione ASP.NET del polling delle tabelle e una seconda modalità che utilizza le funzionalità di notifica delle query di SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-344">SQL cache dependency supports two different modes of operation: one that uses an ASP.NET implementation of table polling and a second mode that uses the query notification features of SQL Server 2005.</span></span> <span data-ttu-id="7bb7c-345">Lo strumento di registrazione SQL può essere utilizzato per configurare la modalità di funzionamento di polling delle tabelle.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-345">The SQL registration tool can be used to configure the table-polling mode of operation.</span></span>

### <a name="session-state"></a><span data-ttu-id="7bb7c-346">Stato della sessione</span><span class="sxs-lookup"><span data-stu-id="7bb7c-346">Session State</span></span>

<span data-ttu-id="7bb7c-347">Per impostazione predefinita, i valori e le informazioni dello stato sessione vengono archiviati in memoria all'interno del processo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-347">By default, session state values and information are stored in memory within the ASP.NET process.</span></span> <span data-ttu-id="7bb7c-348">In alternativa, è possibile archiviare i dati della sessione in un database di SQL Server, dove possono essere condivisi da più server Web.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-348">Alternatively, you can store session data in a SQL Server database, where it can be shared by multiple Web servers.</span></span> <span data-ttu-id="7bb7c-349">Se il database specificato per lo stato sessione con lo strumento di registrazione SQL non esiste già, l'utente corrente deve disporre dei diritti per creare database in SQL Server e per creare elementi dello schema all'interno di un database.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-349">If the database that you specify for session state with the SQL registration tool does not already exist, then the current user must have rights to create databases in SQL Server as well as to create schema elements within a database.</span></span> <span data-ttu-id="7bb7c-350">Se il database esiste, l'utente corrente deve disporre dei diritti per creare elementi dello schema nel database esistente.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-350">If the database does exist, then the current user must have rights to create schema elements in the existing database.</span></span>

<span data-ttu-id="7bb7c-351">Per installare il database dello stato sessione\_in SQL Server, eseguire lo strumento Aspnet regsql.exe e fornire le seguenti informazioni con il comando:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-351">To install the session state database on SQL Server, run the Aspnet\_regsql.exe tool and supply the following information with the command:</span></span>

- <span data-ttu-id="7bb7c-352">Nome dell'istanza di SQL ServerSQL Server , utilizzando l'opzione **-S.**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-352">The name of the SQL Server instance, using the **-S** option.</span></span>
- <span data-ttu-id="7bb7c-353">Credenziali di accesso per un account che dispone dell'autorizzazione per creare un database in un computer che esegue SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-353">The logon credentials for an account that has permission to create a database on a computer running SQL Server.</span></span> <span data-ttu-id="7bb7c-354">Utilizzare l'opzione **-E** per utilizzare l'utente attualmente connesso oppure l'opzione **-U** per specificare un ID utente insieme all'opzione **-P** per specificare una password.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-354">Use the **-E** option to use the currently logged-on user, or use the **-U** option to specify a user ID along with the **-P** option to specify a password.</span></span>
- <span data-ttu-id="7bb7c-355">L'opzione della riga di comando **-ssadd** per aggiungere il database dello stato sessione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-355">The **-ssadd** command-line option to add the session state database.</span></span>

<span data-ttu-id="7bb7c-356">Per impostazione predefinita, non\_è possibile utilizzare lo strumento Aspnet regsql.exe per installare il database dello stato sessione in un computer che esegue SQL Server 2005 Express Edition.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-356">By default, you cannot use the Aspnet\_regsql.exe tool to install the session state database on a computer running SQL Server 2005 Express Edition.</span></span>

### <a name="the-aspnet-browser-registration-tool---aspnet_regbrowsersexe"></a><span data-ttu-id="7bb7c-357">Lo strumento di registrazione\_del browser ASP.NET - aspnet regbrowsers.exe</span><span class="sxs-lookup"><span data-stu-id="7bb7c-357">The ASP.NET Browser Registration Tool - aspnet\_regbrowsers.exe</span></span>

<span data-ttu-id="7bb7c-358">In ASP.NET versione 1.1, il file Machine.config conteneva una sezione denominata &lt;browserCaps&gt;.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-358">In ASP.NET version 1.1, the Machine.config file contained a section called &lt;browserCaps&gt;.</span></span> <span data-ttu-id="7bb7c-359">Questa sezione contiene una serie di voci XML che definisce le configurazioni per vari browser in base a un'espressione regolare.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-359">This section contained a series of XML entries that defined the configurations for various browsers based on a regular expression.</span></span> <span data-ttu-id="7bb7c-360">Per ASP.NET versione 2.0, un nuovo file . BROWSER definisce i parametri di un particolare browser utilizzando le voci XML.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-360">For ASP.NET version 2.0, a new .BROWSER file defines the parameters of a particular browser using XML entries.</span></span> <span data-ttu-id="7bb7c-361">È possibile aggiungere informazioni su un nuovo browser aggiungendo un nuovo file . BROWSER nella cartella che si trova in %SystemRoot% .</span><span class="sxs-lookup"><span data-stu-id="7bb7c-361">You add information on a new browser by adding a new .BROWSER file to the folder located at %SystemRoot%\Microsoft.NET\Framework\version\CONFIG\Browsers on your system.</span></span>

<span data-ttu-id="7bb7c-362">Poiché un'applicazione non legge un file con estensione config ogni volta che richiede informazioni sul browser, è possibile creare un nuovo file . BROWSER ed eseguire\_Aspnet regbrowsers.exe per aggiungere le modifiche necessarie all'assembly.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-362">Because an application is not reading a .config file every time it requires browser information, you can create a new .BROWSER file and run Aspnet\_regbrowsers.exe to add the required changes to the assembly.</span></span> <span data-ttu-id="7bb7c-363">Ciò consente al server di accedere immediatamente alle nuove informazioni del browser in modo da non dover chiudere nessuna delle applicazioni per raccogliere le informazioni.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-363">This allows the server to access the new browser information immediately so you do not have to shut down any of your applications to pick up the information.</span></span> <span data-ttu-id="7bb7c-364">Un'applicazione può accedere alle funzionalità del browser tramite la proprietà Browser dell'oggetto HttpRequest corrente.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-364">An application can access browser capabilities through the Browser property of the current HttpRequest.</span></span>

<span data-ttu-id="7bb7c-365">Quando si esegue aspnet\_regbrowser.exe, sono disponibili le seguenti opzioni:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-365">The following options are available when running aspnet\_regbrowser.exe:</span></span>

| <span data-ttu-id="7bb7c-366">**Opzione**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-366">**Option**</span></span> | <span data-ttu-id="7bb7c-367">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-367">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="7bb7c-368">**-?**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-368">**-?**</span></span> | <span data-ttu-id="7bb7c-369">Visualizza il\_testo della Guida Aspnet regbbrowsers.exe nella finestra di comando.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-369">Displays the Aspnet\_regbbrowsers.exe Help text in the command window.</span></span> |
| <span data-ttu-id="7bb7c-370">**-i**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-370">**-i**</span></span> | <span data-ttu-id="7bb7c-371">Crea l'assembly delle funzionalità del browser runtime e lo installa nella Global Assembly Cache.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-371">Creates the runtime browser capabilities assembly and installs it in the global assembly cache.</span></span> |
| <span data-ttu-id="7bb7c-372">**-u**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-372">**-u**</span></span> | <span data-ttu-id="7bb7c-373">Disinstalla l'assembly delle funzionalità del browser runtime dalla Global Assembly Cache.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-373">Uninstalls the runtime browser capabilities assembly from the global assembly cache.</span></span> |

## <a name="the-aspnet-compilation-tool---aspnet_compilerexe"></a><span data-ttu-id="7bb7c-374">Strumento di compilazione\_ASP.NET - compilatore aspnet.exe</span><span class="sxs-lookup"><span data-stu-id="7bb7c-374">The ASP.NET Compilation Tool - aspnet\_compiler.exe</span></span>

<span data-ttu-id="7bb7c-375">Lo strumento di compilazione ASP.NET può essere utilizzato in due modi generali: per la compilazione sul posto e la compilazione per la distribuzione, in cui viene specificata una directory di output di destinazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-375">The ASP.NET Compilation tool can be used in two general ways: for in-place compilation and compilation for deployment, where a target output directory is specified.</span></span>

### <a name="compiling-an-application-in-place"></a>[<span data-ttu-id="7bb7c-376">Compilazione di un'applicazione sul postoCompiling an Application in Place</span><span class="sxs-lookup"><span data-stu-id="7bb7c-376">Compiling an Application in Place</span></span>](https://msdn.microsoft.com/library/ms229863.aspx)

<span data-ttu-id="7bb7c-377">Il ASP.NET strumento di compilazione può compilare un'applicazione sul posto, ovvero simula il comportamento di effettuare più richieste all'applicazione, causando così la compilazione regolare.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-377">The ASP.NET Compilation tool can compile an application in place, that is, it mimics the behavior of making multiple requests to the application, thus causing regular compilation.</span></span> <span data-ttu-id="7bb7c-378">Gli utenti di un sito precompilato non subiranno un ritardo causato dalla compilazione della pagina alla prima richiesta.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-378">Users of a pre-compiled site will not experience a delay caused by compiling the page on first request.</span></span>

<span data-ttu-id="7bb7c-379">Quando si precompila un sito sul posto, si applicano i seguenti elementi:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-379">When you precompile a site in place, the following items apply:</span></span>

- <span data-ttu-id="7bb7c-380">Il sito mantiene i file e la struttura di directory.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-380">The site retains its files and directory structure.</span></span>
- <span data-ttu-id="7bb7c-381">È necessario disporre di compilatori per tutti i linguaggi di programmazione utilizzati dal sito nel server.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-381">You must have compilers for all programming languages used by the site on the server.</span></span>
- <span data-ttu-id="7bb7c-382">Se la compilazione di un file non riesce, la compilazione dell'intero sito non riesce.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-382">If any file fails compilation, the entire site fails compilation.</span></span>

<span data-ttu-id="7bb7c-383">È inoltre possibile ricompilare un'applicazione sul posto dopo aver aggiunto nuovi file di origine.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-383">You can also recompile an application in place after adding new source files to it.</span></span> <span data-ttu-id="7bb7c-384">Lo strumento compila solo i file nuovi o modificati, a meno che non si includa l'opzione **-c.**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-384">The tool compiles only the new or changed files unless you include the **-c** option.</span></span>

> [!NOTE]
> <span data-ttu-id="7bb7c-385">La compilazione di un'applicazione che contiene un'applicazione annidata non compila l'applicazione annidata.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-385">Compilation of an application that contains a nested application does not compile the nested application.</span></span> <span data-ttu-id="7bb7c-386">L'applicazione annidata deve essere compilata separatamente.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-386">The nested application must be compiled separately.</span></span>

### <a name="compiling-an-application-for-deployment"></a>[<span data-ttu-id="7bb7c-387">Compilazione di un'applicazione per la distribuzioneCompiling an Application for Deployment</span><span class="sxs-lookup"><span data-stu-id="7bb7c-387">Compiling an Application for Deployment</span></span>](https://msdn.microsoft.com/library/ms229863.aspx)

<span data-ttu-id="7bb7c-388">Compilare un'applicazione per la distribuzione (compilazione in un percorso di destinazione) specificando il targetDir parametro.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-388">You compile an application for deployment (compilation to a target location) by specifying the targetDir parameter.</span></span> <span data-ttu-id="7bb7c-389">il targetDir può essere il percorso finale per l'applicazione Web o l'applicazione compilata può essere distribuita ulteriormente.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-389">The targetDir can be the final location for the Web application, or the compiled application can be further deployed.</span></span> <span data-ttu-id="7bb7c-390">L'utilizzo dell'opzione **-u** consente di compilare l'applicazione in modo che sia possibile apportare modifiche a determinati file nell'applicazione compilata senza ricompilarla.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-390">Using the **-u** option compiles the application in such a way that you can make changes to certain files in the compiled application without recompiling it.</span></span> <span data-ttu-id="7bb7c-391">Aspnet\_compiler.exe distingue tra tipi di file statici e dinamici e li gestisce in modo diverso durante la creazione dell'applicazione risultante.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-391">Aspnet\_compiler.exe makes a distinction between static and dynamic file types, and handles them differently when creating the resulting application.</span></span>

- <span data-ttu-id="7bb7c-392">I tipi di file statici sono quelli a cui non è associato un compilatore o un provider di compilazione, ad esempio file il cui nome ha estensioni quali css, gif, htm, html, jpg, js e così via.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-392">Static file types are those that do not have an associated compiler or build provider, such as files whose named have extensions such as .css, .gif, .htm, .html, .jpg, .js and so on.</span></span> <span data-ttu-id="7bb7c-393">Questi file vengono semplicemente copiati nella posizione di destinazione, con le relative posizioni nella struttura di directory mantenute.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-393">These files are simply copied to the target location, with their relative places in the directory structure preserved.</span></span>
- <span data-ttu-id="7bb7c-394">I tipi di file dinamici sono quelli a cui è associato un compilatore o un provider di compilazione, inclusi i file con estensioni di file specifiche di ASP.NET, ad esempio asax, ascx, ashx, aspx, browser, master e così via.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-394">Dynamic file types are those that have an associated compiler or build provider, including files with ASP.NET-specific file name extensions such as .asax, .ascx, .ashx, .aspx, .browser, .master, and so on.</span></span> <span data-ttu-id="7bb7c-395">Lo strumento di compilazione ASP.NET genera assembly da questi file.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-395">The ASP.NET Compilation tool generates assemblies from these files.</span></span> <span data-ttu-id="7bb7c-396">Se l'opzione **-u** viene omessa, lo strumento crea anche file con estensione . COMPILED che eseguono il mapping dei file di origine originali all'assembly.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-396">If the **-u** option is omitted, the tool also creates files with the file name extension .COMPILED that map the original source files to their assembly.</span></span> <span data-ttu-id="7bb7c-397">Per garantire che la struttura di directory dell'origine dell'applicazione venga mantenuta, lo strumento genera file segnaposto nei percorsi corrispondenti nell'applicazione di destinazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-397">To ensure that the directory structure of the application source is preserved, the tool generates placeholder files in the corresponding locations in the target application.</span></span>

<span data-ttu-id="7bb7c-398">È necessario utilizzare l'opzione **-u** per indicare che il contenuto dell'applicazione compilata può essere modificato.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-398">You must use the **-u** option to indicate that the content of the compiled application can be modified.</span></span> <span data-ttu-id="7bb7c-399">In caso contrario, le modifiche successive vengono ignorate o causano errori di runtime.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-399">Otherwise, subsequent modifications are ignored or cause run-time errors.</span></span>

<span data-ttu-id="7bb7c-400">Nella tabella seguente viene descritto come lo strumento di compilazione ASP.NET gestisce diversi tipi di file quando è inclusa l'opzione **-u.**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-400">The following table describes how the ASP.NET Compilation tool handles different file types when the **-u** option is included.</span></span>

| <span data-ttu-id="7bb7c-401">**Tipo file**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-401">**File type**</span></span> | <span data-ttu-id="7bb7c-402">**Azione del compilatore**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-402">**Compiler action**</span></span> |
| --- | --- |
| <span data-ttu-id="7bb7c-403">.ascx, .aspx, .master</span><span class="sxs-lookup"><span data-stu-id="7bb7c-403">.ascx, .aspx, .master</span></span> | <span data-ttu-id="7bb7c-404">Questi file sono suddivisi in markup e codice sorgente, che include sia &lt;i file code-behind che qualsiasi codice racchiuso in script runat : elementi "server".&gt;</span><span class="sxs-lookup"><span data-stu-id="7bb7c-404">These files are split into markup and source code, which includes both code-behind files and any code that is enclosed in &lt;script runat="server"&gt; elements.</span></span> <span data-ttu-id="7bb7c-405">Il codice sorgente viene compilato in assembly, con nomi derivati da un algoritmo hash, e gli assembly vengono inseriti nella directory Bin.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-405">Source code is compiled into assemblies, with names that are derived from a hashing algorithm, and the assemblies are placed in the Bin directory.</span></span> <span data-ttu-id="7bb7c-406">Qualsiasi codice inline, ovvero codice racchiuso \*\* % \*\* tra le \*\* &lt; \*\* parentesi quadre e , viene incluso nel markup e non compilato.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-406">Any inline code, that is, code enclosed between the **&lt;%** and **%&gt;** brackets, is included with markup and not compiled.</span></span> <span data-ttu-id="7bb7c-407">I nuovi file con lo stesso nome dei file di origine vengono creati per contenere il markup e inseriti nelle directory di output corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-407">New files with the same name as the source files are created to contain the markup and placed in the corresponding output directories.</span></span> |
| <span data-ttu-id="7bb7c-408">.ashx, .asmx</span><span class="sxs-lookup"><span data-stu-id="7bb7c-408">.ashx, .asmx</span></span> | <span data-ttu-id="7bb7c-409">Questi file non vengono compilati e vengono spostati nelle directory di output così come sono e non vengono compilati.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-409">These files are not compiled and are moved to the output directories as is and not compiled.</span></span> <span data-ttu-id="7bb7c-410">Se si desidera che il codice del gestore venga compilato, inserire il codice nei file di codice sorgente nella directory del\_codice dell'app.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-410">If you wish to have the handler code compiled, place the code into source code files in the App\_Code directory.</span></span> |
| <span data-ttu-id="7bb7c-411">.cs, .vb, .jsl, .cpp (esclusi i file code-behind per i tipi di file elencati in precedenza)</span><span class="sxs-lookup"><span data-stu-id="7bb7c-411">.cs, .vb, .jsl, .cpp (not including code-behind files for the file types listed earlier)</span></span> | <span data-ttu-id="7bb7c-412">Questi file vengono compilati e inclusi come risorsa negli assembly che vi fanno riferimento.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-412">These files are compiled and included as a resource in assemblies that reference them.</span></span> <span data-ttu-id="7bb7c-413">I file di origine non vengono copiati nella directory di output.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-413">Source files are not copied to the output directory.</span></span> <span data-ttu-id="7bb7c-414">Se non viene fatto riferimento a un file di codice, non viene compilato.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-414">If a code file is not referenced, it is not compiled.</span></span> |
| <span data-ttu-id="7bb7c-415">Tipi di file personalizzati</span><span class="sxs-lookup"><span data-stu-id="7bb7c-415">Custom file types</span></span> | <span data-ttu-id="7bb7c-416">Questi file non vengono compilati.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-416">These files are not compiled.</span></span> <span data-ttu-id="7bb7c-417">Questi file vengono copiati nelle directory di output corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-417">These files are copied to the corresponding output directories.</span></span> |
| <span data-ttu-id="7bb7c-418">File di codice\_sorgente nella sottodirectory Del codice dell'applicazioneSource code files in the App Code subdirectory</span><span class="sxs-lookup"><span data-stu-id="7bb7c-418">Source code files in the App\_Code subdirectory</span></span> | <span data-ttu-id="7bb7c-419">Questi file vengono compilati in assembly e inseriti nella directory Bin.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-419">These files are compiled into assemblies and placed in the Bin directory.</span></span> |
| <span data-ttu-id="7bb7c-420">File con estensione resx e\_risorsa nella sottodirectory App GlobalResources</span><span class="sxs-lookup"><span data-stu-id="7bb7c-420">.resx and .resource files in the App\_GlobalResources subdirectory</span></span> | <span data-ttu-id="7bb7c-421">Questi file vengono compilati in assembly e inseriti nella directory Bin.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-421">These files are compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="7bb7c-422">Nessuna\_sottodirectory App GlobalResources viene creata nella directory di output principale e nessun file con estensione resx o resources che si trovano nella directory di origine viene copiato nelle directory di output.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-422">No App\_GlobalResources subdirectory is created under the main output directory, and no .resx or .resources files located in the source directory are copied to the output directories.</span></span> |
| <span data-ttu-id="7bb7c-423">File con estensione resx e\_risorsa nella sottodirectory App LocalResources</span><span class="sxs-lookup"><span data-stu-id="7bb7c-423">.resx and .resource files in the App\_LocalResources subdirectory</span></span> | <span data-ttu-id="7bb7c-424">Questi file non vengono compilati e vengono copiati nelle directory di output corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-424">These files are not compiled and are copied to the corresponding output directories.</span></span> |
| <span data-ttu-id="7bb7c-425">File .skin nella\_sottodirectory App Themes</span><span class="sxs-lookup"><span data-stu-id="7bb7c-425">.skin files in the App\_Themes subdirectory</span></span> | <span data-ttu-id="7bb7c-426">I file .skin e i file dei temi statici non vengono compilati e vengono copiati nelle directory di output corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-426">The .skin files and static theme files are not compiled and are copied to the corresponding output directories.</span></span> |
| <span data-ttu-id="7bb7c-427">.browser Web.config Tipi di file statici Assembly già presenti nella directory Bin</span><span class="sxs-lookup"><span data-stu-id="7bb7c-427">.browser Web.config Static file types Assemblies already present in the Bin directory</span></span> | <span data-ttu-id="7bb7c-428">Questi file vengono copiati così come sono nelle directory di output.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-428">These files are copied as is to the output directories.</span></span> |

<span data-ttu-id="7bb7c-429">Nella tabella seguente viene descritto come lo strumento di compilazione ASP.NET gestisce diversi tipi di file quando l'opzione **-u** viene omessa.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-429">The following table describes how the ASP.NET Compilation tool handles different file types when the **-u** option is omitted.</span></span>

| <span data-ttu-id="7bb7c-430">**Tipo file**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-430">**File type**</span></span> | <span data-ttu-id="7bb7c-431">**Azione del compilatore**</span><span class="sxs-lookup"><span data-stu-id="7bb7c-431">**Compiler action**</span></span> |
| --- | --- |
| <span data-ttu-id="7bb7c-432">aspx, asmx, ashx, master</span><span class="sxs-lookup"><span data-stu-id="7bb7c-432">.aspx, .asmx, .ashx, .master</span></span> | <span data-ttu-id="7bb7c-433">Questi file sono suddivisi in markup e codice sorgente, che include sia &lt;i file code-behind che qualsiasi codice racchiuso in script runat : elementi "server".&gt;</span><span class="sxs-lookup"><span data-stu-id="7bb7c-433">These files are split into markup and source code, which includes both code-behind files and any code that is enclosed in &lt;script runat="server"&gt; elements.</span></span> <span data-ttu-id="7bb7c-434">Il codice sorgente viene compilato in assembly, con nomi derivati da un algoritmo hash.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-434">Source code is compiled into assemblies, with names that are derived from a hashing algorithm.</span></span> <span data-ttu-id="7bb7c-435">Gli assiemi risultanti vengono posizionati nella directory Bin.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-435">The resulting assemblies are placed in the Bin directory.</span></span> <span data-ttu-id="7bb7c-436">Qualsiasi codice inline, ovvero codice racchiuso \*\* % \*\* tra le \*\* &lt; \*\* parentesi quadre e , viene incluso nel markup e non compilato.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-436">Any inline code, that is, code enclosed between the **&lt;%** and **%&gt;** brackets, is included with markup and not compiled.</span></span> <span data-ttu-id="7bb7c-437">Il compilatore crea nuovi file per contenere il markup con lo stesso nome dei file di origine.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-437">The compiler creates new files to contain the markup with the same name as the source files.</span></span> <span data-ttu-id="7bb7c-438">Questi file risultanti vengono inseriti nella directory Bin.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-438">These resulting files are placed in the Bin directory.</span></span> <span data-ttu-id="7bb7c-439">Il compilatore crea anche file con lo stesso nome dei file di origine ma con estensione . COMPILED che contengono informazioni di mapping.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-439">The compiler also creates files with the same name as the source files but with the extension .COMPILED that contain mapping information.</span></span> <span data-ttu-id="7bb7c-440">Le. I file COMPILED vengono inseriti nelle directory di output corrispondenti alla posizione originale dei file di origine.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-440">The .COMPILED files are placed in the output directories corresponding to the original location of the source files.</span></span> |
| <span data-ttu-id="7bb7c-441">.ascx</span><span class="sxs-lookup"><span data-stu-id="7bb7c-441">.ascx</span></span> | <span data-ttu-id="7bb7c-442">Questi file sono suddivisi in markup e codice sorgente.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-442">These files are split into markup and source code.</span></span> <span data-ttu-id="7bb7c-443">Il codice sorgente viene compilato in assembly e inserito nella directory Bin, con nomi derivati da un algoritmo hash.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-443">Source code is compiled into assemblies and placed in the Bin directory, with names that are derived from a hashing algorithm.</span></span> <span data-ttu-id="7bb7c-444">Non viene generato alcun file di markup.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-444">No markup files are generated.</span></span> |
| <span data-ttu-id="7bb7c-445">.cs, .vb, .jsl, .cpp (esclusi i file code-behind per i tipi di file elencati in precedenza)</span><span class="sxs-lookup"><span data-stu-id="7bb7c-445">.cs, .vb, .jsl, .cpp (not including code-behind files for the file types listed earlier)</span></span> | <span data-ttu-id="7bb7c-446">Il codice sorgente a cui fanno riferimento gli assembly generati dai file ascx, ashx o aspx viene compilato in assembly e inserito nella directory Bin.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-446">Source code that is referenced by the assemblies generated from .ascx, .ashx, or .aspx files is compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="7bb7c-447">Non viene copiato alcun file di origine.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-447">No source files are copied.</span></span> |
| <span data-ttu-id="7bb7c-448">Tipi di file personalizzati</span><span class="sxs-lookup"><span data-stu-id="7bb7c-448">Custom file types</span></span> | <span data-ttu-id="7bb7c-449">Questi file vengono compilati come file dinamici.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-449">These files are compiled like dynamic files.</span></span> <span data-ttu-id="7bb7c-450">A seconda del tipo di file su cui sono basati, il compilatore può inserire i file di mapping nelle directory di output.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-450">Depending on the type of file they are based on, the compiler can place mapping files in the output directories.</span></span> |
| <span data-ttu-id="7bb7c-451">File nella\_sottodirectory Del codice dell'app</span><span class="sxs-lookup"><span data-stu-id="7bb7c-451">Files in the App\_Code subdirectory</span></span> | <span data-ttu-id="7bb7c-452">I file di codice sorgente in questa sottodirectory vengono compilati in assembly e inseriti nella directory Bin.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-452">Source code files in this subdirectory are compiled into assemblies and placed in the Bin directory.</span></span> |
| <span data-ttu-id="7bb7c-453">File nella\_sottodirectory App GlobalResources</span><span class="sxs-lookup"><span data-stu-id="7bb7c-453">Files in the App\_GlobalResources subdirectory</span></span> | <span data-ttu-id="7bb7c-454">Questi file vengono compilati in assembly e inseriti nella directory Bin.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-454">These files are compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="7bb7c-455">Nella\_directory di output principale non viene creata alcuna sottodirectory App GlobalResources.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-455">No App\_GlobalResources subdirectory is created under the main output directory.</span></span> <span data-ttu-id="7bb7c-456">Se il file di configurazione specifica appliesTo"All", i file con estensione resx e resources vengono copiati nelle directory di output.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-456">If the configuration file specifies appliesTo="All", .resx and .resources files are copied to the output directories.</span></span> <span data-ttu-id="7bb7c-457">Non vengono copiati se vi viene fatto riferimento da un [oggetto BuildProvider](https://msdn.microsoft.com/library/system.web.configuration.buildprovider.aspx).</span><span class="sxs-lookup"><span data-stu-id="7bb7c-457">They are not copied if they are referenced by a [BuildProvider](https://msdn.microsoft.com/library/system.web.configuration.buildprovider.aspx).</span></span> |
| <span data-ttu-id="7bb7c-458">File con estensione resx e\_risorsa nella sottodirectory App LocalResources</span><span class="sxs-lookup"><span data-stu-id="7bb7c-458">.resx and .resource files in the App\_LocalResources subdirectory</span></span> | <span data-ttu-id="7bb7c-459">Questi file vengono compilati in assembly con nomi univoci e inseriti nella directory Bin.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-459">These files are compiled into assemblies with unique names and placed in the Bin directory.</span></span> <span data-ttu-id="7bb7c-460">Nessun file con estensione resx o resource viene copiato nelle directory di output.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-460">No .resx or .resource files are copied to the output directories.</span></span> |
| <span data-ttu-id="7bb7c-461">File .skin nella\_sottodirectory App Themes</span><span class="sxs-lookup"><span data-stu-id="7bb7c-461">.skin files in the App\_Themes subdirectory</span></span> | <span data-ttu-id="7bb7c-462">I temi vengono compilati in assembly e inseriti nella directory Bin.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-462">Themes are compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="7bb7c-463">I file Stub vengono creati per i file .skin e inseriti nella directory di output corrispondente.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-463">Stub files are created for .skin files and placed in the corresponding output directory.</span></span> <span data-ttu-id="7bb7c-464">I file statici (ad esempio css) vengono copiati nelle directory di output.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-464">Static files (such as .css) are copied to the output directories.</span></span> |
| <span data-ttu-id="7bb7c-465">.browser Web.config Tipi di file statici Assembly già presenti nella directory Bin</span><span class="sxs-lookup"><span data-stu-id="7bb7c-465">.browser Web.config Static file types Assemblies already present in the Bin directory</span></span> | <span data-ttu-id="7bb7c-466">Questi file vengono copiati così come sono nella directory di output.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-466">These files are copied as is to the output directory.</span></span> |

### <a name="fixed-assembly-names"></a>[<span data-ttu-id="7bb7c-467">Nomi di assieme fissi</span><span class="sxs-lookup"><span data-stu-id="7bb7c-467">Fixed Assembly Names</span></span>](https://msdn.microsoft.com/library/ms229863.aspx##)

<span data-ttu-id="7bb7c-468">Alcuni scenari, ad esempio la distribuzione di un'applicazione Web utilizzando MSI Windows Installer, richiedono l'utilizzo di nomi di file e contenuti coerenti, nonché strutture di directory coerenti per identificare gli assembly o le impostazioni di configurazione per gli aggiornamenti.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-468">Some scenarios, such as deploying a Web application using the MSI Windows Installer, require the use of consistent file names and contents, as well as consistent directory structures to identify assemblies or configuration settings for updates.</span></span> <span data-ttu-id="7bb7c-469">In questi casi, è possibile utilizzare l'opzione **-fixednames** per specificare che lo strumento di compilazione ASP.NET deve compilare un assembly per ogni file di origine anziché utilizzare il punto in cui più pagine vengono compilate in assembly.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-469">In those cases, you can use the **-fixednames** option to specify that the ASP.NET Compilation tool should compile an assembly for each source file instead of using the where multiple pages are compiled into assemblies.</span></span> <span data-ttu-id="7bb7c-470">Questo può portare a un numero elevato di assembly, quindi se si è interessati alla scalabilità è necessario utilizzare questa opzione con cautela.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-470">This can lead to a large number of assemblies, so if you are concerned with scalability you should use this option with caution.</span></span>

### <a name="strong-name-compilation"></a>[<span data-ttu-id="7bb7c-471">Compilazione con nome sicuroStrong-Name Compilation</span><span class="sxs-lookup"><span data-stu-id="7bb7c-471">Strong-Name Compilation</span></span>](https://msdn.microsoft.com/library/ms229863.aspx##)

<span data-ttu-id="7bb7c-472">Le opzioni **-aptca**, **-delaysign**, **-keycontainer** e **-keyfile** \_vengono fornite in modo che sia possibile utilizzare il compilatore Aspnet.exe per creare assembly con nome sicuro senza utilizzare separatamente [lo strumento Nome sicuro (Sn.exe).](https://msdn.microsoft.com/library/k5b5tt23.aspx)</span><span class="sxs-lookup"><span data-stu-id="7bb7c-472">The **-aptca**, **-delaysign**, **-keycontainer** and **-keyfile** options are provided so that you can use Aspnet\_compiler.exe to create strongly named assemblies without using the [Strong Name Tool (Sn.exe)](https://msdn.microsoft.com/library/k5b5tt23.aspx) separately.</span></span> <span data-ttu-id="7bb7c-473">Queste opzioni corrispondono, rispettivamente, a **AllowPartiallyTrustedCallersAttribute**, **AssemblyDelaySignAttribute**, **AssemblyKeyNameAttribute**e **AssemblyKeyFileAttribute**.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-473">These options correspond, respectively, to **AllowPartiallyTrustedCallersAttribute**, **AssemblyDelaySignAttribute**, **AssemblyKeyNameAttribute**, and **AssemblyKeyFileAttribute**.</span></span>

<span data-ttu-id="7bb7c-474">La discussione di questi attributi non rientra nell'ambito di questo corso.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-474">Discussion of these attributes is outside of the scope of this course.</span></span>

## <a name="labs"></a><span data-ttu-id="7bb7c-475">Lab</span><span class="sxs-lookup"><span data-stu-id="7bb7c-475">Labs</span></span>

<span data-ttu-id="7bb7c-476">Ognuno dei laboratori seguenti si basa sui lab precedenti.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-476">Each of the following labs builds on the previous labs.</span></span> <span data-ttu-id="7bb7c-477">Avrete bisogno di fare in ordine.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-477">You will need to do them in order.</span></span>

## <a name="lab-1-using-the-configuration-api"></a><span data-ttu-id="7bb7c-478">Laboratorio 1: Utilizzo dell'API di configurazione</span><span class="sxs-lookup"><span data-stu-id="7bb7c-478">Lab 1: Using the Configuration API</span></span>

1. <span data-ttu-id="7bb7c-479">Creare un nuovo sito Web denominato *mod9lab*.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-479">Create a new Web site called *mod9lab*.</span></span>
2. <span data-ttu-id="7bb7c-480">Aggiungere un nuovo file di configurazione Web al sito.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-480">Add a new Web Configuration File to the site.</span></span>
3. <span data-ttu-id="7bb7c-481">Aggiungere quanto segue al file web.config:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-481">Add the following to the web.config file:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample14.xml)]

<span data-ttu-id="7bb7c-482">In questo modo si garantisce l'autorizzazione per salvare le modifiche apportate al file web.config.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-482">This will ensure that you have permission to save changes to the web.config file.</span></span>

1. <span data-ttu-id="7bb7c-483">Aggiungere un nuovo controllo Label a Default.aspx e modificare l'ID in **lblDebugStatus**.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-483">Add a new Label control to Default.aspx and change the ID to **lblDebugStatus**.</span></span>
2. <span data-ttu-id="7bb7c-484">Aggiungere un nuovo controllo Button a Default.aspx.Add a new Button control to Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-484">Add a new Button control to Default.aspx.</span></span>
3. <span data-ttu-id="7bb7c-485">Modificare l'ID del controllo Button in **btnToggleDebug** e il testo per **attivare/disattivare lo stato**di debug .</span><span class="sxs-lookup"><span data-stu-id="7bb7c-485">Change the Button control's ID to **btnToggleDebug** and the Text to **Toggle Debug Status**.</span></span>
4. <span data-ttu-id="7bb7c-486">Aprire la visualizzazione codice per il file code-behind di Default.aspx e aggiungere un'istruzione **using** per **System.Web.Configuration** come segue:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-486">Open the Code View for the code-behind file of Default.aspx and add a **using** statement for **System.Web.Configuration** as follows:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample15.cs)]

1. <span data-ttu-id="7bb7c-487">Aggiungere due variabili private alla\_classe e un metodo Page Init come illustrato di seguito:Add two private variables to the class and a Page Init method as shown below:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-487">Add two private variables to the class and a Page\_Init method as shown below:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample16.cs)]

1. <span data-ttu-id="7bb7c-488">Aggiungere il codice\_seguente a Caricamento pagina:Add the following code to Page Load:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-488">Add the following code to Page\_Load:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample17.cs)]

1. <span data-ttu-id="7bb7c-489">Salvare ed esplorare default.aspx.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-489">Save and browse default.aspx.</span></span> <span data-ttu-id="7bb7c-490">Si noti che il Label controllo Visualizza lo stato di debug corrente.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-490">Notice that the Label control displays the current debug status.</span></span>
2. <span data-ttu-id="7bb7c-491">Fare doppio clic sul controllo Button nella finestra di progettazione e aggiungere il codice seguente all'evento Click per il controllo Button:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-491">Double-click on the Button control in the designer and add the following code to the Click event for the Button control:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample18.cs)]

1. <span data-ttu-id="7bb7c-492">Salvare ed esplorare default.aspx e fare clic sul pulsante.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-492">Save and browse default.aspx and click the button.</span></span>
2. <span data-ttu-id="7bb7c-493">Aprire il file web.config dopo ogni clic del &lt;&gt; pulsante e osservare l'attributo **debug** nella sezione compilation.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-493">Open the web.config file after each button click and observe the **debug** attribute in the &lt;compilation&gt; section.</span></span>

## <a name="lab-2-logging-application-restarts"></a><span data-ttu-id="7bb7c-494">Laboratorio 2: Registrazione dei riavvii dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="7bb7c-494">Lab 2: Logging Application Restarts</span></span>

<span data-ttu-id="7bb7c-495">In questa esercitazione verrà creato codice che consentirà di attivare o disattivare la registrazione degli arresti, degli avvii e delle ricompilazioni dell'applicazione nel Visualizzatore eventi.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-495">In this lab, you will create code that will allow you to toggle the logging of application shutdowns, startups, and recompilations in the Event Viewer.</span></span>

1. <span data-ttu-id="7bb7c-496">Aggiungere un controllo DropDownList a default.aspx e modificare l'ID in ddlLogAppEvents.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-496">Add a DropDownList to default.aspx and change the ID to ddlLogAppEvents.</span></span>
2. <span data-ttu-id="7bb7c-497">Impostare la proprietà **AutoPostBack** per DropDownList su **true**.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-497">Set the **AutoPostBack** property for the DropDownList to **true**.</span></span>
3. <span data-ttu-id="7bb7c-498">Aggiungere tre elementi per il Items insieme per il DropDownList.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-498">Add three items to the Items collection for the DropDownList.</span></span> <span data-ttu-id="7bb7c-499">Creare il **testo** per il primo elemento *Selezionare Valore* e il valore -1.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-499">Make the **Text** for the first item *Select Value* and the value -1.</span></span> <span data-ttu-id="7bb7c-500">Impostare il **testo** e il **valore** del secondo elemento **True** e il **testo** e il **valore** del terzo elemento **False**.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-500">Make the **Text** and **Value** of the second item **True** and the **Text** and **Value** of the third item **False**.</span></span>
4. <span data-ttu-id="7bb7c-501">Aggiungere una nuova etichetta a default.aspx.Add a new Label to default.aspx.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-501">Add a new Label to default.aspx.</span></span> <span data-ttu-id="7bb7c-502">Modificare l'ID in **lblLogAppEvents**.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-502">Change the ID to **lblLogAppEvents**.</span></span>
5. <span data-ttu-id="7bb7c-503">Aprire la visualizzazione code-behind per default.aspx e aggiungere una nuova dichiarazione per una variabile di tipo HealthMonitoringSection come illustrato di seguito:Open the code-behind view for default.aspx and add a new declaration for a variable of type HealthMonitoringSection as shown below:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-503">Open the code-behind view for default.aspx and add a new declaration for a variable of type HealthMonitoringSection as shown below:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample19.cs)]

1. <span data-ttu-id="7bb7c-504">Aggiungere il codice seguente al\_codice esistente in Page Init:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-504">Add the following code to the existing code in Page\_Init:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample20.cs)]

1. <span data-ttu-id="7bb7c-505">Fare doppio clic su DropDownList e aggiungere il codice seguente all'evento SelectedIndexChanged:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-505">Double-click on the DropDownList and add the following code to the SelectedIndexChanged event:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample21.cs)]

1. <span data-ttu-id="7bb7c-506">Esplorare default.aspx.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-506">Browse default.aspx.</span></span>
2. <span data-ttu-id="7bb7c-507">Impostare l'elenco a discesa **su False**.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-507">Set the dropdown to **False**.</span></span>
3. <span data-ttu-id="7bb7c-508">Cancellare il registro applicazioni nel Visualizzatore eventi.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-508">Clear the Application log in the Event Viewer.</span></span>
4. <span data-ttu-id="7bb7c-509">Fare clic sul pulsante per modificare l'attributo Debug per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-509">Click the button to change the Debug attribute for the application.</span></span>
5. <span data-ttu-id="7bb7c-510">Aggiornare il registro applicazioni nel Visualizzatore eventi.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-510">Refresh the Application log in the Event Viewer.</span></span> 

    1. <span data-ttu-id="7bb7c-511">Sono stati registrati eventi?</span><span class="sxs-lookup"><span data-stu-id="7bb7c-511">Were any events logged?</span></span>
    2. <span data-ttu-id="7bb7c-512">Perché o perché no?</span><span class="sxs-lookup"><span data-stu-id="7bb7c-512">Why or why not?</span></span>
6. <span data-ttu-id="7bb7c-513">Impostare l'elenco a discesa su **True.Set** the dropdown to True.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-513">Set the dropdown to **True.**</span></span>
7. <span data-ttu-id="7bb7c-514">Fare clic sul pulsante per attivare o disattivare l'attributo Debug per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-514">Click the button to toggle the Debug attribute for the application.</span></span>
8. <span data-ttu-id="7bb7c-515">Aggiornare l'account di accesso dell'applicazione nel Visualizzatore eventi.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-515">Refresh the Application login the Event Viewer.</span></span> 

    1. <span data-ttu-id="7bb7c-516">Sono stati registrati eventi?</span><span class="sxs-lookup"><span data-stu-id="7bb7c-516">Were any events logged?</span></span>
    2. <span data-ttu-id="7bb7c-517">Qual è stato il motivo dell'arresto dell'app?</span><span class="sxs-lookup"><span data-stu-id="7bb7c-517">What was the reason for the app shutdown?</span></span>
9. <span data-ttu-id="7bb7c-518">Provare ad attivare e disattivare la registrazione ed esaminare le modifiche apportate al file web.config.</span><span class="sxs-lookup"><span data-stu-id="7bb7c-518">Experiment with turning on and off logging and look at the changes made to the web.config file.</span></span>

## <a name="more-information"></a><span data-ttu-id="7bb7c-519">Altre informazioni:</span><span class="sxs-lookup"><span data-stu-id="7bb7c-519">More Information:</span></span>

<span data-ttu-id="7bb7c-520">ASP.NET modello di provider di 2.0 consente di creare provider personalizzati non solo per la strumentazione dell'applicazione, ma anche per molti altri usi, ad esempio appartenenza, profili e così via. Per informazioni dettagliate sulla scrittura di un provider personalizzato per registrare gli eventi dell'applicazione in un file di testo, visitare [questo collegamento](https://msdn.microsoft.com/library/default.asp?url=/library/dnaspp/html/ASPNETProvMod_Prt6.asp).</span><span class="sxs-lookup"><span data-stu-id="7bb7c-520">ASP.NET 2.0's Provider model allows you to create your own providers for not only application instrumentation, but for many other uses as well such as Membership, Profiles, etc. For detailed information on writing a custom provider to log application events to a text file, visit [this link](https://msdn.microsoft.com/library/default.asp?url=/library/dnaspp/html/ASPNETProvMod_Prt6.asp).</span></span>
