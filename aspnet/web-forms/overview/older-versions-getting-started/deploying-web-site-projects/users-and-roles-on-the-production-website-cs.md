---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/users-and-roles-on-the-production-website-cs
title: Utenti e ruoli nel sito Web di produzioneC#() | Microsoft Docs
author: rick-anderson
description: Lo strumento di amministrazione del sito Web ASP.NET (WSAT) fornisce un'interfaccia utente basata sul Web per la configurazione delle impostazioni di appartenenza e ruoli e per la creazione, la modifica di...
ms.author: riande
ms.date: 06/09/2009
ms.assetid: dbc54313-5d05-4285-98b3-726edea6d0c9
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/users-and-roles-on-the-production-website-cs
msc.type: authoredcontent
ms.openlocfilehash: c47bd2c1661f129dd8856916de04b8ba459fbfec
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/06/2020
ms.locfileid: "78548244"
---
# <a name="users-and-roles-on-the-production-website-c"></a><span data-ttu-id="f452a-103">Utenti e ruoli nel sito Web di produzioneC#()</span><span class="sxs-lookup"><span data-stu-id="f452a-103">Users and Roles On The Production Website (C#)</span></span>

<span data-ttu-id="f452a-104">di [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="f452a-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="f452a-105">Scaricare PDF</span><span class="sxs-lookup"><span data-stu-id="f452a-105">Download PDF</span></span>](https://download.microsoft.com/download/5/C/5/5C57DB8C-5DEA-4B3A-92CA-4405544D313B/aspnet_tutorial16_CustomAWAT_cs.pdf)

> <span data-ttu-id="f452a-106">Lo strumento di amministrazione del sito Web ASP.NET (WSAT) fornisce un'interfaccia utente basata sul Web per la configurazione delle impostazioni di appartenenza e ruoli e per la creazione, la modifica e l'eliminazione di utenti e ruoli.</span><span class="sxs-lookup"><span data-stu-id="f452a-106">The ASP.NET Website Administration Tool (WSAT) provides a web-based user interface for configuring Membership and Roles settings and for creating, editing, and deleting users and roles.</span></span> <span data-ttu-id="f452a-107">Sfortunatamente, il WSAT funziona solo se visitato da localhost, ovvero non è possibile raggiungere lo strumento di amministrazione del sito Web di produzione tramite il browser.</span><span class="sxs-lookup"><span data-stu-id="f452a-107">Unfortunately, the WSAT only works when visited from localhost, meaning that you cannot reach the production website's Administration Tool through your browser.</span></span> <span data-ttu-id="f452a-108">La novità è che esistono soluzioni alternative che consentono di gestire gli utenti e i ruoli per la produzione.</span><span class="sxs-lookup"><span data-stu-id="f452a-108">The good news is that there are workarounds that make it possible to manage users and roles on production.</span></span> <span data-ttu-id="f452a-109">Questa esercitazione esamina queste soluzioni alternative e altre.</span><span class="sxs-lookup"><span data-stu-id="f452a-109">This tutorial looks at these workarounds and others.</span></span>

## <a name="introduction"></a><span data-ttu-id="f452a-110">Introduzione</span><span class="sxs-lookup"><span data-stu-id="f452a-110">Introduction</span></span>

<span data-ttu-id="f452a-111">In ASP.NET 2,0 sono stati introdotti numerosi *servizi applicativi*, ovvero una suite di servizi di blocco predefiniti che è possibile aggiungere all'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="f452a-111">ASP.NET 2.0 introduced a number of *application services*, which are a suite of building block services that you can add to your web application.</span></span> <span data-ttu-id="f452a-112">I servizi appartenenza e ruoli sono stati aggiunti al sito Web revisioni del libro nell' [esercitazione *configurazione di un sito Web che usa servizi per le applicazioni* ](configuring-a-website-that-uses-application-services-cs.md).</span><span class="sxs-lookup"><span data-stu-id="f452a-112">We added the Membership and Roles services to the Book Reviews website back in the [*Configuring a Website That Uses Application Services* tutorial](configuring-a-website-that-uses-application-services-cs.md).</span></span> <span data-ttu-id="f452a-113">Il servizio di appartenenza facilita la creazione e la gestione degli account utente; il servizio ruoli offre un'API per la categorizzazione degli utenti in gruppi.</span><span class="sxs-lookup"><span data-stu-id="f452a-113">The Membership service facilitates creating and managing user accounts; the Roles service offers an API for categorizing users into groups.</span></span> <span data-ttu-id="f452a-114">Il sito revisioni del libro ha tre account utente: Scott, Jisun e Alice e un singolo ruolo, admin, con Scott e Jisun nel ruolo di amministratore.</span><span class="sxs-lookup"><span data-stu-id="f452a-114">The Book Reviews site has three user accounts - Scott, Jisun, and Alice - and a single role, Admin, with Scott and Jisun in the Admin role.</span></span>

<span data-ttu-id="f452a-115">ASP. I servizi delle applicazioni di rete non sono collegati a un'implementazione specifica.</span><span class="sxs-lookup"><span data-stu-id="f452a-115">ASP.NET's application services are not tied to a specific implementation.</span></span> <span data-ttu-id="f452a-116">Al contrario, si indica ai servizi dell'applicazione di utilizzare un determinato *provider*e tale provider implementa il servizio utilizzando una tecnologia particolare.</span><span class="sxs-lookup"><span data-stu-id="f452a-116">Instead, you instruct the application services to use a particular *provider*, and that provider implements the service using a particular technology.</span></span> <span data-ttu-id="f452a-117">È stata configurata l'applicazione Web Book revisioni per usare i provider `SqlMembershipProvider` e `SqlRoleProvider` per i servizi di appartenenza e ruoli.</span><span class="sxs-lookup"><span data-stu-id="f452a-117">We configured the Book Reviews web application to use the `SqlMembershipProvider` and `SqlRoleProvider` providers for the Membership and Roles services.</span></span> <span data-ttu-id="f452a-118">Questi due provider archiviano le informazioni sugli account utente e sui ruoli in un database di SQL Server e sono i provider più comunemente utilizzati per le applicazioni Web basate su Internet ospitate in una società di hosting Web.</span><span class="sxs-lookup"><span data-stu-id="f452a-118">These two providers store user account and role information in a SQL Server database and are the most commonly used providers for Internet-based web applications hosted at a web hosting company.</span></span>

<span data-ttu-id="f452a-119">Un problema comune per gli sviluppatori che utilizzano i servizi appartenenza e ruoli è la gestione degli utenti e dei ruoli nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="f452a-119">A common challenge for developers using the Membership and Roles services is managing the users and roles on the production environment.</span></span> <span data-ttu-id="f452a-120">Come si elimina un account utente dal sito Web di produzione, si aggiunge un nuovo ruolo o si aggiunge un utente esistente a un ruolo esistente?</span><span class="sxs-lookup"><span data-stu-id="f452a-120">How do you delete a user account from the production website, add a new role, or add an existing user to an existing role?</span></span> <span data-ttu-id="f452a-121">Questa esercitazione illustra diverse tecniche per la gestione di utenti e ruoli nel sito Web di produzione.</span><span class="sxs-lookup"><span data-stu-id="f452a-121">This tutorial explores different techniques for managing users and roles on the production website.</span></span>

## <a name="using-the-aspnet-web-site-administration-tool"></a><span data-ttu-id="f452a-122">Utilizzo dello strumento Amministrazione sito Web di ASP.NET</span><span class="sxs-lookup"><span data-stu-id="f452a-122">Using the ASP.NET Web Site Administration Tool</span></span>

<span data-ttu-id="f452a-123">ASP.NET include uno [strumento di amministrazione del sito Web](https://msdn.microsoft.com/library/yy40ytx0.aspx) (WSAT) che semplifica la creazione e la gestione di account utente e ruoli e per specificare le regole di autorizzazione basate su utenti e ruoli.</span><span class="sxs-lookup"><span data-stu-id="f452a-123">ASP.NET includes a [Web Site Administration Tool](https://msdn.microsoft.com/library/yy40ytx0.aspx) (WSAT) that makes it easy to create and manage user accounts and roles and to specify user- and role-based authorization rules.</span></span> <span data-ttu-id="f452a-124">Per usare WSAT, fare clic sull'icona di configurazione di ASP.NET nel Esplora soluzioni o andare al sito Web o al menu progetto e scegliere l'opzione di configurazione ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="f452a-124">To use the WSAT, click the ASP.NET Configuration icon in the Solution Explorer, or go to the Website or Project menu and choose the ASP.NET Configuration option.</span></span> <span data-ttu-id="f452a-125">Entrambi gli approcci avviano un Web browser e lo indirizzano a WSAT a un indirizzo come: `http://localhost:portNumber/asp.netwebadminfiles/default.aspx?applicationPhysicalPath=pathToApplication`</span><span class="sxs-lookup"><span data-stu-id="f452a-125">Either approach launches a web browser and points it to the WSAT at an address like: `http://localhost:portNumber/asp.netwebadminfiles/default.aspx?applicationPhysicalPath=pathToApplication`</span></span>

<span data-ttu-id="f452a-126">Il WSAT è suddiviso in tre sezioni:</span><span class="sxs-lookup"><span data-stu-id="f452a-126">The WSAT is divided into three sections:</span></span>

- <span data-ttu-id="f452a-127">**Sicurezza** : gestisce utenti, ruoli e regole di autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="f452a-127">**Security** - manage users, roles, and authorization rules.</span></span>
- <span data-ttu-id="f452a-128">**ApplicationConfiguration** -Gestisci le impostazioni &lt;appSettings&gt; e SMTP da qui.</span><span class="sxs-lookup"><span data-stu-id="f452a-128">**ApplicationConfiguration** - manage the &lt;appSettings&gt; and SMTP settings from here.</span></span> <span data-ttu-id="f452a-129">È anche possibile portare l'applicazione offline e gestire le impostazioni di debug e traccia da qui, nonché specificare la pagina di errore personalizzata predefinita.</span><span class="sxs-lookup"><span data-stu-id="f452a-129">You can also take the application offline and manage debugging and tracing settings from here, as well as specify the default custom error page.</span></span>
- <span data-ttu-id="f452a-130">**ProviderConfiguration** -configura i provider usati dai servizi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f452a-130">**ProviderConfiguration** - configure the providers used by the application services.</span></span>

<span data-ttu-id="f452a-131">La sezione sicurezza (mostrata nella **Figura 1**) include i collegamenti per la creazione di nuovi utenti, la gestione degli utenti, la creazione e la gestione dei ruoli e la creazione e la gestione delle regole di accesso.</span><span class="sxs-lookup"><span data-stu-id="f452a-131">The Security section (shown in **Figure 1**) includes links for creating new users, managing users, creating and managing roles, and creating and managing access rules.</span></span> <span data-ttu-id="f452a-132">Da qui è possibile aggiungere un nuovo ruolo al sistema, eliminare un utente esistente o aggiungere o rimuovere ruoli da un account utente specifico.</span><span class="sxs-lookup"><span data-stu-id="f452a-132">From here you can add a new role to the system, delete an existing user, or add or remove roles from a particular user account.</span></span>

[![](users-and-roles-on-the-production-website-cs/_static/image2.png)](users-and-roles-on-the-production-website-cs/_static/image1.png)

<span data-ttu-id="f452a-133">**Figura 1**: la sezione sicurezza di WSAT include le opzioni per la gestione di utenti e ruoli</span><span class="sxs-lookup"><span data-stu-id="f452a-133">**Figure 1**: The WSAT Security Section Includes Options for Managing Users and Roles</span></span>  
<span data-ttu-id="f452a-134">([Fare clic per visualizzare l'immagine con dimensioni complete](users-and-roles-on-the-production-website-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="f452a-134">([Click to view full-size image](users-and-roles-on-the-production-website-cs/_static/image3.png))</span></span>

<span data-ttu-id="f452a-135">Sfortunatamente, WSAT è accessibile solo localmente.</span><span class="sxs-lookup"><span data-stu-id="f452a-135">Unfortunately, the WSAT is only accessible locally.</span></span> <span data-ttu-id="f452a-136">Non è possibile visitare il WSAT nel sito Web di produzione remoto; Se si visita `www.yoursite.com/asp.netwebadminfiles/default.aspx` si ottiene una risposta 404 non trovata.</span><span class="sxs-lookup"><span data-stu-id="f452a-136">You cannot visit the WSAT on your remote production website; if you visit `www.yoursite.com/asp.netwebadminfiles/default.aspx` you get a 404 Not Found response.</span></span> <span data-ttu-id="f452a-137">Il codice che consente di WSAT usa le classi `Membership` e `Roles` nel .NET Framework per creare, modificare ed eliminare utenti e ruoli.</span><span class="sxs-lookup"><span data-stu-id="f452a-137">The code that powers the WSAT uses the `Membership` and `Roles` classes in the .NET Framework to create, edit, and delete users and roles.</span></span> <span data-ttu-id="f452a-138">Queste classi consultano le informazioni di configurazione dell'applicazione Web per determinare il provider da usare. Tornando all'esercitazione [ *configurazione di un sito Web che usa servizi per le applicazioni viene* ](configuring-a-website-that-uses-application-services-cs.md) configurato il sito Web revisioni del libro per l'uso dei provider `SqlMembershipProvider` e `SqlRoleProvider`.</span><span class="sxs-lookup"><span data-stu-id="f452a-138">These classes consult the web application's configuration information to determine what provider to use; back in the [*Configuring a Website That Uses Application Services* tutorial](configuring-a-website-that-uses-application-services-cs.md) we setup the Book Reviews website to use the `SqlMembershipProvider` and `SqlRoleProvider` providers.</span></span> <span data-ttu-id="f452a-139">Questa operazione ha richiesto l'aggiunta di `<membership>` e `<roleManager>` sezioni per `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="f452a-139">This entailed adding `<membership>` and `<roleManager>` sections to `Web.config`.</span></span>

[!code-xml[Main](users-and-roles-on-the-production-website-cs/samples/sample1.xml)]

<span data-ttu-id="f452a-140">Si noti che le sezioni `<membership>` e `<roleManager>` fanno riferimento rispettivamente ai provider di `SqlMembershipProvider` e `SqlRoleProvider` nell'attributo `type`.</span><span class="sxs-lookup"><span data-stu-id="f452a-140">Note that the `<membership>` and `<roleManager>` sections reference the `SqlMembershipProvider` and `SqlRoleProvider` providers in their `type` attribute, respectively.</span></span> <span data-ttu-id="f452a-141">Questi provider archiviano le informazioni relative a utenti e ruoli in un database di SQL Server specificato.</span><span class="sxs-lookup"><span data-stu-id="f452a-141">These providers store the user and role information in a specified SQL Server database.</span></span> <span data-ttu-id="f452a-142">Il database utilizzato da tali provider viene specificato dall'attributo `connectionStringName`, `ReviewsConnectionString`, definito nel file `~/ConfigSections/databaseConnectionStrings.config`.</span><span class="sxs-lookup"><span data-stu-id="f452a-142">The database used by these providers is specified by the `connectionStringName` attribute, `ReviewsConnectionString`, which is defined in the `~/ConfigSections/databaseConnectionStrings.config` file.</span></span> <span data-ttu-id="f452a-143">Ricordare che il file `databaseConnectionStrings.config` nell'ambiente di sviluppo contiene la stringa di connessione al database di sviluppo, mentre il file di `databaseConnectionStrings.config` in produzione contiene la stringa di connessione al database di produzione.</span><span class="sxs-lookup"><span data-stu-id="f452a-143">Recall that the `databaseConnectionStrings.config` file in the development environment contains the connection string to the development database whereas the `databaseConnectionStrings.config` file on production contains the connection string to the production database.</span></span>

<span data-ttu-id="f452a-144">In breve, il WSAT deve essere accessibile localmente tramite l'ambiente di sviluppo e funziona con le informazioni relative a utenti e ruoli nel database specificato nel file di `databaseConnectionStrings.config`.</span><span class="sxs-lookup"><span data-stu-id="f452a-144">In a nutshell, the WSAT must be accessed locally through the development environment, and it works with the user and role information in the database specified in the `databaseConnectionStrings.config` file.</span></span> <span data-ttu-id="f452a-145">Di conseguenza, se si modificano le informazioni sulla stringa di connessione nel file di `databaseConnectionStrings.config` nell'ambiente di sviluppo, è possibile usare WSAT localmente per gestire utenti e ruoli nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="f452a-145">Consequently, if we change the connection string information in the `databaseConnectionStrings.config` file on the development environment we can use the WSAT locally to manage users and roles in the production environment.</span></span>

<span data-ttu-id="f452a-146">Per illustrare questa funzionalità, aprire il file di `databaseConnectionStrings.config` in Visual Studio nell'ambiente di sviluppo e sostituire la stringa di connessione del database di sviluppo con la stringa di connessione del database di produzione.</span><span class="sxs-lookup"><span data-stu-id="f452a-146">To illustrate this functionality, open the `databaseConnectionStrings.config` file in Visual Studio on the development environment and replace the development database connection string with the production database connection string.</span></span> <span data-ttu-id="f452a-147">Avviare quindi il WSAT, passare alla scheda sicurezza e aggiungere un nuovo utente denominato Sam con password "password!".</span><span class="sxs-lookup"><span data-stu-id="f452a-147">Then launch the WSAT, go the Security tab, and add a new user named Sam with password "password!"</span></span> <span data-ttu-id="f452a-148">(meno le virgolette).</span><span class="sxs-lookup"><span data-stu-id="f452a-148">(less the quotation marks).</span></span> <span data-ttu-id="f452a-149">**Nella figura 2** viene visualizzata la schermata WSAT durante la creazione dell'account.</span><span class="sxs-lookup"><span data-stu-id="f452a-149">**Figure 2** shows the WSAT screen when creating this account.</span></span>

[![](users-and-roles-on-the-production-website-cs/_static/image5.png)](users-and-roles-on-the-production-website-cs/_static/image4.png)

<span data-ttu-id="f452a-150">**Figura 2**: creare un nuovo utente denominato Sam nell'ambiente di produzione</span><span class="sxs-lookup"><span data-stu-id="f452a-150">**Figure 2**: Create a New User Named Sam In the Production Environment</span></span>  
<span data-ttu-id="f452a-151">([Fare clic per visualizzare l'immagine con dimensioni complete](users-and-roles-on-the-production-website-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="f452a-151">([Click to view full-size image](users-and-roles-on-the-production-website-cs/_static/image6.png))</span></span>

<span data-ttu-id="f452a-152">Poiché è stata modificata la stringa di connessione in `databaseConnectionStrings.config` in modo che punti al server di database di produzione, Sam è stato aggiunto come utente nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="f452a-152">Because we changed the connection string in `databaseConnectionStrings.config` to point to the production database server, Sam was added as a user in the production environment.</span></span> <span data-ttu-id="f452a-153">Per verificarlo, modificare la stringa di connessione nel file di `databaseConnectionStrings.config` di nuovo nel database di sviluppo, quindi visitare la pagina `Login.aspx` nell'ambiente di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="f452a-153">To verify this, change the connection string in the `databaseConnectionStrings.config` file back to the development database and then visit the `Login.aspx` page in the development environment.</span></span> <span data-ttu-id="f452a-154">Provare ad accedere come Sam (vedere la **Figura 3**).</span><span class="sxs-lookup"><span data-stu-id="f452a-154">Try to sign in as Sam (see **Figure 3**).</span></span>

[![](users-and-roles-on-the-production-website-cs/_static/image8.png)](users-and-roles-on-the-production-website-cs/_static/image7.png)

<span data-ttu-id="f452a-155">**Figura 3**: non è possibile accedere come Sam nell'ambiente di sviluppo</span><span class="sxs-lookup"><span data-stu-id="f452a-155">**Figure 3**: You Cannot Sign In As Sam in the Development Environment</span></span>  
<span data-ttu-id="f452a-156">([Fare clic per visualizzare l'immagine con dimensioni complete](users-and-roles-on-the-production-website-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="f452a-156">([Click to view full-size image](users-and-roles-on-the-production-website-cs/_static/image9.png))</span></span>

<span data-ttu-id="f452a-157">Non è possibile accedere come Sam nell'ambiente di sviluppo perché le informazioni sull'account utente non esistono nel database locale.</span><span class="sxs-lookup"><span data-stu-id="f452a-157">You cannot sign in as Sam in the development environment because the user account information does not exist in the local database.</span></span> <span data-ttu-id="f452a-158">Al contrario, è stato aggiunto al database di produzione.</span><span class="sxs-lookup"><span data-stu-id="f452a-158">Rather, is was added to the production database.</span></span> <span data-ttu-id="f452a-159">Per verificarlo, visualizzare il contenuto della tabella `aspnet_Users` nei database di sviluppo e di produzione.</span><span class="sxs-lookup"><span data-stu-id="f452a-159">To verify this, view the contents of the `aspnet_Users` table in both the development and production databases.</span></span> <span data-ttu-id="f452a-160">Nell'ambiente di sviluppo devono essere presenti solo tre record per gli utenti Scott, Jisun e Alice.</span><span class="sxs-lookup"><span data-stu-id="f452a-160">In the development environment there should be only three records for users Scott, Jisun, and Alice.</span></span> <span data-ttu-id="f452a-161">Tuttavia, nella tabella `aspnet_Users` del database di produzione sono presenti quattro record: Scott, Jisun, Alice e Sam.</span><span class="sxs-lookup"><span data-stu-id="f452a-161">However, the `aspnet_Users` table in the production database has four records: Scott, Jisun, Alice, and Sam.</span></span> <span data-ttu-id="f452a-162">Di conseguenza, Sam può accedere attraverso il sito Web in produzione, ma non tramite l'ambiente di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="f452a-162">Consequently, Sam can sign in through the website in production, but not through the development environment.</span></span>

[![](users-and-roles-on-the-production-website-cs/_static/image11.png)](users-and-roles-on-the-production-website-cs/_static/image10.png)

<span data-ttu-id="f452a-163">**Figura 4**: Sam può accedere al sito Web di produzione</span><span class="sxs-lookup"><span data-stu-id="f452a-163">**Figure 4**: Sam Can Sign In On the Production Website</span></span>  
<span data-ttu-id="f452a-164">([Fare clic per visualizzare l'immagine con dimensioni complete](users-and-roles-on-the-production-website-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="f452a-164">([Click to view full-size image](users-and-roles-on-the-production-website-cs/_static/image12.png))</span></span>

> [!NOTE]
> <span data-ttu-id="f452a-165">Non dimenticare di modificare la stringa di connessione nel file di `databaseConnectionStrings.config` alla stringa di connessione del database di sviluppo al termine dell'uso di WSAT. in caso contrario, si lavoreranno con i dati di produzione durante il test del sito tramite l'ambiente di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="f452a-165">Don't forget to change the connection string in the `databaseConnectionStrings.config` file back to the development database's connect string when you're done working with the WSAT otherwise you will be working with production data when testing the site through the development environment.</span></span> <span data-ttu-id="f452a-166">Tenere inoltre presente che, mentre la tecnica appena illustrata consente di usare WSAT per gestire in remoto gli utenti e i ruoli, le modifiche apportate alle altre opzioni di configurazione di WSAT (regole di accesso, impostazioni SMTP, impostazioni di debug e di traccia e così via) modificano il file di `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="f452a-166">Also keep in mind that while the technique we just discussed allows us to use the WSAT to remotely manage users and roles, changes to any of the other WSAT configuration options (access rules, SMTP settings, debugging and tracing settings, and so on) modify the `Web.config` file.</span></span> <span data-ttu-id="f452a-167">Di conseguenza, tutte le modifiche apportate alle impostazioni si applicano all'ambiente di sviluppo e non all'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="f452a-167">Consequently, any changes made to the settings apply to the development environment and not to the production environment.</span></span>

## <a name="creating-custom-user-and-role-management-web-pages"></a><span data-ttu-id="f452a-168">Creazione di pagine Web personalizzate per la gestione di utenti e ruoli</span><span class="sxs-lookup"><span data-stu-id="f452a-168">Creating Custom User and Role Management Web Pages</span></span>

<span data-ttu-id="f452a-169">WSAT fornisce un sistema predefinito per la gestione di utenti e ruoli, ma può essere avviato solo localmente e richiede modifiche alle informazioni della stringa di connessione per poter gestire gli utenti e i ruoli in produzione.</span><span class="sxs-lookup"><span data-stu-id="f452a-169">The WSAT provides an out of the box system for managing users and roles, but can only be launched locally and requires making changes to the connection string information in order to manage the users and roles on production.</span></span> <span data-ttu-id="f452a-170">La maggior parte dei siti Web che supportano gli account utente include anche alcune pagine Web di amministrazione di utenti e ruoli che consentono agli amministratori di gestire gli utenti e i ruoli da pagine all'interno del sito.</span><span class="sxs-lookup"><span data-stu-id="f452a-170">Most websites that support user accounts also include a number of user and role administration web pages that enable administrators to manage users and roles from pages within the site.</span></span> <span data-ttu-id="f452a-171">Tali pagine di amministrazione basate sul Web semplificano notevolmente la gestione di utenti e ruoli e sono essenziali per i siti in cui potrebbero essere presenti molti amministratori o amministratori che non hanno accesso o lo sfondo tecnico per l'uso di Visual Studio per avviare il WSAT.</span><span class="sxs-lookup"><span data-stu-id="f452a-171">Such web-based administration pages make it much easier to manage users and roles and are essential for sites where there may be many administrators or administrators that do not have access to or the technical background to use Visual Studio to launch the WSAT.</span></span>

<span data-ttu-id="f452a-172">ASP.NET include una serie di controlli Web correlati all'accesso incorporati che rendono l'implementazione di molte di queste pagine Web amministrative con la semplice funzionalità di trascinamento della selezione.</span><span class="sxs-lookup"><span data-stu-id="f452a-172">ASP.NET includes a number of built-in Login-related Web controls that make implementing many of these administrative web pages as easy as drag and drop.</span></span> <span data-ttu-id="f452a-173">Ad esempio, è possibile creare una pagina per consentire agli amministratori di creare un nuovo account utente trascinando il controllo CreateUserWizard nella pagina e impostando alcune proprietà.</span><span class="sxs-lookup"><span data-stu-id="f452a-173">For example, you can create a page for administrators to create a new user account by dragging the CreateUserWizard control onto the page and setting a few properties.</span></span> <span data-ttu-id="f452a-174">Infatti, la pagina per la creazione di utenti in WSAT illustrata nella **Figura 2** usa lo stesso controllo CreateUserWizard che è possibile aggiungere alle pagine.</span><span class="sxs-lookup"><span data-stu-id="f452a-174">In fact, the page for creating users in the WSAT shown in **Figure 2** uses the same CreateUserWizard control that you can add to your pages.</span></span> <span data-ttu-id="f452a-175">Inoltre, le funzionalità dei servizi di appartenenza e di ruoli sono disponibili a livello di programmazione tramite le classi `Membership` e `Roles` nel .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f452a-175">Furthermore, the Membership and Roles services' functionalities are available programmatically through the `Membership` and `Roles` classes in the .NET Framework.</span></span> <span data-ttu-id="f452a-176">Con queste classi è possibile scrivere codice per creare, modificare ed eliminare utenti e ruoli, nonché per aggiungere o rimuovere utenti ai ruoli, per determinare quali utenti sono i ruoli e per eseguire altre attività correlate a utenti e ruoli.</span><span class="sxs-lookup"><span data-stu-id="f452a-176">With these classes you can write code to create, edit, and delete users and roles, as well as to add or remove users to roles, to determine what users are in what roles, and to perform other user- and role-related tasks.</span></span>

<span data-ttu-id="f452a-177">Nell'esercitazione [ *configurazione di un sito Web che usa servizi per le applicazioni* ](configuring-a-website-that-uses-application-services-cs.md) ho aggiunto una pagina alla cartella `Admin` denominata `CreateAccount.aspx`.</span><span class="sxs-lookup"><span data-stu-id="f452a-177">In the [*Configuring a Website That Uses Application Services* tutorial](configuring-a-website-that-uses-application-services-cs.md) I added a page to the `Admin` folder named `CreateAccount.aspx`.</span></span> <span data-ttu-id="f452a-178">Questa pagina consente a un amministratore di aggiungere un nuovo account utente al sito e di specificare se l'utente appena creato si trova nel ruolo di amministratore (vedere la **Figura 5**).</span><span class="sxs-lookup"><span data-stu-id="f452a-178">This page allows an administrator to add a new user account to the site and to specify whether or not the newly created user is in the Admin role (see **Figure 5**).</span></span>

[![](users-and-roles-on-the-production-website-cs/_static/image14.png)](users-and-roles-on-the-production-website-cs/_static/image13.png)

<span data-ttu-id="f452a-179">**Figura 5**: gli amministratori possono creare nuovi account utente</span><span class="sxs-lookup"><span data-stu-id="f452a-179">**Figure 5**: Administrators Can Create New User Accounts</span></span>  
<span data-ttu-id="f452a-180">([Fare clic per visualizzare l'immagine con dimensioni complete](users-and-roles-on-the-production-website-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="f452a-180">([Click to view full-size image](users-and-roles-on-the-production-website-cs/_static/image15.png))</span></span>

<span data-ttu-id="f452a-181">Per informazioni più dettagliate sulla creazione di pagine di amministrazione di utenti e ruoli, oltre a istruzioni dettagliate sull'uso delle classi `Membership` e `Roles` e dei controlli Web ASP.NET correlati all'accesso, vedere le [esercitazioni sulla sicurezza del sito Web](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md).</span><span class="sxs-lookup"><span data-stu-id="f452a-181">For a more detailed look at building user and role administration pages, along with step-by-step instructions on using the `Membership` and `Roles` classes and the Login-related ASP.NET Web controls, be sure to read my [Website Security Tutorials](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md).</span></span> <span data-ttu-id="f452a-182">Sono disponibili indicazioni su come creare pagine Web per la creazione di nuovi account, la creazione e la gestione di ruoli, l'assegnazione di utenti ai ruoli e altre attività amministrative comuni.</span><span class="sxs-lookup"><span data-stu-id="f452a-182">There you'll find guidance on how to build web pages for creating new accounts, creating and managing roles, assigning users to roles, and other common administrative tasks.</span></span>

<span data-ttu-id="f452a-183">Per implementare la funzionalità simile a WSAT nel sito Web di produzione, è sempre possibile creare una serie personalizzata di pagine Web che implementano le funzionalità di WSAT.</span><span class="sxs-lookup"><span data-stu-id="f452a-183">To implement WSAT-like functionality on the production website you can always build your own series of web pages that implement the WSAT's features.</span></span> <span data-ttu-id="f452a-184">Per iniziare, vedere il codice sorgente di WSAT, che si trova nella cartella `%WINDIR%\Microsoft.NET\Framework\v2.0.50727\ASP.NETWebAdminFiles`.</span><span class="sxs-lookup"><span data-stu-id="f452a-184">To help get started, check out the WSAT source code, which is located in the folder `%WINDIR%\Microsoft.NET\Framework\v2.0.50727\ASP.NETWebAdminFiles`.</span></span> <span data-ttu-id="f452a-185">Un'altra opzione consiste nell'usare l'alternativa WSAT di Dan Clem, che condivide nel suo articolo, in cui viene implementato [lo strumento di amministrazione del sito Web](http://aspnet.4guysfromrolla.com/articles/052307-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="f452a-185">Another option is to use Dan Clem's WSAT alternative, which he shares in his article, [Rolling Your Own Web Site Administration Tool](http://aspnet.4guysfromrolla.com/articles/052307-1.aspx).</span></span> <span data-ttu-id="f452a-186">Dan esamina i lettori attraverso il processo di creazione di uno strumento di tipo WSAT personalizzato, include il codice sorgente dell'applicazione per il C#download (in) e fornisce istruzioni dettagliate per l'aggiunta di WSAT personalizzati a un sito Web ospitato.</span><span class="sxs-lookup"><span data-stu-id="f452a-186">Dan walks readers through the process of building a custom WSAT-like tool, includes his application's source code for download (in C#), and gives step-by-step instructions for adding his custom WSAT to a hosted website.</span></span>

## <a name="summary"></a><span data-ttu-id="f452a-187">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="f452a-187">Summary</span></span>

<span data-ttu-id="f452a-188">È possibile usare lo strumento Amministrazione sito Web di ASP.NET (WSAT) insieme ai servizi delle applicazioni per l'appartenenza e i ruoli per gestire le informazioni relative a utenti e ruoli per il sito Web.</span><span class="sxs-lookup"><span data-stu-id="f452a-188">The ASP.NET Web Site Administration Tool (WSAT) can be used in tandem with the Membership and Roles application services to manage user and role information for your website.</span></span> <span data-ttu-id="f452a-189">Sfortunatamente, WSAT è accessibile solo in locale e non può essere visitato dal sito Web di produzione.</span><span class="sxs-lookup"><span data-stu-id="f452a-189">Unfortunately, the WSAT is only accessible locally and cannot be visited from your production website.</span></span> <span data-ttu-id="f452a-190">Tuttavia, modificando la stringa di connessione nell'ambiente di sviluppo in modo che punti al database di produzione, è possibile usare WSAT per gestire gli utenti e i ruoli nel sito Web di produzione.</span><span class="sxs-lookup"><span data-stu-id="f452a-190">However, by changing the connection string in the development environment to point to the production database you can use the WSAT to manage the users and roles on the production website.</span></span>

<span data-ttu-id="f452a-191">Sebbene l'approccio WSAT offra un metodo rapido e semplice per gestire utenti e ruoli, richiede l'avvio di WSAT da Visual Studio, oltre a modifiche temporanee alle informazioni della stringa di connessione.</span><span class="sxs-lookup"><span data-stu-id="f452a-191">While the WSAT approach affords a quick and easy way to manage users and roles, it necessitates launching the WSAT from Visual Studio as well as temporary changes to the connection string information.</span></span> <span data-ttu-id="f452a-192">Il WSAT offre un modo rapido per gestire utenti e ruoli in produzione, ma è complesso e non funziona correttamente per i siti Web con più amministratori o con amministratori che non hanno o non hanno familiarità con Visual Studio e WSAT.</span><span class="sxs-lookup"><span data-stu-id="f452a-192">The WSAT offers a quick way to manage users and roles on production, but is cumbersome and does not work well for websites with multiple administrators or with administrators who do not have or are not familiar with Visual Studio and the WSAT.</span></span> <span data-ttu-id="f452a-193">Per questi motivi, la maggior parte dei siti Web che supportano gli account utente include un set di pagine Web amministrative.</span><span class="sxs-lookup"><span data-stu-id="f452a-193">For these reasons, most websites that support user accounts include a set of administrative web pages.</span></span> <span data-ttu-id="f452a-194">Un set di pagine Web di questo tipo Elimina la necessità di WSAT e viene usata da diversi utenti amministratori da qualsiasi computer.</span><span class="sxs-lookup"><span data-stu-id="f452a-194">Such a set of web pages eliminates the need for the WSAT and used by various administrative users from any computer.</span></span>

<span data-ttu-id="f452a-195">Buona programmazione!</span><span class="sxs-lookup"><span data-stu-id="f452a-195">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="f452a-196">Ulteriori informazioni</span><span class="sxs-lookup"><span data-stu-id="f452a-196">Further Reading</span></span>

<span data-ttu-id="f452a-197">Per ulteriori informazioni sugli argomenti trattati in questa esercitazione, fare riferimento alle risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="f452a-197">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="f452a-198">Esame di ASP. Appartenenza, ruoli e profilo di NET</span><span class="sxs-lookup"><span data-stu-id="f452a-198">Examining ASP.NET's Membership, Roles, and Profile</span></span>](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [<span data-ttu-id="f452a-199">Implementazione dello strumento di amministrazione del sito Web</span><span class="sxs-lookup"><span data-stu-id="f452a-199">Rolling Your Own Web Site Administration Tool</span></span>](http://aspnet.4guysfromrolla.com/articles/052307-1.aspx)
- [<span data-ttu-id="f452a-200">Panoramica dello strumento Amministrazione sito Web</span><span class="sxs-lookup"><span data-stu-id="f452a-200">Web Site Administration Tool Overview</span></span>](https://msdn.microsoft.com/library/yy40ytx0.aspx)
- [<span data-ttu-id="f452a-201">Esercitazioni sulla sicurezza del sito Web</span><span class="sxs-lookup"><span data-stu-id="f452a-201">Website Security Tutorials</span></span>](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md)

> [!div class="step-by-step"]
> <span data-ttu-id="f452a-202">[Precedente](precompiling-your-website-cs.md)
> [Successivo](asp-net-hosting-options-vb.md)</span><span class="sxs-lookup"><span data-stu-id="f452a-202">[Previous](precompiling-your-website-cs.md)
[Next](asp-net-hosting-options-vb.md)</span></span>
