---
uid: web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-5
title: Introduzione a Entity Framework 4.0 Database First e ASP.NET 4 Web Form - parte 5 | Microsoft Docs
author: tdykstra
description: L'applicazione web di esempio Contoso University illustra come creare applicazioni Web Form ASP.NET utilizzando Entity Framework. L'applicazione di esempio è...
ms.author: riande
ms.date: 12/03/2010
ms.assetid: 24ad4379-3fb2-44dc-ba59-85fe0ffcb2ae
msc.legacyurl: /web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-5
msc.type: authoredcontent
ms.openlocfilehash: 75328e67abb4295b619cac5423a9eb970942fff7
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/06/2019
ms.locfileid: "65133118"
---
# <a name="getting-started-with-entity-framework-40-database-first-and-aspnet-4-web-forms---part-5"></a><span data-ttu-id="3b768-104">Introduzione a Entity Framework 4.0 Database First e ASP.NET 4 Web Form - parte 5</span><span class="sxs-lookup"><span data-stu-id="3b768-104">Getting Started with Entity Framework 4.0 Database First and ASP.NET 4 Web Forms - Part 5</span></span>

<span data-ttu-id="3b768-105">da [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="3b768-105">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="3b768-106">L'applicazione web di esempio Contoso University illustra come creare applicazioni Web Form ASP.NET usando il Entity Framework 4.0 e Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="3b768-106">The Contoso University sample web application demonstrates how to create ASP.NET Web Forms applications using the Entity Framework 4.0 and Visual Studio 2010.</span></span> <span data-ttu-id="3b768-107">Per informazioni sulla serie di esercitazioni, vedere [la prima esercitazione della serie](the-entity-framework-and-aspnet-getting-started-part-1.md)</span><span class="sxs-lookup"><span data-stu-id="3b768-107">For information about the tutorial series, see [the first tutorial in the series](the-entity-framework-and-aspnet-getting-started-part-1.md)</span></span>

## <a name="working-with-related-data-continued"></a><span data-ttu-id="3b768-108">Usa i dati correlati, continua</span><span class="sxs-lookup"><span data-stu-id="3b768-108">Working with Related Data, Continued</span></span>

<span data-ttu-id="3b768-109">Nell'esercitazione precedente si è iniziato a usare il `EntityDataSource` per funzionare con i dati correlati.</span><span class="sxs-lookup"><span data-stu-id="3b768-109">In the previous tutorial you began to use the `EntityDataSource` control to work with related data.</span></span> <span data-ttu-id="3b768-110">È visualizzato più livelli della gerarchia e modificare i dati nelle proprietà di navigazione.</span><span class="sxs-lookup"><span data-stu-id="3b768-110">You displayed multiple levels of hierarchy and edited data in navigation properties.</span></span> <span data-ttu-id="3b768-111">In questa esercitazione si continuerà a funzionare con i dati correlati aggiungendo ed eliminando le relazioni e aggiungendo una nuova entità che ha una relazione a un'entità esistente.</span><span class="sxs-lookup"><span data-stu-id="3b768-111">In this tutorial you'll continue to work with related data by adding and deleting relationships and by adding a new entity that has a relationship to an existing entity.</span></span>

<span data-ttu-id="3b768-112">Si creerà una pagina che aggiunge i corsi assegnati a reparti.</span><span class="sxs-lookup"><span data-stu-id="3b768-112">You'll create a page that adds courses that are assigned to departments.</span></span> <span data-ttu-id="3b768-113">I reparti è già presente, e quando si crea un nuovo corso, allo stesso tempo è possibile stabilire una relazione tra i dati e un dipartimento esistente.</span><span class="sxs-lookup"><span data-stu-id="3b768-113">The departments already exist, and when you create a new course, at the same time you'll establish a relationship between it and an existing department.</span></span>

<span data-ttu-id="3b768-114">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="3b768-114">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image1.png)</span></span>

<span data-ttu-id="3b768-115">Si creerà inoltre una pagina che funziona con una relazione molti-a-molti assegnando un insegnante a un corso (aggiunta di una relazione tra due entità che si seleziona) o la rimozione di un docente di un corso (rimozione di una relazione tra due entità che si Selezionare).</span><span class="sxs-lookup"><span data-stu-id="3b768-115">You'll also create a page that works with a many-to-many relationship by assigning an instructor to a course (adding a relationship between two entities that you select) or removing an instructor from a course (removing a relationship between two entities that you select).</span></span> <span data-ttu-id="3b768-116">Nel database, aggiunta di una relazione tra un insegnante e un corso comporterà una nuova riga viene aggiunta al `CourseInstructor` tabella di associazione, la rimozione di una relazione comporta l'eliminazione di una riga dal `CourseInstructor` tabella di associazione.</span><span class="sxs-lookup"><span data-stu-id="3b768-116">In the database, adding a relationship between an instructor and a course results in a new row being added to the `CourseInstructor` association table; removing a relationship involves deleting a row from the `CourseInstructor` association table.</span></span> <span data-ttu-id="3b768-117">Tuttavia, eseguire questa operazione in Entity Framework impostando le proprietà di navigazione, senza fare riferimento al `CourseInstructor` tabella in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="3b768-117">However, you do this in the Entity Framework by setting navigation properties, without referring to the `CourseInstructor` table explicitly.</span></span>

<span data-ttu-id="3b768-118">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="3b768-118">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image3.png)</span></span>

## <a name="adding-an-entity-with-a-relationship-to-an-existing-entity"></a><span data-ttu-id="3b768-119">Aggiunta di un'entità con una relazione a un'entità esistente</span><span class="sxs-lookup"><span data-stu-id="3b768-119">Adding an Entity with a Relationship to an Existing Entity</span></span>

<span data-ttu-id="3b768-120">Creare una nuova pagina web denominata *CoursesAdd.aspx* che usa le *Site. master* pagina master e aggiungere il markup seguente per il `Content` controllo denominato `Content2`:</span><span class="sxs-lookup"><span data-stu-id="3b768-120">Create a new web page named *CoursesAdd.aspx* that uses the *Site.Master* master page, and add the following markup to the `Content` control named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample1.aspx)]

<span data-ttu-id="3b768-121">Questo codice crea un' `EntityDataSource` controllo che consente di selezionare i corsi, che consente l'inserimento e specifica un gestore per il `Inserting` evento.</span><span class="sxs-lookup"><span data-stu-id="3b768-121">This markup creates an `EntityDataSource` control that selects courses, that enables inserting, and that specifies a handler for the `Inserting` event.</span></span> <span data-ttu-id="3b768-122">Si userà il gestore per aggiornare il `Department` proprietà di navigazione quando un nuovo `Course` entità viene creata.</span><span class="sxs-lookup"><span data-stu-id="3b768-122">You'll use the handler to update the `Department` navigation property when a new `Course` entity is created.</span></span>

<span data-ttu-id="3b768-123">Il markup crea anche un `DetailsView` controllo da utilizzare per l'aggiunta di un nuovo `Course` entità.</span><span class="sxs-lookup"><span data-stu-id="3b768-123">The markup also creates a `DetailsView` control to use for adding new `Course` entities.</span></span> <span data-ttu-id="3b768-124">Il markup Usa i campi associati per `Course` proprietà dell'entità.</span><span class="sxs-lookup"><span data-stu-id="3b768-124">The markup uses bound fields for `Course` entity properties.</span></span> <span data-ttu-id="3b768-125">È necessario immettere il `CourseID` valore perché non è un campo ID generato dal sistema.</span><span class="sxs-lookup"><span data-stu-id="3b768-125">You have to enter the `CourseID` value because this is not a system-generated ID field.</span></span> <span data-ttu-id="3b768-126">In alternativa, è un numero di corso che deve essere specificato manualmente dopo aver creato il corso.</span><span class="sxs-lookup"><span data-stu-id="3b768-126">Instead, it's a course number that must be specified manually when the course is created.</span></span>

<span data-ttu-id="3b768-127">Si utilizza un modello di campo per il `Department` proprietà di navigazione perché le proprietà di navigazione non possono essere utilizzate con `BoundField` controlli.</span><span class="sxs-lookup"><span data-stu-id="3b768-127">You use a template field for the `Department` navigation property because navigation properties cannot be used with `BoundField` controls.</span></span> <span data-ttu-id="3b768-128">Campo modello presenta un elenco di riepilogo a discesa per selezionare il dipartimento.</span><span class="sxs-lookup"><span data-stu-id="3b768-128">The template field provides a drop-down list to select the department.</span></span> <span data-ttu-id="3b768-129">L'elenco a discesa associato ai `Departments` usando set di entità `Eval` anziché `Bind`, anche in questo caso poiché non è possibile associare direttamente le proprietà di navigazione per aggiornarli.</span><span class="sxs-lookup"><span data-stu-id="3b768-129">The drop-down list is bound to the `Departments` entity set by using `Eval` rather than `Bind`, again because you cannot directly bind navigation properties in order to update them.</span></span> <span data-ttu-id="3b768-130">Si specifica un gestore per il `DropDownList` del controllo `Init` eventi in modo che è possibile archiviare un riferimento al controllo per l'uso dal codice che aggiorna il `DepartmentID` chiave esterna.</span><span class="sxs-lookup"><span data-stu-id="3b768-130">You specify a handler for the `DropDownList` control's `Init` event so that you can store a reference to the control for use by the code that updates the `DepartmentID` foreign key.</span></span>

<span data-ttu-id="3b768-131">Nelle *CoursesAdd.aspx.cs* subito dopo la dichiarazione di classe parziale, aggiungere un riferimento al campo di una classe di `DepartmentsDropDownList` controllo:</span><span class="sxs-lookup"><span data-stu-id="3b768-131">In *CoursesAdd.aspx.cs* just after the partial-class declaration, add a class field to hold a reference to the `DepartmentsDropDownList` control:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample2.cs)]

<span data-ttu-id="3b768-132">Aggiungere un gestore per il `DepartmentsDropDownList` del controllo `Init` eventi in modo che è possibile archiviare un riferimento al controllo.</span><span class="sxs-lookup"><span data-stu-id="3b768-132">Add a handler for the `DepartmentsDropDownList` control's `Init` event so that you can store a reference to the control.</span></span> <span data-ttu-id="3b768-133">Ciò consente di ottenere il valore di cui l'utente ha immesso e utilizzarla per aggiornare il `DepartmentID` pari al `Course` entità.</span><span class="sxs-lookup"><span data-stu-id="3b768-133">This lets you get the value the user has entered and use it to update the `DepartmentID` value of the `Course` entity.</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample3.cs)]

<span data-ttu-id="3b768-134">Aggiungere un gestore per il `DetailsView` del controllo `Inserting` evento:</span><span class="sxs-lookup"><span data-stu-id="3b768-134">Add a handler for the `DetailsView` control's `Inserting` event:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample4.cs)]

<span data-ttu-id="3b768-135">Quando l'utente sceglie `Insert`, il `Inserting` evento viene generato prima che venga inserito il nuovo record.</span><span class="sxs-lookup"><span data-stu-id="3b768-135">When the user clicks `Insert`, the `Inserting` event is raised before the new record is inserted.</span></span> <span data-ttu-id="3b768-136">Ottiene il codice nel gestore il `DepartmentID` dal `DropDownList` controllano e lo usa per impostare il valore che verrà usato per il `DepartmentID` proprietà del `Course` entità.</span><span class="sxs-lookup"><span data-stu-id="3b768-136">The code in the handler gets the `DepartmentID` from the `DropDownList` control and uses it to set the value that will be used for the `DepartmentID` property of the `Course` entity.</span></span>

<span data-ttu-id="3b768-137">Entity Framework si occupa dell'aggiunta di questo corso per il `Courses` proprietà di navigazione dell'oggetto associato `Department` entità.</span><span class="sxs-lookup"><span data-stu-id="3b768-137">The Entity Framework will take care of adding this course to the `Courses` navigation property of the associated `Department` entity.</span></span> <span data-ttu-id="3b768-138">Aggiunge anche il reparto per i `Department` proprietà di navigazione del `Course` entità.</span><span class="sxs-lookup"><span data-stu-id="3b768-138">It also adds the department to the `Department` navigation property of the `Course` entity.</span></span>

<span data-ttu-id="3b768-139">Eseguire la pagina.</span><span class="sxs-lookup"><span data-stu-id="3b768-139">Run the page.</span></span>

<span data-ttu-id="3b768-140">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="3b768-140">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image5.png)</span></span>

<span data-ttu-id="3b768-141">Immettere un ID, un titolo, un numero di crediti e selezionare un reparto, quindi fare clic su **Inserisci**.</span><span class="sxs-lookup"><span data-stu-id="3b768-141">Enter an ID, a title, a number of credits, and select a department, then click **Insert**.</span></span>

<span data-ttu-id="3b768-142">Eseguire la *Courses.aspx* pagina e selezionare dello stesso reparto per visualizzare il nuovo corso.</span><span class="sxs-lookup"><span data-stu-id="3b768-142">Run the *Courses.aspx* page, and select the same department to see the new course.</span></span>

<span data-ttu-id="3b768-143">[![Image03](the-entity-framework-and-aspnet-getting-started-part-5/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="3b768-143">[![Image03](the-entity-framework-and-aspnet-getting-started-part-5/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image7.png)</span></span>

## <a name="working-with-many-to-many-relationships"></a><span data-ttu-id="3b768-144">Utilizzo delle relazioni molti-a-molti</span><span class="sxs-lookup"><span data-stu-id="3b768-144">Working with Many-to-Many Relationships</span></span>

<span data-ttu-id="3b768-145">La relazione tra il `Courses` set di entità e `People` set di entità è una relazione molti-a-molti.</span><span class="sxs-lookup"><span data-stu-id="3b768-145">The relationship between the `Courses` entity set and the `People` entity set is a many-to-many relationship.</span></span> <span data-ttu-id="3b768-146">Oggetto `Course` entità dispone di una proprietà di navigazione denominata `People` che può contenere nessuno, uno o più correlate `Person` entità (che rappresentano instructors (insegnanti) assegnato per l'insegnamento di tale corso).</span><span class="sxs-lookup"><span data-stu-id="3b768-146">A `Course` entity has a navigation property named `People` that can contain zero, one, or more related `Person` entities (representing instructors assigned to teach that course).</span></span> <span data-ttu-id="3b768-147">E un `Person` entità dispone di una proprietà di navigazione denominata `Courses` che può contenere nessuno, uno o più correlate `Course` entities (che rappresentano i corsi assegnati tale insegnante di insegnare).</span><span class="sxs-lookup"><span data-stu-id="3b768-147">And a `Person` entity has a navigation property named `Courses` that can contain zero, one, or more related `Course` entities (representing courses that instructor is assigned to teach).</span></span> <span data-ttu-id="3b768-148">Un insegnante può insegnare più corsi e un corso può essere impartito da più insegnanti.</span><span class="sxs-lookup"><span data-stu-id="3b768-148">One instructor might teach multiple courses, and one course might be taught by multiple instructors.</span></span> <span data-ttu-id="3b768-149">In questa sezione della procedura dettagliata, è possibile aggiungere e rimuovere le relazioni tra `Person` e `Course` entità aggiornando le proprietà di navigazione delle entità correlate.</span><span class="sxs-lookup"><span data-stu-id="3b768-149">In this section of the walkthrough, you'll add and remove relationships between `Person` and `Course` entities by updating the navigation properties of the related entities.</span></span>

<span data-ttu-id="3b768-150">Creare una nuova pagina web denominata *InstructorsCourses.aspx* che usa le *Site. master* pagina master e aggiungere il markup seguente per il `Content` controllo denominato `Content2`:</span><span class="sxs-lookup"><span data-stu-id="3b768-150">Create a new web page named *InstructorsCourses.aspx* that uses the *Site.Master* master page, and add the following markup to the `Content` control named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample5.aspx)]

<span data-ttu-id="3b768-151">Questo codice crea un' `EntityDataSource` controllo che consente di recuperare il nome e `PersonID` di `Person` entità per instructors (insegnanti).</span><span class="sxs-lookup"><span data-stu-id="3b768-151">This markup creates an `EntityDataSource` control that retrieves the name and `PersonID` of `Person` entities for instructors.</span></span> <span data-ttu-id="3b768-152">Oggetto `DropDrownList` è associato ai `EntityDataSource` controllo.</span><span class="sxs-lookup"><span data-stu-id="3b768-152">A `DropDrownList` control is bound to the `EntityDataSource` control.</span></span> <span data-ttu-id="3b768-153">Il `DropDownList` controllo consente di specificare un gestore per il `DataBound` evento.</span><span class="sxs-lookup"><span data-stu-id="3b768-153">The `DropDownList` control specifies a handler for the `DataBound` event.</span></span> <span data-ttu-id="3b768-154">Si userà questo gestore a elenchi a discesa databind due che consentono di visualizzare i corsi.</span><span class="sxs-lookup"><span data-stu-id="3b768-154">You'll use this handler to databind the two drop-down lists that display courses.</span></span>

<span data-ttu-id="3b768-155">Il markup crea anche il gruppo di controlli da usare per l'assegnazione di un corso all'insegnante selezionato seguente:</span><span class="sxs-lookup"><span data-stu-id="3b768-155">The markup also creates the following group of controls to use for assigning a course to the selected instructor:</span></span>

- <span data-ttu-id="3b768-156">Oggetto `DropDownList` controllo per la selezione di un corso da assegnare.</span><span class="sxs-lookup"><span data-stu-id="3b768-156">A `DropDownList` control for selecting a course to assign.</span></span> <span data-ttu-id="3b768-157">Questo controllo verrà popolato con i corsi che attualmente non sono assegnati all'insegnante selezionato.</span><span class="sxs-lookup"><span data-stu-id="3b768-157">This control will be populated with courses that are currently not assigned to the selected instructor.</span></span>
- <span data-ttu-id="3b768-158">Oggetto `Button` controllo per avviare l'assegnazione.</span><span class="sxs-lookup"><span data-stu-id="3b768-158">A `Button` control to initiate the assignment.</span></span>
- <span data-ttu-id="3b768-159">Oggetto `Label` controllo per visualizzare un messaggio di errore se l'assegnazione ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="3b768-159">A `Label` control to display an error message if the assignment fails.</span></span>

<span data-ttu-id="3b768-160">Infine, il markup crea anche un gruppo di controlli da usare per la rimozione di un corso dall'insegnante selezionato.</span><span class="sxs-lookup"><span data-stu-id="3b768-160">Finally, the markup also creates a group of controls to use for removing a course from the selected instructor.</span></span>

<span data-ttu-id="3b768-161">Nelle *InstructorsCourses.aspx.cs*, aggiungere un tramite istruzione:</span><span class="sxs-lookup"><span data-stu-id="3b768-161">In *InstructorsCourses.aspx.cs*, add a using statement:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample6.cs)]

<span data-ttu-id="3b768-162">Aggiungere un metodo per il popolamento di due elenchi a discesa che visualizza i corsi:</span><span class="sxs-lookup"><span data-stu-id="3b768-162">Add a method for populating the two drop-down lists that display courses:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample7.cs)]

<span data-ttu-id="3b768-163">Questo codice ottiene tutti i corsi dal `Courses` entità imposta e ottiene i corsi del `Courses` proprietà di navigazione del `Person` entità per l'insegnante selezionato.</span><span class="sxs-lookup"><span data-stu-id="3b768-163">This code gets all courses from the `Courses` entity set and gets the courses from the `Courses` navigation property of the `Person` entity for the selected instructor.</span></span> <span data-ttu-id="3b768-164">Quindi, determina i corsi assegnati a tale insegnante e gli elenchi a discesa verranno popolate di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="3b768-164">It then determines which courses are assigned to that instructor and populates the drop-down lists accordingly.</span></span>

<span data-ttu-id="3b768-165">Aggiungere un gestore per il `Assign` del pulsante `Click` evento:</span><span class="sxs-lookup"><span data-stu-id="3b768-165">Add a handler for the `Assign` button's `Click` event:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample8.cs)]

<span data-ttu-id="3b768-166">Questo codice ottiene la `Person` entità per l'insegnante selezionato, ottiene il `Course` entità per il corso selezionato e aggiunge il corso selezionato per il `Courses` proprietà di navigazione dell'insegnante `Person` entità.</span><span class="sxs-lookup"><span data-stu-id="3b768-166">This code gets the `Person` entity for the selected instructor, gets the `Course` entity for the selected course, and adds the selected course to the `Courses` navigation property of the instructor's `Person` entity.</span></span> <span data-ttu-id="3b768-167">Quindi lo salva le modifiche apportate al database e di ripopola gli elenchi a discesa scegliere in modo che i risultati possono essere visualizzati immediatamente.</span><span class="sxs-lookup"><span data-stu-id="3b768-167">It then saves the changes to the database and repopulates the drop-down lists so the results can be seen immediately.</span></span>

<span data-ttu-id="3b768-168">Aggiungere un gestore per il `Remove` del pulsante `Click` evento:</span><span class="sxs-lookup"><span data-stu-id="3b768-168">Add a handler for the `Remove` button's `Click` event:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample9.cs)]

<span data-ttu-id="3b768-169">Questo codice ottiene la `Person` entità per l'insegnante selezionato, ottiene il `Course` entità per il corso selezionato e rimuove il corso selezionato dalle `Person` dell'entità `Courses` proprietà di navigazione.</span><span class="sxs-lookup"><span data-stu-id="3b768-169">This code gets the `Person` entity for the selected instructor, gets the `Course` entity for the selected course, and removes the selected course from the `Person` entity's `Courses` navigation property.</span></span> <span data-ttu-id="3b768-170">Quindi lo salva le modifiche apportate al database e di ripopola gli elenchi a discesa scegliere in modo che i risultati possono essere visualizzati immediatamente.</span><span class="sxs-lookup"><span data-stu-id="3b768-170">It then saves the changes to the database and repopulates the drop-down lists so the results can be seen immediately.</span></span>

<span data-ttu-id="3b768-171">Aggiungere il codice per il `Page_Load` metodo per verificare che i messaggi di errore non sono visibili quando si verifica alcun errore per segnalare e aggiungere i gestori per il `DataBound` e `SelectedIndexChanged` gli eventi dell'elenco a discesa scegliere instructors (insegnanti) per popolare gli elenchi a discesa corsi:</span><span class="sxs-lookup"><span data-stu-id="3b768-171">Add code to the `Page_Load` method that makes sure the error messages are not visible when there's no error to report, and add handlers for the `DataBound` and `SelectedIndexChanged` events of the instructors drop-down list to populate the courses drop-down lists:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample10.cs)]

<span data-ttu-id="3b768-172">Eseguire la pagina.</span><span class="sxs-lookup"><span data-stu-id="3b768-172">Run the page.</span></span>

<span data-ttu-id="3b768-173">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="3b768-173">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image9.png)</span></span>

<span data-ttu-id="3b768-174">Selezionare un insegnante.</span><span class="sxs-lookup"><span data-stu-id="3b768-174">Select an instructor.</span></span> <span data-ttu-id="3b768-175">Il <strong>assegnare un corso</strong> elenco a discesa elenco Visualizza i corsi non insegna l'insegnante, e il <strong>rimuovere un corso</strong> elenco a discesa verranno visualizzati i corsi che è già assegnato il tipo instructor.</span><span class="sxs-lookup"><span data-stu-id="3b768-175">The <strong>Assign a Course</strong> drop-down list displays the courses that the instructor doesn't teach, and the <strong>Remove a Course</strong> drop-down list displays the courses that the instructor is already assigned to.</span></span> <span data-ttu-id="3b768-176">Nel <strong>assegnare un corso</strong> sezione, selezionare un corso e quindi fare clic su <strong>assegnare</strong>.</span><span class="sxs-lookup"><span data-stu-id="3b768-176">In the <strong>Assign a Course</strong> section, select a course and then click <strong>Assign</strong>.</span></span> <span data-ttu-id="3b768-177">Sposta il corso per il <strong>rimuovere un corso</strong> elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="3b768-177">The course moves to the <strong>Remove a Course</strong> drop-down list.</span></span> <span data-ttu-id="3b768-178">Selezionare un corso nel <strong>un corso di rimozione</strong> della sezione e fare clic su <strong>rimuovere</strong><em>.</em></span><span class="sxs-lookup"><span data-stu-id="3b768-178">Select a course in the <strong>Remove a Course</strong> section and click <strong>Remove</strong><em>.</em></span></span> <span data-ttu-id="3b768-179">Sposta il corso per il <strong>assegnare un corso</strong> elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="3b768-179">The course moves to the <strong>Assign a Course</strong> drop-down list.</span></span>

<span data-ttu-id="3b768-180">Si sono visto alcuni altri modi per lavorare con i dati correlati.</span><span class="sxs-lookup"><span data-stu-id="3b768-180">You have now seen some more ways to work with related data.</span></span> <span data-ttu-id="3b768-181">Nell'esercitazione seguente, si apprenderà come utilizzare l'ereditarietà nel modello di dati per migliorare la manutenibilità dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="3b768-181">In the following tutorial, you'll learn how to use inheritance in the data model to improve the maintainability of your application.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="3b768-182">[Precedente](the-entity-framework-and-aspnet-getting-started-part-4.md)
> [Successivo](the-entity-framework-and-aspnet-getting-started-part-6.md)</span><span class="sxs-lookup"><span data-stu-id="3b768-182">[Previous](the-entity-framework-and-aspnet-getting-started-part-4.md)
[Next](the-entity-framework-and-aspnet-getting-started-part-6.md)</span></span>
