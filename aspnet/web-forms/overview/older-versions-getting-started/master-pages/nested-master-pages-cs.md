---
uid: web-forms/overview/older-versions-getting-started/master-pages/nested-master-pages-cs
title: Annidati pagine Master (c#) | Microsoft Docs
author: rick-anderson
description: Illustra come annidare un'unica pagina master all'interno di altra.
ms.author: riande
ms.date: 07/28/2008
ms.assetid: 32b7fb6e-d74b-4048-91f8-70631b2523ee
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/nested-master-pages-cs
msc.type: authoredcontent
ms.openlocfilehash: 1b60b0b7ce4be66bc24ccbc1d25ce4dc56766815
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/01/2019
ms.locfileid: "57036218"
---
<a name="nested-master-pages-c"></a><span data-ttu-id="90f93-103">Pagine master annidate (C#)</span><span class="sxs-lookup"><span data-stu-id="90f93-103">Nested Master Pages (C#)</span></span>
====================
<span data-ttu-id="90f93-104">da [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="90f93-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="90f93-105">[Scaricare il codice](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.zip) o [Scarica il PDF](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="90f93-105">[Download Code](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.zip) or [Download PDF](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.pdf)</span></span>

> <span data-ttu-id="90f93-106">Illustra come annidare un'unica pagina master all'interno di altra.</span><span class="sxs-lookup"><span data-stu-id="90f93-106">Shows how to nest one master page within another.</span></span>


## <a name="introduction"></a><span data-ttu-id="90f93-107">Introduzione</span><span class="sxs-lookup"><span data-stu-id="90f93-107">Introduction</span></span>

<span data-ttu-id="90f93-108">Nel corso delle ultime nove esercitazioni è stato descritto come implementare un layout a livello di sito con pagine master.</span><span class="sxs-lookup"><span data-stu-id="90f93-108">Over the course of the past nine tutorials we have seen how to implement a site-wide layout with master pages.</span></span> <span data-ttu-id="90f93-109">In breve, le pagine master consentono, lo sviluppatore della pagina, per definire tag comuni nella pagina master con aree specifiche che possono essere personalizzati in base a una pagina di contenuto dal contenuto della pagina.</span><span class="sxs-lookup"><span data-stu-id="90f93-109">In a nutshell, master pages allow us, the page developer, to define common markup in the master page along with specific regions that can be customized on a content page-by-content page basis.</span></span> <span data-ttu-id="90f93-110">I controlli ContentPlaceHolder in una pagina master indicano le aree personalizzabili; tag personalizzati per i controlli ContentPlaceHolder definiti nella pagina di contenuto tramite i controlli del contenuto.</span><span class="sxs-lookup"><span data-stu-id="90f93-110">The ContentPlaceHolder controls in a master page indicate the customizable regions; the customized markup for the ContentPlaceHolder controls are defined in the content page via Content controls.</span></span>

<span data-ttu-id="90f93-111">Le tecniche di pagina master che abbiamo esplorato finora sono molto utili se si dispone di un singolo layout usato nell'intero sito.</span><span class="sxs-lookup"><span data-stu-id="90f93-111">The master page techniques we've explored thus far are great if you have a single layout used across the entire site.</span></span> <span data-ttu-id="90f93-112">Tuttavia, molti siti Web di grandi dimensioni hanno un layout del sito personalizzato tra diverse sezioni.</span><span class="sxs-lookup"><span data-stu-id="90f93-112">However, many large websites have a site layout that is customized across various sections.</span></span> <span data-ttu-id="90f93-113">Ad esempio, prendere in considerazione un'applicazione sanitaria usata dal personale ospedale per gestire la fatturazione, le attività e le informazioni sui pazienti.</span><span class="sxs-lookup"><span data-stu-id="90f93-113">For example, consider a health care application used by hospital staff to manage patient information, activities, and billing.</span></span> <span data-ttu-id="90f93-114">Potrebbero essere presenti tre tipi di pagine web in questa applicazione:</span><span class="sxs-lookup"><span data-stu-id="90f93-114">There may be three types of web pages in this application:</span></span>

- <span data-ttu-id="90f93-115">Pagine specifiche del membro del personale in cui i membri del personale possono aggiornare la disponibilità, visualizzare le pianificazioni o richiedere ferie.</span><span class="sxs-lookup"><span data-stu-id="90f93-115">Staff member-specific pages where staff members can update availability, view schedules, or request vacation time.</span></span>
- <span data-ttu-id="90f93-116">Pagine specifiche del paziente in cui i membri del personale consente di visualizzare o modificare le informazioni per un incontro del paziente specifico.</span><span class="sxs-lookup"><span data-stu-id="90f93-116">Patient-specific pages where staff members view or edit information for a specific patient.</span></span>
- <span data-ttu-id="90f93-117">Le pagine di fatturazione specifico in cui accountants esaminare corrente attestazione gli Stati e report finanziari.</span><span class="sxs-lookup"><span data-stu-id="90f93-117">Billing-specific pages where accountants review current claim statuses and financial reports.</span></span>

<span data-ttu-id="90f93-118">Tutte le pagine potrebbero condividere un layout comune, ad esempio un menu in alto e una serie di collegamenti usati di frequente nella parte inferiore.</span><span class="sxs-lookup"><span data-stu-id="90f93-118">Every page might share a common layout, such as a menu across the top and a series of frequently used links along the bottom.</span></span> <span data-ttu-id="90f93-119">Ma il personale, paziente e pagine di fatturazione specifico potrebbe essere necessario personalizzare il layout generico.</span><span class="sxs-lookup"><span data-stu-id="90f93-119">But the staff-, patient-, and billing-specific pages may need to customize this generic layout.</span></span> <span data-ttu-id="90f93-120">Ad esempio, ad esempio tutte le pagine specifiche del personale devono includere un elenco di calendari e attività che mostra la disponibilità e una pianificazione giornaliera dell'utente attualmente connesso.</span><span class="sxs-lookup"><span data-stu-id="90f93-120">For example, perhaps all staff-specific pages should include a calendar and task list showing the currently logged on user's availability and daily schedule.</span></span> <span data-ttu-id="90f93-121">Forse tutte le pagine specifiche del paziente necessarie visualizzare il nome, indirizzo e assicurazioni informazioni relative al paziente viene modificati cui informazioni.</span><span class="sxs-lookup"><span data-stu-id="90f93-121">Perhaps all patient-specific pages need to show the name, address, and insurance information for the patient whose information is being edited.</span></span>

<span data-ttu-id="90f93-122">È possibile creare questo tipo di layout personalizzati con *pagine master nidificate*.</span><span class="sxs-lookup"><span data-stu-id="90f93-122">It's possible to create such customized layouts by using *nested master pages*.</span></span> <span data-ttu-id="90f93-123">Per implementare lo scenario precedente, si può iniziare creando una pagina master che è definito il contenuto di layout, i menu e piè di pagina a livello di sito, con elementi ContentPlaceHolder che definiscono le aree personalizzabili.</span><span class="sxs-lookup"><span data-stu-id="90f93-123">To implement the above scenario, we would start by creating a master page that defined the site-wide layout, the menu and footer content, with ContentPlaceHolders defining the customizable regions.</span></span> <span data-ttu-id="90f93-124">È quindi necessario creare tre pagine di master annidate, uno per ogni tipo di pagina web.</span><span class="sxs-lookup"><span data-stu-id="90f93-124">We would then create three nested master pages, one for each type of web page.</span></span> <span data-ttu-id="90f93-125">Ogni pagina master annidata sarebbe definire il contenuto tra il tipo di contenuto delle pagine che utilizzano la pagina master.</span><span class="sxs-lookup"><span data-stu-id="90f93-125">Each nested master page would define the content among the type of content pages that use the master page.</span></span> <span data-ttu-id="90f93-126">In altre parole, la pagina master annidata per pagine di contenuto specifici dei pazienti includerà markup e a livello di codice per la logica per la visualizzazione delle informazioni relative al paziente in fase di modifica.</span><span class="sxs-lookup"><span data-stu-id="90f93-126">In other words, the nested master page for patient-specific content pages would include markup and programmatic logic for displaying information about the patient being edited.</span></span> <span data-ttu-id="90f93-127">Quando si crea una nuova pagina dei pazienti specifici è associarlo a questa pagina master annidata.</span><span class="sxs-lookup"><span data-stu-id="90f93-127">When creating a new patient-specific page we would bind it to this nested master page.</span></span>

<span data-ttu-id="90f93-128">Questa esercitazione inizia evidenziando i vantaggi di pagine master annidate.</span><span class="sxs-lookup"><span data-stu-id="90f93-128">This tutorial starts by highlighting the benefits of nested master pages.</span></span> <span data-ttu-id="90f93-129">Viene quindi illustrato come creare e usare pagine master annidate.</span><span class="sxs-lookup"><span data-stu-id="90f93-129">It then shows how to create and use nested master pages.</span></span>

> [!NOTE]
> <span data-ttu-id="90f93-130">Pagine master annidate sono state possibili a partire dalla versione 2.0 di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="90f93-130">Nested master pages have been possible since version 2.0 of the .NET Framework.</span></span> <span data-ttu-id="90f93-131">Visual Studio 2005, tuttavia, non include il supporto in fase di progettazione per pagine master annidate.</span><span class="sxs-lookup"><span data-stu-id="90f93-131">However, Visual Studio 2005 did not include design-time support for nested master pages.</span></span> <span data-ttu-id="90f93-132">La buona notizia è che Visual Studio 2008 offre un'esperienza avanzata in fase di progettazione per pagine master annidate.</span><span class="sxs-lookup"><span data-stu-id="90f93-132">The good news is that Visual Studio 2008 offers a rich design-time experience for nested master pages.</span></span> <span data-ttu-id="90f93-133">Se si è interessati a usare pagine master annidate ma utilizza ancora Visual Studio 2005, consultare [Scott Guthrie](https://weblogs.asp.net/scottgu/)del post di blog [suggerimenti per le pagine Master annidate in fase di progettazione di Visual Studio 2005](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx).</span><span class="sxs-lookup"><span data-stu-id="90f93-133">If you are interested in using nested master pages but are still using Visual Studio 2005, check out [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog entry, [Tips for Nested Master Pages in VS 2005 Design-Time](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx).</span></span>


## <a name="the-benefits-of-nested-master-pages"></a><span data-ttu-id="90f93-134">I vantaggi di pagine Master annidate</span><span class="sxs-lookup"><span data-stu-id="90f93-134">The Benefits of Nested Master Pages</span></span>

<span data-ttu-id="90f93-135">Molti siti Web include una struttura globale del sito, nonché più personalizzate progettazioni specifiche di determinati tipi di pagine.</span><span class="sxs-lookup"><span data-stu-id="90f93-135">Many websites have an overarching site design as well as more customized designs specific to certain types of pages.</span></span> <span data-ttu-id="90f93-136">Ad esempio, nella nostra applicazione web demo è stata creata una sezione di amministrazione rudimentale (le pagine di `~/Admin` cartella).</span><span class="sxs-lookup"><span data-stu-id="90f93-136">For instance, in our demo web application we have created a rudimentary Administration section (the pages in the `~/Admin` folder).</span></span> <span data-ttu-id="90f93-137">Attualmente le pagine web nel `~/Admin` cartella usano la stessa pagina master come tali pagine non nella sezione di amministrazione (vale a dire `Site.master` o `Alternate.master`, a seconda della selezione dell'utente).</span><span class="sxs-lookup"><span data-stu-id="90f93-137">Currently the web pages in the `~/Admin` folder use the same master page as those pages not in the administration section (namely, `Site.master` or `Alternate.master`, depending on the user's selection).</span></span>

> [!NOTE]
> <span data-ttu-id="90f93-138">Per ora, fingendo che il sito ha una sola pagina master, `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="90f93-138">For now, pretend that our site has just one master page, `Site.master`.</span></span> <span data-ttu-id="90f93-139">Intendiamo soddisfare tramite pagine master annidate con pagine master due (o più) inizia con "Usando un nidificata Master per l'amministrazione sezione della pagina" più avanti in questa esercitazione.</span><span class="sxs-lookup"><span data-stu-id="90f93-139">We'll address using nested master pages with two (or more) master pages starting with "Using a Nested Master Page for the Administration Section" later in this tutorial.</span></span>


<span data-ttu-id="90f93-140">Si supponga che è stato richiesto di personalizzazione del layout delle pagine di amministrazione per includere informazioni aggiuntive o i collegamenti che altrimenti non sarebbero presenti in altre pagine nel sito.</span><span class="sxs-lookup"><span data-stu-id="90f93-140">Imagine that we were asked to customize the layout of the Administration pages to include additional information or links that would not otherwise be present in other pages in the site.</span></span> <span data-ttu-id="90f93-141">Esistono quattro tecniche per implementare questo requisito:</span><span class="sxs-lookup"><span data-stu-id="90f93-141">There are four techniques to implement this requirement:</span></span>

1. <span data-ttu-id="90f93-142">Aggiungere manualmente le informazioni specifiche di amministrazione e i collegamenti per ogni pagina contenuto nel `~/Admin` cartella.</span><span class="sxs-lookup"><span data-stu-id="90f93-142">Manually add the Administration-specific information and links to every content page in the `~/Admin` folder.</span></span>
2. <span data-ttu-id="90f93-143">Aggiornamento di `Site.master` pagina master per includere le informazioni specifiche delle sezione Amministrazione e i collegamenti e viene aggiunto codice alla pagina master per mostrare o nascondere queste sezioni basata sul fatto che una delle pagine di amministrazione da visitare.</span><span class="sxs-lookup"><span data-stu-id="90f93-143">Update the `Site.master` master page to include the Administration section-specific information and links, and then add code to the master page to show or hide these sections based on whether one of the Administration pages is being visited.</span></span>
3. <span data-ttu-id="90f93-144">Creare una nuova pagina master in modo specifico per la sezione di amministrazione, copiare il markup da `Site.master`, aggiungere le informazioni specifiche delle sezione Amministrazione e i collegamenti e quindi aggiornare le pagine di contenuto di `~/Admin` cartella da usare questo nuovo master pagina.</span><span class="sxs-lookup"><span data-stu-id="90f93-144">Create a new master page specifically for the Administration section, copy over the markup from `Site.master`, add the Administration section-specific information and links, and then update the content pages in the `~/Admin` folder to use this new master page.</span></span>
4. <span data-ttu-id="90f93-145">Creare una pagina master annidata che associa `Site.master` e dispone di pagine di contenuto nel `~/Admin` cartella usare questo nuovo annidate pagina master.</span><span class="sxs-lookup"><span data-stu-id="90f93-145">Create a nested master page that binds to `Site.master` and have the content pages in the `~/Admin` folder use this new nested master page.</span></span> <span data-ttu-id="90f93-146">Questa pagina master annidata includerà solo le informazioni aggiuntive e collegamenti specifici per le pagine di amministrazione e non è necessario ripetere il markup già definito in `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="90f93-146">This nested master page would include just the additional information and links specific to the Administration pages and would not need to repeat the markup already defined in `Site.master`.</span></span>

<span data-ttu-id="90f93-147">La prima opzione è la meno gradevole.</span><span class="sxs-lookup"><span data-stu-id="90f93-147">The first option is the least palatable.</span></span> <span data-ttu-id="90f93-148">Lo scopo di utilizzo delle pagine master è a non dover copiare e incollare il markup più comune per le nuove pagine ASP.NET manualmente.</span><span class="sxs-lookup"><span data-stu-id="90f93-148">The whole point of using master pages is to move away from having to manually copy and paste common markup to new ASP.NET pages.</span></span> <span data-ttu-id="90f93-149">La seconda opzione è accettabile, ma rende meno gestibili come lo ausiliari le pagine master con il markup che viene visualizzato solo occasionalmente e richiede agli sviluppatori la modifica della pagina master per aggirare questo markup e di dover ricordare, l'applicazione esattamente, determinati markup viene visualizzato e nascosto.</span><span class="sxs-lookup"><span data-stu-id="90f93-149">The second option is acceptable, but makes the application less maintainable as it bulks up the master pages with markup that is only occasionally displayed and requires developers editing the master page to work around this markup and to have to remember when, exactly, certain markup is displayed versus when it is hidden.</span></span> <span data-ttu-id="90f93-150">Questo approccio potrebbe essere meno tenable come personalizzazioni da più tipi di pagine web doveva essere gestite da questa pagina master.</span><span class="sxs-lookup"><span data-stu-id="90f93-150">This approach would be less tenable as customizations from more and more types of web pages needed to be accommodated by this single master page.</span></span>

<span data-ttu-id="90f93-151">La terza opzione rimuove il disordine e complessità rilascia l'esposto con la seconda opzione.</span><span class="sxs-lookup"><span data-stu-id="90f93-151">The third option removes the clutter and complexity issues the surfaced with the second option.</span></span> <span data-ttu-id="90f93-152">Tuttavia, principale svantaggio di opzione di tre è che bisogna copiare e incollare il layout comune da `Site.master` nella nuova pagina master specifica sezione di amministrazione.</span><span class="sxs-lookup"><span data-stu-id="90f93-152">However, option three's main drawback is that it requires us to copy and paste the common layout from `Site.master` to the new Administration section-specific master page.</span></span> <span data-ttu-id="90f93-153">Se si decide successivamente di modificare il layout a livello di sito che è necessario ricordarsi di modificarla in due posizioni.</span><span class="sxs-lookup"><span data-stu-id="90f93-153">If we later decide to change the site-wide layout we have to remember to change it in two places.</span></span>

<span data-ttu-id="90f93-154">La quarta opzione, pagine master nidificate e inviaci il meglio delle opzioni di secondo e terzo.</span><span class="sxs-lookup"><span data-stu-id="90f93-154">The fourth option, nested master pages, give us the best of the second and third options.</span></span> <span data-ttu-id="90f93-155">Le informazioni sul layout a livello di sito verranno mantenuti in un unico file - la pagina master di primo livello: mentre il contenuto specifico per aree specifiche viene separato in file diversi.</span><span class="sxs-lookup"><span data-stu-id="90f93-155">The site-wide layout information is maintained in one file - the top-level master page - while the content specific to particular regions is separated out into different files.</span></span>

<span data-ttu-id="90f93-156">Questa esercitazione inizia con uno sguardo alla creazione e utilizzo di una semplice pagina master annidata.</span><span class="sxs-lookup"><span data-stu-id="90f93-156">This tutorial starts with a look at creating and using a simple nested master page.</span></span> <span data-ttu-id="90f93-157">Creiamo una nuova pagina master livello superiore, due pagine master annidate e due pagine di contenuto.</span><span class="sxs-lookup"><span data-stu-id="90f93-157">We create a brand new top-level master page, two nested master pages, and two content pages.</span></span> <span data-ttu-id="90f93-158">A partire da "Usando un annidati Master per l'amministrazione sezione della pagina", vengono esaminati l'architettura di pagina master esistente per includere l'uso di pagine master annidate di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="90f93-158">Starting with "Using a Nested Master Page for the Administration Section," we look at updating our existing master page architecture to include the use of nested master pages.</span></span> <span data-ttu-id="90f93-159">In particolare, si crea una pagina master annidata e usarlo per includere contenuti personalizzati aggiuntivi per le pagine di contenuto di `~/Admin` cartella.</span><span class="sxs-lookup"><span data-stu-id="90f93-159">Specifically, we create a nested master page and use it to include additional custom content for the content pages in the `~/Admin` folder.</span></span>

## <a name="step-1-creating-a-simple-top-level-master-page"></a><span data-ttu-id="90f93-160">Passaggio 1: Creazione di una semplice pagina Master di primo livello</span><span class="sxs-lookup"><span data-stu-id="90f93-160">Step 1: Creating a Simple Top-Level Master Page</span></span>

<span data-ttu-id="90f93-161">Creazione di un master annidato basata su uno dei master esistente pagine e quindi l'aggiornamento di una pagina di contenuto esistente per usare questa pagina master annidata anziché la pagina master di primo livello implica alcune complessità perché già prevedono alcune pagine di contenuto esistente Controlli ContentPlaceHolder definiti nella pagina master di primo livello.</span><span class="sxs-lookup"><span data-stu-id="90f93-161">Creating a nested master based on one of the existing master pages and then updating an existing content page to use this new nested master page instead of the top-level master page entails some complexity because the existing content pages already expect certain ContentPlaceHolder controls defined in the top-level master page.</span></span> <span data-ttu-id="90f93-162">Pertanto, la pagina master annidata deve includere anche gli stessi controlli ContentPlaceHolder con gli stessi nomi.</span><span class="sxs-lookup"><span data-stu-id="90f93-162">Therefore, the nested master page must also include the same ContentPlaceHolder controls with the same names.</span></span> <span data-ttu-id="90f93-163">Inoltre, l'applicazione demo particolare ha due pagine master (`Site.master` e `Alternate.master`) che vengono assegnate dinamicamente a una pagina contenuto in base alle preferenze dell'utente, che aggiunge a questa complessità.</span><span class="sxs-lookup"><span data-stu-id="90f93-163">Furthermore, our particular demo application has two master pages (`Site.master` and `Alternate.master`) that are dynamically assigned to a content page based on a user's preferences, which further adds to this complexity.</span></span> <span data-ttu-id="90f93-164">Si esaminerà l'aggiornamento dell'applicazione esistente da utilizzare pagine master annidate più avanti in questa esercitazione, ma è possibile dedicarsi prima un semplice annidati esempio pagine master.</span><span class="sxs-lookup"><span data-stu-id="90f93-164">We will look at updating the existing application to use nested master pages later in this tutorial, but let's first focus on a simple nested master pages example.</span></span>

<span data-ttu-id="90f93-165">Creare una nuova cartella denominata `NestedMasterPages` e quindi aggiungere un nuovo file pagina master per quella cartella denominato `Simple.master`.</span><span class="sxs-lookup"><span data-stu-id="90f93-165">Create a new folder named `NestedMasterPages` and then add a new master page file to that folder named `Simple.master`.</span></span> <span data-ttu-id="90f93-166">(Vedere la figura 1 per una schermata di Esplora soluzioni dopo l'aggiunta di questa cartella e file.) Trascinare il `AlternateStyles.css` file del foglio di stile da Esplora soluzioni nella finestra di progettazione.</span><span class="sxs-lookup"><span data-stu-id="90f93-166">(See Figure 1 for a screen shot of the Solution Explorer after this folder and file have been added.) Drag the `AlternateStyles.css` style sheet file from the Solution Explorer onto the Designer.</span></span> <span data-ttu-id="90f93-167">Verrà aggiunto un `<link>` elemento del file di foglio di stile nel `<head>` elemento, dopo il quale la pagina master `<head>` markup dell'elemento simile a:</span><span class="sxs-lookup"><span data-stu-id="90f93-167">This adds a `<link>` element to the style sheet file in the `<head>` element, after which the master page's `<head>` element's markup should look like:</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample1.aspx)]

<span data-ttu-id="90f93-168">Successivamente, aggiungere il markup seguente all'interno di Web Form di `Simple.master`:</span><span class="sxs-lookup"><span data-stu-id="90f93-168">Next, add the following markup within the Web Form of `Simple.master`:</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample2.aspx)]

<span data-ttu-id="90f93-169">Questo markup consente di visualizzare un collegamento denominato "Pagine Master annidate (semplice)" nella parte superiore della pagina in caratteri grandi bianco su sfondo blu.</span><span class="sxs-lookup"><span data-stu-id="90f93-169">This markup displays a link titled "Nested Master Pages (Simple)" at the top of the page in a large white font on a navy background.</span></span> <span data-ttu-id="90f93-170">Sotto questo è il `MainContent` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="90f93-170">Beneath that is the `MainContent` ContentPlaceHolder.</span></span> <span data-ttu-id="90f93-171">La figura 1 mostra il `Simple.master` pagina master quando caricati nella progettazione di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="90f93-171">Figure 1 shows the `Simple.master` master page when loaded in the Visual Studio Designer.</span></span>


<span data-ttu-id="90f93-172">[![La pagina Master annidata definisce contenuto specifico per le pagine nella sezione di amministrazione](nested-master-pages-cs/_static/image2.png)](nested-master-pages-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="90f93-172">[![The Nested Master Page Defines Content Specific to the Pages in the Administration Section](nested-master-pages-cs/_static/image2.png)](nested-master-pages-cs/_static/image1.png)</span></span>

<span data-ttu-id="90f93-173">**Figura 01**: L'annidati Master pagina definisce contenuto specifico per le pagine nella sezione di amministrazione ([fare clic per visualizzare l'immagine con dimensioni normali](nested-master-pages-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="90f93-173">**Figure 01**: The Nested Master Page Defines Content Specific to the Pages in the Administration Section ([Click to view full-size image](nested-master-pages-cs/_static/image3.png))</span></span>


## <a name="step-2-creating-a-simple-nested-master-page"></a><span data-ttu-id="90f93-174">Passaggio 2: Creazione di una semplice pagina Master annidata</span><span class="sxs-lookup"><span data-stu-id="90f93-174">Step 2: Creating a Simple Nested Master Page</span></span>

<span data-ttu-id="90f93-175">`Simple.master` contiene due controlli ContentPlaceHolder: il `MainContent` ContentPlaceHolder è aggiunto all'interno del modulo Web insieme al `head` ContentPlaceHolder nel `<head>` elemento.</span><span class="sxs-lookup"><span data-stu-id="90f93-175">`Simple.master` contains two ContentPlaceHolder controls: the `MainContent` ContentPlaceHolder we added within the Web Form along with the `head` ContentPlaceHolder in the `<head>` element.</span></span> <span data-ttu-id="90f93-176">Se si dovesse creare una pagina di contenuto e associarlo al `Simple.master` nella pagina di contenuto avrà due controlli contenuto di riferimento di due elementi ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="90f93-176">If we were to create a content page and bind it to `Simple.master` the content page would have two Content controls referencing the two ContentPlaceHolders.</span></span> <span data-ttu-id="90f93-177">Analogamente, se si crea una pagina master annidata e associarlo al `Simple.master` quindi la pagina master annidata avrà due controlli contenuto.</span><span class="sxs-lookup"><span data-stu-id="90f93-177">Similarly, if we create a nested master page and bind it to `Simple.master` then the nested master page will have two Content controls.</span></span>

<span data-ttu-id="90f93-178">È possibile aggiungere una nuova pagina master annidata per il `NestedMasterPages` cartella denominata `SimpleNested.master`.</span><span class="sxs-lookup"><span data-stu-id="90f93-178">Let's add a new nested master page to the `NestedMasterPages` folder named `SimpleNested.master`.</span></span> <span data-ttu-id="90f93-179">Fare clic su di `NestedMasterPages` cartella e scegliere Aggiungi nuovo elemento.</span><span class="sxs-lookup"><span data-stu-id="90f93-179">Right-click on the `NestedMasterPages` folder and choose Add New Item.</span></span> <span data-ttu-id="90f93-180">Verrà visualizzata la finestra di dialogo Aggiungi nuovo elemento illustrato nella figura 2.</span><span class="sxs-lookup"><span data-stu-id="90f93-180">This brings up the Add New Item dialog box shown in Figure 2.</span></span> <span data-ttu-id="90f93-181">Selezionare il tipo di modello di pagina Master e digitare il nome della nuova pagina master.</span><span class="sxs-lookup"><span data-stu-id="90f93-181">Select the Master Page template type and type in the name of the new master page.</span></span> <span data-ttu-id="90f93-182">Per indicare che la nuova pagina master deve essere una pagina master annidata, selezionare la casella di controllo "Seleziona pagina master".</span><span class="sxs-lookup"><span data-stu-id="90f93-182">To indicate that the new master page should be a nested master page, check the "Select master page" checkbox.</span></span>

<span data-ttu-id="90f93-183">Successivamente, fare clic sul pulsante Aggiungi.</span><span class="sxs-lookup"><span data-stu-id="90f93-183">Next, click the Add button.</span></span> <span data-ttu-id="90f93-184">Questo visualizzerà la stessa selezionare una finestra di dialogo della pagina Master viene visualizzato quando si associa una pagina di contenuto a una pagina master (vedere la figura 3).</span><span class="sxs-lookup"><span data-stu-id="90f93-184">This will display the same Select a Master Page dialog box you see when binding a content page to a master page (see Figure 3).</span></span> <span data-ttu-id="90f93-185">Scegliere il `Simple.master` pagina master nel `NestedMasterPages` cartella e fare clic su OK.</span><span class="sxs-lookup"><span data-stu-id="90f93-185">Choose the `Simple.master` master page in the `NestedMasterPages` folder and click OK.</span></span>

> [!NOTE]
> <span data-ttu-id="90f93-186">Se è stato creato un sito Web ASP.NET usando il modello di progetto di applicazione Web anziché il modello di progetto di sito Web non si vedranno la casella di controllo "Seleziona pagina master" nella finestra di dialogo Aggiungi nuovo elemento illustrato nella figura 2.</span><span class="sxs-lookup"><span data-stu-id="90f93-186">If you created your ASP.NET website using the Web Application Project model instead of the Web Site Project model you will not see the "Select master page" checkbox in the Add New Item dialog box shown in Figure 2.</span></span> <span data-ttu-id="90f93-187">Per creare una pagina master annidata quando si usa il modello di progetto di applicazione Web è necessario scegliere il modello di pagina Master annidata (anziché il modello di pagina Master).</span><span class="sxs-lookup"><span data-stu-id="90f93-187">To create a nested master page when using the Web Application Project model you must choose the Nested Master Page template (instead of the Master Page template).</span></span> <span data-ttu-id="90f93-188">Dopo aver selezionato il modello di pagina Master annidata e fai clic su Aggiungi, lo stesso Seleziona pagina Master verrà visualizzata la finestra di dialogo illustrata nella figura 3.</span><span class="sxs-lookup"><span data-stu-id="90f93-188">After selecting the Nested Master Page template and clicking Add, the same Select a Master Page dialog box shown in Figure 3 will appear.</span></span>


<span data-ttu-id="90f93-189">[![Verificare i &quot;Seleziona pagina master&quot; casella di controllo per aggiungere una pagina Master annidata](nested-master-pages-cs/_static/image5.png)](nested-master-pages-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="90f93-189">[![Check the &quot;Select master page&quot; Checkbox to Add a Nested Master Page](nested-master-pages-cs/_static/image5.png)](nested-master-pages-cs/_static/image4.png)</span></span>

<span data-ttu-id="90f93-190">**Figura 02**: Selezionare la casella di controllo "Seleziona pagina master" per aggiungere una pagina Master annidata ([fare clic per visualizzare l'immagine con dimensioni normali](nested-master-pages-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="90f93-190">**Figure 02**: Check the "Select master page" Checkbox to Add a Nested Master Page ([Click to view full-size image](nested-master-pages-cs/_static/image6.png))</span></span>


<span data-ttu-id="90f93-191">[![Associare la pagina Master annidata alla pagina Master Simple.master](nested-master-pages-cs/_static/image8.png)](nested-master-pages-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="90f93-191">[![Bind the Nested Master Page to the Simple.master Master Page](nested-master-pages-cs/_static/image8.png)](nested-master-pages-cs/_static/image7.png)</span></span>

<span data-ttu-id="90f93-192">**Figura 03**: Eseguire l'associazione della pagina Master annidata per il `Simple.master` pagina Master ([fare clic per visualizzare l'immagine con dimensioni normali](nested-master-pages-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="90f93-192">**Figure 03**: Bind the Nested Master Page to the `Simple.master` Master Page ([Click to view full-size image](nested-master-pages-cs/_static/image9.png))</span></span>


<span data-ttu-id="90f93-193">Markup dichiarativo della pagina master annidata, illustrato di seguito contiene due controlli contenuto che fanno riferimento a controlli ContentPlaceHolder due di livello superiore della pagina master.</span><span class="sxs-lookup"><span data-stu-id="90f93-193">The nested master page's declarative markup, shown below, contains two Content controls referencing the top-level master page's two ContentPlaceHolder controls.</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample3.aspx)]

<span data-ttu-id="90f93-194">Fatta eccezione per il `<%@ Master %>` direttiva, markup dichiarativo iniziale della pagina master annidata è identico al markup che viene generato inizialmente quando si associa una pagina di contenuto nella stessa pagina master di primo livello.</span><span class="sxs-lookup"><span data-stu-id="90f93-194">Except for the `<%@ Master %>` directive, the nested master page's initial declarative markup is identical to the markup that is initially generated when binding a content page to the same top-level master page.</span></span> <span data-ttu-id="90f93-195">Ad esempio una pagina di contenuto `<%@ Page %>` direttiva, il `<%@ Master %>` qui direttiva include un `MasterPageFile` attributo che specifica una pagina master padre della pagina master annidata.</span><span class="sxs-lookup"><span data-stu-id="90f93-195">Like a content page's `<%@ Page %>` directive, the `<%@ Master %>` directive here includes a `MasterPageFile` attribute that specifies the nested master page's parent master page.</span></span> <span data-ttu-id="90f93-196">La differenza principale tra la pagina master annidata e una pagina di contenuto associato alla stessa pagina master principale è che la pagina master annidata può includere controlli ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="90f93-196">The main difference between the nested master page and a content page bound to the same top-level master page is that the nested master page can include ContentPlaceHolder controls.</span></span> <span data-ttu-id="90f93-197">Controlli ContentPlaceHolder della pagina master annidata definiscono le aree in cui le pagine di contenuto possono personalizzare il markup.</span><span class="sxs-lookup"><span data-stu-id="90f93-197">The nested master page's ContentPlaceHolder controls define the regions where the content pages can customize the markup.</span></span>

<span data-ttu-id="90f93-198">Aggiornare questa pagina master annidata in modo che venga visualizzato il testo "Hello, from SimpleNested!"</span><span class="sxs-lookup"><span data-stu-id="90f93-198">Update this nested master page so that it displays the text "Hello, from SimpleNested!"</span></span> <span data-ttu-id="90f93-199">nel controllo contenuto che corrisponde alla `MainContent` controllo ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="90f93-199">in the Content control that corresponds to the `MainContent` ContentPlaceHolder control.</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample4.aspx)]

<span data-ttu-id="90f93-200">Dopo aver apportato questa aggiunta, salvare la pagina master annidata e quindi aggiungere una nuova pagina contenuta per il `NestedMasterPages` cartella denominata `Default.aspx`e associarlo al `SimpleNested.master` pagina master.</span><span class="sxs-lookup"><span data-stu-id="90f93-200">After making this addition, save the nested master page and then add a new content page to the `NestedMasterPages` folder named `Default.aspx`, and bind it to the `SimpleNested.master` master page.</span></span> <span data-ttu-id="90f93-201">Quando viene aggiunta in questa pagina potrebbe essere sorprendente verificare che non contiene alcun controllo contenuto (vedere la figura 4).</span><span class="sxs-lookup"><span data-stu-id="90f93-201">Upon adding this page you may be surprised to see that it contains no Content controls (see Figure 4)!</span></span> <span data-ttu-id="90f93-202">Una pagina di contenuto sono accessibili soltanto relativi *padre* elementi ContentPlaceHolder della pagina master.</span><span class="sxs-lookup"><span data-stu-id="90f93-202">A content page can only access its *parent* master page's ContentPlaceHolders.</span></span> <span data-ttu-id="90f93-203">`SimpleNested.master` non contiene tutti i controlli ContentPlaceHolder; Pertanto, qualsiasi pagina di contenuto associato a questa pagina master non può contenere tutti i controlli contenuti.</span><span class="sxs-lookup"><span data-stu-id="90f93-203">`SimpleNested.master` does not contain any ContentPlaceHolder controls; therefore, any content page bound to this master page cannot contain any Content controls.</span></span>


<span data-ttu-id="90f93-204">[![La nuova pagina di contenuto non contiene contenuti controlli](nested-master-pages-cs/_static/image11.png)](nested-master-pages-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="90f93-204">[![The New Content Page Contains No Content Controls](nested-master-pages-cs/_static/image11.png)](nested-master-pages-cs/_static/image10.png)</span></span>

<span data-ttu-id="90f93-205">**Figura 04**: Il nuovo contenuto pagina contiene No controlli contenuto ([fare clic per visualizzare l'immagine con dimensioni normali](nested-master-pages-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="90f93-205">**Figure 04**: The New Content Page Contains No Content Controls ([Click to view full-size image](nested-master-pages-cs/_static/image12.png))</span></span>


<span data-ttu-id="90f93-206">Che cosa dobbiamo fare è aggiornare la pagina master annidata (`SimpleNested.master`) per includere i controlli ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="90f93-206">What we need to do is update the nested master page (`SimpleNested.master`) to include ContentPlaceHolder controls.</span></span> <span data-ttu-id="90f93-207">In genere è opportuno le pagine master annidate per includere un controllo ContentPlaceHolder per ogni controllo ContentPlaceHolder definiti dalla relativa pagina master padre, consentendo la relativa pagina master figlio o pagina contenuta per lavorare con uno qualsiasi dei ContentPlaceHolder di livello superiore della pagina master controlli.</span><span class="sxs-lookup"><span data-stu-id="90f93-207">Typically you'll want your nested master pages to include a ContentPlaceHolder for each ContentPlaceHolder defined by its parent master page, thereby allowing its child master page or content page to work with any of the top-level master page's ContentPlaceHolder controls.</span></span>

<span data-ttu-id="90f93-208">Aggiornamento di `SimpleNested.master` pagina master per includere un controllo ContentPlaceHolder nei suoi due controlli contenuti.</span><span class="sxs-lookup"><span data-stu-id="90f93-208">Update the `SimpleNested.master` master page to include a ContentPlaceHolder in its two Content controls.</span></span> <span data-ttu-id="90f93-209">Assegnare lo stesso nome del controllo ContentPlaceHolder a che proprio controllo contenuto fa riferimento controlli ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="90f93-209">Give the ContentPlaceHolder controls the same name as the ContentPlaceHolder control their Content control refers to.</span></span> <span data-ttu-id="90f93-210">Vale a dire, aggiungere un controllo ContentPlaceHolder denominato `MainContent` al contenuto del controllo `SimpleNested.master` che fa riferimento il `MainContent` ContentPlaceHolder in `Simple.master`.</span><span class="sxs-lookup"><span data-stu-id="90f93-210">That is, add a ContentPlaceHolder control named `MainContent` to the Content control in `SimpleNested.master` that references the `MainContent` ContentPlaceHolder in `Simple.master`.</span></span> <span data-ttu-id="90f93-211">Eseguire la stessa operazione nel controllo contenuto che fa riferimento il `head` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="90f93-211">Do the same thing in the Content control that references the `head` ContentPlaceHolder.</span></span>

> [!NOTE]
> <span data-ttu-id="90f93-212">Mentre consigliabile assegnare i controlli ContentPlaceHolder nella pagina master annidata uguale di elementi ContentPlaceHolder nella pagina master di primo livello, la simmetria di denominazione non è necessaria.</span><span class="sxs-lookup"><span data-stu-id="90f93-212">While I recommend naming the ContentPlaceHolder controls in the nested master page the same as the ContentPlaceHolders in the top-level master page, this naming symmetry is not required.</span></span> <span data-ttu-id="90f93-213">È possibile assegnare i controlli ContentPlaceHolder nella pagina master annidata qualsiasi nome desiderato.</span><span class="sxs-lookup"><span data-stu-id="90f93-213">You can give the ContentPlaceHolder controls in your nested master page any name you like.</span></span> <span data-ttu-id="90f93-214">Tuttavia, se è più semplice da ricordare cosa elementi ContentPlaceHolder corrispondenti ai quali aree della pagina se la pagina master di primo livello e pagine master annidate utilizzano gli stessi nomi.</span><span class="sxs-lookup"><span data-stu-id="90f93-214">However, I find it easier to remember what ContentPlaceHolders correspond with what regions of the page if my top-level master page and nested master pages use the same names.</span></span>


<span data-ttu-id="90f93-215">Dopo aver apportato queste aggiunte di `SimpleNested.master` markup dichiarativo della pagina master dovrebbe essere simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="90f93-215">After making these additions your `SimpleNested.master` master page's declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample5.aspx)]

<span data-ttu-id="90f93-216">Eliminare il `Default.aspx` il contenuto pagina appena creato e quindi aggiungerlo nuovamente, associarla al `SimpleNested.master` pagina master.</span><span class="sxs-lookup"><span data-stu-id="90f93-216">Delete the `Default.aspx` content page we just created and then re-add it, binding it to the `SimpleNested.master` master page.</span></span> <span data-ttu-id="90f93-217">Questa volta Visual Studio aggiunge due controlli contenuto per il `Default.aspx`, che fa riferimento l'elementi ContentPlaceHolder ora definita in `SimpleNested.master` (vedere la figura 6).</span><span class="sxs-lookup"><span data-stu-id="90f93-217">This time Visual Studio adds two Content controls to the `Default.aspx`, referencing the ContentPlaceHolders now defined in `SimpleNested.master` (see Figure 6).</span></span> <span data-ttu-id="90f93-218">Aggiungere il testo "Hello, from default. aspx!"</span><span class="sxs-lookup"><span data-stu-id="90f93-218">Add the text, "Hello, from Default.aspx!"</span></span> <span data-ttu-id="90f93-219">nel contenuto del controllo a cui fa riferimento `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="90f93-219">in the Content control that referenced `MainContent`.</span></span>

<span data-ttu-id="90f93-220">La figura 5 illustra le tre entità qui - coinvolte `Simple.master`, `SimpleNested.master`, e `Default.aspx` - e come interagiscono tra loro.</span><span class="sxs-lookup"><span data-stu-id="90f93-220">Figure 5 shows the three entities involved here - `Simple.master`, `SimpleNested.master`, and `Default.aspx` - and how they relate to one another.</span></span> <span data-ttu-id="90f93-221">Come illustrato nella figura, la pagina master annidata implementa i controlli del contenuto per ContentPlaceHolder del padre.</span><span class="sxs-lookup"><span data-stu-id="90f93-221">As the diagram shows, the nested master page implements Content controls for its parent's ContentPlaceHolder.</span></span> <span data-ttu-id="90f93-222">Se queste aree devono essere accessibili per la pagina contenuto, la pagina master annidata deve aggiungere il proprio elementi ContentPlaceHolder ai controlli contenuto.</span><span class="sxs-lookup"><span data-stu-id="90f93-222">If these regions need to be accessible to the content page, the nested master page must add its own ContentPlaceHolders to the Content controls.</span></span>


<span data-ttu-id="90f93-223">[![Le pagine Master di primo livello e nidificati dettare un Layout della pagina di contenuto](nested-master-pages-cs/_static/image14.png)](nested-master-pages-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="90f93-223">[![The Top-Level and Nested Master Pages Dictate the Content Page's Layout](nested-master-pages-cs/_static/image14.png)](nested-master-pages-cs/_static/image13.png)</span></span>

<span data-ttu-id="90f93-224">**Figura 05**: Le pagine Master di primo livello e nidificati dettare un Layout della pagina contenuto ([fare clic per visualizzare l'immagine con dimensioni normali](nested-master-pages-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="90f93-224">**Figure 05**: The Top-Level and Nested Master Pages Dictate the Content Page's Layout ([Click to view full-size image](nested-master-pages-cs/_static/image15.png))</span></span>


<span data-ttu-id="90f93-225">Questo comportamento viene illustrato come una pagina di contenuto o la pagina master è solo cognizant della relativa pagina master padre.</span><span class="sxs-lookup"><span data-stu-id="90f93-225">This behavior illustrates how a content page or master page is only cognizant of its parent master page.</span></span> <span data-ttu-id="90f93-226">Questo comportamento è indicato anche dalla progettazione di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="90f93-226">This behavior is also indicated by the Visual Studio Designer.</span></span> <span data-ttu-id="90f93-227">Figura 6 mostra la finestra di progettazione `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="90f93-227">Figure 6 shows the Designer for `Default.aspx`.</span></span> <span data-ttu-id="90f93-228">Mentre la finestra di progettazione mostra chiaramente quali aree geografiche possono essere modificate dalla pagina di contenuto e ciò che non sono parti, non risolvere l'ambiguità che cosa sono le aree non modificabile dalla pagina master annidata e quali aree sono dalla pagina master di primo livello.</span><span class="sxs-lookup"><span data-stu-id="90f93-228">While the Designer clearly shows what regions are editable from the content page and what portions aren't, it doesn't disambiguate what non-editable regions are from the nested master page and what regions are from the top-level master page.</span></span>


<span data-ttu-id="90f93-229">[![L'ora di pagina contenuto include controlli contenuto per gli elementi ContentPlaceHolder della pagina Master annidata](nested-master-pages-cs/_static/image17.png)](nested-master-pages-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="90f93-229">[![The Content Page Now Includes Content Controls for the Nested Master Page's ContentPlaceHolders](nested-master-pages-cs/_static/image17.png)](nested-master-pages-cs/_static/image16.png)</span></span>

<span data-ttu-id="90f93-230">**Figura 06**: Il contenuto pagina ora include controlli contenuto per gli elementi ContentPlaceHolder della pagina Master annidata ([fare clic per visualizzare l'immagine con dimensioni normali](nested-master-pages-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="90f93-230">**Figure 06**: The Content Page Now Includes Content Controls for the Nested Master Page's ContentPlaceHolders ([Click to view full-size image](nested-master-pages-cs/_static/image18.png))</span></span>


## <a name="step-3-adding-a-second-simple-nested-master-page"></a><span data-ttu-id="90f93-231">Passaggio 3: Aggiunta di una seconda pagina Master annidata semplice</span><span class="sxs-lookup"><span data-stu-id="90f93-231">Step 3: Adding a Second Simple Nested Master Page</span></span>

<span data-ttu-id="90f93-232">Il vantaggio di pagine master annidate è più evidente quando sono presenti più pagine master annidate.</span><span class="sxs-lookup"><span data-stu-id="90f93-232">The benefit of nested master pages is more evident when there are multiple nested master pages.</span></span> <span data-ttu-id="90f93-233">Per illustrare questo vantaggio, creare un'altra pagina master annidata nel `NestedMasterPages` cartella; pagina master denominare questa nuova annidati `SimpleNestedAlternate.master` e associarlo al `Simple.master` pagina master.</span><span class="sxs-lookup"><span data-stu-id="90f93-233">To illustrate this benefit, create another nested master page in the `NestedMasterPages` folder; name this new nested master page `SimpleNestedAlternate.master` and bind it to the `Simple.master` master page.</span></span> <span data-ttu-id="90f93-234">Aggiungere controlli ContentPlaceHolder in due controlli di contenuto della pagina master annidata, come abbiamo fatto nel passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="90f93-234">Add ContentPlaceHolder controls in the nested master page's two Content controls like we did in Step 2.</span></span> <span data-ttu-id="90f93-235">Aggiungere anche il testo "Hello, from SimpleNestedAlternate!"</span><span class="sxs-lookup"><span data-stu-id="90f93-235">Also add the text, "Hello, from SimpleNestedAlternate!"</span></span> <span data-ttu-id="90f93-236">nel controllo contenuto che corrisponde a di livello superiore della pagina master `MainContent` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="90f93-236">in the Content control that corresponds to the top-level master page's `MainContent` ContentPlaceHolder.</span></span> <span data-ttu-id="90f93-237">Dopo aver apportato queste modifiche markup dichiarativo di nuovo nidificata della pagina master dovrebbe essere simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="90f93-237">After making these changes your new nested master page's declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample6.aspx)]

<span data-ttu-id="90f93-238">Creare una pagina di contenuto denominata `Alternate.aspx` nella `NestedMasterPages` cartella e associarlo al `SimpleNestedAlternate.master` pagina master annidata.</span><span class="sxs-lookup"><span data-stu-id="90f93-238">Create a content page named `Alternate.aspx` in the `NestedMasterPages` folder and bind it to the `SimpleNestedAlternate.master` nested master page.</span></span> <span data-ttu-id="90f93-239">Aggiungere il testo "Hello, from alternativo!"</span><span class="sxs-lookup"><span data-stu-id="90f93-239">Add the text, "Hello, from Alternate!"</span></span> <span data-ttu-id="90f93-240">nel controllo contenuto che corrisponde a `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="90f93-240">in the Content control that corresponds to `MainContent`.</span></span> <span data-ttu-id="90f93-241">Figura 7 mostra `Alternate.aspx` quando viene visualizzato tramite la progettazione di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="90f93-241">Figure 7 shows `Alternate.aspx` when viewed through the Visual Studio Designer.</span></span>


<span data-ttu-id="90f93-242">[![Alternate.aspx è associato alla pagina Master SimpleNestedAlternate.master](nested-master-pages-cs/_static/image20.png)](nested-master-pages-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="90f93-242">[![Alternate.aspx is Bound to the SimpleNestedAlternate.master Master Page](nested-master-pages-cs/_static/image20.png)](nested-master-pages-cs/_static/image19.png)</span></span>

<span data-ttu-id="90f93-243">**Figura 07**: `Alternate.aspx` è associato il `SimpleNestedAlternate.master` pagina Master ([fare clic per visualizzare l'immagine con dimensioni normali](nested-master-pages-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="90f93-243">**Figure 07**: `Alternate.aspx` is Bound to the `SimpleNestedAlternate.master` Master Page ([Click to view full-size image](nested-master-pages-cs/_static/image21.png))</span></span>


<span data-ttu-id="90f93-244">Confrontare la finestra di progettazione nella figura 7 nella finestra di progettazione nella figura 6.</span><span class="sxs-lookup"><span data-stu-id="90f93-244">Compare the Designer in Figure 7 to the Designer in Figure 6.</span></span> <span data-ttu-id="90f93-245">Entrambe le pagine di contenuto condividono lo stesso layout definite nella pagina master di primo livello (`Simple.master`), vale a dire il titolo "Nested Master esercitazione sulle pagine (semplice)".</span><span class="sxs-lookup"><span data-stu-id="90f93-245">Both content pages share the same layout defined in the top-level master page (`Simple.master`), namely the "Nested Master Pages Tutorial (Simple)" title.</span></span> <span data-ttu-id="90f93-246">Entrambi contengono ancora contenuto distinto definito nelle pagine master padre - il testo "Hello, from SimpleNested!"</span><span class="sxs-lookup"><span data-stu-id="90f93-246">Yet both have distinct content defined in their parent master pages - the text "Hello, from SimpleNested!"</span></span> <span data-ttu-id="90f93-247">nelle Figure 6 e "Hello, from SimpleNestedAlternate!"</span><span class="sxs-lookup"><span data-stu-id="90f93-247">in Figure 6 and "Hello, from SimpleNestedAlternate!"</span></span> <span data-ttu-id="90f93-248">Nella figura 7.</span><span class="sxs-lookup"><span data-stu-id="90f93-248">in Figure 7.</span></span> <span data-ttu-id="90f93-249">Concesso, queste differenze qui sono semplici, ma è possibile estendere questo esempio per includere le differenze più significative.</span><span class="sxs-lookup"><span data-stu-id="90f93-249">Granted, these differences here are trivial, but you could extend this example to include more meaningful differences.</span></span> <span data-ttu-id="90f93-250">Ad esempio, il `SimpleNested.master` pagina potrebbe includere un menu con le opzioni specifiche per le pagine di contenuto, mentre `SimpleNestedAlternate.master` potrebbe avere informazioni relative alle pagine di contenuto a esso associati.</span><span class="sxs-lookup"><span data-stu-id="90f93-250">For instance, the `SimpleNested.master` page might include a menu with options specific to its content pages, whereas `SimpleNestedAlternate.master` might have information pertinent to the content pages that bind to it.</span></span>

<span data-ttu-id="90f93-251">A questo punto, si supponga che è necessario apportare modifiche al layout del sito globale.</span><span class="sxs-lookup"><span data-stu-id="90f93-251">Now, imagine that we needed to make a change to the overarching site layout.</span></span> <span data-ttu-id="90f93-252">Ad esempio, si supponga di voler aggiungere un elenco di collegamenti comuni a tutte le pagine di contenuto.</span><span class="sxs-lookup"><span data-stu-id="90f93-252">For example, imagine that we wanted to add a list of common links to all content pages.</span></span> <span data-ttu-id="90f93-253">A tale scopo si aggiorna la pagina master di primo livello, `Simple.master`.</span><span class="sxs-lookup"><span data-stu-id="90f93-253">To accomplish this we update the top-level master page, `Simple.master`.</span></span> <span data-ttu-id="90f93-254">Eventuali modifiche vengono immediatamente riflessi nel relativo pagine master annidate e, di conseguenza, le pagine di contenuto.</span><span class="sxs-lookup"><span data-stu-id="90f93-254">Any changes there are immediately reflected in its nested master pages and, by extension, their content pages.</span></span>

<span data-ttu-id="90f93-255">Per illustrare la semplicità con cui è possibile modificare il layout del sito unificati, aprire il `Simple.master` pagina master e aggiungere il markup seguente tra il `topContent` e `mainContent` `<div>` elementi:</span><span class="sxs-lookup"><span data-stu-id="90f93-255">To demonstrate the ease with which we can change the overarching site layout, open the `Simple.master` master page and add the following markup between the `topContent` and `mainContent` `<div>` elements:</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample7.aspx)]

<span data-ttu-id="90f93-256">Questo consente di aggiungere due collegamenti nella parte superiore di ogni pagina in cui si associa `Simple.master`, `SimpleNested.master`, o `SimpleNestedAlternate.master`; queste modifiche si applicano le pagine di contenuto e pagine master annidate tutto immediatamente.</span><span class="sxs-lookup"><span data-stu-id="90f93-256">This adds two links to the top of every page that binds to `Simple.master`, `SimpleNested.master`, or `SimpleNestedAlternate.master`; these changes apply to all nested master pages and their content pages immediately.</span></span> <span data-ttu-id="90f93-257">Figura 8 mostra `Alternate.aspx` quando viene visualizzato tramite un browser.</span><span class="sxs-lookup"><span data-stu-id="90f93-257">Figure 8 shows `Alternate.aspx` when viewed through a browser.</span></span> <span data-ttu-id="90f93-258">Si noti l'aggiunta di collegamenti nella parte superiore della pagina (rispetto alla figura 7).</span><span class="sxs-lookup"><span data-stu-id="90f93-258">Note the addition of the links at the top of the page (compared to Figure 7).</span></span>


<span data-ttu-id="90f93-259">[![Stato modificato per la pagina Master di livello superiore vengono immediatamente riflessi nelle pagine Master nidificate e pagine di contenuto Their](nested-master-pages-cs/_static/image23.png)](nested-master-pages-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="90f93-259">[![Changed to the Top-Level Master Page are Immediately Reflected in its Nested Master Pages and Their Content Pages](nested-master-pages-cs/_static/image23.png)](nested-master-pages-cs/_static/image22.png)</span></span>

<span data-ttu-id="90f93-260">**Figura 08**: Stato modificato per la pagina Master di livello superiore vengono immediatamente riflessi nelle pagine Master nidificate e pagine di contenuto Their ([fare clic per visualizzare l'immagine con dimensioni normali](nested-master-pages-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="90f93-260">**Figure 08**: Changed to the Top-Level Master Page are Immediately Reflected in its Nested Master Pages and Their Content Pages ([Click to view full-size image](nested-master-pages-cs/_static/image24.png))</span></span>


## <a name="using-a-nested-master-page-for-the-administration-section"></a><span data-ttu-id="90f93-261">Uso di una pagina Master annidata per la sezione di amministrazione</span><span class="sxs-lookup"><span data-stu-id="90f93-261">Using a Nested Master Page for the Administration Section</span></span>

<span data-ttu-id="90f93-262">A questo punto sono stati analizzati i vantaggi del master annidata pagine e come creare e usarli in un'applicazione ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="90f93-262">At this point we have looked at the advantages of nested master pages and have seen how to create and use them in an ASP.NET application.</span></span> <span data-ttu-id="90f93-263">Negli esempi di passaggi da 1, 2 e 3, tuttavia, implica la creazione di una nuova pagina master di primo livello, le nuove pagine master nidificate e nuove pagine di contenuto.</span><span class="sxs-lookup"><span data-stu-id="90f93-263">The examples in Steps 1, 2, and 3, however, involved creating a new top-level master page, new nested master pages, and new content pages.</span></span> <span data-ttu-id="90f93-264">Per quanto riguarda l'aggiunta una nuova pagina master annidata in un sito Web con una pagina master di primo livello esistente e le pagine di contenuto?</span><span class="sxs-lookup"><span data-stu-id="90f93-264">What about adding a new nested master page to a website with an existing top-level master page and content pages?</span></span>

<span data-ttu-id="90f93-265">L'integrazione di una pagina master annidata in un sito Web esistente e la relativa associazione alle pagine di contenuto esistenti richiede un po' più complessa rispetto a partire da zero.</span><span class="sxs-lookup"><span data-stu-id="90f93-265">Integrating a nested master page into an existing website and associating it with existing content pages requires a bit more effort than starting from scratch.</span></span> <span data-ttu-id="90f93-266">I passaggi 4, 5, 6 e 7 esplorare queste sfide come ti forniamo altre applicazione demo per includere una nuova pagina master annidata denominata `AdminNested.master` che contiene istruzioni per l'amministratore e viene usato per le pagine ASP.NET nella `~/Admin` cartella.</span><span class="sxs-lookup"><span data-stu-id="90f93-266">Steps 4, 5, 6, and 7 explore these challenges as we augment our demo application to include a new nested master page named `AdminNested.master` that contains instructions for the administrator and is used by the ASP.NET pages in the `~/Admin` folder.</span></span>

<span data-ttu-id="90f93-267">L'integrazione di una pagina master annidata nell'applicazione demo introduce gli ostacoli seguenti:</span><span class="sxs-lookup"><span data-stu-id="90f93-267">Integrating a nested master page into our demo application introduces the following hurdles:</span></span>

- <span data-ttu-id="90f93-268">Il contenuto esistente di pagine nel `~/Admin` cartella hanno alcune aspettative da loro pagina master.</span><span class="sxs-lookup"><span data-stu-id="90f93-268">The existing content pages in the `~/Admin` folder have certain expectations from their master page.</span></span> <span data-ttu-id="90f93-269">Prima di tutto, si aspettano determinati controlli ContentPlaceHolder sia presente.</span><span class="sxs-lookup"><span data-stu-id="90f93-269">For starters, they expect certain ContentPlaceHolder controls to be present.</span></span> <span data-ttu-id="90f93-270">Inoltre, il `~/Admin/AddProduct.aspx` e `~/Admin/Products.aspx` pagine chiamare pubblico della pagina master `RefreshRecentProductsGrid` metodo, impostare relativo `GridMessageText` proprietà, o dispone di un gestore eventi per relativo `PricesDoubled` evento.</span><span class="sxs-lookup"><span data-stu-id="90f93-270">Furthermore, the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages call the master page's public `RefreshRecentProductsGrid` method, set its `GridMessageText` property, or have an event handler for its `PricesDoubled` event.</span></span> <span data-ttu-id="90f93-271">Di conseguenza, questa pagina master annidata deve fornire la stesso elementi ContentPlaceHolder e membri pubblici.</span><span class="sxs-lookup"><span data-stu-id="90f93-271">Consequently, our nested master page must provide the same ContentPlaceHolders and public members.</span></span>
- <span data-ttu-id="90f93-272">Nell'esercitazione precedente sono stati migliorati i `BasePage` classe per impostare dinamicamente le `Page` dell'oggetto `MasterPageFile` proprietà basato su una variabile di sessione.</span><span class="sxs-lookup"><span data-stu-id="90f93-272">In the preceding tutorial we enhanced the `BasePage` class to dynamically set the `Page` object's `MasterPageFile` property based on a Session variable.</span></span> <span data-ttu-id="90f93-273">Come per supportiamo le pagine master dinamiche quando si usano le pagine master nidificate?</span><span class="sxs-lookup"><span data-stu-id="90f93-273">How to we support dynamic master pages when using nested master pages?</span></span>

<span data-ttu-id="90f93-274">Questi due sfide esporrà come compilazione della pagina master annidata e usarlo dalle pagine di contenuto esistente.</span><span class="sxs-lookup"><span data-stu-id="90f93-274">These two challenges will surface as we build the nested master page and use it from our existing content pages.</span></span> <span data-ttu-id="90f93-275">Illustreremo analizzare e vincono questi problemi quando si verificano.</span><span class="sxs-lookup"><span data-stu-id="90f93-275">We'll investigate and surmount these issues as they arise.</span></span>

## <a name="step-4-creating-the-nested-master-page"></a><span data-ttu-id="90f93-276">Passaggio 4: Creazione della pagina Master annidata</span><span class="sxs-lookup"><span data-stu-id="90f93-276">Step 4: Creating the Nested Master Page</span></span>

<span data-ttu-id="90f93-277">La prima attività consiste nel creare la pagina master annidata da utilizzare per le pagine nella sezione di amministrazione.</span><span class="sxs-lookup"><span data-stu-id="90f93-277">Our first task is to create the nested master page to be used by the pages in the Administration section.</span></span> <span data-ttu-id="90f93-278">Come abbiamo visto nel passaggio 2, quando si aggiunge un nuovo annidati pagina master è necessario specificare una pagina master padre della pagina master annidata.</span><span class="sxs-lookup"><span data-stu-id="90f93-278">As we saw in Step 2, when adding a new nested master page we need to specify the nested master page's parent master page.</span></span> <span data-ttu-id="90f93-279">Ma abbiamo due pagine master di livello superiore: `Site.master` e `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="90f93-279">But we have two top-level master pages: `Site.master` and `Alternate.master`.</span></span> <span data-ttu-id="90f93-280">Tenere presente che è stata creata `Alternate.master` nell'esercitazione precedente e ha scritto codice `BasePage` classe che imposta l'oggetto della pagina `MasterPageFile` proprietà in fase di esecuzione a una delle due `Site.master` o `Alternate.master` in base al valore il `MyMasterPage` Variabile di sessione.</span><span class="sxs-lookup"><span data-stu-id="90f93-280">Recall that we created `Alternate.master` in the preceding tutorial and wrote code in the `BasePage` class that set the Page object's `MasterPageFile` property at runtime to either `Site.master` or `Alternate.master` depending on the value of the `MyMasterPage` Session variable.</span></span>

<span data-ttu-id="90f93-281">Come si configura questa pagina master annidata in modo che utilizzi la pagina master principale appropriata?</span><span class="sxs-lookup"><span data-stu-id="90f93-281">How do we configure our nested master page so that it uses the appropriate top-level master page?</span></span> <span data-ttu-id="90f93-282">Sono disponibili due opzioni:</span><span class="sxs-lookup"><span data-stu-id="90f93-282">We have two options:</span></span>

- <span data-ttu-id="90f93-283">Creare due pagine master nidificate `AdminNestedSite.master` e `AdminNestedAlternate.master`e associarle alle pagine master di primo livello `Site.master` e `Alternate.master`, rispettivamente.</span><span class="sxs-lookup"><span data-stu-id="90f93-283">Create two nested master pages, `AdminNestedSite.master` and `AdminNestedAlternate.master`, and bind them to the top-level master pages `Site.master` and `Alternate.master`, respectively.</span></span> <span data-ttu-id="90f93-284">Nelle `BasePage`, quindi, è sufficiente impostare la `Page` dell'oggetto `MasterPageFile` alla pagina master annidata appropriata.</span><span class="sxs-lookup"><span data-stu-id="90f93-284">In `BasePage`, then, we'd set the `Page` object's `MasterPageFile` to the appropriate nested master page.</span></span>
- <span data-ttu-id="90f93-285">Creare una singola pagina master annidata e hanno pagine di contenuto di usare questa pagina master.</span><span class="sxs-lookup"><span data-stu-id="90f93-285">Create a single nested master page and have the content pages use this particular master page.</span></span> <span data-ttu-id="90f93-286">Quindi, in fase di esecuzione, è necessario impostare la pagina master annidata `MasterPageFile` proprietà della pagina master primo livello appropriato in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="90f93-286">Then, at runtime, we'd need to set the nested master page's `MasterPageFile` property to the appropriate top-level master page at runtime.</span></span> <span data-ttu-id="90f93-287">(Come si potrebbe avere intuito a questo punto, le pagine master hanno anche una `MasterPageFile` proprietà.)</span><span class="sxs-lookup"><span data-stu-id="90f93-287">(As you might have figured out by now, master pages also have a `MasterPageFile` property.)</span></span>

<span data-ttu-id="90f93-288">È possibile usare la seconda opzione.</span><span class="sxs-lookup"><span data-stu-id="90f93-288">Let's use the second option.</span></span> <span data-ttu-id="90f93-289">Creare un unico file del pagina master annidata, nelle `~/Admin` cartella denominata `AdminNested.master`.</span><span class="sxs-lookup"><span data-stu-id="90f93-289">Create a single nested master page file in the `~/Admin` folder named `AdminNested.master`.</span></span> <span data-ttu-id="90f93-290">Poiché entrambe `Site.master` e `Alternate.master` hanno lo stesso set di controlli ContentPlaceHolder, non importa quale pagina master è necessario associarli a, sebbene io Consiglio di associarlo al `Site.master` per i migliori risultati della coerenza.</span><span class="sxs-lookup"><span data-stu-id="90f93-290">Because both `Site.master` and `Alternate.master` have the same set of ContentPlaceHolder controls, it doesn't matter what master page you bind it to, although I encourage you to bind it to `Site.master` for consistency's sake.</span></span>


<span data-ttu-id="90f93-291">[![Aggiungere una pagina Master annidata alla cartella ~/Admin.](nested-master-pages-cs/_static/image26.png)](nested-master-pages-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="90f93-291">[![Add a Nested Master Page to the ~/Admin Folder.](nested-master-pages-cs/_static/image26.png)](nested-master-pages-cs/_static/image25.png)</span></span>

<span data-ttu-id="90f93-292">**Figura 09**: Aggiungere una pagina Master annidata per il `~/Admin` cartella.</span><span class="sxs-lookup"><span data-stu-id="90f93-292">**Figure 09**: Add a Nested Master Page to the `~/Admin` Folder.</span></span> <span data-ttu-id="90f93-293">([Fare clic per visualizzare l'immagine con dimensioni normali](nested-master-pages-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="90f93-293">([Click to view full-size image](nested-master-pages-cs/_static/image27.png))</span></span>


<span data-ttu-id="90f93-294">Poiché la pagina master annidata è associata a una pagina master con quattro controlli ContentPlaceHolder, Visual Studio aggiunge quattro controlli dei contenuti per tag iniziale del nuovo file pagina master annidata.</span><span class="sxs-lookup"><span data-stu-id="90f93-294">Because the nested master page is bound to a master page with four ContentPlaceHolder controls, Visual Studio adds four Content controls to the new nested master page file's initial markup.</span></span> <span data-ttu-id="90f93-295">Come abbiamo fatto nei passaggi 2 e 3, aggiungere un controllo ContentPlaceHolder in ogni controllo contenuto, assegnandogli lo stesso nome del controllo ContentPlaceHolder di livello superiore della pagina master.</span><span class="sxs-lookup"><span data-stu-id="90f93-295">Like we did in Steps 2 and 3, add a ContentPlaceHolder control in each Content control, giving it the same name as the top-level master page's ContentPlaceHolder control.</span></span> <span data-ttu-id="90f93-296">Aggiungere anche il markup seguente per il controllo contenuto che corrisponde alla `MainContent` ContentPlaceHolder:</span><span class="sxs-lookup"><span data-stu-id="90f93-296">Also add the following markup to the Content control that corresponds to the `MainContent` ContentPlaceHolder:</span></span>


[!code-html[Main](nested-master-pages-cs/samples/sample8.html)]

<span data-ttu-id="90f93-297">Successivamente, definire le `instructions` della classe CSS nel `Styles.css` e `AlternateStyles.css` file CSS.</span><span class="sxs-lookup"><span data-stu-id="90f93-297">Next, define the `instructions` CSS class in the `Styles.css` and `AlternateStyles.css` CSS files.</span></span> <span data-ttu-id="90f93-298">Le regole CSS seguenti causano uno stile definiti con gli elementi HTML di `instructions` classe deve essere visualizzato con un colore di sfondo giallo chiaro e un bordo nero a tinta unita:</span><span class="sxs-lookup"><span data-stu-id="90f93-298">The following CSS rules cause HTML elements styled with the `instructions` class to be displayed with a light yellow background color and a black, solid border:</span></span>


[!code-css[Main](nested-master-pages-cs/samples/sample9.css)]

<span data-ttu-id="90f93-299">Poiché questo markup è stato aggiunto alla pagina master annidata, verrà visualizzata solo in quelle pagine che utilizzano questa pagina master annidata (vale a dire, le pagine nella sezione di amministrazione).</span><span class="sxs-lookup"><span data-stu-id="90f93-299">Because this markup has been added to the nested master page, it will only appear in those pages that use this nested master page (namely, the pages in the Administration section).</span></span>

<span data-ttu-id="90f93-300">Dopo aver apportato queste aggiunte a una pagina master annidata, il relativo markup dichiarativo dovrebbe essere simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="90f93-300">After making these additions to your nested master page, its declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample10.aspx)]

<span data-ttu-id="90f93-301">Si noti che ogni controllo contenuto include un controllo ContentPlaceHolder e che i controlli ContentPlaceHolder `ID` proprietà vengono assegnate gli stessi valori di controlli ContentPlaceHolder corrispondenti nella pagina master di primo livello.</span><span class="sxs-lookup"><span data-stu-id="90f93-301">Note that each Content control has a ContentPlaceHolder control and that the ContentPlaceHolder controls' `ID` properties are assigned the same values as the corresponding ContentPlaceHolder controls in the top-level master page.</span></span> <span data-ttu-id="90f93-302">Inoltre, viene visualizzato il markup specifico della sezione di amministrazione nel `MainContent` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="90f93-302">Moreover, the Administration section-specific markup appears in the `MainContent` ContentPlaceHolder.</span></span>

<span data-ttu-id="90f93-303">Figura 10 è illustrata la `AdminNested.master` pagina master annidata quando viene visualizzato in Progettazione di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="90f93-303">Figure 10 shows the `AdminNested.master` nested master page when viewed through Visual Studio's Designer.</span></span> <span data-ttu-id="90f93-304">È possibile visualizzare le istruzioni riportate nella casella di colore gialla nella parte superiore del `MainContent` controllo contenuto.</span><span class="sxs-lookup"><span data-stu-id="90f93-304">You can see the instructions in the yellow box at the top of the `MainContent` Content control.</span></span>


<span data-ttu-id="90f93-305">[![La pagina Master annidata estende la pagina Master di primo livello per includere le istruzioni per l'amministratore.](nested-master-pages-cs/_static/image29.png)](nested-master-pages-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="90f93-305">[![The Nested Master Page Extends the Top-Level Master Page to Include Instructions for the Administrator.](nested-master-pages-cs/_static/image29.png)](nested-master-pages-cs/_static/image28.png)</span></span>

<span data-ttu-id="90f93-306">**Figura 10**: La pagina Master annidata estende la pagina Master di primo livello per includere le istruzioni per l'amministratore.</span><span class="sxs-lookup"><span data-stu-id="90f93-306">**Figure 10**: The Nested Master Page Extends the Top-Level Master Page to Include Instructions for the Administrator.</span></span> <span data-ttu-id="90f93-307">([Fare clic per visualizzare l'immagine con dimensioni normali](nested-master-pages-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="90f93-307">([Click to view full-size image](nested-master-pages-cs/_static/image30.png))</span></span>


## <a name="step-5-updating-the-existing-content-pages-to-use-the-new-nested-master-page"></a><span data-ttu-id="90f93-308">Passaggio 5: Aggiornamento delle pagine di contenuto esistenti per usare la nuova pagina Master annidata</span><span class="sxs-lookup"><span data-stu-id="90f93-308">Step 5: Updating the Existing Content Pages to Use the New Nested Master Page</span></span>

<span data-ttu-id="90f93-309">Ogni volta che è aggiungere una nuova pagina contenuta per la sezione di amministrazione è necessario associarla al `AdminNested.master` pagina master appena creato.</span><span class="sxs-lookup"><span data-stu-id="90f93-309">Anytime we add a new content page to the Administration section we need to bind it to the `AdminNested.master` master page we just created.</span></span> <span data-ttu-id="90f93-310">Ma per quanto riguarda esistente il contenuto di pagine?</span><span class="sxs-lookup"><span data-stu-id="90f93-310">But what about the existing content pages?</span></span> <span data-ttu-id="90f93-311">Attualmente, tutte le pagine di contenuto nel sito di derivano il `BasePage` (classe), che a livello di codice imposta il contenuto della pagina master in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="90f93-311">Currently, all content pages in the site derive from the `BasePage` class, which programmatically sets the content page's master page at runtime.</span></span> <span data-ttu-id="90f93-312">Ciò non è il comportamento desiderato per le pagine di contenuto nella sezione di amministrazione.</span><span class="sxs-lookup"><span data-stu-id="90f93-312">This is not the behavior we want for the content pages in the Administration section.</span></span> <span data-ttu-id="90f93-313">Si vuole invece di queste pagine contenute per usare sempre la `AdminNested.master` pagina.</span><span class="sxs-lookup"><span data-stu-id="90f93-313">Instead, we want these content pages to always use the `AdminNested.master` page.</span></span> <span data-ttu-id="90f93-314">Sarà la responsabilità della pagina master annidata per scegliere la pagina di contenuto a destra di primo livello in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="90f93-314">It will be the responsibility of the nested master page to choose the right top-level content page at runtime.</span></span>

<span data-ttu-id="90f93-315">Per il modo migliore per raggiungere questo desired comportamento consiste nel creare una nuova classe di pagina base personalizzata denominata `AdminBasePage` che estende il `BasePage` classe.</span><span class="sxs-lookup"><span data-stu-id="90f93-315">To best way to achieve this desired behavior is to create a new custom base page class named `AdminBasePage` that extends the `BasePage` class.</span></span> <span data-ttu-id="90f93-316">`AdminBasePage` quindi è possibile eseguire l'override di `SetMasterPageFile` e impostare il `Page` dell'oggetto `MasterPageFile` sul valore hardcoded "~ / Admin/AdminNested.master".</span><span class="sxs-lookup"><span data-stu-id="90f93-316">`AdminBasePage` can then override the `SetMasterPageFile` and set the `Page` object's `MasterPageFile` to the hard-coded value "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="90f93-317">In questo modo, qualsiasi pagina che deriva da `AdminBasePage` userà `AdminNested.master`, mentre qualsiasi pagina che deriva da `BasePage` avranno relativo `MasterPageFile` proprietà è impostata in modo dinamico né "~ / Site. master" o "~ / Alternate.master" in base al valore della `MyMasterPage` Variabile di sessione.</span><span class="sxs-lookup"><span data-stu-id="90f93-317">In this way, any page that derives from `AdminBasePage` will use `AdminNested.master`, whereas any page that derives from `BasePage` will have its `MasterPageFile` property set dynamically to either "~/Site.master" or "~/Alternate.master" based on the value of the `MyMasterPage` Session variable.</span></span>

<span data-ttu-id="90f93-318">Iniziare aggiungendo un nuovo file di classe per il `App_Code` cartella denominata `AdminBasePage.cs`.</span><span class="sxs-lookup"><span data-stu-id="90f93-318">Start by adding a new class file to the `App_Code` folder named `AdminBasePage.cs`.</span></span> <span data-ttu-id="90f93-319">Disporre `AdminBasePage` estendere `BasePage` e quindi eseguire l'override di `SetMasterPageFile` (metodo).</span><span class="sxs-lookup"><span data-stu-id="90f93-319">Have `AdminBasePage` extend `BasePage` and then override the `SetMasterPageFile` method.</span></span> <span data-ttu-id="90f93-320">In tale metodo assegnare i `MasterPageFile` il valore "~ / Admin/AdminNested.master".</span><span class="sxs-lookup"><span data-stu-id="90f93-320">In that method assign the `MasterPageFile` the value "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="90f93-321">Dopo aver apportato queste modifiche la classe file dovrebbe essere simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="90f93-321">After making these changes your class file should look similar to the following:</span></span>


[!code-csharp[Main](nested-master-pages-cs/samples/sample11.cs)]

<span data-ttu-id="90f93-322">È ora necessario avere le pagine di contenuto esistenti nell'amministrazione sezione derivano da `AdminBasePage` invece di `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="90f93-322">We now need to have the existing content pages in the Administration section derive from `AdminBasePage` instead of `BasePage`.</span></span> <span data-ttu-id="90f93-323">Passare al file della classe code-behind per ogni pagina nel contenuto di `~/Admin` cartella e apportare questa modifica.</span><span class="sxs-lookup"><span data-stu-id="90f93-323">Go to the code-behind class file for each content page in the `~/Admin` folder and make this change.</span></span> <span data-ttu-id="90f93-324">Ad esempio, in `~/Admin/Default.aspx` è modificherebbe la dichiarazione di classe code-behind da:</span><span class="sxs-lookup"><span data-stu-id="90f93-324">For example, in `~/Admin/Default.aspx` you'd change the code-behind class declaration from:</span></span>


[!code-csharp[Main](nested-master-pages-cs/samples/sample12.cs)]

<span data-ttu-id="90f93-325">A:</span><span class="sxs-lookup"><span data-stu-id="90f93-325">To:</span></span>


[!code-csharp[Main](nested-master-pages-cs/samples/sample13.cs)]

<span data-ttu-id="90f93-326">Figura 11 viene illustrata la modalità della pagina master di primo livello (`Site.master` o `Alternate.master`), la pagina master annidata (`AdminNested.master`), e le pagine di contenuto di sezione di amministrazione sono correlate tra loro.</span><span class="sxs-lookup"><span data-stu-id="90f93-326">Figure 11 depicts how the top-level master page (`Site.master` or `Alternate.master`), the nested master page (`AdminNested.master`), and the Administration section content pages relate to one another.</span></span>


<span data-ttu-id="90f93-327">[![La pagina Master annidata definisce contenuto specifico per le pagine nella sezione di amministrazione](nested-master-pages-cs/_static/image32.png)](nested-master-pages-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="90f93-327">[![The Nested Master Page Defines Content Specific to the Pages in the Administration Section](nested-master-pages-cs/_static/image32.png)](nested-master-pages-cs/_static/image31.png)</span></span>

<span data-ttu-id="90f93-328">**Figura 11**: L'annidati Master pagina definisce contenuto specifico per le pagine nella sezione di amministrazione ([fare clic per visualizzare l'immagine con dimensioni normali](nested-master-pages-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="90f93-328">**Figure 11**: The Nested Master Page Defines Content Specific to the Pages in the Administration Section ([Click to view full-size image](nested-master-pages-cs/_static/image33.png))</span></span>


## <a name="step-6-mirroring-the-master-pages-public-methods-and-properties"></a><span data-ttu-id="90f93-329">Passaggio 6: Il mirroring di proprietà e metodi pubblici della pagina Master</span><span class="sxs-lookup"><span data-stu-id="90f93-329">Step 6: Mirroring the Master Page's Public Methods and Properties</span></span>

<span data-ttu-id="90f93-330">Si tenga presente che il `~/Admin/AddProduct.aspx` e `~/Admin/Products.aspx` pagine interagiscono a livello di codice con la pagina master: `~/Admin/AddProduct.aspx` chiamate della pagina master del pubblica `RefreshRecentProductsGrid` metodo e i set relativo `GridMessageText` proprietà; `~/Admin/Products.aspx` dispone di un gestore eventi per il `PricesDoubled` evento.</span><span class="sxs-lookup"><span data-stu-id="90f93-330">Recall that the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages interact programmatically with the master page: `~/Admin/AddProduct.aspx` calls the master page's public `RefreshRecentProductsGrid` method and sets its `GridMessageText` property; `~/Admin/Products.aspx` has an event handler for the `PricesDoubled` event.</span></span> <span data-ttu-id="90f93-331">Nell'esercitazione precedente abbiamo creato una classe astratta `BaseMasterPage` classe definita questi membri pubblici.</span><span class="sxs-lookup"><span data-stu-id="90f93-331">In the preceding tutorial we created an abstract `BaseMasterPage` class that defined these public members.</span></span>

<span data-ttu-id="90f93-332">Il `~/Admin/AddProduct.aspx` e `~/Admin/Products.aspx` pagine si presuppongono che la pagina master deriva dal `BaseMasterPage` classe.</span><span class="sxs-lookup"><span data-stu-id="90f93-332">The `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages assume that their master page derives from the `BaseMasterPage` class.</span></span> <span data-ttu-id="90f93-333">Il `AdminNested.master` pagina, tuttavia, attualmente estende il `System.Web.UI.MasterPage` classe.</span><span class="sxs-lookup"><span data-stu-id="90f93-333">The `AdminNested.master` page, however, currently extends the `System.Web.UI.MasterPage` class.</span></span> <span data-ttu-id="90f93-334">Di conseguenza, quando si visita `~/Admin/Products.aspx` un `InvalidCastException` viene generata un'eccezione con messaggio: "Impossibile eseguire il cast dell'oggetto di tipo ' ASP.admin\_adminnested\_master' nel tipo 'BaseMasterPage'."</span><span class="sxs-lookup"><span data-stu-id="90f93-334">As a result, when visiting `~/Admin/Products.aspx` an `InvalidCastException` is thrown with the message: "Unable to cast object of type 'ASP.admin\_adminnested\_master' to type 'BaseMasterPage'."</span></span>

<span data-ttu-id="90f93-335">Per risolvere il problema è necessario avere il `AdminNested.master` Estendi classe code-behind `BaseMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="90f93-335">To fix this we need to have the `AdminNested.master` code-behind class extend `BaseMasterPage`.</span></span> <span data-ttu-id="90f93-336">Aggiornare una dichiarazione di classe code-behind della pagina master annidata da:</span><span class="sxs-lookup"><span data-stu-id="90f93-336">Update the nested master page's code-behind class declaration from:</span></span>


[!code-csharp[Main](nested-master-pages-cs/samples/sample14.cs)]

<span data-ttu-id="90f93-337">A:</span><span class="sxs-lookup"><span data-stu-id="90f93-337">To:</span></span>


[!code-csharp[Main](nested-master-pages-cs/samples/sample15.cs)]

<span data-ttu-id="90f93-338">Non abbiamo ancora ancora finito.</span><span class="sxs-lookup"><span data-stu-id="90f93-338">We're not done yet.</span></span> <span data-ttu-id="90f93-339">Perché il `BaseMasterPage` classe è astratta, è necessario eseguire l'override di `abstract` membri `RefreshRecentProductsGrid` e `GridMessageText`.</span><span class="sxs-lookup"><span data-stu-id="90f93-339">Because the `BaseMasterPage` class is abstract, we need to override the `abstract` members, `RefreshRecentProductsGrid` and `GridMessageText`.</span></span> <span data-ttu-id="90f93-340">Questi membri vengono utilizzati per le pagine master di primo livello per aggiornare le proprie interfacce utente.</span><span class="sxs-lookup"><span data-stu-id="90f93-340">These members are used by the top-level master pages to update their user interfaces.</span></span> <span data-ttu-id="90f93-341">(In realtà, solo il `Site.master` pagina master Usa questi metodi, anche se entrambe le pagine master di primo livello implementano questi metodi, poiché entrambi estendono `BaseMasterPage`.)</span><span class="sxs-lookup"><span data-stu-id="90f93-341">(Actually, only the `Site.master` master page uses these methods, although both top-level master pages implement these methods, since both extend `BaseMasterPage`.)</span></span>

<span data-ttu-id="90f93-342">Anche se è necessario implementare questi membri in `AdminNested.master`, tutte queste implementazioni devono eseguire è chiamare semplicemente il membro stesso nella pagina master primo livello utilizzata dalla pagina master annidata.</span><span class="sxs-lookup"><span data-stu-id="90f93-342">While we need to implement these members in `AdminNested.master`, all these implementations need to do is simply call the same member in the top-level master page used by the nested master page.</span></span> <span data-ttu-id="90f93-343">Ad esempio, quando una pagina di contenuto nella sezione di amministrazione chiama della pagina master annidata `RefreshRecentProductsGrid` metodo, la pagina master annidata deve fare è, a sua volta, chiamare `Site.master` oppure `Alternate.master`del `RefreshRecentProductsGrid` (metodo).</span><span class="sxs-lookup"><span data-stu-id="90f93-343">For instance, when a content page in the Administration section calls the nested master page's `RefreshRecentProductsGrid` method, all the nested master page needs to do is, in turn, call `Site.master` or `Alternate.master`'s `RefreshRecentProductsGrid` method.</span></span>

<span data-ttu-id="90f93-344">A tale scopo, iniziare aggiungendo il codice seguente `@MasterType` direttiva all'inizio del `AdminNested.master`:</span><span class="sxs-lookup"><span data-stu-id="90f93-344">To achieve this, start by adding the following `@MasterType` directive to the top of `AdminNested.master`:</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample16.aspx)]

<span data-ttu-id="90f93-345">Si tenga presente che il `@MasterType` direttiva aggiunge una proprietà fortemente tipizzata per la classe code-behind denominata `Master`.</span><span class="sxs-lookup"><span data-stu-id="90f93-345">Recall that the `@MasterType` directive adds a strongly-typed property to the code-behind class named `Master`.</span></span> <span data-ttu-id="90f93-346">Quindi eseguire l'override di `RefreshRecentProductsGrid` e `GridMessageText` membri e semplicemente delega la chiamata al `Master`corrispondente del metodo:</span><span class="sxs-lookup"><span data-stu-id="90f93-346">Then override the `RefreshRecentProductsGrid` and `GridMessageText` members and simply delegate the call to the `Master`'s corresponding method:</span></span>


[!code-csharp[Main](nested-master-pages-cs/samples/sample17.cs)]

<span data-ttu-id="90f93-347">Con questo codice, dovrebbe essere possibile visitare e usare le pagine di contenuto nella sezione di amministrazione.</span><span class="sxs-lookup"><span data-stu-id="90f93-347">With this code in place, you should be able to visit and use the content pages in the Administration section.</span></span> <span data-ttu-id="90f93-348">Figura 12 vengono illustrate le `~/Admin/Products.aspx` pagina quando viene visualizzato tramite un browser.</span><span class="sxs-lookup"><span data-stu-id="90f93-348">Figure 12 shows the `~/Admin/Products.aspx` page when viewed through a browser.</span></span> <span data-ttu-id="90f93-349">Come può notare, la pagina include la casella di istruzioni di amministrazione in cui è definita nella pagina master annidata.</span><span class="sxs-lookup"><span data-stu-id="90f93-349">As you can see, the page includes the Administration Instructions box, which is defined in the nested master page.</span></span>


<span data-ttu-id="90f93-350">[![Pagine di contenuto nella sezione di amministrazione includono le istruzioni nella parte superiore di ogni pagina](nested-master-pages-cs/_static/image35.png)](nested-master-pages-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="90f93-350">[![The Content Pages in the Administration Section Include Instructions at the Top of Each Page](nested-master-pages-cs/_static/image35.png)](nested-master-pages-cs/_static/image34.png)</span></span>

<span data-ttu-id="90f93-351">**Figura 12**: Pagine di contenuto nelle istruzioni di amministrazione sezione includono la parte superiore di ogni pagina ([fare clic per visualizzare l'immagine con dimensioni normali](nested-master-pages-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="90f93-351">**Figure 12**: The Content Pages in the Administration Section Include Instructions at the Top of Each Page ([Click to view full-size image](nested-master-pages-cs/_static/image36.png))</span></span>


## <a name="step-7-using-the-appropriate-top-level-master-page-at-runtime"></a><span data-ttu-id="90f93-352">Passaggio 7: Tramite la pagina Master di primo livello appropriato in fase di esecuzione</span><span class="sxs-lookup"><span data-stu-id="90f93-352">Step 7: Using the Appropriate Top-Level Master Page at Runtime</span></span>

<span data-ttu-id="90f93-353">Mentre tutte le pagine di contenuto nella sezione di amministrazione sono pienamente funzionali, tutte utilizzano la stessa pagina master di primo livello e ignorare la pagina master selezionata dall'utente in `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="90f93-353">While all the content pages in the Administration section are fully functional, they all use the same top-level master page and ignore the master page selected by the user at `ChooseMasterPage.aspx`.</span></span> <span data-ttu-id="90f93-354">Questo comportamento è dovuto al fatto che la pagina master annidata ha relativo `MasterPageFile` staticamente impostata su `Site.master` nel relativo `<%@ Master %>` direttiva.</span><span class="sxs-lookup"><span data-stu-id="90f93-354">This behavior is due to the fact that the nested master page has its `MasterPageFile` property statically set to `Site.master` in its `<%@ Master %>` directive.</span></span>

<span data-ttu-id="90f93-355">Utilizzare la pagina master principale selezionata dall'utente finale, dobbiamo impostare il `AdminNested.master`del `MasterPageFile` sul valore nel `MyMasterPage` variabile di sessione.</span><span class="sxs-lookup"><span data-stu-id="90f93-355">To use the top-level master page selected by the end user we need to set the `AdminNested.master`'s `MasterPageFile` property to the value in the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="90f93-356">Perché lo abbiamo impostato il contenuto delle pagine `MasterPageFile` le proprietà in `BasePage`, si potrebbe pensare che è sufficiente impostare la pagina master annidata `MasterPageFile` proprietà in `BaseMasterPage` o nel `AdminNested.master`della classe code-behind.</span><span class="sxs-lookup"><span data-stu-id="90f93-356">Because we set the content pages' `MasterPageFile` properties in `BasePage`, you may think that we would set the nested master page's `MasterPageFile` property in `BaseMasterPage` or in the `AdminNested.master`'s code-behind class.</span></span> <span data-ttu-id="90f93-357">Questa operazione non funziona, tuttavia, poiché è necessario aver impostato la `MasterPageFile` proprietà entro la fine della fase PreInit.</span><span class="sxs-lookup"><span data-stu-id="90f93-357">This won't work, however, because we need to have set the `MasterPageFile` property by the end of the PreInit stage.</span></span> <span data-ttu-id="90f93-358">Ora la prima volta che è possibile attingere a livello di codice il ciclo di vita di pagina da una pagina master è la fase di inizializzazione (che si verifica dopo la fase di PreInit).</span><span class="sxs-lookup"><span data-stu-id="90f93-358">The earliest time that we can programmatically tap into the page lifecycle from a master page is the Init stage (which occurs after the PreInit stage).</span></span>

<span data-ttu-id="90f93-359">Pertanto, è necessario impostare la pagina master annidata `MasterPageFile` proprietà dalle pagine di contenuto.</span><span class="sxs-lookup"><span data-stu-id="90f93-359">Therefore, we need to set the nested master page's `MasterPageFile` property from the content pages.</span></span> <span data-ttu-id="90f93-360">Il contenuto solo le pagine che utilizzano le `AdminNested.master` pagina master derivano da `AdminBasePage`.</span><span class="sxs-lookup"><span data-stu-id="90f93-360">The only content pages that use the `AdminNested.master` master page derive from `AdminBasePage`.</span></span> <span data-ttu-id="90f93-361">È quindi possiamo inserire questa logica non esiste.</span><span class="sxs-lookup"><span data-stu-id="90f93-361">Therefore, we can put this logic there.</span></span> <span data-ttu-id="90f93-362">Nel passaggio 5 è stato eseguito l'override di `SetMasterPageFile` metodo, l'impostazione di `Page` dell'oggetto `MasterPageFile` proprietà "~ / Admin/AdminNested.master".</span><span class="sxs-lookup"><span data-stu-id="90f93-362">In Step 5 we overrode the `SetMasterPageFile` method, setting the `Page` object's `MasterPageFile` property to "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="90f93-363">Update `SetMasterPageFile` inoltre impostare la pagina master `MasterPageFile` proprietà per il risultato archiviato nella sessione:</span><span class="sxs-lookup"><span data-stu-id="90f93-363">Update `SetMasterPageFile` to also set the master page's `MasterPageFile` property to the result stored in Session:</span></span>


[!code-csharp[Main](nested-master-pages-cs/samples/sample18.cs)]

<span data-ttu-id="90f93-364">Il `GetMasterPageFileFromSession` metodo, che è stato aggiunto al `BasePage` classe nell'esercitazione precedente, restituisce il percorso del file pagina master appropriata basato sul valore della variabile di sessione.</span><span class="sxs-lookup"><span data-stu-id="90f93-364">The `GetMasterPageFileFromSession` method, which we added to the `BasePage` class in the preceding tutorial, returns the appropriate master page file path based on the Session variable value.</span></span>

<span data-ttu-id="90f93-365">Con questa modifica, la selezione dell'utente pagina master è ancora presente nella sezione di amministrazione.</span><span class="sxs-lookup"><span data-stu-id="90f93-365">With this change in place, the user's master page selection carries over to the Administration section.</span></span> <span data-ttu-id="90f93-366">Figura 13 mostra la pagina stessa, come nella figura 12, ma dopo che l'utente ha modificato la selezione di pagina master per `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="90f93-366">Figure 13 shows the same page as Figure 12, but after the user has changed their master page selection to `Alternate.master`.</span></span>


<span data-ttu-id="90f93-367">[![La pagina di amministrazione annidati Usa la pagina Master di primo livello selezionato dall'utente](nested-master-pages-cs/_static/image38.png)](nested-master-pages-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="90f93-367">[![The Nested Administration Page Uses the Top-Level Master Page Selected by the User](nested-master-pages-cs/_static/image38.png)](nested-master-pages-cs/_static/image37.png)</span></span>

<span data-ttu-id="90f93-368">**Figura 13**: Nella pagina di amministrazione nidificata viene utilizzata la pagina Master di primo livello selezionato dall'utente ([fare clic per visualizzare l'immagine con dimensioni normali](nested-master-pages-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="90f93-368">**Figure 13**: The Nested Administration Page Uses the Top-Level Master Page Selected by the User ([Click to view full-size image](nested-master-pages-cs/_static/image39.png))</span></span>


## <a name="summary"></a><span data-ttu-id="90f93-369">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="90f93-369">Summary</span></span>

<span data-ttu-id="90f93-370">Molte pagine di contenuto come like possono associare a una pagina master, è possibile creare nidificata pagine master con una pagina master figlio associano a una pagina master padre.</span><span class="sxs-lookup"><span data-stu-id="90f93-370">Much like how content pages can bind to a master page, it is possible to create nested master pages by having a child master page bind to a parent master page.</span></span> <span data-ttu-id="90f93-371">La pagina master figlio può definire i controlli del contenuto per ognuna delle elementi ContentPlaceHolder del controllo padre; quindi possibile aggiungere i proprio controlli ContentPlaceHolder (nonché altro markup) a questi controlli contenuto.</span><span class="sxs-lookup"><span data-stu-id="90f93-371">The child master page may define Content controls for each of its parent's ContentPlaceHolders; it can then add its own ContentPlaceHolder controls (as well as other markup) to these Content controls.</span></span> <span data-ttu-id="90f93-372">Pagine master annidate sono molto utili nelle applicazioni web di grandi dimensioni in cui tutte le pagine condividono un aspetto globale, ma determinate sezioni del sito richiedono personalizzazioni univoche.</span><span class="sxs-lookup"><span data-stu-id="90f93-372">Nested master pages are quite useful in large web applications where all pages share an overarching look and feel, yet certain sections of the site require unique customizations.</span></span>

<span data-ttu-id="90f93-373">Buona programmazione!</span><span class="sxs-lookup"><span data-stu-id="90f93-373">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="90f93-374">Ulteriori informazioni</span><span class="sxs-lookup"><span data-stu-id="90f93-374">Further Reading</span></span>

<span data-ttu-id="90f93-375">Per altre informazioni sugli argomenti trattati in questa esercitazione, vedere le risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="90f93-375">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="90f93-376">Pagine Master ASP.NET annidate</span><span class="sxs-lookup"><span data-stu-id="90f93-376">Nested ASP.NET Master Pages</span></span>](https://msdn.microsoft.com/library/x2b3ktt7.aspx)
- [<span data-ttu-id="90f93-377">Suggerimenti per la fase di progettazione di Visual Studio 2005 e pagine Master annidate</span><span class="sxs-lookup"><span data-stu-id="90f93-377">Tips for Nested Master Pages and VS 2005 Design-Time</span></span>](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx)
- [<span data-ttu-id="90f93-378">Visual Studio 2008 annidati supporto delle pagine Master</span><span class="sxs-lookup"><span data-stu-id="90f93-378">VS 2008 Nested Master Page Support</span></span>](https://weblogs.asp.net/scottgu/archive/2007/07/09/vs-2008-nested-master-page-support.aspx)

### <a name="about-the-author"></a><span data-ttu-id="90f93-379">Informazioni sull'autore</span><span class="sxs-lookup"><span data-stu-id="90f93-379">About the Author</span></span>

<span data-ttu-id="90f93-380">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autore di più libri e fondatore di 4GuysFromRolla.com, ha collaborato con tecnologie Web di Microsoft dal 1998.</span><span class="sxs-lookup"><span data-stu-id="90f93-380">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="90f93-381">Lavora come un consulente, formatore e autore.</span><span class="sxs-lookup"><span data-stu-id="90f93-381">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="90f93-382">Il suo ultimo libro si intitola [ *Sams Teach manualmente ASP.NET 3.5 in 24 ore*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="90f93-382">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span></span> <span data-ttu-id="90f93-383">È possibile contattarlo Scott [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com) o il suo blog all'indirizzo [ http://ScottOnWriting.NET ](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="90f93-383">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="90f93-384">Ringraziamenti speciali</span><span class="sxs-lookup"><span data-stu-id="90f93-384">Special Thanks To</span></span>

<span data-ttu-id="90f93-385">Questa serie di esercitazioni è stata esaminata da diversi validi revisori.</span><span class="sxs-lookup"><span data-stu-id="90f93-385">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="90f93-386">Se si è interessati prossimi articoli MSDN dello?</span><span class="sxs-lookup"><span data-stu-id="90f93-386">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="90f93-387">In questo caso, Inviami un messaggio nella [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="90f93-387">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="90f93-388">[Precedente](specifying-the-master-page-programmatically-cs.md)
> [Successivo](creating-a-site-wide-layout-using-master-pages-vb.md)</span><span class="sxs-lookup"><span data-stu-id="90f93-388">[Previous](specifying-the-master-page-programmatically-cs.md)
[Next](creating-a-site-wide-layout-using-master-pages-vb.md)</span></span>
