---
uid: web-forms/overview/older-versions-getting-started/master-pages/specifying-the-master-page-programmatically-cs
title: Impostazione della pagina master a livello diC#codice () | Microsoft Docs
author: rick-anderson
description: Esamina l'impostazione della pagina master della pagina di contenuto a livello di codice tramite il gestore eventi PreInit.
ms.author: riande
ms.date: 07/28/2008
ms.assetid: 7c4a3445-2440-4aee-b9fd-779c05e6abb2
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/specifying-the-master-page-programmatically-cs
msc.type: authoredcontent
ms.openlocfilehash: 0db23ea05ba001c2bf9fc5330a60a767caa568a0
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/06/2020
ms.locfileid: "78625489"
---
# <a name="specifying-the-master-page-programmatically-c"></a><span data-ttu-id="6db58-103">Impostazione della pagina master a livello di codice (C#)</span><span class="sxs-lookup"><span data-stu-id="6db58-103">Specifying the Master Page Programmatically (C#)</span></span>

<span data-ttu-id="6db58-104">di [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="6db58-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="6db58-105">[Scarica codice](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.zip) o [Scarica PDF](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="6db58-105">[Download Code](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.zip) or [Download PDF](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.pdf)</span></span>

> <span data-ttu-id="6db58-106">Esamina l'impostazione della pagina master della pagina di contenuto a livello di codice tramite il gestore eventi PreInit.</span><span class="sxs-lookup"><span data-stu-id="6db58-106">Looks at setting the content page's master page programmatically via the PreInit event handler.</span></span>

## <a name="introduction"></a><span data-ttu-id="6db58-107">Introduzione</span><span class="sxs-lookup"><span data-stu-id="6db58-107">Introduction</span></span>

<span data-ttu-id="6db58-108">Dall'esempio di [*creazione di un layout a livello di sito tramite le pagine master*](creating-a-site-wide-layout-using-master-pages-cs.md), tutte le pagine di contenuto hanno fatto riferimento alla pagina master in modo dichiarativo tramite l'attributo `MasterPageFile` della direttiva `@Page`.</span><span class="sxs-lookup"><span data-stu-id="6db58-108">Since the inaugural example in [*Creating a Site-Wide Layout Using Master Pages*](creating-a-site-wide-layout-using-master-pages-cs.md), all content pages have referenced their master page declaratively via the `MasterPageFile` attribute in the `@Page` directive.</span></span> <span data-ttu-id="6db58-109">Ad esempio, la seguente direttiva `@Page` collega la pagina contenuto alla pagina master `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="6db58-109">For example, the following `@Page` directive links the content page to the master page `Site.master`:</span></span>

[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample1.aspx)]

<span data-ttu-id="6db58-110">La [classe`Page`](https://msdn.microsoft.com/library/system.web.ui.page.aspx) nello spazio dei nomi `System.Web.UI` include una [Proprietà`MasterPageFile`](https://msdn.microsoft.com/library/system.web.ui.page.masterpagefile.aspx) che restituisce il percorso della pagina master della pagina contenuto; è questa proprietà impostata dalla direttiva `@Page`.</span><span class="sxs-lookup"><span data-stu-id="6db58-110">The [`Page` class](https://msdn.microsoft.com/library/system.web.ui.page.aspx) in the `System.Web.UI` namespace includes a [`MasterPageFile` property](https://msdn.microsoft.com/library/system.web.ui.page.masterpagefile.aspx) that returns the path to the content page's master page; it is this property that is set by the `@Page` directive.</span></span> <span data-ttu-id="6db58-111">Questa proprietà può essere utilizzata anche per specificare a livello di codice la pagina master della pagina contenuto.</span><span class="sxs-lookup"><span data-stu-id="6db58-111">This property can also be used to programmatically specify the content page's master page.</span></span> <span data-ttu-id="6db58-112">Questo approccio è utile se si desidera assegnare in modo dinamico la pagina master in base a fattori esterni, ad esempio l'utente che visita la pagina.</span><span class="sxs-lookup"><span data-stu-id="6db58-112">This approach is useful if you want to dynamically assign the master page based on external factors, such as the user visiting the page.</span></span>

<span data-ttu-id="6db58-113">In questa esercitazione si aggiunge una seconda pagina master al sito Web e si decide in modo dinamico quale pagina master usare in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="6db58-113">In this tutorial we add a second master page to our website and dynamically decide which master page to use at runtime.</span></span>

## <a name="step-1-a-look-at-the-page-lifecycle"></a><span data-ttu-id="6db58-114">Passaggio 1: esaminare il ciclo di vita della pagina</span><span class="sxs-lookup"><span data-stu-id="6db58-114">Step 1: A Look at the Page Lifecycle</span></span>

<span data-ttu-id="6db58-115">Ogni volta che una richiesta arriva al server Web per una pagina ASP.NET che è una pagina di contenuto, il motore ASP.NET deve fondere i controlli contenuto della pagina nei controlli ContentPlaceHolder corrispondenti della pagina master.</span><span class="sxs-lookup"><span data-stu-id="6db58-115">Whenever a request arrives at the web server for an ASP.NET page that is a content page, the ASP.NET engine must fuse the page's Content controls into the master page's corresponding ContentPlaceHolder controls.</span></span> <span data-ttu-id="6db58-116">Questa fusione crea una singola gerarchia di controlli che può quindi procedere con il ciclo di vita della pagina tipico.</span><span class="sxs-lookup"><span data-stu-id="6db58-116">This fusion creates a single control hierarchy that can then proceed through the typical page lifecycle.</span></span>

<span data-ttu-id="6db58-117">Nella figura 1 viene illustrata questa fusione.</span><span class="sxs-lookup"><span data-stu-id="6db58-117">Figure 1 illustrates this fusion.</span></span> <span data-ttu-id="6db58-118">Nel passaggio 1 della figura 1 sono illustrate le gerarchie di controllo del contenuto iniziale e della pagina master.</span><span class="sxs-lookup"><span data-stu-id="6db58-118">Step 1 in Figure 1 shows the initial content and master page control hierarchies.</span></span> <span data-ttu-id="6db58-119">Nella parte finale della fase di pre-inizializzazione i controlli contenuto nella pagina vengono aggiunti alla ContentPlaceHolders corrispondente nella pagina master (passaggio 2).</span><span class="sxs-lookup"><span data-stu-id="6db58-119">At the tail end of the PreInit stage the Content controls in the page are added to the corresponding ContentPlaceHolders in the master page (Step 2).</span></span> <span data-ttu-id="6db58-120">Dopo questa fusione, la pagina master funge da radice della gerarchia dei controlli di cui è stato eseguito il fuse.</span><span class="sxs-lookup"><span data-stu-id="6db58-120">After this fusion, the master page serves as the root of the fused control hierarchy.</span></span> <span data-ttu-id="6db58-121">Questa gerarchia di controlli con fusibile viene quindi aggiunta alla pagina per produrre la gerarchia dei controlli finalizzata (passaggio 3).</span><span class="sxs-lookup"><span data-stu-id="6db58-121">This fused control hierarchy is then added to the page to produce the finalized control hierarchy (Step 3).</span></span> <span data-ttu-id="6db58-122">Il risultato finale è che la gerarchia dei controlli della pagina include la gerarchia dei controlli fusi.</span><span class="sxs-lookup"><span data-stu-id="6db58-122">The net result is that the page's control hierarchy includes the fused control hierarchy.</span></span>

<span data-ttu-id="6db58-123">[![le gerarchie di controllo della pagina master e della pagina di contenuto vengono fuse insieme durante la fase di pre-inizializzazione](specifying-the-master-page-programmatically-cs/_static/image2.png)](specifying-the-master-page-programmatically-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="6db58-123">[![The Master Page and Content Page's Control Hierarchies are Fused Together during the PreInit Stage](specifying-the-master-page-programmatically-cs/_static/image2.png)](specifying-the-master-page-programmatically-cs/_static/image1.png)</span></span>

<span data-ttu-id="6db58-124">**Figura 01**: le gerarchie di controllo della pagina master e della pagina di contenuto sono fuse insieme durante la fase di pre-inizializzazione ([fare clic per visualizzare l'immagine con dimensioni complete](specifying-the-master-page-programmatically-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="6db58-124">**Figure 01**: The Master Page and Content Page's Control Hierarchies are Fused Together during the PreInit Stage ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image3.png))</span></span>

## <a name="step-2-setting-themasterpagefileproperty-from-code"></a><span data-ttu-id="6db58-125">Passaggio 2: impostazione della proprietà`MasterPageFile`dal codice</span><span class="sxs-lookup"><span data-stu-id="6db58-125">Step 2: Setting the`MasterPageFile`Property from Code</span></span>

<span data-ttu-id="6db58-126">La pagina master che partecipa a questa fusione dipende dal valore della proprietà `MasterPageFile` dell'oggetto `Page`.</span><span class="sxs-lookup"><span data-stu-id="6db58-126">What master page partakes in this fusion depends on the value of the `Page` object's `MasterPageFile` property.</span></span> <span data-ttu-id="6db58-127">L'impostazione dell'attributo `MasterPageFile` nella direttiva `@Page` ha effetto netto sull'assegnazione della proprietà `MasterPageFile` del `Page`durante la fase di inizializzazione, che è la prima fase del ciclo di vita della pagina.</span><span class="sxs-lookup"><span data-stu-id="6db58-127">Setting the `MasterPageFile` attribute in the `@Page` directive has the net effect of assigning the `Page`'s `MasterPageFile` property during the Initialization stage, which is the very first stage of the page's lifecycle.</span></span> <span data-ttu-id="6db58-128">In alternativa, è possibile impostare questa proprietà a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="6db58-128">We can alternatively set this property programmatically.</span></span> <span data-ttu-id="6db58-129">È tuttavia fondamentale che questa proprietà venga impostata prima che la fusione nella figura 1 venga svolta.</span><span class="sxs-lookup"><span data-stu-id="6db58-129">However, it is imperative that this property be set before the fusion in Figure 1 takes place.</span></span>

<span data-ttu-id="6db58-130">All'inizio della fase PreInit l'oggetto `Page` genera il relativo [evento`PreInit`](https://msdn.microsoft.com/library/system.web.ui.page.preinit.aspx) e chiama il relativo [Metodo`OnPreInit`](https://msdn.microsoft.com/library/system.web.ui.page.onpreinit.aspx).</span><span class="sxs-lookup"><span data-stu-id="6db58-130">At the start of the PreInit stage the `Page` object raises its [`PreInit` event](https://msdn.microsoft.com/library/system.web.ui.page.preinit.aspx) and calls its [`OnPreInit` method](https://msdn.microsoft.com/library/system.web.ui.page.onpreinit.aspx).</span></span> <span data-ttu-id="6db58-131">Per impostare la pagina master a livello di codice, è possibile creare un gestore eventi per l'evento `PreInit` o eseguire l'override del metodo `OnPreInit`.</span><span class="sxs-lookup"><span data-stu-id="6db58-131">To set the master page programmatically, then, we can either create an event handler for the `PreInit` event or override the `OnPreInit` method.</span></span> <span data-ttu-id="6db58-132">Esaminiamo entrambi gli approcci.</span><span class="sxs-lookup"><span data-stu-id="6db58-132">Let's look at both approaches.</span></span>

<span data-ttu-id="6db58-133">Per iniziare, aprire `Default.aspx.cs`, il file di classe code-behind per la Home page del sito.</span><span class="sxs-lookup"><span data-stu-id="6db58-133">Start by opening `Default.aspx.cs`, the code-behind class file for our site's homepage.</span></span> <span data-ttu-id="6db58-134">Aggiungere un gestore eventi per l'evento `PreInit` della pagina digitando il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="6db58-134">Add an event handler for the page's `PreInit` event by typing in the following code:</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample2.cs)]

<span data-ttu-id="6db58-135">Da qui è possibile impostare la proprietà `MasterPageFile`.</span><span class="sxs-lookup"><span data-stu-id="6db58-135">From here we can set the `MasterPageFile` property.</span></span> <span data-ttu-id="6db58-136">Aggiornare il codice in modo che il valore "~/site.master" venga assegnato alla proprietà `MasterPageFile`.</span><span class="sxs-lookup"><span data-stu-id="6db58-136">Update the code so that it assigns the value "~/Site.master" to the `MasterPageFile` property.</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample3.cs)]

<span data-ttu-id="6db58-137">Se si imposta un punto di interruzione e si inizia con il debug, si noterà che ogni volta che viene visitata la pagina `Default.aspx` o ogni volta che viene eseguito un postback a questa pagina, viene eseguito il gestore dell'evento `Page_PreInit` e la proprietà `MasterPageFile` viene assegnata a "~/site.master".</span><span class="sxs-lookup"><span data-stu-id="6db58-137">If you set a breakpoint and start with debugging you'll see that whenever the `Default.aspx` page is visited or whenever there's a postback to this page, the `Page_PreInit` event handler executes and the `MasterPageFile` property is assigned to "~/Site.master".</span></span>

<span data-ttu-id="6db58-138">In alternativa, è possibile eseguire l'override del metodo `OnPreInit` della classe `Page` e impostare la proprietà `MasterPageFile`.</span><span class="sxs-lookup"><span data-stu-id="6db58-138">Alternatively, you can override the `Page` class's `OnPreInit` method and set the `MasterPageFile` property there.</span></span> <span data-ttu-id="6db58-139">Per questo esempio, la pagina master non viene impostata in una pagina specifica, bensì da `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="6db58-139">For this example, let's not set the master page in a particular page, but rather from `BasePage`.</span></span> <span data-ttu-id="6db58-140">Si ricordi che è stata creata una classe di pagina base personalizzata (`BasePage`) nella pagina [*specifica del titolo, dei tag meta e di altre intestazioni HTML nell'esercitazione della pagina master*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) .</span><span class="sxs-lookup"><span data-stu-id="6db58-140">Recall that we created a custom base page class (`BasePage`) back in the [*Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial.</span></span> <span data-ttu-id="6db58-141">Attualmente `BasePage` esegue l'override del metodo `OnLoadComplete` della classe `Page`, in cui imposta la proprietà `Title` della pagina in base ai dati della mappa del sito.</span><span class="sxs-lookup"><span data-stu-id="6db58-141">Currently `BasePage` overrides the `Page` class's `OnLoadComplete` method, where it sets the page's `Title` property based on the site map data.</span></span> <span data-ttu-id="6db58-142">Aggiornare `BasePage` anche per eseguire l'override del metodo `OnPreInit` per specificare a livello di codice la pagina master.</span><span class="sxs-lookup"><span data-stu-id="6db58-142">Let's update `BasePage` to also override the `OnPreInit` method to programmatically specify the master page.</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample4.cs)]

<span data-ttu-id="6db58-143">Poiché tutte le pagine di contenuto derivano da `BasePage`, tutte le pagine master sono ora assegnate a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="6db58-143">Because all our content pages derive from `BasePage`, all of them now have their master page programmatically assigned.</span></span> <span data-ttu-id="6db58-144">A questo punto il gestore dell'evento `PreInit` in `Default.aspx.cs` è superfluo; è possibile rimuoverlo.</span><span class="sxs-lookup"><span data-stu-id="6db58-144">At this point the `PreInit` event handler in `Default.aspx.cs` is superfluous; feel free to remove it.</span></span>

### <a name="what-about-thepagedirective"></a><span data-ttu-id="6db58-145">Informazioni sulla direttiva`@Page`</span><span class="sxs-lookup"><span data-stu-id="6db58-145">What About the`@Page`Directive?</span></span>

<span data-ttu-id="6db58-146">Un po' di confusione è che le proprietà delle pagine di contenuto ' `MasterPageFile` ora vengono specificate in due posizioni: a livello di codice nel metodo `OnPreInit` della classe `BasePage`, oltre che tramite l'attributo `MasterPageFile` nella direttiva di `@Page` della pagina di contenuto.</span><span class="sxs-lookup"><span data-stu-id="6db58-146">What may be a little confusing is that the content pages' `MasterPageFile` properties are now being specified in two places: programmatically in the `BasePage` class's `OnPreInit` method as well as through the `MasterPageFile` attribute in each content page's `@Page` directive.</span></span>

<span data-ttu-id="6db58-147">La prima fase del ciclo di vita della pagina è la fase di inizializzazione.</span><span class="sxs-lookup"><span data-stu-id="6db58-147">The first stage in the page lifecycle is the Initialization stage.</span></span> <span data-ttu-id="6db58-148">Durante questa fase, alla proprietà `MasterPageFile` dell'oggetto `Page` viene assegnato il valore dell'attributo `MasterPageFile` nella direttiva `@Page` (se disponibile).</span><span class="sxs-lookup"><span data-stu-id="6db58-148">During this stage the `Page` object's `MasterPageFile` property is assigned the value of the `MasterPageFile` attribute in the `@Page` directive (if it is provided).</span></span> <span data-ttu-id="6db58-149">La fase di pre-inizializzazione segue la fase di inizializzazione e qui viene impostata a livello di codice la proprietà `MasterPageFile` dell'oggetto `Page`, sovrascrivendo quindi il valore assegnato dalla direttiva `@Page`.</span><span class="sxs-lookup"><span data-stu-id="6db58-149">The PreInit stage follows the Initialization stage, and it is here where we programmatically set the `Page` object's `MasterPageFile` property, thereby overwriting the value assigned from the `@Page` directive.</span></span> <span data-ttu-id="6db58-150">Poiché la proprietà `MasterPageFile` dell'oggetto `Page` viene impostata a livello di codice, è possibile rimuovere l'attributo `MasterPageFile` dalla direttiva `@Page` senza influire sull'esperienza dell'utente finale.</span><span class="sxs-lookup"><span data-stu-id="6db58-150">Because we are setting the `Page` object's `MasterPageFile` property programmatically, we could remove the `MasterPageFile` attribute from the `@Page` directive without affecting the end user's experience.</span></span> <span data-ttu-id="6db58-151">Per convincerlo, procedere e rimuovere l'attributo `MasterPageFile` dalla direttiva `@Page` in `Default.aspx`, quindi visitare la pagina tramite un browser.</span><span class="sxs-lookup"><span data-stu-id="6db58-151">To convince yourself of this, go ahead and remove the `MasterPageFile` attribute from the `@Page` directive in `Default.aspx` and then visit the page through a browser.</span></span> <span data-ttu-id="6db58-152">Come si può immaginare, l'output è lo stesso di prima della rimozione dell'attributo.</span><span class="sxs-lookup"><span data-stu-id="6db58-152">As you would expect, the output is the same as before the attribute was removed.</span></span>

<span data-ttu-id="6db58-153">Indica se la proprietà `MasterPageFile` viene impostata tramite la direttiva `@Page` o a livello di codice per l'esperienza dell'utente finale.</span><span class="sxs-lookup"><span data-stu-id="6db58-153">Whether the `MasterPageFile` property is set via the `@Page` directive or programmatically is inconsequential to the end user's experience.</span></span> <span data-ttu-id="6db58-154">Tuttavia, l'attributo `MasterPageFile` nella direttiva `@Page` viene usato da Visual Studio durante la fase di progettazione per produrre la visualizzazione WYSIWYG nella finestra di progettazione.</span><span class="sxs-lookup"><span data-stu-id="6db58-154">However, the `MasterPageFile` attribute in the `@Page` directive is used by Visual Studio during design-time to produce the WYSIWYG view in the Designer.</span></span> <span data-ttu-id="6db58-155">Se si torna a `Default.aspx` in Visual Studio e si passa alla finestra di progettazione, verrà visualizzato il messaggio "errore della pagina master: la pagina contiene controlli che richiedono un riferimento a una pagina master, ma non ne è stato specificato alcuno" (vedere la figura 2).</span><span class="sxs-lookup"><span data-stu-id="6db58-155">If you return to `Default.aspx` in Visual Studio and navigate to the Designer you'll see the message, "Master Page error: The page has controls that require a Master Page reference, but none is specified" (see Figure 2).</span></span>

<span data-ttu-id="6db58-156">In breve, è necessario lasciare l'attributo `MasterPageFile` nella direttiva `@Page` per usufruire di un'esperienza avanzata in fase di progettazione in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="6db58-156">In short, you need to leave the `MasterPageFile` attribute in the `@Page` directive to enjoy a rich design-time experience in Visual Studio.</span></span>

<span data-ttu-id="6db58-157">[![Visual Studio usa l'attributo MasterPageFile della direttiva @Page per eseguire il rendering della visualizzazione progettazione](specifying-the-master-page-programmatically-cs/_static/image5.png)](specifying-the-master-page-programmatically-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="6db58-157">[![Visual Studio Uses the @Page Directive's MasterPageFile Attribute to Render the Design View](specifying-the-master-page-programmatically-cs/_static/image5.png)](specifying-the-master-page-programmatically-cs/_static/image4.png)</span></span>

<span data-ttu-id="6db58-158">**Figura 02**: Visual Studio usa l'attributo `MasterPageFile` della direttiva `@Page` per eseguire il rendering della visualizzazione progettazione ([fare clic per visualizzare l'immagine con dimensioni complete](specifying-the-master-page-programmatically-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="6db58-158">**Figure 02**: Visual Studio Uses the `@Page` Directive's `MasterPageFile` Attribute to Render the Design View  ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image6.png))</span></span>

## <a name="step-3-creating-an-alternative-master-page"></a><span data-ttu-id="6db58-159">Passaggio 3: creazione di una pagina master alternativa</span><span class="sxs-lookup"><span data-stu-id="6db58-159">Step 3: Creating an Alternative Master Page</span></span>

<span data-ttu-id="6db58-160">Poiché la pagina master di una pagina di contenuto può essere impostata a livello di codice in fase di esecuzione, è possibile caricare dinamicamente una pagina master specifica in base ad alcuni criteri esterni.</span><span class="sxs-lookup"><span data-stu-id="6db58-160">Because a content page's master page can be set programmatically at runtime it's possible to dynamically load a particular master page based on some external criteria.</span></span> <span data-ttu-id="6db58-161">Questa funzionalità può essere utile nelle situazioni in cui il layout del sito deve variare in base all'utente.</span><span class="sxs-lookup"><span data-stu-id="6db58-161">This functionality can be useful in situations where the site's layout needs to vary based on the user.</span></span> <span data-ttu-id="6db58-162">Ad esempio, un'applicazione Web del motore di Blog può consentire agli utenti di scegliere un layout per il Blog, in cui ogni layout è associato a una pagina master diversa.</span><span class="sxs-lookup"><span data-stu-id="6db58-162">For instance, a blog engine web application may allow its users to choose a layout for their blog, where each layout is associated with a different master page.</span></span> <span data-ttu-id="6db58-163">In fase di esecuzione, quando un visitatore Visualizza il Blog di un utente, l'applicazione Web deve determinare il layout del Blog e associare dinamicamente la pagina master corrispondente alla pagina contenuto.</span><span class="sxs-lookup"><span data-stu-id="6db58-163">At runtime, when a visitor is viewing a user's blog, the web application would need to determine the blog's layout and dynamically associate the corresponding master page with the content page.</span></span>

<span data-ttu-id="6db58-164">Viene ora esaminato come caricare dinamicamente una pagina master in fase di esecuzione in base ad alcuni criteri esterni.</span><span class="sxs-lookup"><span data-stu-id="6db58-164">Let's examine how to dynamically load a master page at runtime based on some external criteria.</span></span> <span data-ttu-id="6db58-165">Il sito Web contiene attualmente una sola pagina master (`Site.master`).</span><span class="sxs-lookup"><span data-stu-id="6db58-165">Our website currently contains just one master page (`Site.master`).</span></span> <span data-ttu-id="6db58-166">È necessaria un'altra pagina master per illustrare la scelta di una pagina master in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="6db58-166">We need another master page to illustrate choosing a master page at runtime.</span></span> <span data-ttu-id="6db58-167">Questo passaggio è incentrato sulla creazione e sulla configurazione della nuova pagina master.</span><span class="sxs-lookup"><span data-stu-id="6db58-167">This step focuses on creating and configuring the new master page.</span></span> <span data-ttu-id="6db58-168">Il passaggio 4 esamina come determinare la pagina master da usare in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="6db58-168">Step 4 looks at determining what master page to use at runtime.</span></span>

<span data-ttu-id="6db58-169">Creare una nuova pagina master nella cartella radice denominata `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="6db58-169">Create a new master page in the root folder named `Alternate.master`.</span></span> <span data-ttu-id="6db58-170">Aggiungere anche un nuovo foglio di stile al sito Web denominato `AlternateStyles.css`.</span><span class="sxs-lookup"><span data-stu-id="6db58-170">Also add a new style sheet to the website named `AlternateStyles.css`.</span></span>

<span data-ttu-id="6db58-171">[![aggiungere un'altra pagina master e un file CSS al sito Web](specifying-the-master-page-programmatically-cs/_static/image8.png)](specifying-the-master-page-programmatically-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="6db58-171">[![Add Another Master Page and CSS File to the Website](specifying-the-master-page-programmatically-cs/_static/image8.png)](specifying-the-master-page-programmatically-cs/_static/image7.png)</span></span>

<span data-ttu-id="6db58-172">**Figura 03**: aggiungere un'altra pagina master e un file CSS al sito Web ([fare clic per visualizzare l'immagine con dimensioni complete](specifying-the-master-page-programmatically-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="6db58-172">**Figure 03**: Add Another Master Page and CSS File to the Website ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image9.png))</span></span>

<span data-ttu-id="6db58-173">Ho progettato la pagina master `Alternate.master` per visualizzare il titolo nella parte superiore della pagina, centrato su uno sfondo Navy.</span><span class="sxs-lookup"><span data-stu-id="6db58-173">I've designed the `Alternate.master` master page to have the title displayed at the top of the page, centered and on a navy background.</span></span> <span data-ttu-id="6db58-174">Ho dispensato la colonna sinistra e spostato il contenuto sotto il `MainContent` controllo ContentPlaceHolder, che ora si estende sull'intera larghezza della pagina.</span><span class="sxs-lookup"><span data-stu-id="6db58-174">I've dispensed of the left column and moved that content beneath the `MainContent` ContentPlaceHolder control, which now spans the entire width of the page.</span></span> <span data-ttu-id="6db58-175">Inoltre, bocciato l'elenco di lezioni non ordinate e lo rimpiazzo con un elenco orizzontale sopra `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="6db58-175">Furthermore, I nixed the unordered Lessons list and replaced it with a horizontal list above `MainContent`.</span></span> <span data-ttu-id="6db58-176">Ho aggiornato anche i tipi di carattere e i colori usati dalla pagina master (e, per estensione, le pagine di contenuto).</span><span class="sxs-lookup"><span data-stu-id="6db58-176">I also updated the fonts and colors used by the master page (and, by extension, its content pages).</span></span> <span data-ttu-id="6db58-177">Nella figura 4 viene illustrata `Default.aspx` quando si utilizza la pagina master `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="6db58-177">Figure 4 shows `Default.aspx` when using the `Alternate.master` master page.</span></span>

> [!NOTE]
> <span data-ttu-id="6db58-178">ASP.NET include la possibilità di definire i *temi*.</span><span class="sxs-lookup"><span data-stu-id="6db58-178">ASP.NET includes the ability to define *Themes*.</span></span> <span data-ttu-id="6db58-179">Un tema è una raccolta di immagini, file CSS e impostazioni delle proprietà del controllo Web correlate allo stile che è possibile applicare a una pagina in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="6db58-179">A Theme is a collection of images, CSS files, and style-related Web control property settings that can be applied to a page at runtime.</span></span> <span data-ttu-id="6db58-180">I temi sono il modo di procedere se i layout del sito differiscono solo per le immagini visualizzate e per le regole CSS.</span><span class="sxs-lookup"><span data-stu-id="6db58-180">Themes are the way to go if your site's layouts differ only in the images displayed and by their CSS rules.</span></span> <span data-ttu-id="6db58-181">Se i layout sono più sostanziali, ad esempio l'uso di controlli Web diversi o un layout radicalmente diverso, sarà necessario usare pagine master separate.</span><span class="sxs-lookup"><span data-stu-id="6db58-181">If the layouts differ more substantially, such as using different Web controls or having a radically different layout, then you will need to use separate master pages.</span></span> <span data-ttu-id="6db58-182">Per altre informazioni sui temi, vedere la sezione relativa alla lettura successiva alla fine di questa esercitazione.</span><span class="sxs-lookup"><span data-stu-id="6db58-182">Consult the Further Reading section at the end of this tutorial for more information on Themes.</span></span>

<span data-ttu-id="6db58-183">[![le pagine di contenuto possono ora usare un nuovo aspetto](specifying-the-master-page-programmatically-cs/_static/image11.png)](specifying-the-master-page-programmatically-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="6db58-183">[![Our Content Pages Can Now Use a New Look and Feel](specifying-the-master-page-programmatically-cs/_static/image11.png)](specifying-the-master-page-programmatically-cs/_static/image10.png)</span></span>

<span data-ttu-id="6db58-184">**Figura 04**: le pagine di contenuto possono ora usare un nuovo aspetto ([fare clic per visualizzare l'immagine con dimensioni complete](specifying-the-master-page-programmatically-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="6db58-184">**Figure 04**: Our Content Pages Can Now Use a New Look and Feel ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image12.png))</span></span>

<span data-ttu-id="6db58-185">Quando il markup della pagina master e del contenuto viene fuso, la classe `MasterPage` verifica che ogni controllo contenuto nella pagina contenuto faccia riferimento a un ContentPlaceHolder nella pagina master.</span><span class="sxs-lookup"><span data-stu-id="6db58-185">When the master and content pages' markup are fused, the `MasterPage` class checks to ensure that every Content control in the content page references a ContentPlaceHolder in the master page.</span></span> <span data-ttu-id="6db58-186">Viene generata un'eccezione se viene trovato un controllo contenuto che fa riferimento a un ContentPlaceHolder non esistente.</span><span class="sxs-lookup"><span data-stu-id="6db58-186">An exception is thrown if a Content control that references a non-existent ContentPlaceHolder is found.</span></span> <span data-ttu-id="6db58-187">In altre parole, è imperativo che la pagina master assegnata alla pagina contenuto disponga di un ContentPlaceHolder per ogni controllo contenuto nella pagina contenuto.</span><span class="sxs-lookup"><span data-stu-id="6db58-187">In other words, it is imperative that the master page being assigned to the content page have a ContentPlaceHolder for each Content control in the content page.</span></span>

<span data-ttu-id="6db58-188">La pagina master `Site.master` include quattro controlli ContentPlaceHolder:</span><span class="sxs-lookup"><span data-stu-id="6db58-188">The `Site.master` master page includes four ContentPlaceHolder controls:</span></span>

- `head`
- `MainContent`
- `QuickLoginUI`
- `LeftColumnContent`

<span data-ttu-id="6db58-189">Alcune delle pagine di contenuto del sito Web includono solo uno o due controlli contenuto. altri includono un controllo contenuto per ognuno dei ContentPlaceHolders disponibili.</span><span class="sxs-lookup"><span data-stu-id="6db58-189">Some of the content pages in our website include just one or two Content controls; others include a Content control for each of the available ContentPlaceHolders.</span></span> <span data-ttu-id="6db58-190">Se la nuova pagina master (`Alternate.master`) può essere assegnata a tali pagine di contenuto con controlli contenuto per tutti i ContentPlaceHolders di `Site.master`, è essenziale che `Alternate.master` includa anche gli stessi controlli ContentPlaceHolder `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="6db58-190">If our new master page (`Alternate.master`) may ever be assigned to those content pages that have Content controls for all of the ContentPlaceHolders in `Site.master` then it is essential that `Alternate.master` also include the same ContentPlaceHolder controls as `Site.master`.</span></span>

<span data-ttu-id="6db58-191">Per ottenere un aspetto simile a quello della pagina master di `Alternate.master` (vedere la figura 4), iniziare definendo gli stili della pagina master nel foglio di stile `AlternateStyles.css`.</span><span class="sxs-lookup"><span data-stu-id="6db58-191">To get your `Alternate.master` master page to look similar to mine (see Figure 4), start by defining the master page's styles in the `AlternateStyles.css` style sheet.</span></span> <span data-ttu-id="6db58-192">Aggiungere le regole seguenti in `AlternateStyles.css`:</span><span class="sxs-lookup"><span data-stu-id="6db58-192">Add the following rules into `AlternateStyles.css`:</span></span>

[!code-css[Main](specifying-the-master-page-programmatically-cs/samples/sample5.css)]

<span data-ttu-id="6db58-193">Aggiungere quindi il markup dichiarativo seguente per `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="6db58-193">Next, add the following declarative markup to `Alternate.master`.</span></span> <span data-ttu-id="6db58-194">Come si può vedere, `Alternate.master` contiene quattro controlli ContentPlaceHolder con gli stessi valori di `ID` dei controlli ContentPlaceHolder in `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="6db58-194">As you can see, `Alternate.master` contains four ContentPlaceHolder controls with the same `ID` values as the ContentPlaceHolder controls in `Site.master`.</span></span> <span data-ttu-id="6db58-195">Include inoltre un controllo ScriptManager, necessario per le pagine del sito Web che usano il framework ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="6db58-195">Moreover, it includes a ScriptManager control, which is necessary for those pages in our website that use the ASP.NET AJAX framework.</span></span>

[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample6.aspx)]

### <a name="testing-the-new-master-page"></a><span data-ttu-id="6db58-196">Test della nuova pagina master</span><span class="sxs-lookup"><span data-stu-id="6db58-196">Testing the New Master Page</span></span>

<span data-ttu-id="6db58-197">Per testare questa nuova pagina master, aggiornare il metodo di `OnPreInit` della classe `BasePage` in modo che alla proprietà `MasterPageFile` venga assegnato il valore "~/alternate.master" e quindi visitare il sito Web.</span><span class="sxs-lookup"><span data-stu-id="6db58-197">To test this new master page update the `BasePage` class's `OnPreInit` method so that the `MasterPageFile` property is assigned the value "~/Alternate.master" and then visit the website.</span></span> <span data-ttu-id="6db58-198">Ogni pagina deve funzionare senza errori, ad eccezione di due: `~/Admin/AddProduct.aspx` e `~/Admin/Products.aspx`.</span><span class="sxs-lookup"><span data-stu-id="6db58-198">Every page should function without error except for two: `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx`.</span></span> <span data-ttu-id="6db58-199">L'aggiunta di un prodotto a DetailsView in `~/Admin/AddProduct.aspx` comporta una `NullReferenceException` dalla riga di codice che tenta di impostare la proprietà `GridMessageText` della pagina master.</span><span class="sxs-lookup"><span data-stu-id="6db58-199">Adding a product to the DetailsView in `~/Admin/AddProduct.aspx` results in a `NullReferenceException` from the line of code that attempts to set the master page's `GridMessageText` property.</span></span> <span data-ttu-id="6db58-200">Quando si visita `~/Admin/Products.aspx` viene generata una `InvalidCastException` al caricamento della pagina con il messaggio: "Impossibile eseguire il cast dell'oggetto di tipo ' ASP. alternativa\_Master ' al tipo ' ASP. site\_Master '".</span><span class="sxs-lookup"><span data-stu-id="6db58-200">When visiting `~/Admin/Products.aspx` an `InvalidCastException` is thrown on page load with the message: "Unable to cast object of type 'ASP.alternate\_master' to type 'ASP.site\_master'."</span></span>

<span data-ttu-id="6db58-201">Questi errori si verificano perché la classe code-behind `Site.master` include gli eventi pubblici, le proprietà e i metodi che non sono definiti nel `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="6db58-201">These errors occur because the `Site.master` code-behind class includes public events, properties, and methods that are not defined in `Alternate.master`.</span></span> <span data-ttu-id="6db58-202">La parte relativa al markup di queste due pagine include una direttiva `@MasterType` che fa riferimento alla pagina master `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="6db58-202">The markup portion of these two pages have a `@MasterType` directive that references the `Site.master` master page.</span></span>

[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample7.aspx)]

<span data-ttu-id="6db58-203">Inoltre, il gestore eventi `ItemInserted` di DetailsView in `~/Admin/AddProduct.aspx` include il codice che esegue il cast della proprietà `Page.Master` debolmente tipizzata a un oggetto di tipo `Site`.</span><span class="sxs-lookup"><span data-stu-id="6db58-203">Also, the DetailsView's `ItemInserted` event handler in `~/Admin/AddProduct.aspx` includes code that casts the loosely-typed `Page.Master` property to an object of type `Site`.</span></span> <span data-ttu-id="6db58-204">La direttiva `@MasterType` (utilizzata in questo modo) e il cast nel gestore dell'evento `ItemInserted` associa strettamente il `~/Admin/AddProduct.aspx` e le pagine `~/Admin/Products.aspx` alla pagina master `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="6db58-204">The `@MasterType` directive (used this way) and the cast in the `ItemInserted` event handler tightly couples the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages to the `Site.master` master page.</span></span>

<span data-ttu-id="6db58-205">Per suddividere questo accoppiamento, è possibile avere `Site.master` e `Alternate.master` derivare da una classe base comune che contiene le definizioni per i membri pubblici.</span><span class="sxs-lookup"><span data-stu-id="6db58-205">To break this tight coupling we can have `Site.master` and `Alternate.master` derive from a common base class that contains definitions for the public members.</span></span> <span data-ttu-id="6db58-206">In seguito, è possibile aggiornare la direttiva `@MasterType` per fare riferimento a questo tipo di base comune.</span><span class="sxs-lookup"><span data-stu-id="6db58-206">Following that, we can update the `@MasterType` directive to reference this common base type.</span></span>

### <a name="creating-a-custom-base-master-page-class"></a><span data-ttu-id="6db58-207">Creazione di una classe di pagina master di base personalizzata</span><span class="sxs-lookup"><span data-stu-id="6db58-207">Creating a Custom Base Master Page Class</span></span>

<span data-ttu-id="6db58-208">Aggiungere un nuovo file di classe alla cartella `App_Code` denominata `BaseMasterPage.cs` e derivare da `System.Web.UI.MasterPage`.</span><span class="sxs-lookup"><span data-stu-id="6db58-208">Add a new class file to the `App_Code` folder named `BaseMasterPage.cs` and have it derive from `System.Web.UI.MasterPage`.</span></span> <span data-ttu-id="6db58-209">È necessario definire il metodo `RefreshRecentProductsGrid` e la proprietà `GridMessageText` in `BaseMasterPage`, ma non è possibile semplicemente spostarli da `Site.master` perché questi membri funzionano con controlli Web specifici della pagina master `Site.master` (l'etichetta `RecentProducts` GridView e `GridMessage`).</span><span class="sxs-lookup"><span data-stu-id="6db58-209">We need to define the `RefreshRecentProductsGrid` method and the `GridMessageText` property in `BaseMasterPage`, but we can't simply move them there from `Site.master` because these members work with Web controls that are specific to the `Site.master` master page (the `RecentProducts` GridView and `GridMessage` Label).</span></span>

<span data-ttu-id="6db58-210">È necessario configurare `BaseMasterPage` in modo che questi membri siano definiti in tale posizione, ma siano effettivamente implementati dalle classi derivate di `BaseMasterPage`(`Site.master` e `Alternate.master`).</span><span class="sxs-lookup"><span data-stu-id="6db58-210">What we need to do is configure `BaseMasterPage` in such a way that these members are defined there, but are actually implemented by `BaseMasterPage`'s derived classes (`Site.master` and `Alternate.master`).</span></span> <span data-ttu-id="6db58-211">Questo tipo di ereditarietà è possibile contrassegnando la classe e i relativi membri come `abstract`.</span><span class="sxs-lookup"><span data-stu-id="6db58-211">This type of inheritance is possible by marking the class and its members as `abstract`.</span></span> <span data-ttu-id="6db58-212">In breve, l'aggiunta della parola chiave `abstract` a questi due membri annuncia che `BaseMasterPage` non ha implementato `RefreshRecentProductsGrid` e `GridMessageText`, ma che le sue classi derivate.</span><span class="sxs-lookup"><span data-stu-id="6db58-212">In short, adding the `abstract` keyword to these two members announces that `BaseMasterPage` hasn't implemented `RefreshRecentProductsGrid` and `GridMessageText`, but that its derived classes will.</span></span>

<span data-ttu-id="6db58-213">È anche necessario definire l'evento `PricesDoubled` in `BaseMasterPage` e fornire un mezzo dalle classi derivate per generare l'evento.</span><span class="sxs-lookup"><span data-stu-id="6db58-213">We also need to define the `PricesDoubled` event in `BaseMasterPage` and provide a means by the derived classes to raise the event.</span></span> <span data-ttu-id="6db58-214">Il modello usato nell'.NET Framework per semplificare questo comportamento consiste nel creare un evento pubblico nella classe di base e aggiungere un metodo `virtual` protetto denominato `OnEventName`.</span><span class="sxs-lookup"><span data-stu-id="6db58-214">The pattern used in the .NET Framework to facilitate this behavior is to create a public event in the base class and add a protected, `virtual` method named `OnEventName`.</span></span> <span data-ttu-id="6db58-215">Le classi derivate possono quindi chiamare questo metodo per generare l'evento o possono eseguirne l'override per eseguire il codice immediatamente prima o dopo la generazione dell'evento.</span><span class="sxs-lookup"><span data-stu-id="6db58-215">Derived classes can then call this method to raise the event or can override it to execute code immediately before or after the event is raised.</span></span>

<span data-ttu-id="6db58-216">Aggiornare la classe `BaseMasterPage` in modo che contenga il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="6db58-216">Update your `BaseMasterPage` class so that it contains the following code:</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample8.cs)]

<span data-ttu-id="6db58-217">Passare quindi alla classe code-behind `Site.master` e derivare da `BaseMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="6db58-217">Next, go to the `Site.master` code-behind class and have it derive from `BaseMasterPage`.</span></span> <span data-ttu-id="6db58-218">Poiché `BaseMasterPage` è `abstract` è necessario eseguire l'override di tali membri `abstract` in `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="6db58-218">Because `BaseMasterPage` is `abstract` we need to override those `abstract` members here in `Site.master`.</span></span> <span data-ttu-id="6db58-219">Aggiungere la parola chiave `override` alle definizioni di metodo e proprietà.</span><span class="sxs-lookup"><span data-stu-id="6db58-219">Add the `override` keyword to the method and property definitions.</span></span> <span data-ttu-id="6db58-220">Aggiornare anche il codice che genera l'evento `PricesDoubled` nel gestore dell'evento `Click` del pulsante `DoublePrice` con una chiamata al metodo `OnPricesDoubled` della classe di base.</span><span class="sxs-lookup"><span data-stu-id="6db58-220">Also update the code that raises the `PricesDoubled` event in the `DoublePrice` Button's `Click` event handler with a call to the base class's `OnPricesDoubled` method.</span></span>

<span data-ttu-id="6db58-221">Dopo aver apportato queste modifiche, la classe code-behind `Site.master` deve contenere il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="6db58-221">After these modifications the `Site.master` code-behind class should contain the following code:</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample9.cs)]

<span data-ttu-id="6db58-222">È anche necessario aggiornare la classe code-behind `Alternate.master`per derivare da `BaseMasterPage` ed eseguire l'override dei due membri `abstract`.</span><span class="sxs-lookup"><span data-stu-id="6db58-222">We also need to update `Alternate.master`'s code-behind class to derive from `BaseMasterPage` and override the two `abstract` members.</span></span> <span data-ttu-id="6db58-223">Tuttavia, poiché `Alternate.master` non contiene un controllo GridView che elenca i prodotti più recenti, né un'etichetta che visualizza un messaggio dopo l'aggiunta di un nuovo prodotto al database, questi metodi non devono eseguire alcuna operazione.</span><span class="sxs-lookup"><span data-stu-id="6db58-223">But because `Alternate.master` does not contain a GridView that lists the most recent products nor a Label that displays a message after a new product is added to the database, these methods do not need to do anything.</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample10.cs)]

### <a name="referencing-the-base-master-page-class"></a><span data-ttu-id="6db58-224">Riferimento alla classe della pagina master di base</span><span class="sxs-lookup"><span data-stu-id="6db58-224">Referencing the Base Master Page Class</span></span>

<span data-ttu-id="6db58-225">Ora che è stata completata la classe `BaseMasterPage` e che le due pagine master le estendono, il passaggio finale consiste nell'aggiornare le pagine `~/Admin/AddProduct.aspx` e `~/Admin/Products.aspx` per fare riferimento a questo tipo comune.</span><span class="sxs-lookup"><span data-stu-id="6db58-225">Now that we have completed the `BaseMasterPage` class and have our two master pages extending it, our final step is to update the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages to refer to this common type.</span></span> <span data-ttu-id="6db58-226">Per iniziare, modificare la direttiva `@MasterType` in entrambe le pagine da:</span><span class="sxs-lookup"><span data-stu-id="6db58-226">Start by changing the `@MasterType` directive in both pages from:</span></span>

[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample11.aspx)]

<span data-ttu-id="6db58-227">A:</span><span class="sxs-lookup"><span data-stu-id="6db58-227">To:</span></span>

[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample12.aspx)]

<span data-ttu-id="6db58-228">Anziché fare riferimento a un percorso di file, la proprietà `@MasterType` fa ora riferimento al tipo di base (`BaseMasterPage`).</span><span class="sxs-lookup"><span data-stu-id="6db58-228">Rather than referencing a file path, the `@MasterType` property now references the base type (`BaseMasterPage`).</span></span> <span data-ttu-id="6db58-229">Di conseguenza, la proprietà `Master` fortemente tipizzata utilizzata nelle classi code-behind di entrambe le pagine è ora di tipo `BaseMasterPage` (invece di digitare `Site`).</span><span class="sxs-lookup"><span data-stu-id="6db58-229">Consequently, the strongly-typed `Master` property used in both pages' code-behind classes is now of type `BaseMasterPage` (instead of type `Site`).</span></span> <span data-ttu-id="6db58-230">Con questa modifica sul posto, rivedere `~/Admin/Products.aspx`.</span><span class="sxs-lookup"><span data-stu-id="6db58-230">With this change in place revisit `~/Admin/Products.aspx`.</span></span> <span data-ttu-id="6db58-231">In precedenza è stato generato un errore di cast perché la pagina è configurata per l'utilizzo della pagina master `Alternate.master`, ma la direttiva `@MasterType` fa riferimento al file `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="6db58-231">Previously, this resulted in a casting error because the page is configured to use the `Alternate.master` master page, but the `@MasterType` directive referenced the `Site.master` file.</span></span> <span data-ttu-id="6db58-232">Ma ora viene eseguito il rendering della pagina senza errori.</span><span class="sxs-lookup"><span data-stu-id="6db58-232">But now the page renders without error.</span></span> <span data-ttu-id="6db58-233">Questo perché è possibile eseguire il cast della pagina master di `Alternate.master` a un oggetto di tipo `BaseMasterPage` (dal momento che lo estende).</span><span class="sxs-lookup"><span data-stu-id="6db58-233">This is because the `Alternate.master` master page can be cast to an object of type `BaseMasterPage` (since it extends it).</span></span>

<span data-ttu-id="6db58-234">È necessario apportare una piccola modifica in `~/Admin/AddProduct.aspx`.</span><span class="sxs-lookup"><span data-stu-id="6db58-234">There's one small change that needs to be made in `~/Admin/AddProduct.aspx`.</span></span> <span data-ttu-id="6db58-235">Il gestore dell'evento `ItemInserted` del controllo DetailsView usa la proprietà `Master` fortemente tipizzata e la proprietà `Page.Master` debolmente tipizzata.</span><span class="sxs-lookup"><span data-stu-id="6db58-235">The DetailsView control's `ItemInserted` event handler uses both the strongly-typed `Master` property and the loosely-typed `Page.Master` property.</span></span> <span data-ttu-id="6db58-236">Il riferimento fortemente tipizzato è stato risolto quando è stata aggiornata la direttiva `@MasterType`, ma è ancora necessario aggiornare il riferimento debolmente tipizzato.</span><span class="sxs-lookup"><span data-stu-id="6db58-236">We fixed the strongly-typed reference when we updated the `@MasterType` directive, but we still need to update the loosely-typed reference.</span></span> <span data-ttu-id="6db58-237">Sostituire la riga di codice seguente:</span><span class="sxs-lookup"><span data-stu-id="6db58-237">Replace the following line of code:</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample13.cs)]

<span data-ttu-id="6db58-238">Con il codice seguente, che esegue il cast `Page.Master` al tipo di base:</span><span class="sxs-lookup"><span data-stu-id="6db58-238">With the following, which casts `Page.Master` to the base type:</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample14.cs)]

## <a name="step-4-determining-what-master-page-to-bind-to-the-content-pages"></a><span data-ttu-id="6db58-239">Passaggio 4: determinazione della pagina master da associare alle pagine di contenuto</span><span class="sxs-lookup"><span data-stu-id="6db58-239">Step 4: Determining What Master Page to Bind to the Content Pages</span></span>

<span data-ttu-id="6db58-240">La classe `BasePage` attualmente imposta tutte le proprietà di `MasterPageFile` delle pagine di contenuto su un valore hardcoded nella fase PreInit del ciclo di vita della pagina.</span><span class="sxs-lookup"><span data-stu-id="6db58-240">Our `BasePage` class currently sets all content pages' `MasterPageFile` properties to a hard-coded value in the PreInit stage of the page lifecycle.</span></span> <span data-ttu-id="6db58-241">È possibile aggiornare questo codice per basare la pagina master su un fattore esterno.</span><span class="sxs-lookup"><span data-stu-id="6db58-241">We can update this code to base the master page on some external factor.</span></span> <span data-ttu-id="6db58-242">Probabilmente la pagina master da caricare dipende dalle preferenze dell'utente attualmente connesso.</span><span class="sxs-lookup"><span data-stu-id="6db58-242">Perhaps the master page to load depends on the preferences of the currently logged on user.</span></span> <span data-ttu-id="6db58-243">In tal caso, è necessario scrivere il codice nel metodo `OnPreInit` in `BasePage` che cerca le preferenze della pagina master dell'utente attualmente in visita.</span><span class="sxs-lookup"><span data-stu-id="6db58-243">In that case, we'd need to write code in the `OnPreInit` method in `BasePage` that looks up the currently visiting user's master page preferences.</span></span>

<span data-ttu-id="6db58-244">Verrà ora creata una pagina Web che consente all'utente di scegliere la pagina master da usare, `Site.master` o `Alternate.master`, e salvare la scelta in una variabile di sessione.</span><span class="sxs-lookup"><span data-stu-id="6db58-244">Let's create a web page that allows the user to choose which master page to use - `Site.master` or `Alternate.master` - and save this choice in a Session variable.</span></span> <span data-ttu-id="6db58-245">Per iniziare, creare una nuova pagina Web nella directory radice denominata `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="6db58-245">Start by creating a new web page in the root directory named `ChooseMasterPage.aspx`.</span></span> <span data-ttu-id="6db58-246">Quando si crea questa pagina o qualsiasi altra pagina di contenuto, non è necessario associarla a una pagina master perché la pagina master è impostata a livello di programmazione in `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="6db58-246">When creating this page (or any other content pages henceforth) you don't need to bind it to a master page because the master page is set programmatically in `BasePage`.</span></span> <span data-ttu-id="6db58-247">Tuttavia, se non si associa la nuova pagina a una pagina master, il markup dichiarativo predefinito della nuova pagina contiene un Web Form e altro contenuto fornito dalla pagina master.</span><span class="sxs-lookup"><span data-stu-id="6db58-247">However, if you do not bind the new page to a master page then the new page's default declarative markup contains a Web Form and other content supplied by the master page.</span></span> <span data-ttu-id="6db58-248">È necessario sostituire manualmente questo markup con i controlli contenuto appropriati.</span><span class="sxs-lookup"><span data-stu-id="6db58-248">You'll need to manually replace this markup with the appropriate Content controls.</span></span> <span data-ttu-id="6db58-249">Per questo motivo, è più semplice associare la nuova pagina ASP.NET a una pagina master.</span><span class="sxs-lookup"><span data-stu-id="6db58-249">For that reason, I find it easier to bind the new ASP.NET page to a master page.</span></span>

> [!NOTE]
> <span data-ttu-id="6db58-250">Poiché `Site.master` e `Alternate.master` hanno lo stesso set di controlli ContentPlaceHolder, non importa quale pagina master si sceglie durante la creazione della nuova pagina di contenuto.</span><span class="sxs-lookup"><span data-stu-id="6db58-250">Because `Site.master` and `Alternate.master` have the same set of ContentPlaceHolder controls it doesn't matter what master page you choose when creating the new content page.</span></span> <span data-ttu-id="6db58-251">Per coerenza, suggerisco di usare `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="6db58-251">For consistency, I'd suggest using `Site.master`.</span></span>

<span data-ttu-id="6db58-252">[![aggiungere una nuova pagina contenuto al sito Web](specifying-the-master-page-programmatically-cs/_static/image14.png)](specifying-the-master-page-programmatically-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="6db58-252">[![Add a New Content Page to the Website](specifying-the-master-page-programmatically-cs/_static/image14.png)](specifying-the-master-page-programmatically-cs/_static/image13.png)</span></span>

<span data-ttu-id="6db58-253">**Figura 05**: aggiungere una nuova pagina di contenuto al sito Web ([fare clic per visualizzare l'immagine con dimensioni complete](specifying-the-master-page-programmatically-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="6db58-253">**Figure 05**: Add a New Content Page to the Website ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image15.png))</span></span>

<span data-ttu-id="6db58-254">Aggiornare il file di `Web.sitemap` per includere una voce per questa lezione.</span><span class="sxs-lookup"><span data-stu-id="6db58-254">Update the `Web.sitemap` file to include an entry for this lesson.</span></span> <span data-ttu-id="6db58-255">Aggiungere il markup seguente sotto l'`<siteMapNode>` per le pagine master e la lezione ASP.NET AJAX:</span><span class="sxs-lookup"><span data-stu-id="6db58-255">Add the following markup beneath the `<siteMapNode>` for the Master Pages and ASP.NET AJAX lesson:</span></span>

[!code-xml[Main](specifying-the-master-page-programmatically-cs/samples/sample15.xml)]

<span data-ttu-id="6db58-256">Prima di aggiungere contenuto alla pagina `ChooseMasterPage.aspx`, è necessario aggiornare la classe code-behind della pagina in modo che derivi da `BasePage` (anziché `System.Web.UI.Page`).</span><span class="sxs-lookup"><span data-stu-id="6db58-256">Before adding any content to the `ChooseMasterPage.aspx` page take a moment to update the page's code-behind class so that it derives from `BasePage` (rather than `System.Web.UI.Page`).</span></span> <span data-ttu-id="6db58-257">Successivamente, aggiungere un controllo DropDownList alla pagina, impostare la relativa proprietà `ID` su `MasterPageChoice`e aggiungere due ListItem con i valori di `Text` "~/site.master" e "~/alternate.master".</span><span class="sxs-lookup"><span data-stu-id="6db58-257">Next, add a DropDownList control to the page, set its `ID` property to `MasterPageChoice`, and add two ListItems with the `Text` values of "~/Site.master" and "~/Alternate.master".</span></span>

<span data-ttu-id="6db58-258">Aggiungere un controllo Web Button alla pagina e impostare le proprietà `ID` e `Text` su `SaveLayout` e "Save layout Choice", rispettivamente.</span><span class="sxs-lookup"><span data-stu-id="6db58-258">Add a Button Web control to the page and set its `ID` and `Text` properties to `SaveLayout` and "Save Layout Choice", respectively.</span></span> <span data-ttu-id="6db58-259">A questo punto il markup dichiarativo della pagina avrà un aspetto simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="6db58-259">At this point your page's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample16.aspx)]

<span data-ttu-id="6db58-260">Quando la pagina viene visitata per la prima volta, è necessario visualizzare la scelta della pagina master attualmente selezionata dall'utente.</span><span class="sxs-lookup"><span data-stu-id="6db58-260">When the page is first visited we need to display the user's currently selected master page choice.</span></span> <span data-ttu-id="6db58-261">Creare un gestore eventi `Page_Load` e aggiungere il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="6db58-261">Create a `Page_Load` event handler and add the following code:</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample17.cs)]

<span data-ttu-id="6db58-262">Il codice precedente viene eseguito solo nella prima visita della pagina (e non nei postback successivi).</span><span class="sxs-lookup"><span data-stu-id="6db58-262">The above code executes only on the first page visit (and not on subsequent postbacks).</span></span> <span data-ttu-id="6db58-263">Verifica prima di tutto se la variabile di sessione `MyMasterPage` esistente.</span><span class="sxs-lookup"><span data-stu-id="6db58-263">It first checks to see if the Session variable `MyMasterPage` exists.</span></span> <span data-ttu-id="6db58-264">In caso contrario, tenta di trovare l'elemento ListItem corrispondente nell'`MasterPageChoice` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="6db58-264">If it does, it attempts to find the matching ListItem in the `MasterPageChoice` DropDownList.</span></span> <span data-ttu-id="6db58-265">Se viene trovato un elemento ListItem corrispondente, la relativa proprietà `Selected` viene impostata su `true`.</span><span class="sxs-lookup"><span data-stu-id="6db58-265">If a matching ListItem is found, its `Selected` property is set to `true`.</span></span>

<span data-ttu-id="6db58-266">È anche necessario codice che salva la scelta dell'utente nella variabile di sessione `MyMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="6db58-266">We also need code that saves the user's choice into the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="6db58-267">Creare un gestore eventi per l'evento `Click` del pulsante `SaveLayout` e aggiungere il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="6db58-267">Create an event handler for the `SaveLayout` Button's `Click` event and add the following code:</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample18.cs)]

> [!NOTE]
> <span data-ttu-id="6db58-268">Al momento dell'esecuzione del gestore dell'evento `Click` durante il postback, la pagina master è già stata selezionata.</span><span class="sxs-lookup"><span data-stu-id="6db58-268">By the time the `Click` event handler executes on postback, the master page has already been selected.</span></span> <span data-ttu-id="6db58-269">Quindi, la selezione dell'elenco a discesa dell'utente non verrà applicata fino alla visita della pagina successiva.</span><span class="sxs-lookup"><span data-stu-id="6db58-269">Therefore, the user's drop-down list selection won't be in effect until the next page visit.</span></span> <span data-ttu-id="6db58-270">Il `Response.Redirect` forza il browser a richiedere di nuovo `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="6db58-270">The `Response.Redirect` forces the browser to re-request `ChooseMasterPage.aspx`.</span></span>

<span data-ttu-id="6db58-271">Una volta completata la `ChooseMasterPage.aspx` pagina, l'attività finale consiste nel `BasePage` assegnare la proprietà `MasterPageFile` in base al valore della variabile di sessione `MyMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="6db58-271">With the `ChooseMasterPage.aspx` page complete, our final task is to have `BasePage` assign the `MasterPageFile` property based on the value of the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="6db58-272">Se la variabile di sessione non è impostata, il valore predefinito è `BasePage` `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="6db58-272">If the Session variable is not set have `BasePage` default to `Site.master`.</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample19.cs)]

> [!NOTE]
> <span data-ttu-id="6db58-273">Il codice che assegna la proprietà `MasterPageFile` dell'oggetto `Page` è stato spostato fuori dal gestore dell'evento `OnPreInit` e in due metodi distinti.</span><span class="sxs-lookup"><span data-stu-id="6db58-273">I moved the code that assigns the `Page` object's `MasterPageFile` property out of the `OnPreInit` event handler and into two separate methods.</span></span> <span data-ttu-id="6db58-274">Il primo metodo, `SetMasterPageFile`, assegna la proprietà `MasterPageFile` al valore restituito dal secondo metodo, `GetMasterPageFileFromSession`.</span><span class="sxs-lookup"><span data-stu-id="6db58-274">This first method, `SetMasterPageFile`, assigns the `MasterPageFile` property to the value returned by the second method, `GetMasterPageFileFromSession`.</span></span> <span data-ttu-id="6db58-275">Ho reso `virtual` il metodo `SetMasterPageFile` in modo che le classi future che estendono `BasePage` possano facoltativamente eseguirne l'override per implementare la logica personalizzata, se necessario.</span><span class="sxs-lookup"><span data-stu-id="6db58-275">I made the `SetMasterPageFile` method `virtual` so that future classes that extend `BasePage` can optionally override it to implement custom logic, if needed.</span></span> <span data-ttu-id="6db58-276">Nell'esercitazione successiva verrà visualizzato un esempio di override della proprietà `SetMasterPageFile` di `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="6db58-276">We'll see an example of overriding `BasePage`'s `SetMasterPageFile` property in the next tutorial.</span></span>

<span data-ttu-id="6db58-277">Con questo codice, visitare la pagina `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="6db58-277">With this code in place, visit the `ChooseMasterPage.aspx` page.</span></span> <span data-ttu-id="6db58-278">Inizialmente, viene selezionata la pagina master `Site.master` (vedere la figura 6), ma l'utente può scegliere una pagina master diversa dall'elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="6db58-278">Initially, the `Site.master` master page is selected (see Figure 6), but the user can pick a different master page from the drop-down list.</span></span>

<span data-ttu-id="6db58-279">[![pagine di contenuto vengono visualizzate utilizzando la pagina master del sito. master](specifying-the-master-page-programmatically-cs/_static/image17.png)](specifying-the-master-page-programmatically-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="6db58-279">[![Content Pages are Displayed Using the Site.master Master Page](specifying-the-master-page-programmatically-cs/_static/image17.png)](specifying-the-master-page-programmatically-cs/_static/image16.png)</span></span>

<span data-ttu-id="6db58-280">**Figura 06**: le pagine di contenuto vengono visualizzate usando la pagina Master[di `Site.master` (fare clic per visualizzare l'immagine con dimensioni complete](specifying-the-master-page-programmatically-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="6db58-280">**Figure 06**: Content Pages are Displayed Using the `Site.master` Master Page ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image18.png))</span></span>

<span data-ttu-id="6db58-281">[![pagine di contenuto vengono ora visualizzate utilizzando la pagina master alternativa. master](specifying-the-master-page-programmatically-cs/_static/image20.png)](specifying-the-master-page-programmatically-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="6db58-281">[![Content Pages are Now Displayed Using the Alternate.master Master Page](specifying-the-master-page-programmatically-cs/_static/image20.png)](specifying-the-master-page-programmatically-cs/_static/image19.png)</span></span>

<span data-ttu-id="6db58-282">**Figura 07**: le pagine di contenuto vengono ora visualizzate usando la pagina Master[di `Alternate.master` (fare clic per visualizzare l'immagine con dimensioni complete](specifying-the-master-page-programmatically-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="6db58-282">**Figure 07**: Content Pages are Now Displayed Using the `Alternate.master` Master Page ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image21.png))</span></span>

## <a name="summary"></a><span data-ttu-id="6db58-283">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="6db58-283">Summary</span></span>

<span data-ttu-id="6db58-284">Quando viene visitata una pagina contenuto, i controlli contenuto vengono fusi con i controlli ContentPlaceHolder della pagina master.</span><span class="sxs-lookup"><span data-stu-id="6db58-284">When a content page is visited, its Content controls are fused with its master page's ContentPlaceHolder controls.</span></span> <span data-ttu-id="6db58-285">La pagina master della pagina contenuto è indicata dalla proprietà `MasterPageFile` della classe `Page`, che viene assegnata all'attributo `MasterPageFile` della direttiva `@Page` durante la fase di inizializzazione.</span><span class="sxs-lookup"><span data-stu-id="6db58-285">The content page's master page is denoted by the `Page` class's `MasterPageFile` property, which is assigned to the `@Page` directive's `MasterPageFile` attribute during the Initialization stage.</span></span> <span data-ttu-id="6db58-286">Come illustrato in questa esercitazione, è possibile assegnare un valore alla proprietà `MasterPageFile`, purché venga eseguita prima della fine della fase di PreInit.</span><span class="sxs-lookup"><span data-stu-id="6db58-286">As this tutorial showed, we can assign a value to the `MasterPageFile` property as long as we do so before the end of the PreInit stage.</span></span> <span data-ttu-id="6db58-287">La possibilità di specificare a livello di codice la pagina master apre la porta per scenari più avanzati, ad esempio l'associazione dinamica di una pagina di contenuto a una pagina master in base a fattori esterni.</span><span class="sxs-lookup"><span data-stu-id="6db58-287">Being able to programmatically specify the master page opens the door for more advanced scenarios, such as dynamically binding a content page to a master page based on external factors.</span></span>

<span data-ttu-id="6db58-288">Buona programmazione!</span><span class="sxs-lookup"><span data-stu-id="6db58-288">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="6db58-289">Ulteriori informazioni</span><span class="sxs-lookup"><span data-stu-id="6db58-289">Further Reading</span></span>

<span data-ttu-id="6db58-290">Per ulteriori informazioni sugli argomenti trattati in questa esercitazione, fare riferimento alle risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="6db58-290">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="6db58-291">Diagramma del ciclo di vita della pagina ASP.NET</span><span class="sxs-lookup"><span data-stu-id="6db58-291">ASP.NET Page Lifecycle Diagram</span></span>](http://emanish.googlepages.com/Asp.Net2.0Lifecycle.PNG)
- [<span data-ttu-id="6db58-292">Panoramica del ciclo di vita della pagina ASP.NET</span><span class="sxs-lookup"><span data-stu-id="6db58-292">ASP.NET Page Lifecycle Overview</span></span>](https://msdn.microsoft.com/library/ms178472.aspx)
- [<span data-ttu-id="6db58-293">Panoramica di temi e interfacce di ASP.NET</span><span class="sxs-lookup"><span data-stu-id="6db58-293">ASP.NET Themes and Skins Overview</span></span>](https://msdn.microsoft.com/library/ykzx33wh.aspx)
- [<span data-ttu-id="6db58-294">Pagine master: suggerimenti, trucchi e trap</span><span class="sxs-lookup"><span data-stu-id="6db58-294">Master Pages: Tips, Tricks, and Traps</span></span>](http://www.odetocode.com/articles/450.aspx)
- [<span data-ttu-id="6db58-295">Temi in ASP.NET</span><span class="sxs-lookup"><span data-stu-id="6db58-295">Themes in ASP.NET</span></span>](http://www.odetocode.com/articles/423.aspx)

### <a name="about-the-author"></a><span data-ttu-id="6db58-296">Informazioni sull'autore</span><span class="sxs-lookup"><span data-stu-id="6db58-296">About the Author</span></span>

<span data-ttu-id="6db58-297">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autore di più libri ASP/ASP. NET e fondatore di 4GuysFromRolla.com, collabora con le tecnologie Web Microsoft a partire da 1998.</span><span class="sxs-lookup"><span data-stu-id="6db58-297">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="6db58-298">Scott lavora come consulente, trainer e writer indipendenti.</span><span class="sxs-lookup"><span data-stu-id="6db58-298">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="6db58-299">Il suo ultimo libro è [*Sams Teach Yourself ASP.NET 3,5 in 24 ore*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="6db58-299">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span></span> <span data-ttu-id="6db58-300">Scott può essere raggiunto in [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) o tramite il suo blog al [http://ScottOnWriting.NET](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="6db58-300">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="6db58-301">Grazie speciale</span><span class="sxs-lookup"><span data-stu-id="6db58-301">Special Thanks To</span></span>

<span data-ttu-id="6db58-302">Questa serie di esercitazioni è stata esaminata da molti revisori utili.</span><span class="sxs-lookup"><span data-stu-id="6db58-302">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="6db58-303">Il revisore del lead per questa esercitazione è stato.</span><span class="sxs-lookup"><span data-stu-id="6db58-303">Lead reviewer for this tutorial was Suchi Banerjee.</span></span> <span data-ttu-id="6db58-304">Sei interessato a esaminare i miei prossimi articoli MSDN?</span><span class="sxs-lookup"><span data-stu-id="6db58-304">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="6db58-305">In tal caso, rilasciare una riga in [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="6db58-305">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="6db58-306">[Precedente](master-pages-and-asp-net-ajax-cs.md)
> [Successivo](nested-master-pages-cs.md)</span><span class="sxs-lookup"><span data-stu-id="6db58-306">[Previous](master-pages-and-asp-net-ajax-cs.md)
[Next](nested-master-pages-cs.md)</span></span>
