---
uid: web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12
title: "Distribuzione di un'applicazione Web ASP.NET con SQL Server Compact con Visual Studio o Visual Web Developer: distribuzione nell'ambiente di produzione-7 di 12 | Microsoft Docs"
author: tdykstra
description: Questa serie di esercitazioni illustra come distribuire (pubblicare) un progetto di applicazione Web ASP.NET che include un database di SQL Server Compact usando Visual Stu...
ms.author: riande
ms.date: 11/17/2011
ms.assetid: b83ab819-2b05-4776-b7b4-79ef78d457a5
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12
msc.type: authoredcontent
ms.openlocfilehash: db838633accdedd7c0693b126a007e254ca681e4
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/06/2020
ms.locfileid: "78568019"
---
# <a name="deploying-an-aspnet-web-application-with-sql-server-compact-using-visual-studio-or-visual-web-developer-deploying-to-the-production-environment---7-of-12"></a><span data-ttu-id="3a19f-103">Distribuzione di un'applicazione Web ASP.NET con SQL Server Compact mediante Visual Studio o Visual Web Developer: distribuzione nell'ambiente di produzione-7 di 12</span><span class="sxs-lookup"><span data-stu-id="3a19f-103">Deploying an ASP.NET Web Application with SQL Server Compact using Visual Studio or Visual Web Developer: Deploying to the Production Environment - 7 of 12</span></span>

<span data-ttu-id="3a19f-104">di [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="3a19f-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="3a19f-105">Scarica progetto Starter</span><span class="sxs-lookup"><span data-stu-id="3a19f-105">Download Starter Project</span></span>](https://code.msdn.microsoft.com/Deploying-an-ASPNET-Web-4e31366b)

> <span data-ttu-id="3a19f-106">Questa serie di esercitazioni illustra come distribuire (pubblicare) un progetto di applicazione Web ASP.NET che include un database di SQL Server Compact usando Visual Studio 2012 RC o Visual Studio Express 2012 RC per il Web.</span><span class="sxs-lookup"><span data-stu-id="3a19f-106">This series of tutorials shows you how to deploy (publish) an ASP.NET web application project that includes a SQL Server Compact database by using Visual Studio 2012 RC or Visual Studio Express 2012 RC for Web.</span></span> <span data-ttu-id="3a19f-107">È anche possibile usare Visual Studio 2010 se si installa l'aggiornamento pubblicazione sul Web.</span><span class="sxs-lookup"><span data-stu-id="3a19f-107">You can also use Visual Studio 2010 if you install the Web Publish Update.</span></span> <span data-ttu-id="3a19f-108">Per un'introduzione alla serie, vedere [la prima esercitazione della serie](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span><span class="sxs-lookup"><span data-stu-id="3a19f-108">For an introduction to the series, see [the first tutorial in the series](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span></span>
> 
> <span data-ttu-id="3a19f-109">Per un'esercitazione in cui vengono illustrate le funzionalità di distribuzione introdotte dopo la versione RC di Visual Studio 2012, viene illustrato come distribuire SQL Server edizioni diverse da SQL Server Compact e viene illustrato come eseguire la distribuzione in app Azure app Web del servizio, vedere [distribuzione web ASP.NET con Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).</span><span class="sxs-lookup"><span data-stu-id="3a19f-109">For a tutorial that shows deployment features introduced after the RC release of Visual Studio 2012, shows how to deploy SQL Server editions other than SQL Server Compact, and shows how to deploy to Azure App Service Web Apps, see [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).</span></span>

## <a name="overview"></a><span data-ttu-id="3a19f-110">Panoramica</span><span class="sxs-lookup"><span data-stu-id="3a19f-110">Overview</span></span>

<span data-ttu-id="3a19f-111">In questa esercitazione si configura un account con un provider di hosting e si distribuisce l'applicazione Web ASP.NET nell'ambiente di produzione usando la funzionalità di pubblicazione con un solo clic di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="3a19f-111">In this tutorial, you set up an account with a hosting provider and deploy your ASP.NET web application to the production environment by using the Visual Studio one-click publish feature.</span></span>

<span data-ttu-id="3a19f-112">Promemoria: se si riceve un messaggio di errore o un elemento non funziona durante l'esercitazione, assicurarsi di controllare la pagina relativa alla [risoluzione dei problemi](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md).</span><span class="sxs-lookup"><span data-stu-id="3a19f-112">Reminder: If you get an error message or something doesn't work as you go through the tutorial, be sure to check the [troubleshooting page](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md).</span></span>

## <a name="selecting-a-hosting-provider"></a><span data-ttu-id="3a19f-113">Selezione di un provider di hosting</span><span class="sxs-lookup"><span data-stu-id="3a19f-113">Selecting a Hosting Provider</span></span>

<span data-ttu-id="3a19f-114">Per l'applicazione Contoso University e questa serie di esercitazioni, è necessario un provider che supporti ASP.NET 4 e Distribuzione Web.</span><span class="sxs-lookup"><span data-stu-id="3a19f-114">For the Contoso University application and this tutorial series, you need a provider that supports ASP.NET 4 and Web Deploy.</span></span> <span data-ttu-id="3a19f-115">È stata scelta una società di hosting specifica in modo che le esercitazioni possano illustrare l'esperienza completa di distribuzione in un sito Web attivo.</span><span class="sxs-lookup"><span data-stu-id="3a19f-115">A specific hosting company was chosen so that the tutorials could illustrate the complete experience of deploying to a live website.</span></span> <span data-ttu-id="3a19f-116">Ogni società di hosting fornisce funzionalità diverse e l'esperienza di distribuzione nei propri server varia leggermente.</span><span class="sxs-lookup"><span data-stu-id="3a19f-116">Each hosting company provides different features, and the experience of deploying to their servers varies somewhat.</span></span> <span data-ttu-id="3a19f-117">Tuttavia, il processo descritto in questa esercitazione è tipico per il processo complessivo.</span><span class="sxs-lookup"><span data-stu-id="3a19f-117">However, the process described in this tutorial is typical for the overall process.</span></span> <span data-ttu-id="3a19f-118">Il provider di hosting usato per questa esercitazione, Cytanium.com, è uno dei molti disponibili e il suo utilizzo in questa esercitazione non costituisce un'approvazione o una raccomandazione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-118">The hosting provider used for this tutorial, Cytanium.com, is one of many that are available, and its use in this tutorial does not constitute an endorsement or recommendation.</span></span>

<span data-ttu-id="3a19f-119">Quando si è pronti per selezionare un provider di hosting personalizzato, è possibile confrontare le funzionalità e i prezzi nella [raccolta di provider](https://www.microsoft.com/web/hosting) nel sito di Microsoft.com/Web.</span><span class="sxs-lookup"><span data-stu-id="3a19f-119">When you are ready to select your own hosting provider, you can compare features and prices in the [gallery of providers](https://www.microsoft.com/web/hosting) on the Microsoft.com/web site.</span></span>

## <a name="creating-an-account"></a><span data-ttu-id="3a19f-120">Creazione di un account</span><span class="sxs-lookup"><span data-stu-id="3a19f-120">Creating an Account</span></span>

<span data-ttu-id="3a19f-121">Creare un account presso il provider selezionato.</span><span class="sxs-lookup"><span data-stu-id="3a19f-121">Create an account at your selected provider.</span></span> <span data-ttu-id="3a19f-122">Se il supporto per un database completo SQL Server è un ulteriore aggiunto, non è necessario selezionarlo per questa esercitazione, ma sarà necessario per l'esercitazione [migrazione a SQL Server](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12.md) più avanti in questa serie.</span><span class="sxs-lookup"><span data-stu-id="3a19f-122">If support for a full SQL Server database is an added extra, you do not need to select it for this tutorial, but you'll need it for the [Migrating to SQL Server](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12.md) tutorial later in this series.</span></span>

<span data-ttu-id="3a19f-123">Per queste esercitazioni, non è necessario registrare un nuovo nome di dominio.</span><span class="sxs-lookup"><span data-stu-id="3a19f-123">For these tutorials, you don't have to register a new domain name.</span></span> <span data-ttu-id="3a19f-124">È possibile eseguire il test per verificare la corretta distribuzione utilizzando l'URL temporaneo assegnato al sito dal provider.</span><span class="sxs-lookup"><span data-stu-id="3a19f-124">You can test to verify successful deployment by using the temporary URL assigned to the site by the provider.</span></span>

<span data-ttu-id="3a19f-125">Dopo aver creato l'account, in genere si riceve un messaggio di posta elettronica di benvenuto contenente tutte le informazioni necessarie per distribuire e gestire il sito.</span><span class="sxs-lookup"><span data-stu-id="3a19f-125">After the account has been created, you typically receive a welcome email that contains all the information you need in order to deploy and manage your site.</span></span> <span data-ttu-id="3a19f-126">Le informazioni inviate dal provider di hosting saranno simili a quelle illustrate qui.</span><span class="sxs-lookup"><span data-stu-id="3a19f-126">The information that your hosting provider sends you will be similar to what is shown here.</span></span> <span data-ttu-id="3a19f-127">Il messaggio di posta elettronica di benvenuto Cytanium inviato ai nuovi proprietari dell'account include le informazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="3a19f-127">The Cytanium welcome email that's sent to new account owners includes the following information:</span></span>

- <span data-ttu-id="3a19f-128">URL del sito del pannello di controllo del provider, in cui è possibile gestire le impostazioni per il sito.</span><span class="sxs-lookup"><span data-stu-id="3a19f-128">The URL to the provider's control panel site, where you can manage settings for your site.</span></span> <span data-ttu-id="3a19f-129">L'ID e la password specificati sono inclusi in questa parte del messaggio di posta elettronica di benvenuto per un riferimento semplice.</span><span class="sxs-lookup"><span data-stu-id="3a19f-129">The ID and password you specified are included in this part of the welcome email for easy reference.</span></span> <span data-ttu-id="3a19f-130">Entrambi sono stati modificati in un valore demo per questa illustrazione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-130">(Both have been changed to a demo value for this illustration.)</span></span>

    <span data-ttu-id="3a19f-131">[![Welcome_Email_Control_Panel_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-131">[![Welcome_Email_Control_Panel_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image1.png)</span></span>
- <span data-ttu-id="3a19f-132">La versione predefinita di .NET Framework e le informazioni su come modificarle.</span><span class="sxs-lookup"><span data-stu-id="3a19f-132">The default .NET Framework version and information about how to change it.</span></span> <span data-ttu-id="3a19f-133">Molti siti di hosting vengono usati per impostazione predefinita su 2,0, che funziona con le applicazioni ASP.NET destinate a .NET Framework 2,0, 3,0 o 3,5.</span><span class="sxs-lookup"><span data-stu-id="3a19f-133">Many hosting sites default to 2.0, which works with ASP.NET applications that target the .NET Framework 2.0, 3.0, or 3.5.</span></span> <span data-ttu-id="3a19f-134">Tuttavia Contoso University è un'applicazione .NET Framework 4, quindi è necessario modificare questa impostazione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-134">However Contoso University is a .NET Framework 4 application, so you have to change this setting.</span></span> <span data-ttu-id="3a19f-135">Per un'applicazione ASP.NET 4,5, è possibile usare l'impostazione di .NET 4,0.</span><span class="sxs-lookup"><span data-stu-id="3a19f-135">(For an ASP.NET 4.5 application you would use the .NET 4.0 setting.)</span></span>

    <span data-ttu-id="3a19f-136">[![Welcome_Email_Framework_Version](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-136">[![Welcome_Email_Framework_Version](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image3.png)</span></span>
- <span data-ttu-id="3a19f-137">URL temporaneo che è possibile utilizzare per accedere al sito Web.</span><span class="sxs-lookup"><span data-stu-id="3a19f-137">The temporary URL that you can use to access your web site.</span></span> <span data-ttu-id="3a19f-138">Quando l'account è stato creato, è stato immesso "contosouniversity.com" come nome di dominio esistente.</span><span class="sxs-lookup"><span data-stu-id="3a19f-138">When this account was created, "contosouniversity.com" was entered as the existing domain name.</span></span> <span data-ttu-id="3a19f-139">L'URL temporaneo viene pertanto `http://contosouniversity.com.vserver01.cytanium.com`.</span><span class="sxs-lookup"><span data-stu-id="3a19f-139">Therefore the temporary URL is `http://contosouniversity.com.vserver01.cytanium.com`.</span></span>

    <span data-ttu-id="3a19f-140">[![Welcome_Email_Temporary_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-140">[![Welcome_Email_Temporary_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image5.png)</span></span>
- <span data-ttu-id="3a19f-141">Informazioni su come configurare i database e le stringhe di connessione necessarie per accedervi:</span><span class="sxs-lookup"><span data-stu-id="3a19f-141">Information about how to set up databases, and the connection strings that you need in order to access them:</span></span>

    <span data-ttu-id="3a19f-142">[![Welcome_Email_Database_Info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-142">[![Welcome_Email_Database_Info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image7.png)</span></span>
- <span data-ttu-id="3a19f-143">Informazioni sugli strumenti e le impostazioni per la distribuzione del sito.</span><span class="sxs-lookup"><span data-stu-id="3a19f-143">Information about tools and settings for deploying your site.</span></span> <span data-ttu-id="3a19f-144">Il messaggio di posta elettronica da Cytanium cita anche WebMatrix, che viene omesso qui.</span><span class="sxs-lookup"><span data-stu-id="3a19f-144">(The email from Cytanium also mentions WebMatrix, which is omitted here.)</span></span>

    <span data-ttu-id="3a19f-145">[![Welcome_Email_Deploy_info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image10.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-145">[![Welcome_Email_Deploy_info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image10.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image9.png)</span></span>

## <a name="setting-the-net-framework-version"></a><span data-ttu-id="3a19f-146">Impostazione della versione di .NET Framework</span><span class="sxs-lookup"><span data-stu-id="3a19f-146">Setting the .NET Framework Version</span></span>

<span data-ttu-id="3a19f-147">Il messaggio di benvenuto Cytanium include un collegamento alle istruzioni su come modificare la versione del .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3a19f-147">The Cytanium welcome email includes a link to instructions on how to change the version of the .NET Framework.</span></span> <span data-ttu-id="3a19f-148">Queste istruzioni spiegano che questa operazione può essere eseguita tramite il pannello di controllo di Cytanium.</span><span class="sxs-lookup"><span data-stu-id="3a19f-148">These instructions explain that this can be done through the Cytanium control panel.</span></span> <span data-ttu-id="3a19f-149">Altri provider hanno siti del pannello di controllo che hanno un aspetto diverso oppure possono richiedere di eseguire questa operazione in modo diverso.</span><span class="sxs-lookup"><span data-stu-id="3a19f-149">Other providers have control panel sites that look different, or they may instruct you to do this in a different way.</span></span>

<span data-ttu-id="3a19f-150">Passare all'URL del pannello di controllo.</span><span class="sxs-lookup"><span data-stu-id="3a19f-150">Go to the control panel URL.</span></span> <span data-ttu-id="3a19f-151">Dopo aver eseguito l'accesso con il nome utente e la password, viene visualizzato il pannello di controllo.</span><span class="sxs-lookup"><span data-stu-id="3a19f-151">After logging in with your user name and password, you see the control panel.</span></span>

<span data-ttu-id="3a19f-152">[![Cytanium_Control_Panel](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image12.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-152">[![Cytanium_Control_Panel](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image12.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image11.png)</span></span>

<span data-ttu-id="3a19f-153">Nella casella **spazi host** , mantenere il puntatore sull'icona web e selezionare **siti Web** dal menu.</span><span class="sxs-lookup"><span data-stu-id="3a19f-153">In the **Hosting Spaces** box, hold the pointer over the Web icon and select **Web Sites** from the menu.</span></span>

<span data-ttu-id="3a19f-154">[![Cytanium_Control_Panel_selecting_Web_Sites](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image14.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-154">[![Cytanium_Control_Panel_selecting_Web_Sites](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image14.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image13.png)</span></span>

<span data-ttu-id="3a19f-155">Nella casella **siti Web** fare clic su **contosouniversity.com** (il nome del sito usato al momento della creazione dell'account).</span><span class="sxs-lookup"><span data-stu-id="3a19f-155">In the **Web Sites** box, click **contosouniversity.com** (the name of the site that you used when you created the account).</span></span>

<span data-ttu-id="3a19f-156">[![Cytanium_Control_Panel_selecting_contosouniversity](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image16.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-156">[![Cytanium_Control_Panel_selecting_contosouniversity](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image16.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image15.png)</span></span>

<span data-ttu-id="3a19f-157">Nella casella **Proprietà sito Web** selezionare la scheda **estensioni** .</span><span class="sxs-lookup"><span data-stu-id="3a19f-157">In the **Web Site Properties** box, select the **Extensions** tab.</span></span>

<span data-ttu-id="3a19f-158">[![Cytanium_Control_Panel_Extensions_tab](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-158">[![Cytanium_Control_Panel_Extensions_tab](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image17.png)</span></span>

<span data-ttu-id="3a19f-159">Modificare ASP.NET dalla **pipeline integrata 2,0** a **4,0 (pipeline integrata)** , quindi fare clic su **Aggiorna**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-159">Change ASP.NET from **2.0 Integrated Pipeline** to **4.0 (Integrated Pipeline)**, and then click **Update**.</span></span>

## <a name="publishing-to-the-hosting-provider"></a><span data-ttu-id="3a19f-160">Pubblicazione nel provider di hosting</span><span class="sxs-lookup"><span data-stu-id="3a19f-160">Publishing to the Hosting Provider</span></span>

<span data-ttu-id="3a19f-161">Il messaggio di posta elettronica di benvenuto del provider di hosting include tutte le impostazioni necessarie per pubblicare il progetto ed è possibile immettere manualmente tali informazioni in un profilo di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-161">The welcome email from the hosting provider includes all of the settings you need in order to publish the project, and you can enter that information manually into a publish profile.</span></span> <span data-ttu-id="3a19f-162">Tuttavia, si userà un metodo più semplice e meno soggetto a errori per configurare la distribuzione nel provider: si scaricherà un file con *estensione publishsettings* e lo si importerà in un profilo di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-162">But you'll use an easier and less error-prone method to configure deployment to the provider: you'll download a *.publishsettings* file and import it into a publish profile.</span></span>

<span data-ttu-id="3a19f-163">Nel browser passare al pannello di controllo di Cytanium e selezionare **Web** e quindi selezionare **siti Web.**</span><span class="sxs-lookup"><span data-stu-id="3a19f-163">In your browser, go to the Cytanium control panel and select **Web** and then select **Web Sites.**</span></span>

![Pannello di controllo selezione di siti Web](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image19.png)

<span data-ttu-id="3a19f-165">Selezionare il sito Web **contosouniversity.com** .</span><span class="sxs-lookup"><span data-stu-id="3a19f-165">Select the **contosouniversity.com** web site.</span></span>

![Pannello di controllo selezione di contosouniversity.com](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image20.png)

<span data-ttu-id="3a19f-167">Selezionare la scheda **pubblicazione sul Web** .</span><span class="sxs-lookup"><span data-stu-id="3a19f-167">Select the **Web Publishing** tab.</span></span>

![Scheda pubblicazione sul Web del pannello di controllo](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image21.png)

<span data-ttu-id="3a19f-169">Creazione di credenziali da utilizzare per la pubblicazione sul Web immettendo un nome utente e una password.</span><span class="sxs-lookup"><span data-stu-id="3a19f-169">Create credentials to use for web publishing by entering a user name and password.</span></span> <span data-ttu-id="3a19f-170">È possibile immettere le stesse credenziali utilizzate per accedere al pannello di controllo.</span><span class="sxs-lookup"><span data-stu-id="3a19f-170">You can enter the same credentials that you use to log on to the control panel.</span></span> <span data-ttu-id="3a19f-171">Fare quindi clic su **Attiva**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-171">Then click **Enable**.</span></span>

![Pannello di controllo creare le credenziali di pubblicazione](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image22.png)

<span data-ttu-id="3a19f-173">Fare clic su **Scarica profilo di pubblicazione per il sito Web**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-173">Click **Download Publishing Profile for this web site**.</span></span>

![Profilo di pubblicazione del download del pannello di controllo](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image23.png)

<span data-ttu-id="3a19f-175">Quando viene richiesto di aprire o salvare il file, salvarlo.</span><span class="sxs-lookup"><span data-stu-id="3a19f-175">When you are prompted to open or save the file, save it.</span></span>

![Salva file del profilo di pubblicazione](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image24.png)

<span data-ttu-id="3a19f-177">In **Esplora soluzioni** in Visual Studio fare clic con il pulsante destro del mouse sul progetto ContosoUniversity e scegliere **pubblica**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-177">In **Solution Explorer** in Visual Studio, right-click the ContosoUniversity project and select **Publish**.</span></span> <span data-ttu-id="3a19f-178">Verrà visualizzata la finestra di dialogo **Pubblica sito Web** nella scheda **Anteprima** con il profilo **test** selezionato perché è l'ultimo profilo utilizzato.</span><span class="sxs-lookup"><span data-stu-id="3a19f-178">The **Publish Web** dialog box opens on the **Preview** tab with the **Test** profile selected because that is the last profile you used.</span></span>

<span data-ttu-id="3a19f-179">Selezionare la scheda **profilo** , quindi fare clic su **Importa**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-179">Select the **Profile** tab and then Click **Import**.</span></span>

![Pulsante di importazione della procedura guidata Pubblica sito Web](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image25.png)

<span data-ttu-id="3a19f-181">Nella finestra di dialogo **Importa impostazioni di pubblicazione** selezionare il file con *estensione publishsettings* scaricato e fare clic su **Apri**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-181">In the **Import Publish Settings** dialog box, select the *.publishsettings* file that you downloaded, and click **Open**.</span></span> <span data-ttu-id="3a19f-182">La procedura guidata consente di passare alla scheda connessione con tutti i campi compilati.</span><span class="sxs-lookup"><span data-stu-id="3a19f-182">The wizard advances to the Connection tab with all of the fields filled in.</span></span>

![Scheda connessione guidata pubblicazione sito Web](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image26.png)

<span data-ttu-id="3a19f-184">Il file con estensione publishsettings inserisce l'URL permanente pianificato per il sito nella casella URL di destinazione, ma se tale dominio non è ancora stato acquistato, sostituire il valore con l'URL temporaneo.</span><span class="sxs-lookup"><span data-stu-id="3a19f-184">The .publishsettings file puts the planned permanent URL for the site in the Destination URL box, but if you haven't purchased that domain yet, replace the value with the temporary URL.</span></span> <span data-ttu-id="3a19f-185">Per questo esempio, l'URL è  *[http://contosouniversity.com.vserver01.cytanium.com](http://contosouniversity.com.vserver01.cytanium.com).*</span><span class="sxs-lookup"><span data-stu-id="3a19f-185">For this example, the URL is *[http://contosouniversity.com.vserver01.cytanium.com](http://contosouniversity.com.vserver01.cytanium.com).*</span></span> <span data-ttu-id="3a19f-186">L'unico scopo di questa casella è specificare quale URL verrà aperto automaticamente dal browser dopo la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-186">The only purpose of this box is to specify what URL the browser will open to automatically after successfully after deployment.</span></span> <span data-ttu-id="3a19f-187">Se viene lasciato vuoto, l'unica conseguenza è che il browser non verrà avviato automaticamente dopo la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-187">If you leave it blank, the only consequence is that the browser won't start automatically after deployment.</span></span>

<span data-ttu-id="3a19f-188">Fare clic su **convalida connessione** per verificare che le impostazioni siano corrette e che sia possibile connettersi al server.</span><span class="sxs-lookup"><span data-stu-id="3a19f-188">Click **Validate Connection** to verify that the settings are correct and you can connect to the server.</span></span> <span data-ttu-id="3a19f-189">Come illustrato in precedenza, un segno di spunta verde verifica che la connessione abbia esito positivo.</span><span class="sxs-lookup"><span data-stu-id="3a19f-189">As you saw earlier, a green check mark verifies that the connection is successful.</span></span>

<span data-ttu-id="3a19f-190">Quando si fa clic su convalida connessione, potrebbe essere visualizzata una finestra di dialogo di **errore del certificato** .</span><span class="sxs-lookup"><span data-stu-id="3a19f-190">When you click Validate Connection, you might see a **Certificate Error** dialog box.</span></span> <span data-ttu-id="3a19f-191">In tal caso, verificare che il nome del server sia quello previsto.</span><span class="sxs-lookup"><span data-stu-id="3a19f-191">If you do, verify that the server name is what you expect.</span></span> <span data-ttu-id="3a19f-192">In caso contrario, selezionare **Salva questo certificato per le sessioni future di Visual Studio** e fare clic su **accetta**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-192">If it is, select **Save this certificate for future sessions of Visual Studio** and click **Accept**.</span></span> <span data-ttu-id="3a19f-193">Questo errore indica che il provider di hosting ha scelto di evitare il costo di acquisto di un certificato SSL per l'URL in cui si esegue la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-193">(This error means that the hosting provider has chosen to avoid the expense of purchasing an SSL certificate for the URL that you are deploying to.</span></span> <span data-ttu-id="3a19f-194">Se si preferisce stabilire una connessione sicura usando un certificato valido, contattare il provider di hosting.</span><span class="sxs-lookup"><span data-stu-id="3a19f-194">If you prefer to establish a secure connection by using a valid certificate, contact your hosting provider.)</span></span>

![Errore certificato](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image27.png)

<span data-ttu-id="3a19f-196">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-196">Click **Next**.</span></span>

<span data-ttu-id="3a19f-197">Nella sezione **database** della scheda **Impostazioni** immettere gli stessi valori immessi per il profilo di pubblicazione del test.</span><span class="sxs-lookup"><span data-stu-id="3a19f-197">In the **Databases** section of the **Settings** tab, enter the same values that you entered for the Test publish profile.</span></span> <span data-ttu-id="3a19f-198">Sono disponibili le stringhe di connessione necessarie negli elenchi a discesa.</span><span class="sxs-lookup"><span data-stu-id="3a19f-198">You'll find the connection strings you need in the drop-down lists.</span></span>

- <span data-ttu-id="3a19f-199">Nella casella stringa di connessione per **schoolContext** selezionare `Data Source=|DataDirectory|School-Prod.sdf`</span><span class="sxs-lookup"><span data-stu-id="3a19f-199">In the connection string box for **SchoolContext,** select `Data Source=|DataDirectory|School-Prod.sdf`</span></span>
- <span data-ttu-id="3a19f-200">In **schoolContext**selezionare **applica migrazioni Code First**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-200">Under **SchoolContext**, select **Apply Code First Migrations**.</span></span>
- <span data-ttu-id="3a19f-201">Nella casella stringa di connessione per **DefaultConnection**selezionare `Data Source=|DataDirectory|aspnet-Prod.sdf`</span><span class="sxs-lookup"><span data-stu-id="3a19f-201">In the connection string box for **DefaultConnection**, select `Data Source=|DataDirectory|aspnet-Prod.sdf`</span></span>
- <span data-ttu-id="3a19f-202">In **DefaultConnection**lasciare deselezionata l' **aggiornamento del database** .</span><span class="sxs-lookup"><span data-stu-id="3a19f-202">Under **DefaultConnection**, leave **Update database** cleared.</span></span>

![Scheda Impostazioni della procedura guidata Pubblica sito Web](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image28.png)

<span data-ttu-id="3a19f-204">Fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-204">Click **Next**.</span></span>

<span data-ttu-id="3a19f-205">Nella scheda **Anteprima** fare clic su **Avvia anteprima** per visualizzare un elenco dei file che verranno copiati.</span><span class="sxs-lookup"><span data-stu-id="3a19f-205">In the **Preview** tab, click **Start Preview** to see a list of the files that will be copied.</span></span> <span data-ttu-id="3a19f-206">Viene visualizzato lo stesso elenco visualizzato in precedenza quando è stato distribuito in IIS nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="3a19f-206">You see the same list that you saw earlier when you deployed to IIS on the local computer.</span></span>

<span data-ttu-id="3a19f-207">Prima di pubblicare, modificare il nome del profilo in modo che il file di trasformazione Web. Production. config venga applicato.</span><span class="sxs-lookup"><span data-stu-id="3a19f-207">Before you publish, change the name of the profile so that your Web.Production.config transformation file will be applied.</span></span> <span data-ttu-id="3a19f-208">Selezionare la scheda **profilo** e fare clic su **Gestisci profili**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-208">Select the **Profile** tab and click **Manage Profiles**.</span></span>

![Procedura guidata Pubblica sito Web Gestisci profili](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image29.png)

<span data-ttu-id="3a19f-210">Nella finestra di dialogo **modifica profili di pubblicazione Web** selezionare il profilo di produzione, fare clic su **Rinomina**e modificare il nome del profilo in produzione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-210">In the **Edit Web Publish Profiles** dialog box, select the production profile, click **Rename**, and change the profile name to Production.</span></span> <span data-ttu-id="3a19f-211">e quindi fare clic su **Chiudi**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-211">Then click **Close**.</span></span>

![Finestra di dialogo Modifica profili di pubblicazione Web](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image30.png)

<span data-ttu-id="3a19f-213">Fare clic su **Pubblica**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-213">Click **Publish**.</span></span>

<span data-ttu-id="3a19f-214">L'applicazione viene pubblicata nel provider di hosting.</span><span class="sxs-lookup"><span data-stu-id="3a19f-214">The application is published to the hosting provider.</span></span> <span data-ttu-id="3a19f-215">Il risultato viene visualizzato nella finestra **output** .</span><span class="sxs-lookup"><span data-stu-id="3a19f-215">The result shows in the **Output** window.</span></span>

![Finestra di output dopo la distribuzione](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image31.png)

<span data-ttu-id="3a19f-217">Il browser si aprirà automaticamente con l'URL immesso nella casella **URL di destinazione** nella scheda **connessione** della procedura guidata **Pubblica sito Web** .</span><span class="sxs-lookup"><span data-stu-id="3a19f-217">The browser automatically opens to the URL that you entered in **Destination URL** box on the **Connection** tab of the **Publish Web** wizard.</span></span> <span data-ttu-id="3a19f-218">Viene visualizzato lo stesso home page di quando si esegue il sito in Visual Studio, a meno che non sia presente un indicatore di ambiente "(test)" o "(dev)" nella barra del titolo.</span><span class="sxs-lookup"><span data-stu-id="3a19f-218">You see the same home page as when you run the site in Visual Studio, except now there is no "(Test)" or "(Dev)" environment indicator in the title bar.</span></span> <span data-ttu-id="3a19f-219">Ciò indica che la trasformazione *Web. config* dell'indicatore di ambiente ha funzionato correttamente.</span><span class="sxs-lookup"><span data-stu-id="3a19f-219">This indicates that the environment indicator *Web.config* transformation worked correctly.</span></span>

> [!NOTE]
> <span data-ttu-id="3a19f-220">Se nell'intestazione viene ancora visualizzato "(test)", eliminare la cartella *obj* dal progetto ContosoUniversity e ridistribuirla.</span><span class="sxs-lookup"><span data-stu-id="3a19f-220">If you still see "(Test)" in the heading, delete the *obj* folder from the ContosoUniversity project and redeploy.</span></span> <span data-ttu-id="3a19f-221">Nelle versioni non definitive del software, il file di trasformazione applicato in precedenza (Web. test. config) potrebbe essere applicato di nuovo anche se si utilizza il profilo di produzione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-221">In pre-release versions of the software, the previously applied transformation file (Web.Test.config) might get applied again although you are using the Production profile.</span></span>

<span data-ttu-id="3a19f-222">[![Home_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image33.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-222">[![Home_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image33.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image32.png)</span></span>

<span data-ttu-id="3a19f-223">Prima di eseguire una pagina che causa l'accesso al database, verificare che ELMAH sia in grado di registrare gli eventuali errori che si verificano.</span><span class="sxs-lookup"><span data-stu-id="3a19f-223">Before you run a page that causes database access, make sure that Elmah will be able to log any errors that occur.</span></span>

## <a name="setting-folder-permissions-for-elmah"></a><span data-ttu-id="3a19f-224">Impostazione delle autorizzazioni per le cartelle per ELMAH</span><span class="sxs-lookup"><span data-stu-id="3a19f-224">Setting Folder Permissions for Elmah</span></span>

<span data-ttu-id="3a19f-225">Come è possibile ricordare dall'esercitazione precedente di questa serie, è necessario assicurarsi che l'applicazione disponga delle autorizzazioni di scrittura per la cartella nell'applicazione in cui ELMAH archivia i file di log degli errori.</span><span class="sxs-lookup"><span data-stu-id="3a19f-225">As you remember from the previous tutorial in this series, you must make sure that the application has Write permissions for the folder in your application where Elmah stores error log files.</span></span> <span data-ttu-id="3a19f-226">Quando si esegue la distribuzione in IIS in locale nel computer, queste autorizzazioni vengono impostate manualmente.</span><span class="sxs-lookup"><span data-stu-id="3a19f-226">When you deployed to IIS locally on your computer, you set those permissions manually.</span></span> <span data-ttu-id="3a19f-227">In questa sezione si vedrà come impostare le autorizzazioni in Cytanium.</span><span class="sxs-lookup"><span data-stu-id="3a19f-227">In this section, you'll see how to set permissions at Cytanium.</span></span> <span data-ttu-id="3a19f-228">È possibile che alcuni provider di hosting non consentano di eseguire questa operazione. possono offrire una o più cartelle predefinite con autorizzazioni di scrittura.</span><span class="sxs-lookup"><span data-stu-id="3a19f-228">(Some hosting providers may not enable you to do this; they may offer one or more predefined folders with Write permissions.</span></span> <span data-ttu-id="3a19f-229">In tal caso, è necessario modificare l'applicazione per usare le cartelle specificate.</span><span class="sxs-lookup"><span data-stu-id="3a19f-229">In that case you would have to modify your application to use the specified folders.)</span></span>

<span data-ttu-id="3a19f-230">È possibile impostare le autorizzazioni per le cartelle nel pannello di controllo di Cytanium.</span><span class="sxs-lookup"><span data-stu-id="3a19f-230">You can set folder permissions in the Cytanium control panel.</span></span> <span data-ttu-id="3a19f-231">Passare all'URL del pannello di controllo e selezionare **file Manager**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-231">Go to the control panel URL and select **File Manager**.</span></span>

<span data-ttu-id="3a19f-232">[![Cytanium_Control_Panel_with_File_Manager_selected](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image35.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-232">[![Cytanium_Control_Panel_with_File_Manager_selected](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image35.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image34.png)</span></span>

<span data-ttu-id="3a19f-233">Nella casella **file Manager** selezionare **contosouniversity.com** e quindi **wwwroot** per visualizzare la cartella radice dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-233">In the **File Manager** box, select **contosouniversity.com** and then **wwwroot** to see the application's root folder.</span></span> <span data-ttu-id="3a19f-234">Fare clic sull'icona del lucchetto accanto a **ELMAH**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-234">Click the padlock icon next to **Elmah**.</span></span>

<span data-ttu-id="3a19f-235">[![Cytanium_Control_Panel_File_Manager_at_root_folder](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image37.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-235">[![Cytanium_Control_Panel_File_Manager_at_root_folder](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image37.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image36.png)</span></span>

<span data-ttu-id="3a19f-236">Nella finestra **autorizzazioni** **file**/cartella selezionare le caselle di controllo **lettura** e **scrittura** per **contosouniversity.com** e fare clic su **Imposta autorizzazioni**.</span><span class="sxs-lookup"><span data-stu-id="3a19f-236">In the **File**/**Folder Permissions** window, select the **Read** and **Write** checkboxes for **contosouniversity.com** and click **Set Permissions**.</span></span>

<span data-ttu-id="3a19f-237">[![Cytanium_Control_Panel_File_Folder_Permissions_Elmah](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image39.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-237">[![Cytanium_Control_Panel_File_Folder_Permissions_Elmah](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image39.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image38.png)</span></span>

<span data-ttu-id="3a19f-238">Verificare che ELMAH disponga dell'accesso in scrittura alla cartella *ELMAH* causando un errore e quindi visualizzando la segnalazione errori ELMAH.</span><span class="sxs-lookup"><span data-stu-id="3a19f-238">Make sure that Elmah has write access to the *Elmah* folder by causing an error and then displaying the Elmah error report.</span></span> <span data-ttu-id="3a19f-239">Richiedere un URL non valido, ad esempio *Studentsxxx. aspx*.</span><span class="sxs-lookup"><span data-stu-id="3a19f-239">Request an invalid URL like *Studentsxxx.aspx*.</span></span> <span data-ttu-id="3a19f-240">Come in precedenza, viene visualizzata la pagina *pagina GenericErrorPage. aspx* .</span><span class="sxs-lookup"><span data-stu-id="3a19f-240">As before, you see the *GenericErrorPage.aspx* page.</span></span> <span data-ttu-id="3a19f-241">Fare clic sul collegamento **Disconnetti** , quindi eseguire *ELMAH. axd*.</span><span class="sxs-lookup"><span data-stu-id="3a19f-241">Click the **Log Out** link, and then run *Elmah.axd*.</span></span> <span data-ttu-id="3a19f-242">Si ottiene innanzitutto la pagina **di accesso** , che verifica che la trasformazione *Web. config* abbia aggiunto correttamente l'autorizzazione ELMAH.</span><span class="sxs-lookup"><span data-stu-id="3a19f-242">You get the **Log In** page first, which validates that the *Web.config* transform successfully added Elmah authorization.</span></span> <span data-ttu-id="3a19f-243">Dopo aver eseguito l'accesso, viene visualizzato il report in cui viene visualizzato l'errore appena generato.</span><span class="sxs-lookup"><span data-stu-id="3a19f-243">After you log in, you see the report that shows the error you just caused.</span></span>

<span data-ttu-id="3a19f-244">[![ELMAH. axd_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image41.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-244">[![Elmah.axd_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image41.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image40.png)</span></span>

## <a name="testing-in-the-production-environment"></a><span data-ttu-id="3a19f-245">Test nell'ambiente di produzione</span><span class="sxs-lookup"><span data-stu-id="3a19f-245">Testing in the Production Environment</span></span>

<span data-ttu-id="3a19f-246">Eseguire la pagina **students** .</span><span class="sxs-lookup"><span data-stu-id="3a19f-246">Run the **Students** page.</span></span> <span data-ttu-id="3a19f-247">L'applicazione tenta di accedere al database School per la prima volta, che attiva Migrazioni Code First per creare il database.</span><span class="sxs-lookup"><span data-stu-id="3a19f-247">The application tries to access the School database for the first time, which triggers Code First Migrations to create the database.</span></span> <span data-ttu-id="3a19f-248">Quando la pagina viene visualizzata dopo un breve intervallo di tempo, indica che non sono presenti studenti.</span><span class="sxs-lookup"><span data-stu-id="3a19f-248">When the page displays after a moment's delay, it shows that there are no students.</span></span>

<span data-ttu-id="3a19f-249">[![Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image43.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image42.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-249">[![Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image43.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image42.png)</span></span>

<span data-ttu-id="3a19f-250">Eseguire la pagina **insegnanti** per verificare che i dati di inizializzazione abbiano inserito correttamente i dati dell'insegnante nel database.</span><span class="sxs-lookup"><span data-stu-id="3a19f-250">Run the **Instructors** page to verify that the Seed data successfully inserted instructor data in the database.</span></span>

<span data-ttu-id="3a19f-251">[![Instructors_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image45.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-251">[![Instructors_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image45.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image44.png)</span></span>

<span data-ttu-id="3a19f-252">Come nel caso dell'ambiente di test, si desidera verificare che gli aggiornamenti del database funzionino nell'ambiente di produzione, ma in genere non si desidera immettere i dati di test nel database di produzione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-252">As you did in the test environment, you want to verify that database updates work in the production environment, but you typically do not want to enter test data into your production database.</span></span> <span data-ttu-id="3a19f-253">Per questa esercitazione si userà lo stesso metodo che è stato fatto in test.</span><span class="sxs-lookup"><span data-stu-id="3a19f-253">For this tutorial, you'll use the same method you did in test.</span></span> <span data-ttu-id="3a19f-254">In un'applicazione reale, tuttavia, potrebbe essere necessario trovare un metodo per la convalida dell'esito positivo degli aggiornamenti del database senza introdurre i dati di test nel database di produzione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-254">But in a real application you might want to find a method that validates that database updates are successful without introducing test data into the production database.</span></span> <span data-ttu-id="3a19f-255">In alcune applicazioni, potrebbe essere utile aggiungere qualcosa e quindi eliminarlo.</span><span class="sxs-lookup"><span data-stu-id="3a19f-255">In some applications, it might be practical to add something and then delete it.</span></span>

<span data-ttu-id="3a19f-256">Aggiungere uno studente e visualizzare i dati immessi nella pagina **students** per verificare che sia possibile aggiornare i dati nel database.</span><span class="sxs-lookup"><span data-stu-id="3a19f-256">Add a student and then view the data you entered in the **Students** page to verify that you can update data in the database.</span></span>

<span data-ttu-id="3a19f-257">[![Add_Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image47.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-257">[![Add_Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image47.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image46.png)</span></span>

<span data-ttu-id="3a19f-258">[![Students_page_with_new_student_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image49.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-258">[![Students_page_with_new_student_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image49.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image48.png)</span></span>

<span data-ttu-id="3a19f-259">Verificare che le regole di autorizzazione funzionino correttamente selezionando **Aggiorna crediti** dal menu **corsi** .</span><span class="sxs-lookup"><span data-stu-id="3a19f-259">Validate that authorization rules are working correctly by selecting **Update Credits** from the **Courses** menu.</span></span> <span data-ttu-id="3a19f-260">Verrà visualizzata la pagina **di accesso** .</span><span class="sxs-lookup"><span data-stu-id="3a19f-260">The **Log In** page is displayed.</span></span> <span data-ttu-id="3a19f-261">Immettere le credenziali dell'account amministratore, fare clic su **Accedi**. verrà visualizzata la pagina di **aggiornamento crediti** .</span><span class="sxs-lookup"><span data-stu-id="3a19f-261">Enter your administrator account credentials, click **Log In**, and the **Update Credits** page is displayed.</span></span>

<span data-ttu-id="3a19f-262">[![Log_In_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image51.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-262">[![Log_In_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image51.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image50.png)</span></span>

<span data-ttu-id="3a19f-263">Se l'accesso ha esito positivo, viene visualizzata la pagina di **aggiornamento crediti** .</span><span class="sxs-lookup"><span data-stu-id="3a19f-263">If login is successful, the **Update Credits** page is displayed.</span></span> <span data-ttu-id="3a19f-264">Ciò indica che il database di appartenenza ASP.NET (con l'account amministratore singolo) è stato distribuito correttamente.</span><span class="sxs-lookup"><span data-stu-id="3a19f-264">This indicates that the ASP.NET membership database (with the single administrator account) was successfully deployed.</span></span>

<span data-ttu-id="3a19f-265">[![Update_Credits_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image53.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="3a19f-265">[![Update_Credits_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image53.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image52.png)</span></span>

<span data-ttu-id="3a19f-266">Il sito è stato correttamente distribuito e testato ed è disponibile pubblicamente su Internet.</span><span class="sxs-lookup"><span data-stu-id="3a19f-266">You have now successfully deployed and tested your site and it is available publicly over the Internet.</span></span>

## <a name="creating-a-more-reliable-test-environment"></a><span data-ttu-id="3a19f-267">Creazione di un ambiente di test più affidabile</span><span class="sxs-lookup"><span data-stu-id="3a19f-267">Creating a More Reliable Test Environment</span></span>

<span data-ttu-id="3a19f-268">Come spiegato nell'esercitazione [distribuzione nell'ambiente di testing](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12.md) , l'ambiente di test più affidabile sarebbe un secondo account del provider di hosting che è analogo all'account di produzione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-268">As explained in the [Deploying to the Test Environment](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12.md) tutorial, the most reliable test environment would be a second account at the hosting provider that's just like the production account.</span></span> <span data-ttu-id="3a19f-269">Questa operazione sarebbe più costosa rispetto all'uso di IIS locale come ambiente di test, poiché sarebbe necessario iscriversi per un secondo account di hosting.</span><span class="sxs-lookup"><span data-stu-id="3a19f-269">This would be more expensive than using local IIS as your test environment, since you would have to sign up for a second hosting account.</span></span> <span data-ttu-id="3a19f-270">Tuttavia, se impedisce errori o interruzioni del sito di produzione, è possibile che si richiedano i costi.</span><span class="sxs-lookup"><span data-stu-id="3a19f-270">But if it prevents production site errors or outages, you might decide that it's worth the cost.</span></span>

<span data-ttu-id="3a19f-271">La maggior parte del processo di creazione e distribuzione in un account di test è simile a quanto già fatto per la distribuzione nell'ambiente di produzione:</span><span class="sxs-lookup"><span data-stu-id="3a19f-271">Most of the process for creating and deploying to a test account is similar to what you've already done to deploy to production:</span></span>

- <span data-ttu-id="3a19f-272">Creare un file di trasformazione di *Web. config* .</span><span class="sxs-lookup"><span data-stu-id="3a19f-272">Create a *Web.config* transformation file.</span></span>
- <span data-ttu-id="3a19f-273">Creare un account nel provider di hosting.</span><span class="sxs-lookup"><span data-stu-id="3a19f-273">Create an account at the hosting provider.</span></span>
- <span data-ttu-id="3a19f-274">Consente di creare un nuovo profilo di pubblicazione e di distribuirlo all'account di test.</span><span class="sxs-lookup"><span data-stu-id="3a19f-274">Create a new publish profile and deploy to the test account.</span></span>

### <a name="preventing-public-access-to-the-test-site"></a><span data-ttu-id="3a19f-275">Prevenzione dell'accesso pubblico al sito di test</span><span class="sxs-lookup"><span data-stu-id="3a19f-275">Preventing Public Access to the Test Site</span></span>

<span data-ttu-id="3a19f-276">Una considerazione importante per l'account di test è che sarà disponibile su Internet, ma non si vuole che il pubblico lo usi.</span><span class="sxs-lookup"><span data-stu-id="3a19f-276">An important consideration for the test account is that it will be live on the Internet, but you don't want the public to use it.</span></span> <span data-ttu-id="3a19f-277">Per rendere privato il sito, è possibile usare uno o più dei metodi seguenti:</span><span class="sxs-lookup"><span data-stu-id="3a19f-277">To keep the site private you can use one or more of the following methods:</span></span>

- <span data-ttu-id="3a19f-278">Contattare il provider di hosting per impostare le regole del firewall che consentono l'accesso al sito di testing solo da indirizzi IP usati per il testing.</span><span class="sxs-lookup"><span data-stu-id="3a19f-278">Contact the hosting provider to set firewall rules that allow access to the testing site only from IP addresses that you use for testing.</span></span>
- <span data-ttu-id="3a19f-279">Mascherare l'URL in modo che non sia simile all'URL del sito pubblico.</span><span class="sxs-lookup"><span data-stu-id="3a19f-279">Disguise the URL so that it is not similar to the public site's URL.</span></span>
- <span data-ttu-id="3a19f-280">Usare un file *robots. txt* per assicurarsi che i motori di ricerca non eseguiranno la ricerca per indicizzazione del sito di test e i collegamenti ai report nei risultati della ricerca.</span><span class="sxs-lookup"><span data-stu-id="3a19f-280">Use a *robots.txt* file to ensure that search engines will not crawl the test site and report links to it in search results.</span></span>

<span data-ttu-id="3a19f-281">Il primo di questi metodi è ovviamente il più sicuro, ma la procedura per è specifica di ogni provider di hosting e non verrà analizzata in questa esercitazione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-281">The first of these methods is obviously the most secure, but the procedure for that is specific to each hosting provider and will not be covered in this tutorial.</span></span> <span data-ttu-id="3a19f-282">Se si dispone del provider di hosting per consentire solo all'indirizzo IP di passare all'URL dell'account di test, in teoria non è necessario preoccuparsi dei motori di ricerca che eseguono la ricerca per indicizzazione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-282">If you do arrange with your hosting provider to allow only your IP address to browse to the test account URL, you theoretically don't have to worry about search engines crawling it.</span></span> <span data-ttu-id="3a19f-283">Tuttavia, anche in questo caso, la distribuzione di un file *robots. txt* è una scelta ideale come backup nel caso in cui la regola del firewall venga accidentalmente spenta.</span><span class="sxs-lookup"><span data-stu-id="3a19f-283">But even in that case, deploying a *robots.txt* file is a good idea as a backup in case that firewall rule is ever accidentally turned off.</span></span>

<span data-ttu-id="3a19f-284">Il file *robots. txt* viene inserito nella cartella del progetto e deve avere il testo seguente:</span><span class="sxs-lookup"><span data-stu-id="3a19f-284">The *robots.txt* file goes in your project folder and should have the following text in it:</span></span>

[!code-console[Main](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/samples/sample1.cmd)]

<span data-ttu-id="3a19f-285">La riga `User-agent` indica ai motori di ricerca che le regole del file si applicano a tutti i crawler web (robot) del motore di ricerca e la riga `Disallow` specifica che non deve essere eseguita la ricerca per indicizzazione nelle pagine del sito.</span><span class="sxs-lookup"><span data-stu-id="3a19f-285">The `User-agent` line tells search engines that the rules in the file apply to all search engine web crawlers (robots), and the `Disallow` line specifies that no pages on the site should be crawled.</span></span>

<span data-ttu-id="3a19f-286">Probabilmente si vuole che i motori di ricerca cataloghino il sito di produzione, quindi è necessario escludere questo file dalla distribuzione di produzione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-286">You probably do want search engines to catalog your production site, so you need to exclude this file from production deployment.</span></span> <span data-ttu-id="3a19f-287">A tale scopo, vedere è **possibile escludere cartelle o file specifici dalla distribuzione?** in [domande frequenti sulla distribuzione del progetto di applicazione Web ASP.NET](https://msdn.microsoft.com/library/ee942158.aspx#can_i_exclude_specific_files_or_folders_from_deployment).</span><span class="sxs-lookup"><span data-stu-id="3a19f-287">To do that, see **Can I exclude specific files or folders from deployment?** in [ASP.NET Web Application Project Deployment FAQ](https://msdn.microsoft.com/library/ee942158.aspx#can_i_exclude_specific_files_or_folders_from_deployment).</span></span> <span data-ttu-id="3a19f-288">Assicurarsi di specificare l'esclusione solo per il profilo di pubblicazione di produzione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-288">Make sure that you specify the exclusion only for the Production publish profile.</span></span>

<span data-ttu-id="3a19f-289">La creazione di un secondo account di hosting è un approccio all'utilizzo di un ambiente di test che non è necessario, ma potrebbe valere la spesa aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="3a19f-289">Creating a second hosting account is an approach to working with a test environment that is not required but might be worth the added expense.</span></span> <span data-ttu-id="3a19f-290">Nelle esercitazioni seguenti si continuerà a usare IIS come ambiente di test.</span><span class="sxs-lookup"><span data-stu-id="3a19f-290">In the following tutorials, you'll continue to use IIS as your test environment.</span></span>

<span data-ttu-id="3a19f-291">Nell'esercitazione successiva si aggiornerà il codice dell'applicazione e si distribuirà la modifica negli ambienti di test e di produzione.</span><span class="sxs-lookup"><span data-stu-id="3a19f-291">In the next tutorial, you'll update application code and deploy your change to the test and production environments.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="3a19f-292">[Precedente](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)
> [Successivo](deployment-to-a-hosting-provider-deploying-a-code-only-update-8-of-12.md)</span><span class="sxs-lookup"><span data-stu-id="3a19f-292">[Previous](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)
[Next](deployment-to-a-hosting-provider-deploying-a-code-only-update-8-of-12.md)</span></span>
