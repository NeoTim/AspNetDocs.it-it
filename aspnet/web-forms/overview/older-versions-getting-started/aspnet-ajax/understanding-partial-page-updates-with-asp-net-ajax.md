---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-partial-page-updates-with-asp-net-ajax
title: La comprensione di aggiornamenti parziali di pagine con ASP.NET AJAX | Microsoft Docs
author: scottcate
description: Probabilmente la caratteristica più visibile di ASP.NET AJAX Extensions è la possibilità di eseguire gli aggiornamenti di una pagina parziale o incrementale senza eseguire un postback completo a t...
ms.author: riande
ms.date: 03/28/2008
ms.assetid: 54d9df99-1161-4899-b4e8-2679c85915e7
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-partial-page-updates-with-asp-net-ajax
msc.type: authoredcontent
ms.openlocfilehash: d2d7982a4e0175824ffede965dc8206219485df2
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/17/2019
ms.locfileid: "59396473"
---
# <a name="understanding-partial-page-updates-with-aspnet-ajax"></a><span data-ttu-id="703f1-103">Informazioni sugli aggiornamenti parziali di pagine con ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="703f1-103">Understanding Partial Page Updates with ASP.NET AJAX</span></span>

<span data-ttu-id="703f1-104">da [Scott Cate](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="703f1-104">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="703f1-105">Scaricare PDF</span><span class="sxs-lookup"><span data-stu-id="703f1-105">Download PDF</span></span>](http://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial01_Partial_Page_Updates_cs.pdf)

> <span data-ttu-id="703f1-106">Probabilmente la caratteristica più visibile di ASP.NET AJAX Extensions è la possibilità di eseguire gli aggiornamenti di una pagina parziale o incrementale senza eseguire un postback completo al server, senza modifiche al codice e modifiche minime del markup.</span><span class="sxs-lookup"><span data-stu-id="703f1-106">Perhaps the most visible feature of the ASP.NET AJAX Extensions is the ability to do a partial or incremental page updates without doing a full postback to the server, with no code changes and minimal markup changes.</span></span> <span data-ttu-id="703f1-107">I vantaggi sono disponibili numerose: non viene modificato lo stato dei tuoi file multimediali (ad esempio Adobe Flash o supporti di Windows), vengono ridotti i costi della larghezza di banda e il client non prevede lo sfarfallio in genere associato a un postback.</span><span class="sxs-lookup"><span data-stu-id="703f1-107">The advantages are extensive – the state of your multimedia (such as Adobe Flash or Windows Media) is unchanged, bandwidth costs are reduced, and the client does not experience the flicker usually associated with a postback.</span></span>


## <a name="introduction"></a><span data-ttu-id="703f1-108">Introduzione</span><span class="sxs-lookup"><span data-stu-id="703f1-108">Introduction</span></span>

<span data-ttu-id="703f1-109">Tecnologia Microsoft per ASP.NET offre un modello di programmazione orientate a oggetti e guidati da eventi e si unisce i vantaggi del codice compilato.</span><span class="sxs-lookup"><span data-stu-id="703f1-109">Microsoft's ASP.NET technology brings an object-oriented and event-driven programming model and unites it with the benefits of compiled code.</span></span> <span data-ttu-id="703f1-110">Il modello di elaborazione sul lato server presenta tuttavia numerosi svantaggi intrinseci della tecnologia:</span><span class="sxs-lookup"><span data-stu-id="703f1-110">However, its server-side processing model has several drawbacks inherent in the technology:</span></span>

- <span data-ttu-id="703f1-111">Gli aggiornamenti a pagina richiedono un round trip al server, che richiede un aggiornamento della pagina.</span><span class="sxs-lookup"><span data-stu-id="703f1-111">Page updates require a round-trip to the server, which requires a page refresh.</span></span>
- <span data-ttu-id="703f1-112">Round trip non vengono mantenute qualsiasi effetto generato da Javascript o altre tecnologie lato client (ad esempio Adobe Flash)</span><span class="sxs-lookup"><span data-stu-id="703f1-112">Round-trips do not persist any effects generated by Javascript or other client-side technology (such as Adobe Flash)</span></span>
- <span data-ttu-id="703f1-113">Durante il postback browser diversi da Microsoft Internet Explorer non supportano il ripristino automatico della posizione di scorrimento.</span><span class="sxs-lookup"><span data-stu-id="703f1-113">During postback, browsers other than Microsoft Internet Explorer do not support automatically restoring the scroll position.</span></span> <span data-ttu-id="703f1-114">E anche in Internet Explorer, non esiste ancora uno sfarfallio come la pagina viene aggiornata.</span><span class="sxs-lookup"><span data-stu-id="703f1-114">And even in Internet Explorer, there is still a flicker as the page is refreshed.</span></span>
- <span data-ttu-id="703f1-115">Durante i postback possono comportare una quantità elevata di larghezza di banda come le \_ \_può raggiungere campo del form VIEWSTATE, soprattutto quando si usano controlli, ad esempio il controllo GridView o ripetitori.</span><span class="sxs-lookup"><span data-stu-id="703f1-115">Postbacks may involve a high amount of bandwidth as the \_\_VIEWSTATE form field may grow, especially when dealing with controls such as the GridView control or repeaters.</span></span>
- <span data-ttu-id="703f1-116">Non è disponibile alcun modello unificato per l'accesso ai servizi Web tramite JavaScript o altre tecnologie lato client.</span><span class="sxs-lookup"><span data-stu-id="703f1-116">There is no unified model for accessing Web Services through JavaScript or other client-side technology.</span></span>

<span data-ttu-id="703f1-117">Immettere le estensioni ASP.NET AJAX di Microsoft.</span><span class="sxs-lookup"><span data-stu-id="703f1-117">Enter Microsoft's ASP.NET AJAX extensions.</span></span> <span data-ttu-id="703f1-118">AJAX, acronimo di **un'** sincrono **J** avaScript **oggetto** nd **X** Machine Learning, è un framework integrato per fornire pagina incrementale gli aggiornamenti tramite JavaScript multipiattaforma, è costituito da codice lato server che include il Framework AJAX di Microsoft e un componente di script denominato Script Microsoft AJAX Library.</span><span class="sxs-lookup"><span data-stu-id="703f1-118">AJAX, which stands for **A** synchronous **J** avaScript **A** nd **X** ML, is an integrated framework for providing incremental page updates via cross-platform JavaScript, composed of server-side code comprising the Microsoft AJAX Framework, and a script component called the Microsoft AJAX Script Library.</span></span> <span data-ttu-id="703f1-119">Le estensioni ASP.NET AJAX forniscono anche supporto multipiattaforma per l'accesso ai servizi Web ASP.NET tramite JavaScript.</span><span class="sxs-lookup"><span data-stu-id="703f1-119">The ASP.NET AJAX extensions also provide cross-platform support for accessing ASP.NET Web Services via JavaScript.</span></span>

<span data-ttu-id="703f1-120">Questo white paper vengono esaminate le funzionalità di aggiornamenti parziali di pagine di ASP.NET AJAX Extensions, che include il componente ScriptManager, il controllo UpdatePanel e il controllo UpdateProgress e prende in considerazione gli scenari in cui deve o non deve essere utilizzata.</span><span class="sxs-lookup"><span data-stu-id="703f1-120">This whitepaper examines the partial page updates functionality of the ASP.NET AJAX Extensions, which includes the ScriptManager component, the UpdatePanel control, and the UpdateProgress control, and considers scenarios in which they should or should not be utilized.</span></span>

<span data-ttu-id="703f1-121">Questo white paper si basa sulla versione Beta 2 di Visual Studio 2008 e .NET Framework 3.5, che integra ASP.NET AJAX Extensions in libreria di classi Base (in cui era in precedenza un componente aggiuntivo disponibile per ASP.NET 2.0).</span><span class="sxs-lookup"><span data-stu-id="703f1-121">This whitepaper is based on the Beta 2 release of the Visual Studio 2008 and the .NET Framework 3.5, which integrates the ASP.NET AJAX Extensions into the Base Class Library (where it was previously an add-on component available for ASP.NET 2.0).</span></span> <span data-ttu-id="703f1-122">Questo white paper si suppone inoltre che si usa Visual Studio 2008 e non Visual Web Developer Express Edition; alcuni modelli di progetto a cui fanno riferimento potrebbero non essere disponibile per gli utenti di Visual Web Developer Express.</span><span class="sxs-lookup"><span data-stu-id="703f1-122">This whitepaper also assumes that you are using Visual Studio 2008 and not Visual Web Developer Express Edition; some project templates that are referenced may not be available to Visual Web Developer Express users.</span></span>

## <a name="partial-page-updates"></a><span data-ttu-id="703f1-123">Aggiornamenti parziali di pagine</span><span class="sxs-lookup"><span data-stu-id="703f1-123">Partial Page Updates</span></span>

<span data-ttu-id="703f1-124">Probabilmente la caratteristica più visibile di ASP.NET AJAX Extensions è la possibilità di eseguire gli aggiornamenti di una pagina parziale o incrementale senza eseguire un postback completo al server, senza modifiche al codice e modifiche minime del markup.</span><span class="sxs-lookup"><span data-stu-id="703f1-124">Perhaps the most visible feature of the ASP.NET AJAX Extensions is the ability to do a partial or incremental page updates without doing a full postback to the server, with no code changes and minimal markup changes.</span></span> <span data-ttu-id="703f1-125">I vantaggi sono disponibili numerose: non viene modificato lo stato dei tuoi file multimediali (ad esempio Adobe Flash o supporti di Windows), vengono ridotti i costi della larghezza di banda e il client non prevede lo sfarfallio in genere associato a un postback.</span><span class="sxs-lookup"><span data-stu-id="703f1-125">The advantages are extensive - the state of your multimedia (such as Adobe Flash or Windows Media) is unchanged, bandwidth costs are reduced, and the client does not experience the flicker usually associated with a postback.</span></span>

<span data-ttu-id="703f1-126">La capacità di rendering parziale della pagina di integrazione è integrata in ASP.NET con modifiche minime all'interno del progetto.</span><span class="sxs-lookup"><span data-stu-id="703f1-126">The ability to integrate partial page rendering is integrated into ASP.NET with minimal changes into your project.</span></span>

## <a name="walkthrough-integrating-partial-rendering-into-an-existing-project"></a><span data-ttu-id="703f1-127">Procedura dettagliata: L'integrazione di Rendering parziale in un progetto esistente</span><span class="sxs-lookup"><span data-stu-id="703f1-127">Walkthrough: Integrating Partial Rendering into an Existing Project</span></span>


1. <span data-ttu-id="703f1-128">In Microsoft Visual Studio 2008, creare un nuovo progetto di sito Web ASP.NET visitando <em>File</em>  <em>- &gt; New</em>  <em>- &gt; sito Web</em> e selezionando la finestra di dialogo sito Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="703f1-128">In Microsoft Visual Studio 2008, create a new ASP.NET Web Site project by going to <em>File</em><em>-&gt; New</em><em>-&gt; Web Site</em> and selecting ASP.NET Web Site from the dialog.</span></span> <span data-ttu-id="703f1-129">È possibile specificare un nome qualsiasi, e può installarla nel file System o in Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="703f1-129">You can name it whatever you like, and you may install it either to the file system or into Internet Information Services (IIS).</span></span>
2. <span data-ttu-id="703f1-130">Verrà visualizzata la pagina vuota predefinita con markup di base ASP.NET (un form lato server e un `@Page` (direttiva)).</span><span class="sxs-lookup"><span data-stu-id="703f1-130">You will be presented with the blank default page with basic ASP.NET markup (a server-side form and an `@Page` directive).</span></span> <span data-ttu-id="703f1-131">Eliminare un'etichetta denominata `Label1` e un pulsante denominato `Button1` nella pagina all'interno dell'elemento di formato.</span><span class="sxs-lookup"><span data-stu-id="703f1-131">Drop a Label called `Label1` and a Button called `Button1` onto the page within the form element.</span></span> <span data-ttu-id="703f1-132">È possibile impostare le relative proprietà di testo a proprio piacimento.</span><span class="sxs-lookup"><span data-stu-id="703f1-132">You may set their text properties to whatever you like.</span></span>
3. <span data-ttu-id="703f1-133">Nella visualizzazione Progettazione fare doppio clic su `Button1` per generare un gestore di eventi di code-behind.</span><span class="sxs-lookup"><span data-stu-id="703f1-133">In Design view, double-click `Button1` to generate a code-behind event handler.</span></span> <span data-ttu-id="703f1-134">All'interno di questo gestore eventi, impostare `Label1.Text` a è stato scelto il pulsante.</span><span class="sxs-lookup"><span data-stu-id="703f1-134">Within this event handler, set `Label1.Text` to You clicked the button!</span></span> <span data-ttu-id="703f1-135">.</span><span class="sxs-lookup"><span data-stu-id="703f1-135">.</span></span>

<span data-ttu-id="703f1-136">**Listato 1: Markup per default. aspx prima di abilitata il rendering parziale**</span><span class="sxs-lookup"><span data-stu-id="703f1-136">**Listing 1: Markup for default.aspx before partial rendering is enabled**</span></span>

[!code-aspx[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample1.aspx)]

<span data-ttu-id="703f1-137">**Listato 2: CodeBehind (tagliati) in default.aspx.cs**</span><span class="sxs-lookup"><span data-stu-id="703f1-137">**Listing 2: Codebehind (trimmed) in default.aspx.cs**</span></span>

[!code-csharp[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample2.cs)]

1. <span data-ttu-id="703f1-138">Premere F5 per avviare il sito web.</span><span class="sxs-lookup"><span data-stu-id="703f1-138">Press F5 to launch your web site.</span></span> <span data-ttu-id="703f1-139">Visual Studio chiederà di aggiungere un file Web. config per abilitare il debug; eseguire questa operazione.</span><span class="sxs-lookup"><span data-stu-id="703f1-139">Visual Studio will prompt you to add a web.config file to enable debugging; do so.</span></span> <span data-ttu-id="703f1-140">Quando si fa clic sul pulsante, si noti che la pagina viene aggiornata per modificare il testo nell'etichetta, e c'è uno sfarfallio breve perché la pagina viene ridisegnata.</span><span class="sxs-lookup"><span data-stu-id="703f1-140">When you click the button, notice that the page refreshes to change the text in the label, and there is a brief flicker as the page is redrawn.</span></span>
2. <span data-ttu-id="703f1-141">Dopo avere chiuso la finestra del browser, tornare a Visual Studio e alla pagina di markup.</span><span class="sxs-lookup"><span data-stu-id="703f1-141">After closing your browser window, return to Visual Studio and to the markup page.</span></span> <span data-ttu-id="703f1-142">Scorrere verso il basso nella casella degli strumenti di Visual Studio e trovare la scheda con etichettata AJAX Extensions.</span><span class="sxs-lookup"><span data-stu-id="703f1-142">Scroll down in the Visual Studio toolbox, and find the tab labeled AJAX Extensions.</span></span> <span data-ttu-id="703f1-143">(Se non è in questa scheda perché si sta usando una versione precedente delle estensioni AJAX o Atlas, fare riferimento alla procedura dettagliata per registrare gli elementi della casella degli strumenti AJAX Extensions più avanti in questo white paper oppure installare la versione corrente con il programma di installazione di Windows scaricabili dal sito Web).</span><span class="sxs-lookup"><span data-stu-id="703f1-143">(If you do not have this tab because you are using an older version of AJAX or Atlas extensions, refer to the walkthrough for registering the AJAX Extensions toolbox items later in this whitepaper, or install the current version with the Windows Installer downloadable from the website).</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image2.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image1.png)

<span data-ttu-id="703f1-144">([Fare clic per visualizzare l'immagine con dimensioni normali](understanding-partial-page-updates-with-asp-net-ajax/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="703f1-144">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image3.png))</span></span>


1. <span data-ttu-id="703f1-145"><em>Problema noto:</em>se si installa Visual Studio 2008 in un computer che dispone già di Visual Studio 2005 installato con ASP.NET 2.0 AJAX Extensions, Visual Studio 2008 verranno importati gli elementi della casella degli strumenti AJAX Extensions.</span><span class="sxs-lookup"><span data-stu-id="703f1-145"><em>Known Issue:</em>If you install Visual Studio 2008 onto a computer that already has Visual Studio 2005 installed with the ASP.NET 2.0 AJAX Extensions, Visual Studio 2008 will import the AJAX Extensions toolbox items.</span></span> <span data-ttu-id="703f1-146">È possibile determinare se questo è il caso, esaminare la descrizione comando; i componenti dice versione version=3.5.0.0.</span><span class="sxs-lookup"><span data-stu-id="703f1-146">You can determine whether this is the case by examining the tooltip of the components; they should say Version 3.5.0.0.</span></span> <span data-ttu-id="703f1-147">Se si dice versione 2.0.0.0, quindi aver importato gli elementi della casella degli strumenti precedenti e sarà necessario importare manualmente usando la finestra di dialogo Scegli elementi della casella degli strumenti in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="703f1-147">If they say Version 2.0.0.0, then you have imported your old toolbox items, and will need to manually import them by using the Choose Toolbox Items dialog in Visual Studio.</span></span> <span data-ttu-id="703f1-148">Non sarà possibile aggiungere controlli di versione 2 tramite la finestra di progettazione.</span><span class="sxs-lookup"><span data-stu-id="703f1-148">You will be unable to add Version 2 controls via the designer.</span></span>

2. <span data-ttu-id="703f1-149">Prima di `<asp:Label>` tag di inizio, creare una linea di spazi vuoti e fare doppio clic sul controllo UpdatePanel nella casella degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="703f1-149">Before the `<asp:Label>` tag begins, create a line of whitespace, and double-click on the UpdatePanel control in the toolbox.</span></span> <span data-ttu-id="703f1-150">Si noti che un nuovo `@Register` direttiva è inclusa nella parte superiore della pagina, che indica che i controlli all'interno dello spazio dei nomi System.Web.UI devono essere importati utilizzando il `asp:` prefisso.</span><span class="sxs-lookup"><span data-stu-id="703f1-150">Note that a new `@Register` directive is included at the top of the page, indicating that controls within the System.Web.UI namespace should be imported using the `asp:` prefix.</span></span>
3. <span data-ttu-id="703f1-151">Trascinare la chiusura `</asp:UpdatePanel>` tag oltre la fine dell'elemento Button, in modo che l'elemento è ben formata con i controlli Label e pulsante eseguito il wrapping.</span><span class="sxs-lookup"><span data-stu-id="703f1-151">Drag the closing `</asp:UpdatePanel>` tag past the end of the Button element, so that the element is well-formed with the Label and Button controls wrapped.</span></span>
4. <span data-ttu-id="703f1-152">Dopo l'apertura `<asp:UpdatePanel>` tag, iniziare un nuovo tag di apertura.</span><span class="sxs-lookup"><span data-stu-id="703f1-152">After the opening `<asp:UpdatePanel>` tag, begin opening a new tag.</span></span> <span data-ttu-id="703f1-153">Si noti che IntelliSense suggerisce due opzioni.</span><span class="sxs-lookup"><span data-stu-id="703f1-153">Note that IntelliSense prompts you with two options.</span></span> <span data-ttu-id="703f1-154">In questo caso, creare un `<ContentTemplate>` tag.</span><span class="sxs-lookup"><span data-stu-id="703f1-154">In this case, create a `<ContentTemplate>` tag.</span></span> <span data-ttu-id="703f1-155">Assicurarsi di eseguire il wrapping di questo tag di etichetta e un pulsante in modo che il markup è ben formato.</span><span class="sxs-lookup"><span data-stu-id="703f1-155">Be sure to wrap this tag around your Label and Button so that the markup is well-formed.</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image5.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image4.png)

<span data-ttu-id="703f1-156">([Fare clic per visualizzare l'immagine con dimensioni normali](understanding-partial-page-updates-with-asp-net-ajax/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="703f1-156">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image6.png))</span></span>


1. <span data-ttu-id="703f1-157">In un punto qualsiasi all'interno di `<form>` elemento, includono un controllo ScriptManager facendo doppio clic su di `ScriptManager` elemento della casella degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="703f1-157">Anywhere within the `<form>` element, include a ScriptManager control by double-clicking on the `ScriptManager` item in the toolbox.</span></span>
2. <span data-ttu-id="703f1-158">Modificare il `<asp:ScriptManager>` contrassegnare in modo che includa l'attributo `EnablePartialRendering= true`.</span><span class="sxs-lookup"><span data-stu-id="703f1-158">Edit the `<asp:ScriptManager>` tag so that it includes the attribute `EnablePartialRendering= true`.</span></span>

<span data-ttu-id="703f1-159">**Listato 3: Markup per default. aspx con il rendering parziale abilitato**</span><span class="sxs-lookup"><span data-stu-id="703f1-159">**Listing 3: Markup for default.aspx with partial rendering enabled**</span></span>

[!code-aspx[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample3.aspx)]

1. <span data-ttu-id="703f1-160">Aprire il file Web. config.</span><span class="sxs-lookup"><span data-stu-id="703f1-160">Open your web.config file.</span></span> <span data-ttu-id="703f1-161">Si noti che Visual Studio ha aggiunto automaticamente un riferimento di compilazione a System.Web.Extensions.dll.</span><span class="sxs-lookup"><span data-stu-id="703f1-161">Notice that Visual Studio has automatically added a compilation reference to System.Web.Extensions.dll.</span></span>

1. <span data-ttu-id="703f1-162">Quali sono le novità in Visual Studio 2008: Il file Web. config che viene fornito con il sito Web ASP.NET modelli di progetto automaticamente include tutti i riferimenti necessari per ASP.NET AJAX Extensions e impostata come commento le sezioni di informazioni di configurazione che può essere annullata impostata come commento per abilitare ulteriori funzionalità.</span><span class="sxs-lookup"><span data-stu-id="703f1-162">What's New in Visual Studio 2008: The web.config that comes with the ASP.NET Web Site project templates automatically includes all necessary references to the ASP.NET AJAX Extensions, and includes commented sections of configuration information that can be un-commented to enable additional functionality.</span></span> <span data-ttu-id="703f1-163">Visual Studio 2005 era modelli simili quando ASP.NET 2.0 AJAX Extensions sono stati installati.</span><span class="sxs-lookup"><span data-stu-id="703f1-163">Visual Studio 2005 had similar templates when ASP.NET 2.0 AJAX Extensions were installed.</span></span> <span data-ttu-id="703f1-164">In Visual Studio 2008, tuttavia, le estensioni AJAX sono opt-out per impostazione predefinita (vale a dire viene fatto riferimento per impostazione predefinita, ma può essere rimossa come riferimenti).</span><span class="sxs-lookup"><span data-stu-id="703f1-164">However, in Visual Studio 2008, the AJAX Extensions are opt-out by default (that is, they are referenced by default, but can be removed as references).</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image8.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image7.png)

<span data-ttu-id="703f1-165">([Fare clic per visualizzare l'immagine con dimensioni normali](understanding-partial-page-updates-with-asp-net-ajax/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="703f1-165">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image9.png))</span></span>


1. <span data-ttu-id="703f1-166">Premere F5 per avviare il sito Web.</span><span class="sxs-lookup"><span data-stu-id="703f1-166">Press F5 to launch your website.</span></span> <span data-ttu-id="703f1-167">Si noti come senza modifiche al codice sorgente sono stati necessari per supportare il rendering parziale è stato modificato solo il markup.</span><span class="sxs-lookup"><span data-stu-id="703f1-167">Note how no source code changes were required to support partial rendering - only markup was changed.</span></span>

<span data-ttu-id="703f1-168">Quando si avvia il sito Web, si dovrebbe vedere che il rendering parziale è ora abilitato, in quanto quando fa clic su pulsante presenti non sarà lo sfarfallio, né sarà disponibile qualsiasi modifica nella posizione di scorrimento della pagina (in questo esempio non illustra che).</span><span class="sxs-lookup"><span data-stu-id="703f1-168">When you launch your website, you should see that partial rendering is now enabled, because when you click on the button there will be no flicker, nor will there be any change in the page scroll position (this example does not demonstrate that).</span></span> <span data-ttu-id="703f1-169">Se si intende esaminare l'origine viene eseguito il rendering della pagina dopo aver fatto clic sul pulsante, confermerà che non si è verificato in effetti un post-back: il testo dell'etichetta originale è ancora parte di markup di origine e l'etichetta è stata modificata tramite JavaScript.</span><span class="sxs-lookup"><span data-stu-id="703f1-169">If you were to look at the rendered source of the page after clicking the button, it will confirm that in fact a post-back has not occurred - the original label text is still part of the source markup, and the label has changed through JavaScript.</span></span>

<span data-ttu-id="703f1-170">Visual Studio 2008 non è dotata di un modello predefinito per un sito web ASP.NET per AJAX.</span><span class="sxs-lookup"><span data-stu-id="703f1-170">Visual Studio 2008 does not appear to come with a pre-defined template for an ASP.NET AJAX-Enabled web site.</span></span> <span data-ttu-id="703f1-171">Tuttavia, tale modello era disponibile in Visual Studio 2005 se sono state installate di Visual Studio 2005 e ASP.NET 2.0 AJAX Extensions.</span><span class="sxs-lookup"><span data-stu-id="703f1-171">However, such a template was available within Visual Studio 2005 if the Visual Studio 2005 and ASP.NET 2.0 AJAX Extensions were installed.</span></span> <span data-ttu-id="703f1-172">Di conseguenza, la configurazione di un sito web e l'avvio con il modello sito Web compatibile con AJAX probabilmente sarà ancora più semplice, come il modello deve includere un file Web. config completamente configurato (supportano tutte le estensioni ASP.NET AJAX, incluso l'accesso a servizi Web e serializzazione JSON - JavaScript Object Notation) e include un UpdatePanel e l'elemento ContentTemplate all'interno della pagina Web Form principale, per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="703f1-172">Consequently, configuring a web site and starting with the AJAX-Enabled Web Site template will likely be even easier, as the template should include a fully-configured web.config file (supporting all of the ASP.NET AJAX Extensions, including Web Services access and JSON serialization - JavaScript Object Notation) and includes an UpdatePanel and ContentTemplate within the main Web Forms page by default.</span></span> <span data-ttu-id="703f1-173">L'abilitazione di rendering parziale con questa pagina predefinita è semplice come passaggio 10 della procedura dettagliata di aggiornamento ed eliminazione di controlli nella pagina.</span><span class="sxs-lookup"><span data-stu-id="703f1-173">Enabling partial rendering with this default page is as simple as revisiting Step 10 of this walkthrough and dropping controls onto the page.</span></span>

## <a name="the-scriptmanager-control"></a><span data-ttu-id="703f1-174">Il controllo ScriptManager</span><span class="sxs-lookup"><span data-stu-id="703f1-174">The ScriptManager Control</span></span>

## <a name="scriptmanager-control-reference"></a><span data-ttu-id="703f1-175">Riferimento al controllo ScriptManager</span><span class="sxs-lookup"><span data-stu-id="703f1-175">ScriptManager Control Reference</span></span>

<span data-ttu-id="703f1-176">Proprietà del markup abilitati:</span><span class="sxs-lookup"><span data-stu-id="703f1-176">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="703f1-177">**Nome proprietà**</span><span class="sxs-lookup"><span data-stu-id="703f1-177">**Property Name**</span></span> | <span data-ttu-id="703f1-178">**Type**</span><span class="sxs-lookup"><span data-stu-id="703f1-178">**Type**</span></span> | <span data-ttu-id="703f1-179">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="703f1-179">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="703f1-180">AllowCustomErrors-Redirect</span><span class="sxs-lookup"><span data-stu-id="703f1-180">AllowCustomErrors-Redirect</span></span> | <span data-ttu-id="703f1-181">Bool</span><span class="sxs-lookup"><span data-stu-id="703f1-181">Bool</span></span> | <span data-ttu-id="703f1-182">Specifica se usare la sezione degli errori personalizzati del file Web. config per la gestione degli errori.</span><span class="sxs-lookup"><span data-stu-id="703f1-182">Specifies whether to use the custom error section of the web.config file to handle errors.</span></span> |
| <span data-ttu-id="703f1-183">AsyncPostBackError-Message</span><span class="sxs-lookup"><span data-stu-id="703f1-183">AsyncPostBackError-Message</span></span> | <span data-ttu-id="703f1-184">Stringa</span><span class="sxs-lookup"><span data-stu-id="703f1-184">String</span></span> | <span data-ttu-id="703f1-185">Ottiene o imposta il messaggio di errore inviato al client se viene generato un errore.</span><span class="sxs-lookup"><span data-stu-id="703f1-185">Gets or sets the error message sent to the client if an error is raised.</span></span> |
| <span data-ttu-id="703f1-186">AsyncPostBack-Timeout</span><span class="sxs-lookup"><span data-stu-id="703f1-186">AsyncPostBack-Timeout</span></span> | <span data-ttu-id="703f1-187">Int32</span><span class="sxs-lookup"><span data-stu-id="703f1-187">Int32</span></span> | <span data-ttu-id="703f1-188">Ottiene o imposta la quantità predefinita di un'ora che un client deve attendere il completamento della richiesta asincrona.</span><span class="sxs-lookup"><span data-stu-id="703f1-188">Gets or sets the default amount of a time a client should wait for the asynchronous request to complete.</span></span> |
| <span data-ttu-id="703f1-189">EnableScript-Globalization</span><span class="sxs-lookup"><span data-stu-id="703f1-189">EnableScript-Globalization</span></span> | <span data-ttu-id="703f1-190">Bool</span><span class="sxs-lookup"><span data-stu-id="703f1-190">Bool</span></span> | <span data-ttu-id="703f1-191">Ottiene o imposta l'attivazione della globalizzazione di script.</span><span class="sxs-lookup"><span data-stu-id="703f1-191">Gets or sets whether script globalization is enabled.</span></span> |
| <span data-ttu-id="703f1-192">EnableScript-Localization</span><span class="sxs-lookup"><span data-stu-id="703f1-192">EnableScript-Localization</span></span> | <span data-ttu-id="703f1-193">Bool</span><span class="sxs-lookup"><span data-stu-id="703f1-193">Bool</span></span> | <span data-ttu-id="703f1-194">Ottiene o imposta se la localizzazione dello script è abilitata.</span><span class="sxs-lookup"><span data-stu-id="703f1-194">Gets or sets whether script localization is enabled.</span></span> |
| <span data-ttu-id="703f1-195">ScriptLoadTimeout</span><span class="sxs-lookup"><span data-stu-id="703f1-195">ScriptLoadTimeout</span></span> | <span data-ttu-id="703f1-196">Int32</span><span class="sxs-lookup"><span data-stu-id="703f1-196">Int32</span></span> | <span data-ttu-id="703f1-197">Determina il numero di secondi consentito per il caricamento di script nel client</span><span class="sxs-lookup"><span data-stu-id="703f1-197">Determines the number of seconds allowed for loading scripts into the client</span></span> |
| <span data-ttu-id="703f1-198">ScriptMode</span><span class="sxs-lookup"><span data-stu-id="703f1-198">ScriptMode</span></span> | <span data-ttu-id="703f1-199">Enum (Auto, eseguire il Debug, versione, eredita)</span><span class="sxs-lookup"><span data-stu-id="703f1-199">Enum (Auto, Debug, Release, Inherit)</span></span> | <span data-ttu-id="703f1-200">Ottiene o imposta se eseguire il rendering delle versioni degli script</span><span class="sxs-lookup"><span data-stu-id="703f1-200">Gets or sets whether to render release versions of scripts</span></span> |
| <span data-ttu-id="703f1-201">ScriptPath</span><span class="sxs-lookup"><span data-stu-id="703f1-201">ScriptPath</span></span> | <span data-ttu-id="703f1-202">Stringa</span><span class="sxs-lookup"><span data-stu-id="703f1-202">String</span></span> | <span data-ttu-id="703f1-203">Ottiene o imposta il percorso radice per il percorso dei file di script da inviare al client.</span><span class="sxs-lookup"><span data-stu-id="703f1-203">Gets or sets the root path to the location of script files to be sent to the client.</span></span> |

<span data-ttu-id="703f1-204">Proprietà di solo codice:</span><span class="sxs-lookup"><span data-stu-id="703f1-204">Code-Only Properties:</span></span>

| <span data-ttu-id="703f1-205">**Nome proprietà**</span><span class="sxs-lookup"><span data-stu-id="703f1-205">**Property Name**</span></span> | <span data-ttu-id="703f1-206">**Type**</span><span class="sxs-lookup"><span data-stu-id="703f1-206">**Type**</span></span> | <span data-ttu-id="703f1-207">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="703f1-207">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="703f1-208">AuthenticationService</span><span class="sxs-lookup"><span data-stu-id="703f1-208">AuthenticationService</span></span> | <span data-ttu-id="703f1-209">AuthenticationService-Manager</span><span class="sxs-lookup"><span data-stu-id="703f1-209">AuthenticationService-Manager</span></span> | <span data-ttu-id="703f1-210">Ottiene informazioni dettagliate su proxy del servizio di autenticazione ASP.NET che verrà inviato al client.</span><span class="sxs-lookup"><span data-stu-id="703f1-210">Gets details about the ASP.NET Authentication Service proxy that will be sent to the client.</span></span> |
| <span data-ttu-id="703f1-211">IsDebuggingEnabled</span><span class="sxs-lookup"><span data-stu-id="703f1-211">IsDebuggingEnabled</span></span> | <span data-ttu-id="703f1-212">Bool</span><span class="sxs-lookup"><span data-stu-id="703f1-212">Bool</span></span> | <span data-ttu-id="703f1-213">Ottiene se creare script e il debug del codice è abilitata.</span><span class="sxs-lookup"><span data-stu-id="703f1-213">Gets whether script and code debugging is enabled.</span></span> |
| <span data-ttu-id="703f1-214">IsInAsyncPostback</span><span class="sxs-lookup"><span data-stu-id="703f1-214">IsInAsyncPostback</span></span> | <span data-ttu-id="703f1-215">Bool</span><span class="sxs-lookup"><span data-stu-id="703f1-215">Bool</span></span> | <span data-ttu-id="703f1-216">Indica se la pagina è attualmente in una richiesta di postback asincrona.</span><span class="sxs-lookup"><span data-stu-id="703f1-216">Gets whether the page is currently in an asynchronous post back request.</span></span> |
| <span data-ttu-id="703f1-217">ProfileService</span><span class="sxs-lookup"><span data-stu-id="703f1-217">ProfileService</span></span> | <span data-ttu-id="703f1-218">ProfileService-Manager</span><span class="sxs-lookup"><span data-stu-id="703f1-218">ProfileService-Manager</span></span> | <span data-ttu-id="703f1-219">Ottiene informazioni dettagliate su proxy del servizio di profilatura ASP.NET che verrà inviato al client.</span><span class="sxs-lookup"><span data-stu-id="703f1-219">Gets details about the ASP.NET Profiling Service proxy that will be sent to the client.</span></span> |
| <span data-ttu-id="703f1-220">Script</span><span class="sxs-lookup"><span data-stu-id="703f1-220">Scripts</span></span> | <span data-ttu-id="703f1-221">Raccolta&lt;Script-Reference&gt;</span><span class="sxs-lookup"><span data-stu-id="703f1-221">Collection&lt;Script-Reference&gt;</span></span> | <span data-ttu-id="703f1-222">Ottiene una raccolta di riferimenti a script che verrà inviato al client.</span><span class="sxs-lookup"><span data-stu-id="703f1-222">Gets a collection of script references that will be sent to the client.</span></span> |
| <span data-ttu-id="703f1-223">Servizi</span><span class="sxs-lookup"><span data-stu-id="703f1-223">Services</span></span> | <span data-ttu-id="703f1-224">Raccolta&lt;riferimento al servizio&gt;</span><span class="sxs-lookup"><span data-stu-id="703f1-224">Collection&lt;Service-Reference&gt;</span></span> | <span data-ttu-id="703f1-225">Ottiene una raccolta di riferimenti Web al servizio proxy che verrà inviato al client.</span><span class="sxs-lookup"><span data-stu-id="703f1-225">Gets a collection of Web Service proxy references that will be sent to the client.</span></span> |
| <span data-ttu-id="703f1-226">SupportsPartialRendering</span><span class="sxs-lookup"><span data-stu-id="703f1-226">SupportsPartialRendering</span></span> | <span data-ttu-id="703f1-227">Bool</span><span class="sxs-lookup"><span data-stu-id="703f1-227">Bool</span></span> | <span data-ttu-id="703f1-228">Indica se il client corrente supporta il rendering parziale.</span><span class="sxs-lookup"><span data-stu-id="703f1-228">Gets whether the current client supports partial rendering.</span></span> <span data-ttu-id="703f1-229">Se questa proprietà restituisce **false**, tutte le richieste di pagina verranno utilizzato come standard durante i postback.</span><span class="sxs-lookup"><span data-stu-id="703f1-229">If this property returns **false**, then all page requests will be standard postbacks.</span></span> |

<span data-ttu-id="703f1-230">Metodi pubblici di codice:</span><span class="sxs-lookup"><span data-stu-id="703f1-230">Public Code Methods:</span></span>

| <span data-ttu-id="703f1-231">**Nome del metodo**</span><span class="sxs-lookup"><span data-stu-id="703f1-231">**Method Name**</span></span> | <span data-ttu-id="703f1-232">**Type**</span><span class="sxs-lookup"><span data-stu-id="703f1-232">**Type**</span></span> | <span data-ttu-id="703f1-233">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="703f1-233">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="703f1-234">SetFocus(string)</span><span class="sxs-lookup"><span data-stu-id="703f1-234">SetFocus(string)</span></span> | <span data-ttu-id="703f1-235">Void</span><span class="sxs-lookup"><span data-stu-id="703f1-235">Void</span></span> | <span data-ttu-id="703f1-236">Imposta lo stato attivo del client a un particolare controllo quando la richiesta è stata completata.</span><span class="sxs-lookup"><span data-stu-id="703f1-236">Sets the focus of the client to a particular control when the request has completed.</span></span> |

<span data-ttu-id="703f1-237">Discendenti di markup:</span><span class="sxs-lookup"><span data-stu-id="703f1-237">Markup Descendants:</span></span>

| <span data-ttu-id="703f1-238">**Tag**</span><span class="sxs-lookup"><span data-stu-id="703f1-238">**Tag**</span></span> | <span data-ttu-id="703f1-239">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="703f1-239">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="703f1-240">&lt;AuthenticationService&gt;</span><span class="sxs-lookup"><span data-stu-id="703f1-240">&lt;AuthenticationService&gt;</span></span> | <span data-ttu-id="703f1-241">Fornisce informazioni dettagliate su proxy per il servizio di autenticazione ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="703f1-241">Provides details about the proxy to the ASP.NET authentication service.</span></span> |
| <span data-ttu-id="703f1-242">&lt;ProfileService&gt;</span><span class="sxs-lookup"><span data-stu-id="703f1-242">&lt;ProfileService&gt;</span></span> | <span data-ttu-id="703f1-243">Fornisce i dettagli relativi al proxy per il servizio di profilatura ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="703f1-243">Provides details about the proxy to the ASP.NET profiling service.</span></span> |
| <span data-ttu-id="703f1-244">&lt;Script&gt;</span><span class="sxs-lookup"><span data-stu-id="703f1-244">&lt;Scripts&gt;</span></span> | <span data-ttu-id="703f1-245">Vengono forniti i riferimenti di script aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="703f1-245">Provides additional script references.</span></span> |
| <span data-ttu-id="703f1-246">&lt;asp:ScriptReference&gt;</span><span class="sxs-lookup"><span data-stu-id="703f1-246">&lt;asp:ScriptReference&gt;</span></span> | <span data-ttu-id="703f1-247">Indica un riferimento a script specifici.</span><span class="sxs-lookup"><span data-stu-id="703f1-247">Denotes a specific script reference.</span></span> |
| <span data-ttu-id="703f1-248">&lt;Service&gt;</span><span class="sxs-lookup"><span data-stu-id="703f1-248">&lt;Service&gt;</span></span> | <span data-ttu-id="703f1-249">Fornisce ulteriori riferimenti al servizio Web che conterrà le classi proxy generate.</span><span class="sxs-lookup"><span data-stu-id="703f1-249">Provides additional Web Service references which will have proxy classes generated.</span></span> |
| <span data-ttu-id="703f1-250">&lt;asp:ServiceReference&gt;</span><span class="sxs-lookup"><span data-stu-id="703f1-250">&lt;asp:ServiceReference&gt;</span></span> | <span data-ttu-id="703f1-251">Indica un riferimento al servizio Web specifico.</span><span class="sxs-lookup"><span data-stu-id="703f1-251">Denotes a specific Web Service reference.</span></span> |

<span data-ttu-id="703f1-252">Il controllo ScriptManager è la base essenziale per ASP.NET AJAX Extensions.</span><span class="sxs-lookup"><span data-stu-id="703f1-252">The ScriptManager control is the essential core for the ASP.NET AJAX Extensions.</span></span> <span data-ttu-id="703f1-253">Fornisce l'accesso alla libreria di script (incluso il sistema di tipo completo dello script lato client), supporta il rendering parziale e fornisce supporto completo per i servizi ASP.NET aggiuntivi (ad esempio, l'autenticazione e di profilatura, ma anche altri servizi Web).</span><span class="sxs-lookup"><span data-stu-id="703f1-253">It provides access to the script library (including the extensive client-side script type system), supports partial rendering, and provides extensive support for additional ASP.NET services (such as authentication and profiling, but also other Web Services).</span></span> <span data-ttu-id="703f1-254">Il controllo ScriptManager fornisce anche il supporto di globalizzazione e localizzazione per gli script client.</span><span class="sxs-lookup"><span data-stu-id="703f1-254">The ScriptManager control also provides globalization and localization support for the client scripts.</span></span>

## <a name="providing-alternative-and-supplemental-scripts"></a><span data-ttu-id="703f1-255">Funzionalità offre script alternativi e supplementare</span><span class="sxs-lookup"><span data-stu-id="703f1-255">Providing Alternative and Supplemental Scripts</span></span>

<span data-ttu-id="703f1-256">Mentre Microsoft ASP.NET 2.0 AJAX Extensions è incluso il codice intero script in entrambe le modalità di debug e rilascio edizioni come risorse incorporate nell'assembly di riferimento, gli sviluppatori sono liberi di reindirizzare ScriptManager in file di script personalizzati, nonché registrare script aggiuntivi necessari.</span><span class="sxs-lookup"><span data-stu-id="703f1-256">While the Microsoft ASP.NET 2.0 AJAX Extensions include the entire script code in both debug and release editions as resources embedded in the referenced assemblies, developers are free to redirect the ScriptManager to customized script files, as well as register additional necessary scripts.</span></span>

<span data-ttu-id="703f1-257">Per eseguire l'override l'associazione predefinita per gli script inclusi in genere (ad esempio quelli che supportano lo spazio dei nomi Sys. WebForms e il sistema di tipizzazione personalizzato), è possibile registrarsi per il `ResolveScriptReference` eventi della classe ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="703f1-257">To override the default binding for the typically-included scripts (such as those which support the Sys.WebForms namespace and the custom typing system), you can register for the `ResolveScriptReference` event of the ScriptManager class.</span></span> <span data-ttu-id="703f1-258">Quando questo metodo viene chiamato, il gestore dell'evento ha la possibilità di modificare il percorso del file di script in questione. lo script manager invierà quindi una copia diversa o personalizzata degli script al client.</span><span class="sxs-lookup"><span data-stu-id="703f1-258">When this method is called, the event handler has the opportunity to change the path to the script file in question; the script manager will then send a different or customized copy of the scripts to the client.</span></span>

<span data-ttu-id="703f1-259">Inoltre, i riferimenti agli script (rappresentato dal `ScriptReference` classe) può essere incluso a livello di codice o tramite markup.</span><span class="sxs-lookup"><span data-stu-id="703f1-259">Additionally, script references (represented by the `ScriptReference` class) can be included programmatically or via markup.</span></span> <span data-ttu-id="703f1-260">A tale scopo, a livello di codice modificare la `ScriptManager.Scripts` insieme, o includere `<asp:ScriptReference>` tag sotto il `<Scripts>` tag, che è un figlio di primo livello del controllo ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="703f1-260">To do so, either programmatically modify the `ScriptManager.Scripts` collection, or include `<asp:ScriptReference>` tags under the `<Scripts>` tag, which is a first-level child of the ScriptManager control.</span></span>

## <a name="custom-error-handling-for-updatepanels"></a><span data-ttu-id="703f1-261">Personalizzata degli errori per UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="703f1-261">Custom Error Handling for UpdatePanels</span></span>

<span data-ttu-id="703f1-262">Anche se gli aggiornamenti vengono gestiti dai trigger specificato da tutti i controlli UpdatePanel, il supporto per la gestione degli errori e messaggi di errore personalizzato viene gestito dall'istanza del controllo ScriptManager della pagina.</span><span class="sxs-lookup"><span data-stu-id="703f1-262">Although updates are handled by triggers specified by UpdatePanel controls, the support for error handling and custom error messages is handled by a page's ScriptManager control instance.</span></span> <span data-ttu-id="703f1-263">Questa operazione viene eseguita tramite l'esposizione di un evento, `AsyncPostBackError`, alla pagina che può quindi fornire la logica di gestione delle eccezioni personalizzata.</span><span class="sxs-lookup"><span data-stu-id="703f1-263">This is done by exposing an event, `AsyncPostBackError`, to the page which can then provide custom exception-handling logic.</span></span>

<span data-ttu-id="703f1-264">Utilizzando l'evento AsyncPostBackError, è possibile specificare il `AsyncPostBackErrorMessage` proprietà, causando quindi una finestra di avviso da generare dopo il completamento del callback.</span><span class="sxs-lookup"><span data-stu-id="703f1-264">By consuming the AsyncPostBackError event, you may specify the `AsyncPostBackErrorMessage` property, which then causes an alert box to be raised upon completion of the callback.</span></span>

<span data-ttu-id="703f1-265">Personalizzazione lato client è anche possibile invece di usare la finestra di avviso predefinito; ad esempio, è possibile visualizzare un oggetto personalizzato `<div>` elemento anziché il dialogo modale browser predefinito.</span><span class="sxs-lookup"><span data-stu-id="703f1-265">Client-side customization is also possible instead of using the default alert box; for instance, you may want to display a customized `<div>` element rather than the default browser modal dialog.</span></span> <span data-ttu-id="703f1-266">In questo caso, è possibile gestire l'errore nello script client:</span><span class="sxs-lookup"><span data-stu-id="703f1-266">In this case, you can handle the error in client script:</span></span>

<span data-ttu-id="703f1-267">**Listato 5: Script sul lato client per visualizzare gli errori personalizzati**</span><span class="sxs-lookup"><span data-stu-id="703f1-267">**Listing 5: Client-side script to display custom errors**</span></span>

[!code-html[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample4.html)]

<span data-ttu-id="703f1-268">In parole povere, lo script precedente registra un callback con il runtime di AJAX lato client per quando è stata completata la richiesta asincrona.</span><span class="sxs-lookup"><span data-stu-id="703f1-268">Quite simply, the above script registers a callback with the client-side AJAX runtime for when the asynchronous request has been completed.</span></span> <span data-ttu-id="703f1-269">Verifica per vedere se è stato segnalato un errore, quindi e in questo caso, elabora i dettagli di esso infine che indica al runtime che l'errore è stato gestito in uno script personalizzato.</span><span class="sxs-lookup"><span data-stu-id="703f1-269">It then checks to see whether an error was reported, and if so, processes the details of it, finally indicating to the runtime that the error was handled in custom script.</span></span>

## <a name="globalization-and-localization-support"></a><span data-ttu-id="703f1-270">Supporto di localizzazione e globalizzazione</span><span class="sxs-lookup"><span data-stu-id="703f1-270">Globalization and Localization Support</span></span>

<span data-ttu-id="703f1-271">Il controllo ScriptManager offre ampio supporto per la localizzazione di stringhe dello script e i componenti dell'interfaccia utente; Tuttavia, tale argomento è all'esterno dell'ambito di questo white paper.</span><span class="sxs-lookup"><span data-stu-id="703f1-271">The ScriptManager control provides extensive support for localization of script strings and user interface components; however, that topic is outside of the scope of this whitepaper.</span></span> <span data-ttu-id="703f1-272">Per altre informazioni, vedere il white paper, supporto di globalizzazione in ASP.NET AJAX Extensions.</span><span class="sxs-lookup"><span data-stu-id="703f1-272">For more information, see the whitepaper, Globalization Support in ASP.NET AJAX Extensions.</span></span>

## <a name="the-updatepanel-control"></a><span data-ttu-id="703f1-273">Il controllo UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="703f1-273">The UpdatePanel Control</span></span>

## <a name="updatepanel-control-reference"></a><span data-ttu-id="703f1-274">Riferimento al controllo UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="703f1-274">UpdatePanel Control Reference</span></span>

<span data-ttu-id="703f1-275">Proprietà del markup abilitati:</span><span class="sxs-lookup"><span data-stu-id="703f1-275">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="703f1-276">**Nome proprietà**</span><span class="sxs-lookup"><span data-stu-id="703f1-276">**Property Name**</span></span> | <span data-ttu-id="703f1-277">**Type**</span><span class="sxs-lookup"><span data-stu-id="703f1-277">**Type**</span></span> | <span data-ttu-id="703f1-278">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="703f1-278">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="703f1-279">ChildrenAsTriggers</span><span class="sxs-lookup"><span data-stu-id="703f1-279">ChildrenAsTriggers</span></span> | <span data-ttu-id="703f1-280">bool</span><span class="sxs-lookup"><span data-stu-id="703f1-280">bool</span></span> | <span data-ttu-id="703f1-281">Specifica se i controlli figlio richiamano automaticamente l'aggiornamento nel postback.</span><span class="sxs-lookup"><span data-stu-id="703f1-281">Specifies whether child controls automatically invoke refresh on postback.</span></span> |
| <span data-ttu-id="703f1-282">RenderMode</span><span class="sxs-lookup"><span data-stu-id="703f1-282">RenderMode</span></span> | <span data-ttu-id="703f1-283">enum (blocco, in linea)</span><span class="sxs-lookup"><span data-stu-id="703f1-283">enum (Block, Inline)</span></span> | <span data-ttu-id="703f1-284">Specifica che il modo il contenuto verrà visualizzato in modo visivo.</span><span class="sxs-lookup"><span data-stu-id="703f1-284">Specifies the way the content will be visually presented.</span></span> |
| <span data-ttu-id="703f1-285">UpdateMode</span><span class="sxs-lookup"><span data-stu-id="703f1-285">UpdateMode</span></span> | <span data-ttu-id="703f1-286">enum (Always, condizionale)</span><span class="sxs-lookup"><span data-stu-id="703f1-286">enum (Always, Conditional)</span></span> | <span data-ttu-id="703f1-287">Specifica se UpdatePanel è sempre aggiornato durante un rendering parziale o se si viene aggiornato solo quando viene raggiunto un trigger.</span><span class="sxs-lookup"><span data-stu-id="703f1-287">Specifies whether the UpdatePanel is always refreshed during a partial render or if it is only refreshed when a trigger is hit.</span></span> |

<span data-ttu-id="703f1-288">Proprietà di solo codice:</span><span class="sxs-lookup"><span data-stu-id="703f1-288">Code-Only Properties:</span></span>

| <span data-ttu-id="703f1-289">**Nome proprietà**</span><span class="sxs-lookup"><span data-stu-id="703f1-289">**Property Name**</span></span> | <span data-ttu-id="703f1-290">**Type**</span><span class="sxs-lookup"><span data-stu-id="703f1-290">**Type**</span></span> | <span data-ttu-id="703f1-291">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="703f1-291">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="703f1-292">IsInPartialRendering</span><span class="sxs-lookup"><span data-stu-id="703f1-292">IsInPartialRendering</span></span> | <span data-ttu-id="703f1-293">bool</span><span class="sxs-lookup"><span data-stu-id="703f1-293">bool</span></span> | <span data-ttu-id="703f1-294">Determina se UpdatePanel è il supporto per il rendering parziale per la richiesta corrente.</span><span class="sxs-lookup"><span data-stu-id="703f1-294">Gets whether the UpdatePanel is supporting partial rendering for the current request.</span></span> |
| <span data-ttu-id="703f1-295">ContentTemplate</span><span class="sxs-lookup"><span data-stu-id="703f1-295">ContentTemplate</span></span> | <span data-ttu-id="703f1-296">ITemplate</span><span class="sxs-lookup"><span data-stu-id="703f1-296">ITemplate</span></span> | <span data-ttu-id="703f1-297">Ottiene il modello di markup per la richiesta di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="703f1-297">Gets the markup template for the update request.</span></span> |
| <span data-ttu-id="703f1-298">ContentTemplateContainer</span><span class="sxs-lookup"><span data-stu-id="703f1-298">ContentTemplateContainer</span></span> | <span data-ttu-id="703f1-299">Control</span><span class="sxs-lookup"><span data-stu-id="703f1-299">Control</span></span> | <span data-ttu-id="703f1-300">Ottiene il modello a livello di codice per la richiesta di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="703f1-300">Gets the programmatic template for the update request.</span></span> |
| <span data-ttu-id="703f1-301">Trigger</span><span class="sxs-lookup"><span data-stu-id="703f1-301">Triggers</span></span> | <span data-ttu-id="703f1-302">UpdatePanel - TriggerCollection</span><span class="sxs-lookup"><span data-stu-id="703f1-302">UpdatePanel- TriggerCollection</span></span> | <span data-ttu-id="703f1-303">Ottiene l'elenco dei trigger associati UpdatePanel corrente.</span><span class="sxs-lookup"><span data-stu-id="703f1-303">Gets the list of triggers associated with the current UpdatePanel.</span></span> |

<span data-ttu-id="703f1-304">Metodi pubblici di codice:</span><span class="sxs-lookup"><span data-stu-id="703f1-304">Public Code Methods:</span></span>

| <span data-ttu-id="703f1-305">**Nome del metodo**</span><span class="sxs-lookup"><span data-stu-id="703f1-305">**Method Name**</span></span> | <span data-ttu-id="703f1-306">**Type**</span><span class="sxs-lookup"><span data-stu-id="703f1-306">**Type**</span></span> | <span data-ttu-id="703f1-307">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="703f1-307">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="703f1-308">Update()</span><span class="sxs-lookup"><span data-stu-id="703f1-308">Update()</span></span> | <span data-ttu-id="703f1-309">Void</span><span class="sxs-lookup"><span data-stu-id="703f1-309">Void</span></span> | <span data-ttu-id="703f1-310">Aggiorna UpdatePanel specificato a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="703f1-310">Updates the specified UpdatePanel programmatically.</span></span> <span data-ttu-id="703f1-311">Consente a una richiesta di server attivare un rendering parziale di un UpdatePanel in caso contrario,-senza trigger.</span><span class="sxs-lookup"><span data-stu-id="703f1-311">Allows a server request to trigger a partial render of an otherwise-untriggered UpdatePanel.</span></span> |

<span data-ttu-id="703f1-312">Discendenti di markup:</span><span class="sxs-lookup"><span data-stu-id="703f1-312">Markup Descendants:</span></span>

| <span data-ttu-id="703f1-313">**Tag**</span><span class="sxs-lookup"><span data-stu-id="703f1-313">**Tag**</span></span> | <span data-ttu-id="703f1-314">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="703f1-314">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="703f1-315">&lt;ContentTemplate&gt;</span><span class="sxs-lookup"><span data-stu-id="703f1-315">&lt;ContentTemplate&gt;</span></span> | <span data-ttu-id="703f1-316">Specifica il markup da utilizzare per eseguire il rendering di risultato del rendering parziale.</span><span class="sxs-lookup"><span data-stu-id="703f1-316">Specifies the markup to be used to render the partial rendering result.</span></span> <span data-ttu-id="703f1-317">Elemento figlio &lt;asp: UpdatePanel&gt;.</span><span class="sxs-lookup"><span data-stu-id="703f1-317">Child of &lt;asp:UpdatePanel&gt;.</span></span> |
| <span data-ttu-id="703f1-318">&lt;Trigger&gt;</span><span class="sxs-lookup"><span data-stu-id="703f1-318">&lt;Triggers&gt;</span></span> | <span data-ttu-id="703f1-319">Specifica una raccolta di *n* controlli associati con l'aggiornamento di questo UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="703f1-319">Specifies a collection of *n* controls associated with updating this UpdatePanel.</span></span> <span data-ttu-id="703f1-320">Elemento figlio &lt;asp: UpdatePanel&gt;.</span><span class="sxs-lookup"><span data-stu-id="703f1-320">Child of &lt;asp:UpdatePanel&gt;.</span></span> |
| <span data-ttu-id="703f1-321">&lt;asp:AsyncPostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="703f1-321">&lt;asp:AsyncPostBackTrigger&gt;</span></span> | <span data-ttu-id="703f1-322">Specifica un trigger che richiama un rendering parziale della pagina per UpdatePanel specificato.</span><span class="sxs-lookup"><span data-stu-id="703f1-322">Specifies a trigger that invokes a partial page render for the given UpdatePanel.</span></span> <span data-ttu-id="703f1-323">Ciò può o potrebbe non essere un controllo come un discendente del controllo UpdatePanel in questione.</span><span class="sxs-lookup"><span data-stu-id="703f1-323">This may or may not be a control as a descendant of the UpdatePanel in question.</span></span> <span data-ttu-id="703f1-324">Granularità per il nome dell'evento. Elemento figlio &lt;trigger&gt;.</span><span class="sxs-lookup"><span data-stu-id="703f1-324">Granular to the event name.Child of &lt;Triggers&gt;.</span></span> |
| <span data-ttu-id="703f1-325">&lt;asp:PostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="703f1-325">&lt;asp:PostBackTrigger&gt;</span></span> | <span data-ttu-id="703f1-326">Specifica un controllo che causa l'aggiornamento della pagina intera.</span><span class="sxs-lookup"><span data-stu-id="703f1-326">Specifies a control that causes the entire page to refresh.</span></span> <span data-ttu-id="703f1-327">Ciò può o potrebbe non essere un controllo come un discendente del controllo UpdatePanel in questione.</span><span class="sxs-lookup"><span data-stu-id="703f1-327">This may or may not be a control as a descendant of the UpdatePanel in question.</span></span> <span data-ttu-id="703f1-328">Granulari all'oggetto.</span><span class="sxs-lookup"><span data-stu-id="703f1-328">Granular to the object.</span></span> <span data-ttu-id="703f1-329">Elemento figlio &lt;trigger&gt;.</span><span class="sxs-lookup"><span data-stu-id="703f1-329">Child of &lt;Triggers&gt;.</span></span> |

<span data-ttu-id="703f1-330">Il `UpdatePanel` è il controllo che delimita il contenuto sul lato server che diventerà parte nella funzionalità di rendering parziale delle estensioni AJAX.</span><span class="sxs-lookup"><span data-stu-id="703f1-330">The `UpdatePanel` control is the control that delimits the server-side content that will take part in the partial rendering functionality of the AJAX Extensions.</span></span> <span data-ttu-id="703f1-331">Non sono previsti limiti al numero di controlli UpdatePanel che possono essere in una pagina e possono essere annidati.</span><span class="sxs-lookup"><span data-stu-id="703f1-331">There is no limit to the number of UpdatePanel controls that can be on a page, and they can be nested.</span></span> <span data-ttu-id="703f1-332">Ogni UpdatePanel è isolato, in modo che ognuna possa funzionare in modo indipendente (è possibile avere due gli UpdatePanel in esecuzione nello stesso momento, il rendering di parti diverse della pagina, indipendenti di postback della pagina).</span><span class="sxs-lookup"><span data-stu-id="703f1-332">Each UpdatePanel is isolated, so that each can work independently (you can have two UpdatePanels running at the same time, rendering different parts of the page, independent of the page's postback).</span></span>

<span data-ttu-id="703f1-333">UpdatePanel controllare trattative principalmente con i trigger di controllo: per impostazione predefinita, qualsiasi controllo contenuto all'interno di un UpdatePanel `ContentTemplate` che crea un postback viene registrato come un trigger per UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="703f1-333">The UpdatePanel control primarily deals with control triggers - by default, any control contained within an UpdatePanel's `ContentTemplate` that creates a postback is registered as a trigger for the UpdatePanel.</span></span> <span data-ttu-id="703f1-334">Ciò significa che UpdatePanel possono funzionare con i controlli con associazione a dati predefiniti (ad esempio GridView), con i controlli utente e che può essere programmati nello script.</span><span class="sxs-lookup"><span data-stu-id="703f1-334">This means that the UpdatePanel can work with the default data-bound controls (such as the GridView), with user controls, and they can be programmed in script.</span></span>

<span data-ttu-id="703f1-335">Per impostazione predefinita, quando viene attivato un rendering parziale della pagina, verranno aggiornati tutti i controlli UpdatePanel nella pagina, o meno controlli UpdatePanel definiti trigger per tale azione.</span><span class="sxs-lookup"><span data-stu-id="703f1-335">By default, when a partial page render is triggered, all UpdatePanel controls on the page will be refreshed, whether or not the UpdatePanel controls defined triggers for such action.</span></span> <span data-ttu-id="703f1-336">Ad esempio, se un UpdatePanel definisce un controllo Button e si fa clic sul controllo pulsante, tutti i controlli UpdatePanel nella pagina verranno aggiornati per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="703f1-336">For example, if one UpdatePanel defines a Button control, and that Button control is clicked, all UpdatePanel controls on that page will be refreshed by default.</span></span> <span data-ttu-id="703f1-337">Questo avviene perché, per impostazione predefinita, il `UpdateMode` proprietà del controllo UpdatePanel è impostata su `Always`.</span><span class="sxs-lookup"><span data-stu-id="703f1-337">This is because, by default, the `UpdateMode` property of the UpdatePanel is set to `Always`.</span></span> <span data-ttu-id="703f1-338">In alternativa, è possibile impostare la proprietà UpdateMode su `Conditional`, il che significa che UpdatePanel verranno aggiornati solo se viene raggiunto un trigger specifico.</span><span class="sxs-lookup"><span data-stu-id="703f1-338">Alternatively, you may set the UpdateMode property to `Conditional`, which means that the UpdatePanel will only be refreshed if a specific trigger is hit.</span></span>

## <a name="custom-control-notes"></a><span data-ttu-id="703f1-339">Note del controllo personalizzato</span><span class="sxs-lookup"><span data-stu-id="703f1-339">Custom Control Notes</span></span>

<span data-ttu-id="703f1-340">UpdatePanel può essere aggiunti a qualsiasi controllo utente o un controllo personalizzato. Tuttavia, la pagina in cui questi controlli sono inclusi anche deve includere un controllo ScriptManager con la proprietà impostata EnablePartialRendering **true**.</span><span class="sxs-lookup"><span data-stu-id="703f1-340">An UpdatePanel can be added to any user control or custom control; however, the page on which these controls are included must also include a ScriptManager control with the property EnablePartialRendering set to **true**.</span></span>

<span data-ttu-id="703f1-341">Un modo in cui potrebbe considerare questo aspetto quando si usa controlli Web personalizzati è eseguire l'override protetto `CreateChildControls()` metodo del `CompositeControl` classe.</span><span class="sxs-lookup"><span data-stu-id="703f1-341">One way in which you might account for this when using Web Custom Controls is to override the protected `CreateChildControls()` method of the `CompositeControl` class.</span></span> <span data-ttu-id="703f1-342">In questo modo, è possibile inserire un controllo UpdatePanel tra gli elementi figlio del controllo e il mondo esterno, se si determina che la pagina supporta il rendering parziale; in caso contrario, è possibile creare livelli semplicemente i controlli figlio in un contenitore `Control` istanza.</span><span class="sxs-lookup"><span data-stu-id="703f1-342">By doing so, you can inject an UpdatePanel between the control's children and the outside world if you determine the page supports partial rendering; otherwise, you can simply layer the child controls into a container `Control` instance.</span></span>

## <a name="updatepanel-considerations"></a><span data-ttu-id="703f1-343">Considerazioni di UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="703f1-343">UpdatePanel Considerations</span></span>

<span data-ttu-id="703f1-344">UpdatePanel opera come un elemento di una scatola nera, ritorno a capo dei postback ASP.NET all'interno del contesto di un JavaScript XMLHttpRequest.</span><span class="sxs-lookup"><span data-stu-id="703f1-344">The UpdatePanel operates as something of a black-box, wrapping ASP.NET postbacks within the context of a JavaScript XMLHttpRequest.</span></span> <span data-ttu-id="703f1-345">Tuttavia, esistono considerazioni significativi delle prestazioni da tenere presente, in termini di comportamento e velocità.</span><span class="sxs-lookup"><span data-stu-id="703f1-345">However, there are significant performance considerations to bear in mind, both in terms of behavior and speed.</span></span> <span data-ttu-id="703f1-346">Per comprendere il funzionamento di UpdatePanel, in modo che è più possibile decidere se è corretto, è necessario esaminare lo scambio di AJAX.</span><span class="sxs-lookup"><span data-stu-id="703f1-346">To understand how the UpdatePanel works, so that you can best decide when its use is appropriate, you should examine the AJAX exchange.</span></span> <span data-ttu-id="703f1-347">L'esempio seguente usa un sito esistente e, Mozilla Firefox con l'estensione Firebug (Firebug consente di acquisire dati XMLHttpRequest).</span><span class="sxs-lookup"><span data-stu-id="703f1-347">The following example uses an existing site and, Mozilla Firefox with the Firebug extension (Firebug captures XMLHttpRequest data).</span></span>

<span data-ttu-id="703f1-348">Prendere in considerazione un form, tra le altre cose, con una casella di testo il codice postale cui devono essere per popolare un campo città e stato di un form o controllo.</span><span class="sxs-lookup"><span data-stu-id="703f1-348">Consider a form that, among other things, has a postal code textbox which is supposed to populate a city and state field on a form or control.</span></span> <span data-ttu-id="703f1-349">Questo modulo in definitiva raccoglie le informazioni sull'appartenenza, inclusi nome, indirizzo e informazioni di contatto dell'utente.</span><span class="sxs-lookup"><span data-stu-id="703f1-349">This form ultimately collects membership information, including a user's name, address, and contact information.</span></span> <span data-ttu-id="703f1-350">Esistono molte considerazioni di progettazione da prendere in considerazione, in base ai requisiti di un progetto specifico.</span><span class="sxs-lookup"><span data-stu-id="703f1-350">There are many design considerations to take into account, based on the requirements of a specific project.</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image11.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image10.png)

<span data-ttu-id="703f1-351">([Fare clic per visualizzare l'immagine con dimensioni normali](understanding-partial-page-updates-with-asp-net-ajax/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="703f1-351">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image12.png))</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image14.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image13.png)

<span data-ttu-id="703f1-352">([Fare clic per visualizzare l'immagine con dimensioni normali](understanding-partial-page-updates-with-asp-net-ajax/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="703f1-352">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image15.png))</span></span>


<span data-ttu-id="703f1-353">Nell'iterazione originale di questa applicazione, è stato creato un controllo incorporato l'intera struttura i dati di registrazione utente, tra cui il codice postale, città e stato.</span><span class="sxs-lookup"><span data-stu-id="703f1-353">In the original iteration of this application, a control was built that incorporated the entirety of the user registration data, including the postal code, city, and state.</span></span> <span data-ttu-id="703f1-354">L'intero controllo è stato eseguito il wrapping in un controllo UpdatePanel e rilasciato in un Web Form.</span><span class="sxs-lookup"><span data-stu-id="703f1-354">The entire control was wrapped within an UpdatePanel and dropped onto a Web Form.</span></span> <span data-ttu-id="703f1-355">Quando il codice postale immesso dall'utente, UpdatePanel viene rilevato l'evento (l'evento TextChanged corrispondente nel back-end, specificando i trigger oppure tramite la proprietà ChildrenAsTriggers impostata su true).</span><span class="sxs-lookup"><span data-stu-id="703f1-355">When the postal code is entered by the user, the UpdatePanel detects the event (the corresponding TextChanged event in the back-end, either by specifying triggers or by using the ChildrenAsTriggers property set to true).</span></span> <span data-ttu-id="703f1-356">AJAX invia tutti i campi all'interno di UpdatePanel, acquisita dalla FireBug (vedere il diagramma a destra).</span><span class="sxs-lookup"><span data-stu-id="703f1-356">AJAX posts all of the fields within the UpdatePanel, as captured by FireBug (see the diagram on the right).</span></span>

<span data-ttu-id="703f1-357">Come indica l'acquisizione di schermate, i valori di ogni controllo all'interno di UpdatePanel vengono recapitati (in questo caso, sono tutti vuoti), nonché il campo di ViewState.</span><span class="sxs-lookup"><span data-stu-id="703f1-357">As the screen capture indicates, values from every control within the UpdatePanel are delivered (in this case, they are all empty), as well as the ViewState field.</span></span> <span data-ttu-id="703f1-358">Ciò detto, più di 9kb di dati quando viene inviato, in realtà solo cinque byte di dati sono stati necessari per effettuare questa richiesta specifica.</span><span class="sxs-lookup"><span data-stu-id="703f1-358">All told, over 9kb of data is sent, when in fact only five bytes of data were needed to make this particular request.</span></span> <span data-ttu-id="703f1-359">La risposta è ancora più piene: in totale, 57kb viene inviato al client, è sufficiente per aggiornare un campo di testo e un campo elenco a discesa.</span><span class="sxs-lookup"><span data-stu-id="703f1-359">The response is even more bloated: in total, 57kb is sent to the client, simply to update a text field and a drop-down field.</span></span>

<span data-ttu-id="703f1-360">Potrebbe anche essere interessati per visualizzare la procedura di aggiornamento della presentazione in ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="703f1-360">It may also be of interest to see how ASP.NET AJAX updates the presentation.</span></span> <span data-ttu-id="703f1-361">La parte di risposta della richiesta di aggiornamento di UpdatePanel viene visualizzata nella visualizzazione della console Firebug a sinistra. è formulata in modo speciale delimitato da barre verticali stringa suddivisa in base allo script client e quindi riassemblare nella pagina.</span><span class="sxs-lookup"><span data-stu-id="703f1-361">The response portion of the UpdatePanel's update request is shown in the Firebug console display on the left; it is a specially-formulated pipe-delimited string that is broken up by the client script and then reassembled on the page.</span></span> <span data-ttu-id="703f1-362">In particolare, ASP.NET AJAX imposta il *innerHTML* proprietà dell'elemento HTML nel client che rappresenta il UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="703f1-362">Specifically, ASP.NET AJAX sets the *innerHTML* property of the HTML element on the client that represents your UpdatePanel.</span></span> <span data-ttu-id="703f1-363">Come il browser genera nuovamente il modello DOM, è presente un leggero ritardo, a seconda della quantità di informazioni che devono essere elaborati.</span><span class="sxs-lookup"><span data-stu-id="703f1-363">As the browser re-generates the DOM, there is a slight delay, depending on the amount of information that needs to be processed.</span></span>

<span data-ttu-id="703f1-364">La rigenerazione del DOM attiva una serie di problemi aggiuntivi:</span><span class="sxs-lookup"><span data-stu-id="703f1-364">The regeneration of the DOM triggers a number of additional issues:</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image17.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image16.png)

<span data-ttu-id="703f1-365">([Fare clic per visualizzare l'immagine con dimensioni normali](understanding-partial-page-updates-with-asp-net-ajax/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="703f1-365">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image18.png))</span></span>


- <span data-ttu-id="703f1-366">Se l'elemento HTML con lo stato attivo è all'interno di UpdatePanel, perderà lo stato attivo.</span><span class="sxs-lookup"><span data-stu-id="703f1-366">If the focused HTML element is within the UpdatePanel, it will lose focus.</span></span> <span data-ttu-id="703f1-367">Pertanto, per gli utenti premuto il tasto Tab per uscire dalla casella di testo il codice postale, la destinazione successiva sarebbe stato la casella di testo City.</span><span class="sxs-lookup"><span data-stu-id="703f1-367">So, for users who pressed the Tab key to exit the postal code text box, their next destination would have been the City text box.</span></span> <span data-ttu-id="703f1-368">Tuttavia, una volta UpdatePanel aggiornati la visualizzazione, il modulo non è più sarebbe stato attivo e premendo Tab avviare evidenziando gli elementi dello stato attivo (ad esempio, i collegamenti).</span><span class="sxs-lookup"><span data-stu-id="703f1-368">However, once the UpdatePanel refreshed the display, the form would no longer have had focus, and pressing Tab would have started highlighting the focus elements (such as links).</span></span>
- <span data-ttu-id="703f1-369">Se qualsiasi tipo di script personalizzato dal lato client è in uso che gli elementi DOM gli accessi, i riferimenti mantenuti dalle funzioni potrebbero diventare inattivo dopo un postback parziale.</span><span class="sxs-lookup"><span data-stu-id="703f1-369">If any type of custom client-side script is in use that accesses DOM elements, references persisted by functions may become defunct after a partial postback.</span></span>

<span data-ttu-id="703f1-370">UpdatePanel non dovranno essere soluzioni catch-all.</span><span class="sxs-lookup"><span data-stu-id="703f1-370">UpdatePanels are not intended to be catch-all solutions.</span></span> <span data-ttu-id="703f1-371">Piuttosto, fornire una soluzione rapida per alcune situazioni, inclusi gli aggiornamenti di controllo di piccole dimensioni, la creazione di prototipi e fornire un'interfaccia familiare agli sviluppatori ASP.NET che possono essere familiarità con il modello a oggetti .NET, ma minore di-pertanto con il DOM.</span><span class="sxs-lookup"><span data-stu-id="703f1-371">Rather, they provide a quick solution for certain situations, including prototyping, small control updates, and provide a familiar interface to ASP.NET developers who might be familiar with the .NET object model but less-so with the DOM.</span></span> <span data-ttu-id="703f1-372">Sono disponibili numerose alternative che potrebbero comportare prestazioni migliori, a seconda dello scenario dell'applicazione:</span><span class="sxs-lookup"><span data-stu-id="703f1-372">There are a number of alternatives that may result in better performance, depending on the application scenario:</span></span>

- <span data-ttu-id="703f1-373">È consigliabile usare PageMethods e JSON (JavaScript Object Notation) consente allo sviluppatore di richiamare metodi statici in una pagina come se una chiamata al servizio web è stata richiamata.</span><span class="sxs-lookup"><span data-stu-id="703f1-373">Consider using PageMethods and JSON (JavaScript Object Notation) allows the developer to invoke static methods on a page as if a web service call was being invoked.</span></span> <span data-ttu-id="703f1-374">Poiché i metodi sono statici, lo stato non è necessario; il chiamante dello script fornisce i parametri e il risultato viene restituito in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="703f1-374">Because the methods are static, no state is necessary; the script caller supplies the parameters, and the result is returned asynchronously.</span></span>
- <span data-ttu-id="703f1-375">È consigliabile usare un servizio Web e JSON, se un singolo controllo deve essere usato in diverse posizioni in un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="703f1-375">Consider using a Web Service and JSON if a single control needs to be used in several places across an application.</span></span> <span data-ttu-id="703f1-376">Questo nuovo richiede uno sforzo speciale e funziona in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="703f1-376">This again requires very little special work, and works asynchronously.</span></span>

<span data-ttu-id="703f1-377">Inserimento di funzionalità tramite i servizi Web o i metodi di pagina ha anche degli svantaggi.</span><span class="sxs-lookup"><span data-stu-id="703f1-377">Incorporating functionality through Web Services or Page Methods has drawbacks as well.</span></span> <span data-ttu-id="703f1-378">Prima di tutto, gli sviluppatori ASP.NET è in genere tendono a compilare piccoli componenti delle funzionalità nei controlli utente (file con estensione ascx).</span><span class="sxs-lookup"><span data-stu-id="703f1-378">First and foremost, ASP.NET developers typically tend to build small components of functionality into user controls (.ascx files).</span></span> <span data-ttu-id="703f1-379">I metodi di pagina non possono essere ospitati in questi file; devono essere ospitati all'interno della classe di pagina aspx effettiva.</span><span class="sxs-lookup"><span data-stu-id="703f1-379">Page methods cannot be hosted in these files; they must be hosted within the actual .aspx page class.</span></span> <span data-ttu-id="703f1-380">Servizi Web, in modo analogo, devono essere ospitati all'interno della classe con estensione asmx.</span><span class="sxs-lookup"><span data-stu-id="703f1-380">Web services, similarly, must be hosted within the .asmx class.</span></span> <span data-ttu-id="703f1-381">A seconda dell'applicazione, questa architettura può violare il principio di singola responsabilità, in quanto la funzionalità per un singolo componente è ora estese tra due o più componenti fisici che potrebbero essere non offrivano ties cohesive.</span><span class="sxs-lookup"><span data-stu-id="703f1-381">Depending on the application, this architecture may violate the Single Responsibility Principle, in that the functionality for a single component is now spread across two or more physical components which may have little or no cohesive ties.</span></span>

<span data-ttu-id="703f1-382">Infine, se un'applicazione richiede che vengano utilizzati gli UpdatePanel, le linee guida seguenti devono supporto per la manutenzione e risoluzione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="703f1-382">Finally, if an application requires that UpdatePanels are used, the following guidelines should assist with troubleshooting and maintenance.</span></span>

- <span data-ttu-id="703f1-383">**Annidare gli UpdatePanel minor, non solo all'interno di unità, ma anche tra le unità di codice.**</span><span class="sxs-lookup"><span data-stu-id="703f1-383">**Nest UpdatePanels as little as possible, not only within-units, but also across units of code.**</span></span> <span data-ttu-id="703f1-384">Ad esempio, un UpdatePanel in una pagina che esegue il wrapping di un controllo, mentre tale controllo contiene inoltre un UpdatePanel, che contiene un altro controllo che contiene un controllo UpdatePanel, è nidificazione tra unità.</span><span class="sxs-lookup"><span data-stu-id="703f1-384">For example, having an UpdatePanel on a Page that wraps a Control, while that Control also contains an UpdatePanel, which contains another Control that contains an UpdatePanel, is cross-unit nesting.</span></span> <span data-ttu-id="703f1-385">Ciò aiuta a mantenere chiaro quali elementi devono essere aggiornati e impedisce gli aggiornamenti imprevisti figlio UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="703f1-385">This helps to keep clear which elements should be refreshing, and prevents unexpected refreshes to child UpdatePanels.</span></span>
- <span data-ttu-id="703f1-386">**Mantenere il *ChildrenAsTriggers* proprietà impostata su false e impostato in modo esplicito l'attivazione di eventi.**</span><span class="sxs-lookup"><span data-stu-id="703f1-386">**Keep the *ChildrenAsTriggers* property set to false, and explicitly set triggering events.**</span></span> <span data-ttu-id="703f1-387">Utilizzo di `<Triggers>` raccolta è un modo molto più chiaro per gestire gli eventi e potrebbe impedire un comportamento imprevisto, contribuire con le attività di manutenzione, nonché dell'imposizione agli sviluppatori di acconsentire esplicitamente per un evento.</span><span class="sxs-lookup"><span data-stu-id="703f1-387">Utilizing the `<Triggers>` collection is a much clearer way to handle events, and may prevent unexpected behavior, helping with maintenance tasks and forcing a developer to opt-in for an event.</span></span>
- <span data-ttu-id="703f1-388">**Usare l'unità più piccola possibile per ottenere una funzionalità.**</span><span class="sxs-lookup"><span data-stu-id="703f1-388">**Use the smallest possible unit to achieve functionality.**</span></span> <span data-ttu-id="703f1-389">Come indicato nella descrizione del servizio codice postale, ritorno a capo che solo il livello minimo riduce il tempo per il server di elaborazione totale e il footprint dello scambio client / server, migliorando le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="703f1-389">As noted in the discussion of the postal code service, wrapping only the bare minimum reduces time to the server, total processing, and the footprint of the client-server exchange, enhancing performance.</span></span>

## <a name="the-updateprogress-control"></a><span data-ttu-id="703f1-390">Il controllo UpdateProgress</span><span class="sxs-lookup"><span data-stu-id="703f1-390">The UpdateProgress Control</span></span>

## <a name="updateprogress-control-reference"></a><span data-ttu-id="703f1-391">Riferimento al controllo UpdateProgress</span><span class="sxs-lookup"><span data-stu-id="703f1-391">UpdateProgress Control Reference</span></span>

<span data-ttu-id="703f1-392">Proprietà del markup abilitati:</span><span class="sxs-lookup"><span data-stu-id="703f1-392">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="703f1-393">**Nome proprietà**</span><span class="sxs-lookup"><span data-stu-id="703f1-393">**Property Name**</span></span> | <span data-ttu-id="703f1-394">**Type**</span><span class="sxs-lookup"><span data-stu-id="703f1-394">**Type**</span></span> | <span data-ttu-id="703f1-395">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="703f1-395">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="703f1-396">AssociatedUpdate-PanelID</span><span class="sxs-lookup"><span data-stu-id="703f1-396">AssociatedUpdate-PanelID</span></span> | <span data-ttu-id="703f1-397">Stringa</span><span class="sxs-lookup"><span data-stu-id="703f1-397">String</span></span> | <span data-ttu-id="703f1-398">Specifica l'ID del controllo UpdatePanel che devono comunicare questa UpdateProgress in.</span><span class="sxs-lookup"><span data-stu-id="703f1-398">Specifies the ID of the UpdatePanel that this UpdateProgress should report on.</span></span> |
| <span data-ttu-id="703f1-399">DisplayAfter</span><span class="sxs-lookup"><span data-stu-id="703f1-399">DisplayAfter</span></span> | <span data-ttu-id="703f1-400">Int</span><span class="sxs-lookup"><span data-stu-id="703f1-400">Int</span></span> | <span data-ttu-id="703f1-401">Specifica il timeout in millisecondi prima che questo controllo viene visualizzato dopo l'inizio della richiesta asincrona.</span><span class="sxs-lookup"><span data-stu-id="703f1-401">Specifies the timeout in milliseconds before this control is displayed after the asynchronous request begins.</span></span> |
| <span data-ttu-id="703f1-402">DynamicLayout</span><span class="sxs-lookup"><span data-stu-id="703f1-402">DynamicLayout</span></span> | <span data-ttu-id="703f1-403">bool</span><span class="sxs-lookup"><span data-stu-id="703f1-403">bool</span></span> | <span data-ttu-id="703f1-404">Specifica se lo stato di avanzamento deve essere visualizzato in modo dinamico.</span><span class="sxs-lookup"><span data-stu-id="703f1-404">Specifies whether the progress is rendered dynamically.</span></span> |

<span data-ttu-id="703f1-405">Discendenti di markup:</span><span class="sxs-lookup"><span data-stu-id="703f1-405">Markup Descendants:</span></span>

| <span data-ttu-id="703f1-406">**Tag**</span><span class="sxs-lookup"><span data-stu-id="703f1-406">**Tag**</span></span> | <span data-ttu-id="703f1-407">**Descrizione**</span><span class="sxs-lookup"><span data-stu-id="703f1-407">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="703f1-408">&lt;ProgressTemplate&gt;</span><span class="sxs-lookup"><span data-stu-id="703f1-408">&lt;ProgressTemplate&gt;</span></span> | <span data-ttu-id="703f1-409">Contiene il modello di controllo impostato per il contenuto che verrà visualizzato con questo controllo.</span><span class="sxs-lookup"><span data-stu-id="703f1-409">Contains the control template set for the content that will be displayed with this control.</span></span> |

<span data-ttu-id="703f1-410">Il controllo UpdateProgress ti offre una misura di commenti e suggerimenti per mantenere l'interesse degli utenti mentre si eseguono le operazioni necessarie per trasporto al server.</span><span class="sxs-lookup"><span data-stu-id="703f1-410">The UpdateProgress control gives you a measure of feedback to keep your users' interest while doing the necessary work to transport to the server.</span></span> <span data-ttu-id="703f1-411">Questo può consentire agli utenti di sapere che si esegue un'operazione anche se potrebbe non essere evidente, soprattutto perché la maggior parte degli utenti sono abituati alla pagina di aggiornamento e visualizzare la barra di stato di evidenziazione.</span><span class="sxs-lookup"><span data-stu-id="703f1-411">This can help your users know that you're doing something even though it may not be apparent, especially since most users are used to the page refreshing and seeing the status bar highlight.</span></span>

<span data-ttu-id="703f1-412">Come nota, controlli UpdateProgress possono trovarsi in qualsiasi punto in una gerarchia di pagina.</span><span class="sxs-lookup"><span data-stu-id="703f1-412">As a note, UpdateProgress controls can appear anywhere on a page hierarchy.</span></span> <span data-ttu-id="703f1-413">Tuttavia, nei casi in cui un postback parziale viene avviato da un elemento figlio (in cui un controllo UpdatePanel è annidato all'interno di un altro metodo UpdatePanel) UpdatePanel, postback trigger figlio UpdatePanel causerà UpdateProgress modelli da visualizzare per l'elemento figlio UpdatePanel, nonché l'elemento padre di UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="703f1-413">However, in cases in which a partial postback is initiated from a child UpdatePanel (where an UpdatePanel is nested within another UpdatePanel), postbacks that trigger the child UpdatePanel will cause UpdateProgress templates to be displayed for the child UpdatePanel as well as the parent UpdatePanel.</span></span> <span data-ttu-id="703f1-414">Tuttavia, se il trigger è un figlio diretto dell'elemento padre UpdatePanel, quindi verranno visualizzati solo i modelli di UpdateProgress associati al padre.</span><span class="sxs-lookup"><span data-stu-id="703f1-414">But, if the trigger is a direct child of the parent UpdatePanel, then only the UpdateProgress templates associated with the parent will be displayed.</span></span>

## <a name="summary"></a><span data-ttu-id="703f1-415">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="703f1-415">Summary</span></span>

<span data-ttu-id="703f1-416">Le estensioni di Microsoft ASP.NET AJAX sono prodotti sofisticati progettati per assistere nella creazione di contenuto web più accessibili e forniscono un'esperienza utente avanzata alle applicazioni web.</span><span class="sxs-lookup"><span data-stu-id="703f1-416">The Microsoft ASP.NET AJAX extensions are sophisticated products designed to assist in making web content more accessible and to provide a richer user experience to your web applications.</span></span> <span data-ttu-id="703f1-417">Come parte di ASP.NET AJAX Extensions, i controlli di rendering parziale della pagina, inclusi i controlli di ScriptManager, UpdatePanel e UpdateProgress sono alcuni dei componenti più visibili del toolkit.</span><span class="sxs-lookup"><span data-stu-id="703f1-417">As part of the ASP.NET AJAX Extensions, the partial page rendering controls, including the ScriptManager, the UpdatePanel, and UpdateProgress controls are some of the most visible components of the toolkit.</span></span>

<span data-ttu-id="703f1-418">Il componente ScriptManager si integra la fornitura di JavaScript sul lato client per le estensioni, nonché consente i vari componenti dal lato server e client interagire con investimenti minima dello sviluppo.</span><span class="sxs-lookup"><span data-stu-id="703f1-418">The ScriptManager component integrates the provision of client JavaScript for the Extensions, as well as enables the various server- and client-side components to work together with minimal development investment.</span></span>

<span data-ttu-id="703f1-419">Il controllo UpdatePanel è la casella di magic evidente: markup all'interno di UpdatePanel possono avere Codebehind lato server e non attivano un aggiornamento della pagina.</span><span class="sxs-lookup"><span data-stu-id="703f1-419">The UpdatePanel control is the apparent magic box - markup within the UpdatePanel can have server-side Codebehind and not trigger a page refresh.</span></span> <span data-ttu-id="703f1-420">I controlli UpdatePanel possono essere annidati e possono essere dipendente da controlli in altri UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="703f1-420">UpdatePanel controls can be nested, and can be dependent on controls in other UpdatePanels.</span></span> <span data-ttu-id="703f1-421">Per impostazione predefinita, gli UpdatePanel gestiscono qualsiasi postback richiamato per i controlli discendenti, anche se questa funzionalità può essere ottimizzata, in modo dichiarativo o a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="703f1-421">By default, UpdatePanels handle any postbacks invoked by their descendant controls, although this functionality can be finely tuned, either declaratively or programmatically.</span></span>

<span data-ttu-id="703f1-422">Quando si usa il controllo UpdatePanel, gli sviluppatori devono essere consapevoli dell'impatto sulle prestazioni che potenzialmente può verificarsi.</span><span class="sxs-lookup"><span data-stu-id="703f1-422">When using the UpdatePanel control, developers should be aware of the performance impact that could potentially arise.</span></span> <span data-ttu-id="703f1-423">Alternative possibili includono servizi web e i metodi di pagina, anche se deve essere considerata la progettazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="703f1-423">Potential alternatives include web services and page methods, though the design of the application should be considered.</span></span>

<span data-ttu-id="703f1-424">Il UpdateProgress controllo consente all'utente di sapere che lei o non viene ignorato e che la richiesta di background sta succedendo mentre la pagina in caso contrario, non eseguire alcuna operazione per rispondere all'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="703f1-424">The UpdateProgress control allows the user to know that she or he is not being ignored, and that the behind-the-scenes request is going on while the page is otherwise not doing anything to respond to the user input.</span></span> <span data-ttu-id="703f1-425">Contiene inoltre la possibilità di interrompere i risultati di rendering parziale.</span><span class="sxs-lookup"><span data-stu-id="703f1-425">It also includes the ability to abort partial rendering results.</span></span>

<span data-ttu-id="703f1-426">Insieme, questi strumenti facilita la creazione di un'esperienza utente avanzata e trasparente dal funzionamento del server meno evidenti all'utente e la conseguente interruzione del flusso di lavoro meno.</span><span class="sxs-lookup"><span data-stu-id="703f1-426">Together, these tools assist creating a rich and seamless user experience by making server work less apparent to the user and interrupting workflow less.</span></span>

## <a name="bio"></a><span data-ttu-id="703f1-427">Bio</span><span class="sxs-lookup"><span data-stu-id="703f1-427">Bio</span></span>

<span data-ttu-id="703f1-428">Scott Cate ha collaborato con tecnologie Web di Microsoft dal 1997 ed è il presidente di myKB.com ([www.myKB.com](http://www.myKB.com)) ed è specializzato nella scrittura di ASP.NET basato su applicazioni incentrate su soluzioni Software di Knowledge Base.</span><span class="sxs-lookup"><span data-stu-id="703f1-428">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="703f1-429">È possibile contattare Scott tramite posta elettronica all'indirizzo [ scott.cate@myKB.com ](mailto:scott.cate@myKB.com) o il suo blog all'indirizzo [ScottCate.com](http://ScottCate.com)</span><span class="sxs-lookup"><span data-stu-id="703f1-429">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="703f1-430">avanti</span><span class="sxs-lookup"><span data-stu-id="703f1-430">Next</span></span>](understanding-asp-net-ajax-updatepanel-triggers.md)
