---
uid: web-forms/overview/older-versions-security/membership/creating-the-membership-schema-in-sql-server-vb
title: Creazione dello schema di appartenenza in SQL Server (VB) | Microsoft Docs
author: rick-anderson
description: Questa esercitazione inizia con l'analisi delle tecniche per l'aggiunta dello schema necessario al database per poter utilizzare l'oggetto SqlMembershipProvider. In seguito, Wi...
ms.author: riande
ms.date: 01/18/2008
ms.assetid: 112a674d-716f-41a6-99b8-4074d65a54c0
msc.legacyurl: /web-forms/overview/older-versions-security/membership/creating-the-membership-schema-in-sql-server-vb
msc.type: authoredcontent
ms.openlocfilehash: 96fd72d1f368b1f7947ef0a2293161d97aaf7065
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/28/2019
ms.locfileid: "74581006"
---
# <a name="creating-the-membership-schema-in-sql-server-vb"></a><span data-ttu-id="88835-104">Creazione dello schema di appartenenza in SQL Server (VB)</span><span class="sxs-lookup"><span data-stu-id="88835-104">Creating the Membership Schema in SQL Server (VB)</span></span>

<span data-ttu-id="88835-105">di [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="88835-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="88835-106">[Scarica codice](https://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_04_VB.zip) o [Scarica PDF](https://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial04_MembershipSetup_vb.pdf)</span><span class="sxs-lookup"><span data-stu-id="88835-106">[Download Code](https://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_04_VB.zip) or [Download PDF](https://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial04_MembershipSetup_vb.pdf)</span></span>

> <span data-ttu-id="88835-107">Questa esercitazione inizia con l'analisi delle tecniche per l'aggiunta dello schema necessario al database per poter utilizzare l'oggetto SqlMembershipProvider.</span><span class="sxs-lookup"><span data-stu-id="88835-107">This tutorial starts by examining techniques for adding the necessary schema to the database in order to use the SqlMembershipProvider.</span></span> <span data-ttu-id="88835-108">In seguito, verranno esaminate le tabelle principali nello schema e ne verranno illustrate le finalità e l'importanza.</span><span class="sxs-lookup"><span data-stu-id="88835-108">Following that, we will examine the key tables in the schema and discuss their purpose and importance.</span></span> <span data-ttu-id="88835-109">Questa esercitazione termina con un'occhiata a come indicare a un'applicazione ASP.NET il provider che il Framework di appartenenza deve usare.</span><span class="sxs-lookup"><span data-stu-id="88835-109">This tutorial ends with a look at how to tell an ASP.NET application which provider the Membership framework should use.</span></span>

## <a name="introduction"></a><span data-ttu-id="88835-110">Introduzione</span><span class="sxs-lookup"><span data-stu-id="88835-110">Introduction</span></span>

<span data-ttu-id="88835-111">Le due esercitazioni precedenti hanno esaminato l'uso dell'autenticazione basata su form per identificare i visitatori del sito Web</span><span class="sxs-lookup"><span data-stu-id="88835-111">The previous two tutorials examined using forms authentication to identify website visitors.</span></span> <span data-ttu-id="88835-112">Il Framework di autenticazione basata su form consente agli sviluppatori di registrare con facilità un utente in un sito Web e di ricordarli nelle visite di pagina tramite l'utilizzo dei ticket di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="88835-112">The forms authentication framework makes it easy for developers to log a user into a website and to remember them across page visits through the use of authentication tickets.</span></span> <span data-ttu-id="88835-113">La classe `FormsAuthentication` include metodi per generare il ticket e aggiungerlo ai cookie del visitatore.</span><span class="sxs-lookup"><span data-stu-id="88835-113">The `FormsAuthentication` class includes methods for generating the ticket and adding it to the visitor's cookies.</span></span> <span data-ttu-id="88835-114">Il `FormsAuthenticationModule` esamina tutte le richieste in ingresso e, per quelle con un ticket di autenticazione valido, crea e associa una `GenericPrincipal` e un oggetto `FormsIdentity` con la richiesta corrente.</span><span class="sxs-lookup"><span data-stu-id="88835-114">The `FormsAuthenticationModule` examines all incoming requests and, for those with a valid authentication ticket, creates and associates a `GenericPrincipal` and a `FormsIdentity` object with the current request.</span></span> <span data-ttu-id="88835-115">L'autenticazione basata su form è semplicemente un meccanismo per concedere un ticket di autenticazione a un visitatore quando si esegue l'accesso e, in caso di richieste successive, l'analisi del ticket per determinare l'identità dell'utente.</span><span class="sxs-lookup"><span data-stu-id="88835-115">Forms authentication is merely a mechanism for granting an authentication ticket to a visitor when logging in and, on subsequent requests, parsing that ticket to determine the user's identity.</span></span> <span data-ttu-id="88835-116">Affinché un'applicazione Web supporti gli account utente, è comunque necessario implementare un archivio utenti e aggiungere funzionalità per convalidare le credenziali, registrare nuovi utenti e la miriade di altre attività relative agli account utente.</span><span class="sxs-lookup"><span data-stu-id="88835-116">For a web application to support user accounts, we still need to implement a user store and add functionality to validate credentials, register new users, and the myriad of other user account-related tasks.</span></span>

<span data-ttu-id="88835-117">Prima di ASP.NET 2,0, gli sviluppatori dovevano implementare tutte le attività relative agli account utente.</span><span class="sxs-lookup"><span data-stu-id="88835-117">Prior to ASP.NET 2.0, developers were on the hook for implementing all of these user account-related tasks.</span></span> <span data-ttu-id="88835-118">Fortunatamente il team ASP.NET ha riconosciuto questa lacuna e ha introdotto il framework delle appartenenze con ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="88835-118">Fortunately the ASP.NET team recognized this shortcoming and introduced the Membership framework with ASP.NET 2.0.</span></span> <span data-ttu-id="88835-119">Il Framework di appartenenza è un set di classi nella .NET Framework che forniscono un'interfaccia a livello di codice per l'esecuzione di attività di base relative all'account utente.</span><span class="sxs-lookup"><span data-stu-id="88835-119">The Membership framework is a set of classes in the .NET Framework that provide a programmatic interface for accomplishing core user account-related tasks.</span></span> <span data-ttu-id="88835-120">Questo Framework è basato sul [modello di provider](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), che consente agli sviluppatori di inserire un'implementazione personalizzata in un'API standardizzata.</span><span class="sxs-lookup"><span data-stu-id="88835-120">This framework is built atop the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), which allows developers to plug a customized implementation into a standardized API.</span></span>

<span data-ttu-id="88835-121">Come illustrato nell'esercitazione <a id="Tutorial1"> </a> [*nozioni di base sulla sicurezza e supporto per ASP.NET*](../introduction/security-basics-and-asp-net-support-vb.md) , il .NET Framework viene fornito con due provider di appartenenze predefiniti: [`ActiveDirectoryMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) e [`SqlMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx).</span><span class="sxs-lookup"><span data-stu-id="88835-121">As discussed in the <a id="Tutorial1"></a>[*Security Basics and ASP.NET Support*](../introduction/security-basics-and-asp-net-support-vb.md) tutorial, the .NET Framework ships with two built-in Membership providers: [`ActiveDirectoryMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) and [`SqlMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx).</span></span> <span data-ttu-id="88835-122">Come suggerisce il nome, il `SqlMembershipProvider` usa un database Microsoft SQL Server come archivio utente.</span><span class="sxs-lookup"><span data-stu-id="88835-122">As its name implies, the `SqlMembershipProvider` uses a Microsoft SQL Server database as the user store.</span></span> <span data-ttu-id="88835-123">Per usare questo provider in un'applicazione, è necessario indicare al provider il database da usare come archivio.</span><span class="sxs-lookup"><span data-stu-id="88835-123">In order to use this provider in an application, we need to tell the provider what database to use as the store.</span></span> <span data-ttu-id="88835-124">Come si può immaginare, il `SqlMembershipProvider` prevede che il database dell'archivio utenti disponga di determinate tabelle, viste e stored procedure di database.</span><span class="sxs-lookup"><span data-stu-id="88835-124">As you might imagine, the `SqlMembershipProvider` expects the user store database to have certain database tables, views, and stored procedures.</span></span> <span data-ttu-id="88835-125">È necessario aggiungere questo schema previsto al database selezionato.</span><span class="sxs-lookup"><span data-stu-id="88835-125">We need to add this expected schema to the selected database.</span></span>

<span data-ttu-id="88835-126">Questa esercitazione inizia con l'analisi delle tecniche per l'aggiunta dello schema necessario al database per poter utilizzare il `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="88835-126">This tutorial starts by examining techniques for adding the necessary schema to the database in order to use the `SqlMembershipProvider`.</span></span> <span data-ttu-id="88835-127">In seguito, verranno esaminate le tabelle principali nello schema e ne verranno illustrate le finalità e l'importanza.</span><span class="sxs-lookup"><span data-stu-id="88835-127">Following that, we will examine the key tables in the schema and discuss their purpose and importance.</span></span> <span data-ttu-id="88835-128">Questa esercitazione termina con un'occhiata a come indicare a un'applicazione ASP.NET il provider che il Framework di appartenenza deve usare.</span><span class="sxs-lookup"><span data-stu-id="88835-128">This tutorial ends with a look at how to tell an ASP.NET application which provider the Membership framework should use.</span></span>

<span data-ttu-id="88835-129">Iniziamo!</span><span class="sxs-lookup"><span data-stu-id="88835-129">Let's get started!</span></span>

## <a name="step-1-deciding-where-to-place-the-user-store"></a><span data-ttu-id="88835-130">Passaggio 1: decidere dove posizionare l'archivio utente</span><span class="sxs-lookup"><span data-stu-id="88835-130">Step 1: Deciding Where to Place the User Store</span></span>

<span data-ttu-id="88835-131">I dati di un'applicazione ASP.NET vengono in genere archiviati in un numero di tabelle in un database.</span><span class="sxs-lookup"><span data-stu-id="88835-131">An ASP.NET application's data is commonly stored in a number of tables in a database.</span></span> <span data-ttu-id="88835-132">Quando si implementa lo schema del database di `SqlMembershipProvider`, è necessario decidere se inserire lo schema di appartenenza nello stesso database dei dati dell'applicazione o in un database alternativo.</span><span class="sxs-lookup"><span data-stu-id="88835-132">When implementing the `SqlMembershipProvider` database schema we must decide whether to place the Membership schema in the same database as the application data or in an alternate database.</span></span>

<span data-ttu-id="88835-133">Si consiglia di individuare lo schema di appartenenza nello stesso database dei dati dell'applicazione per i motivi seguenti:</span><span class="sxs-lookup"><span data-stu-id="88835-133">I recommend locating the Membership schema in the same database as the application data for the following reasons:</span></span>

- <span data-ttu-id="88835-134">**Gestione** di un'applicazione i cui dati sono incapsulati in un database sono più facili da comprendere, gestire e distribuire rispetto a un'applicazione che dispone di due database distinti.</span><span class="sxs-lookup"><span data-stu-id="88835-134">**Maintainability** � an application whose data is encapsulated in one database is easier to understand, maintain, and deploy than an application that has two separate databases.</span></span>
- <span data-ttu-id="88835-135">**Integrità relazionale** individuando le tabelle correlate all'appartenenza nello stesso database delle tabelle dell'applicazione è possibile stabilire [vincoli di chiave esterna](http://en.wikipedia.org/wiki/Foreign_key) tra le chiavi primarie nelle tabelle correlate all'appartenenza e nelle tabelle delle applicazioni correlate.</span><span class="sxs-lookup"><span data-stu-id="88835-135">**Relational Integrity** � by locating the Membership-related tables in the same database as the application tables it is possible to establish [foreign key constraints](http://en.wikipedia.org/wiki/Foreign_key) between the primary keys in the Membership-related tables and related application tables.</span></span>

<span data-ttu-id="88835-136">Separare l'archivio utenti e i dati dell'applicazione in database distinti è opportuno solo se si dispone di più applicazioni che utilizzano database distinti, ma che devono condividere un archivio utente comune.</span><span class="sxs-lookup"><span data-stu-id="88835-136">Decoupling the user store and application data into separate databases only makes sense if you have multiple applications that each use separate databases, but need to share a common user store.</span></span>

### <a name="creating-a-database"></a><span data-ttu-id="88835-137">Creazione di un database</span><span class="sxs-lookup"><span data-stu-id="88835-137">Creating a Database</span></span>

<span data-ttu-id="88835-138">L'applicazione compilata poiché la seconda esercitazione non ha ancora richiesto un database.</span><span class="sxs-lookup"><span data-stu-id="88835-138">The application we have been building since the second tutorial has not yet needed a database.</span></span> <span data-ttu-id="88835-139">Ne abbiamo bisogno, tuttavia, per l'archivio utenti.</span><span class="sxs-lookup"><span data-stu-id="88835-139">We need one now, however, for the user store.</span></span> <span data-ttu-id="88835-140">È possibile crearne uno e quindi aggiungervi lo schema richiesto dal provider `SqlMembershipProvider` (vedere il passaggio 2).</span><span class="sxs-lookup"><span data-stu-id="88835-140">Let's create one and then add to it the schema required by the `SqlMembershipProvider` provider (see Step 2).</span></span>

> [!NOTE]
> <span data-ttu-id="88835-141">In questa serie di esercitazioni si utilizzerà un database [Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/sql/Aa336346.aspx) per archiviare le tabelle dell'applicazione e lo schema di `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="88835-141">Throughout this tutorial series we will be using a [Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/sql/Aa336346.aspx) database to store our application tables and the `SqlMembershipProvider` schema.</span></span> <span data-ttu-id="88835-142">Questa decisione è stata presa per due motivi: per prima cosa, a causa del costo gratuito, l'edizione Express è la versione più accessibile di SQL Server 2005; in secondo luogo, i database di SQL Server 2005 Express Edition possono essere inseriti direttamente nella cartella `App_Data` dell'applicazione Web, rendendolo un pacchetto cinch per comprimere il database e l'applicazione Web in un file ZIP e per ridistribuirlo senza alcuna istruzione di configurazione speciale o opzioni di configurazione.</span><span class="sxs-lookup"><span data-stu-id="88835-142">This decision was made for two reasons: first, due to its cost - free - the Express Edition is the most readably accessible version of SQL Server 2005; second, SQL Server 2005 Express Edition databases can be placed directly in the web application's `App_Data` folder, making it a cinch to package the database and web application together in one ZIP file and to redeploy it without any special setup instructions or configuration options.</span></span> <span data-ttu-id="88835-143">Se si preferisce continuare a usare una versione non Express Edition di SQL Server, è possibile farlo gratuitamente.</span><span class="sxs-lookup"><span data-stu-id="88835-143">If you'd prefer to follow along using a non-Express Edition version of SQL Server, feel free.</span></span> <span data-ttu-id="88835-144">I passaggi sono praticamente identici.</span><span class="sxs-lookup"><span data-stu-id="88835-144">The steps are virtually identical.</span></span> <span data-ttu-id="88835-145">Lo schema `SqlMembershipProvider` funzionerà con qualsiasi versione di Microsoft SQL Server 2000.</span><span class="sxs-lookup"><span data-stu-id="88835-145">The `SqlMembershipProvider` schema will work with any version of Microsoft SQL Server 2000 and up.</span></span>

<span data-ttu-id="88835-146">Dal Esplora soluzioni fare clic con il pulsante destro del mouse sulla cartella `App_Data` e scegliere Aggiungi nuovo elemento.</span><span class="sxs-lookup"><span data-stu-id="88835-146">From the Solution Explorer, right-click on the `App_Data` folder and choose to Add New Item.</span></span> <span data-ttu-id="88835-147">Se nel progetto non viene visualizzata una cartella `App_Data`, fare clic con il pulsante destro del mouse sul progetto in Esplora soluzioni, scegliere Aggiungi cartella ASP.NET e selezionare `App_Data`.) Nella finestra di dialogo Aggiungi nuovo elemento scegliere di aggiungere un nuovo database SQL denominato `SecurityTutorials.mdf`.</span><span class="sxs-lookup"><span data-stu-id="88835-147">(If you do not see an `App_Data` folder in your project, right-click on the project in Solution Explorer, select Add ASP.NET Folder, and pick `App_Data`.) From the Add New Item dialog box, choose to add a new SQL Database named `SecurityTutorials.mdf`.</span></span> <span data-ttu-id="88835-148">In questa esercitazione si aggiungerà lo schema di `SqlMembershipProvider` al database. nelle esercitazioni successive si creeranno tabelle aggiuntive per acquisire i dati dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="88835-148">In this tutorial we will add the `SqlMembershipProvider` schema to this database; in subsequent tutorials we will create additional tables to capture our application data.</span></span>

<span data-ttu-id="88835-149">[![aggiungere un nuovo database SQL denominato SecurityTutorials. MDF alla cartella App_Data](creating-the-membership-schema-in-sql-server-vb/_static/image2.png)](creating-the-membership-schema-in-sql-server-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="88835-149">[![Add a New SQL Database Named SecurityTutorials.mdf Database to the App_Data Folder](creating-the-membership-schema-in-sql-server-vb/_static/image2.png)](creating-the-membership-schema-in-sql-server-vb/_static/image1.png)</span></span>

<span data-ttu-id="88835-150">**Figura 1**: aggiungere un nuovo database SQL denominato `SecurityTutorials.mdf` database alla cartella `App_Data` ([fare clic per visualizzare l'immagine con dimensioni complete](creating-the-membership-schema-in-sql-server-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="88835-150">**Figure 1**: Add a New SQL Database Named `SecurityTutorials.mdf` Database to the `App_Data` Folder ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image3.png))</span></span>

<span data-ttu-id="88835-151">L'aggiunta di un database alla cartella `App_Data` lo include automaticamente nella visualizzazione Esplora database.</span><span class="sxs-lookup"><span data-stu-id="88835-151">Adding a database to the `App_Data` folder automatically includes it in the Database Explorer view.</span></span> <span data-ttu-id="88835-152">Nella versione non Express Edition di Visual Studio, il Esplora database viene chiamato Esplora server. Passare alla Esplora database ed espandere il database `SecurityTutorials` appena aggiunto.</span><span class="sxs-lookup"><span data-stu-id="88835-152">(In the non-Express Edition version of Visual Studio, the Database Explorer is called the Server Explorer.) Go to the Database Explorer and expand the just-added `SecurityTutorials` database.</span></span> <span data-ttu-id="88835-153">Se non viene visualizzata la Esplora database sullo schermo, andare al menu Visualizza e scegliere Esplora database oppure premere CTRL + ALT + S.</span><span class="sxs-lookup"><span data-stu-id="88835-153">If you do not see the Database Explorer on screen, go to the View menu and choose Database Explorer, or hit Ctrl+Alt+S.</span></span> <span data-ttu-id="88835-154">Come illustrato nella figura 2, il database `SecurityTutorials` è vuoto, non contiene tabelle, viste e stored procedure.</span><span class="sxs-lookup"><span data-stu-id="88835-154">As Figure 2 shows, the `SecurityTutorials` database is empty - it contains no tables, no views, and no stored procedures.</span></span>

<span data-ttu-id="88835-155">[![il database SecurityTutorials è attualmente vuoto](creating-the-membership-schema-in-sql-server-vb/_static/image5.png)](creating-the-membership-schema-in-sql-server-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="88835-155">[![The SecurityTutorials Database is Currently Empty](creating-the-membership-schema-in-sql-server-vb/_static/image5.png)](creating-the-membership-schema-in-sql-server-vb/_static/image4.png)</span></span>

<span data-ttu-id="88835-156">**Figura 2**: il database `SecurityTutorials` è attualmente vuoto ([fare clic per visualizzare l'immagine con dimensioni complete](creating-the-membership-schema-in-sql-server-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="88835-156">**Figure 2**: The `SecurityTutorials` Database is Currently Empty ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image6.png))</span></span>

## <a name="step-2-adding-thesqlmembershipproviderschema-to-the-database"></a><span data-ttu-id="88835-157">Passaggio 2: aggiunta dello schema di`SqlMembershipProvider`al database</span><span class="sxs-lookup"><span data-stu-id="88835-157">Step 2: Adding the`SqlMembershipProvider`Schema to the Database</span></span>

<span data-ttu-id="88835-158">Il `SqlMembershipProvider` richiede l'installazione di un particolare set di tabelle, viste e stored procedure nel database dell'archivio utenti.</span><span class="sxs-lookup"><span data-stu-id="88835-158">The `SqlMembershipProvider` requires a particular set of tables, views, and stored procedures to be installed in the user store database.</span></span> <span data-ttu-id="88835-159">Questi oggetti di database necessari possono essere aggiunti utilizzando lo [strumento`aspnet_regsql.exe`](https://msdn.microsoft.com/library/ms229862.aspx).</span><span class="sxs-lookup"><span data-stu-id="88835-159">These requisite database objects can be added using the [`aspnet_regsql.exe` tool](https://msdn.microsoft.com/library/ms229862.aspx).</span></span> <span data-ttu-id="88835-160">Questo file si trova nella cartella `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\`.</span><span class="sxs-lookup"><span data-stu-id="88835-160">This file is located in the `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folder.</span></span>

> [!NOTE]
> <span data-ttu-id="88835-161">Lo strumento `aspnet_regsql.exe` offre funzionalità della riga di comando e un'interfaccia utente grafica.</span><span class="sxs-lookup"><span data-stu-id="88835-161">The `aspnet_regsql.exe` tool offers both command line functionality and a graphical user interface.</span></span> <span data-ttu-id="88835-162">L'interfaccia grafica è più intuitiva ed è quella che verrà esaminata in questa esercitazione.</span><span class="sxs-lookup"><span data-stu-id="88835-162">The graphical interface is more user friendly and is what we will examine in this tutorial.</span></span> <span data-ttu-id="88835-163">L'interfaccia della riga di comando è utile quando l'aggiunta dello schema di `SqlMembershipProvider` deve essere automatizzata, ad esempio negli script di compilazione o negli scenari di test automatizzati.</span><span class="sxs-lookup"><span data-stu-id="88835-163">The command line interface is useful when the addition of the `SqlMembershipProvider` schema needs to be automated, such as in build scripts or automated testing scenarios.</span></span>

<span data-ttu-id="88835-164">Lo strumento `aspnet_regsql.exe` viene usato per aggiungere o rimuovere i *servizi delle applicazioni ASP.NET* in un database di SQL Server specificato.</span><span class="sxs-lookup"><span data-stu-id="88835-164">The `aspnet_regsql.exe` tool is used to add or remove *ASP.NET application services* to a specified SQL Server database.</span></span> <span data-ttu-id="88835-165">I servizi dell'applicazione ASP.NET includono gli schemi per la `SqlMembershipProvider` e `SqlRoleProvider`, insieme agli schemi per i provider basati su SQL per altri framework ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="88835-165">The ASP.NET application services encompass the schemas for the `SqlMembershipProvider` and `SqlRoleProvider`, along with the schemas for the SQL-based providers for other ASP.NET 2.0 frameworks.</span></span> <span data-ttu-id="88835-166">Per lo strumento `aspnet_regsql.exe` è necessario fornire due informazioni:</span><span class="sxs-lookup"><span data-stu-id="88835-166">We need to provide two bits of information to the `aspnet_regsql.exe` tool:</span></span>

- <span data-ttu-id="88835-167">Se si desidera aggiungere o rimuovere servizi applicativi e</span><span class="sxs-lookup"><span data-stu-id="88835-167">Whether we want to add or remove application services, and</span></span>
- <span data-ttu-id="88835-168">Database da cui aggiungere o rimuovere lo schema dei servizi dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="88835-168">The database from which to add or remove the application services schema</span></span>

<span data-ttu-id="88835-169">Nella richiesta del database da utilizzare, lo strumento `aspnet_regsql.exe` richiede di fornire il nome del server in cui si trova il database, le credenziali di sicurezza per la connessione al database e il nome del database.</span><span class="sxs-lookup"><span data-stu-id="88835-169">In prompting for the database to use, the `aspnet_regsql.exe` tool asks us to provide the name of the server the database resides on, the security credentials for connecting to the database, and the database name.</span></span> <span data-ttu-id="88835-170">Se si utilizza l'edizione non Express di SQL Server, è necessario che queste informazioni siano già note, perché si tratta delle stesse informazioni che è necessario fornire tramite una stringa di connessione quando si utilizza il database tramite una pagina Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="88835-170">If you are using the non-Express Edition of SQL Server, you should already know this information, as it is the same information you must provide through a connection string when working with the database through an ASP.NET web page.</span></span> <span data-ttu-id="88835-171">Determinare il nome del server e del database quando si utilizza un database SQL Server 2005 Express Edition nella cartella `App_Data`, tuttavia, è un po' più impegnativo.</span><span class="sxs-lookup"><span data-stu-id="88835-171">Determining the server and database name when using a SQL Server 2005 Express Edition database in the `App_Data` folder, however, is a bit more involved.</span></span>

<span data-ttu-id="88835-172">Nella sezione seguente viene esaminato un modo semplice per specificare il nome del server e del database per un database di SQL Server 2005 Express Edition nella cartella `App_Data`.</span><span class="sxs-lookup"><span data-stu-id="88835-172">The following section examines a straightforward way for specifying the server and database name for a SQL Server 2005 Express Edition database in the `App_Data` folder.</span></span> <span data-ttu-id="88835-173">Se non si usa SQL Server 2005 Express Edition è possibile passare direttamente alla sezione installazione del Servizi per le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="88835-173">If you are not using SQL Server 2005 Express Edition feel free to skip ahead to the Installing the Application Services section.</span></span>

### <a name="determining-the-server-and-database-name-for-a-sql-server-2005-express-edition-database-in-theapp_datafolder"></a><span data-ttu-id="88835-174">Determinazione del nome del server e del database per un database di SQL Server 2005 Express Edition nella cartella`App_Data`</span><span class="sxs-lookup"><span data-stu-id="88835-174">Determining the Server and Database Name for a SQL Server 2005 Express Edition Database in the`App_Data`Folder</span></span>

<span data-ttu-id="88835-175">Per utilizzare lo strumento `aspnet_regsql.exe` è necessario che i nomi del server e del database siano riconoscibili.</span><span class="sxs-lookup"><span data-stu-id="88835-175">In order to use the `aspnet_regsql.exe` tool we need to know the server and database names.</span></span> <span data-ttu-id="88835-176">Il nome del server è `localhost\InstanceName`.</span><span class="sxs-lookup"><span data-stu-id="88835-176">The server name is `localhost\InstanceName`.</span></span> <span data-ttu-id="88835-177">Probabilmente, *NomeIstanza* è `SQLExpress`.</span><span class="sxs-lookup"><span data-stu-id="88835-177">Most likely, the *InstanceName* is `SQLExpress`.</span></span> <span data-ttu-id="88835-178">Tuttavia, se è stato installato SQL Server 2005 Express Edition manualmente, ovvero non è stato installato automaticamente durante l'installazione di Visual Studio, è possibile selezionare un nome di istanza diverso.</span><span class="sxs-lookup"><span data-stu-id="88835-178">However, if you installed SQL Server 2005 Express Edition manually (that is, you did not install it automatically while installing Visual Studio), then it is possible that you selected a different instance name.</span></span>

<span data-ttu-id="88835-179">Il nome del database è un po' più complicato da determinare.</span><span class="sxs-lookup"><span data-stu-id="88835-179">The database name is a bit trickier to determine.</span></span> <span data-ttu-id="88835-180">I database nella cartella `App_Data` in genere hanno un nome di database che include un [identificatore univoco globale](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) insieme al percorso del file di database.</span><span class="sxs-lookup"><span data-stu-id="88835-180">Databases in the `App_Data` folder typically have a database name that includes a [globally unique identifier](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) along with the path to the database file.</span></span> <span data-ttu-id="88835-181">È necessario determinare il nome del database per aggiungere lo schema dei servizi dell'applicazione tramite `aspnet_regsql.exe`.</span><span class="sxs-lookup"><span data-stu-id="88835-181">We need to determine this database name in order to add the application services schema through `aspnet_regsql.exe`.</span></span>

<span data-ttu-id="88835-182">Il modo più semplice per verificare il nome del database consiste nell'esaminarlo tramite SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="88835-182">The easiest way to ascertain the database name is to examine it through SQL Server Management Studio.</span></span> <span data-ttu-id="88835-183">SQL Server Management Studio offre un'interfaccia grafica per la gestione dei database SQL Server 2005, ma non con l'edizione Express di SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="88835-183">SQL Server Management Studio provides a graphical interface for managing SQL Server 2005 databases, but it does not ship with the Express Edition of SQL Server 2005.</span></span> <span data-ttu-id="88835-184">La novità è che è [possibile scaricare](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) l'edizione Express gratuita di SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="88835-184">The good news is that [you can download](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) the free Express Edition of SQL Server Management Studio.</span></span>

> [!NOTE]
> <span data-ttu-id="88835-185">Se sul desktop è installata anche una versione non Express Edition di SQL Server 2005, è probabile che sia installata la versione completa di Management Studio.</span><span class="sxs-lookup"><span data-stu-id="88835-185">If you also have a non-Express Edition version of SQL Server 2005 installed on your desktop then the full version of Management Studio is likely installed.</span></span> <span data-ttu-id="88835-186">È possibile utilizzare la versione completa per determinare il nome del database, seguendo la stessa procedura descritta di seguito per l'edizione Express.</span><span class="sxs-lookup"><span data-stu-id="88835-186">You can use the full version to determine the database name, following the same steps as outlined below for the Express Edition.</span></span>

<span data-ttu-id="88835-187">Per iniziare, chiudere Visual Studio per assicurarsi che tutti i blocchi imposti da Visual Studio nel file di database siano chiusi.</span><span class="sxs-lookup"><span data-stu-id="88835-187">Start by closing Visual Studio to ensure that any locks imposed by Visual Studio on the database file are closed.</span></span> <span data-ttu-id="88835-188">Avviare quindi SQL Server Management Studio e connettersi al database `localhost\InstanceName` per SQL Server 2005 Express Edition.</span><span class="sxs-lookup"><span data-stu-id="88835-188">Next, launch SQL Server Management Studio and connect to the `localhost\InstanceName` database for SQL Server 2005 Express Edition.</span></span> <span data-ttu-id="88835-189">Come indicato in precedenza, è probabile che il nome dell'istanza sia `SQLExpress`.</span><span class="sxs-lookup"><span data-stu-id="88835-189">As noted earlier, chances are the instance name is `SQLExpress`.</span></span> <span data-ttu-id="88835-190">Per l'opzione autenticazione selezionare autenticazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="88835-190">For the Authentication option, select Windows Authentication.</span></span>

<span data-ttu-id="88835-191">[![connettersi all'istanza di SQL Server 2005 Express Edition](creating-the-membership-schema-in-sql-server-vb/_static/image8.png)](creating-the-membership-schema-in-sql-server-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="88835-191">[![Connect to the SQL Server 2005 Express Edition Instance](creating-the-membership-schema-in-sql-server-vb/_static/image8.png)](creating-the-membership-schema-in-sql-server-vb/_static/image7.png)</span></span>

<span data-ttu-id="88835-192">**Figura 3**: connettersi all'istanza di SQL Server 2005 Express Edition ([fare clic per visualizzare l'immagine con dimensioni complete](creating-the-membership-schema-in-sql-server-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="88835-192">**Figure 3**: Connect to the SQL Server 2005 Express Edition Instance ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image9.png))</span></span>

<span data-ttu-id="88835-193">Dopo la connessione all'istanza di SQL Server 2005 Express Edition, Management Studio Visualizza le cartelle per i database, le impostazioni di sicurezza, gli oggetti server e così via.</span><span class="sxs-lookup"><span data-stu-id="88835-193">After connecting to the SQL Server 2005 Express Edition instance, Management Studio displays folders for the Databases, the Security settings, the Server Objects, and so on.</span></span> <span data-ttu-id="88835-194">Se si espande la scheda database, si noterà che il database di `SecurityTutorials.mdf` *non* è registrato nell'istanza del database. è necessario innanzitutto alleghi il database.</span><span class="sxs-lookup"><span data-stu-id="88835-194">If you expand the Databases tab you will see that the `SecurityTutorials.mdf` database is *not* registered in the database instance - we need to attach the database first.</span></span>

<span data-ttu-id="88835-195">Fare clic con il pulsante destro del mouse sulla cartella database e scegliere Connetti dal menu di scelta rapida.</span><span class="sxs-lookup"><span data-stu-id="88835-195">Right-click on the Databases folder and choose Attach from the context menu.</span></span> <span data-ttu-id="88835-196">Verrà visualizzata la finestra di dialogo Connetti database.</span><span class="sxs-lookup"><span data-stu-id="88835-196">This will display the Attach Databases dialog box.</span></span> <span data-ttu-id="88835-197">Da qui, fare clic sul pulsante Aggiungi, passare al database di `SecurityTutorials.mdf` e fare clic su OK.</span><span class="sxs-lookup"><span data-stu-id="88835-197">From here, click the Add button, browse to the `SecurityTutorials.mdf` database, and click OK.</span></span> <span data-ttu-id="88835-198">Nella figura 4 viene illustrata la finestra di dialogo Connetti database dopo che è stato selezionato il database `SecurityTutorials.mdf`.</span><span class="sxs-lookup"><span data-stu-id="88835-198">Figure 4 shows the Attach Databases dialog box after the `SecurityTutorials.mdf` database has been selected.</span></span> <span data-ttu-id="88835-199">Nella figura 5 viene illustrata la Esplora oggetti di Management Studio dopo che il database è stato collegato correttamente.</span><span class="sxs-lookup"><span data-stu-id="88835-199">Figure 5 shows Management Studio's Object Explorer after the database has been successfully attached.</span></span>

<span data-ttu-id="88835-200">[![collegato il database SecurityTutorials. MDF](creating-the-membership-schema-in-sql-server-vb/_static/image11.png)](creating-the-membership-schema-in-sql-server-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="88835-200">[![Attach the SecurityTutorials.mdf Database](creating-the-membership-schema-in-sql-server-vb/_static/image11.png)](creating-the-membership-schema-in-sql-server-vb/_static/image10.png)</span></span>

<span data-ttu-id="88835-201">**Figura 4**: allineare il Database[di `SecurityTutorials.mdf` (fare clic per visualizzare l'immagine con dimensioni complete](creating-the-membership-schema-in-sql-server-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="88835-201">**Figure 4**: Attach the `SecurityTutorials.mdf` Database ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image12.png))</span></span>

<span data-ttu-id="88835-202">[![il database SecurityTutorials. MDF viene visualizzato nella cartella database](creating-the-membership-schema-in-sql-server-vb/_static/image14.png)](creating-the-membership-schema-in-sql-server-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="88835-202">[![The SecurityTutorials.mdf Database Appears in the Databases Folder](creating-the-membership-schema-in-sql-server-vb/_static/image14.png)](creating-the-membership-schema-in-sql-server-vb/_static/image13.png)</span></span>

<span data-ttu-id="88835-203">**Figura 5**: il database `SecurityTutorials.mdf` viene visualizzato nella cartella database ([fare clic per visualizzare l'immagine con dimensioni complete](creating-the-membership-schema-in-sql-server-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="88835-203">**Figure 5**: The `SecurityTutorials.mdf` Database Appears in the Databases Folder ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image15.png))</span></span>

<span data-ttu-id="88835-204">Come illustrato nella figura 5, il database `SecurityTutorials.mdf` ha un nome piuttosto astruso.</span><span class="sxs-lookup"><span data-stu-id="88835-204">As Figure 5 shows, the `SecurityTutorials.mdf` database has a rather abstruse name.</span></span> <span data-ttu-id="88835-205">Modificare il nome in modo più memorabile (e più facile da digitare).</span><span class="sxs-lookup"><span data-stu-id="88835-205">Let's change it to a more memorable (and easier to type) name.</span></span> <span data-ttu-id="88835-206">Fare clic con il pulsante destro del mouse sul database, scegliere Rinomina dal menu di scelta rapida e rinominarlo `SecurityTutorialsDatabase`.</span><span class="sxs-lookup"><span data-stu-id="88835-206">Right-click on the database, choose Rename from the context menu, and rename it `SecurityTutorialsDatabase`.</span></span> <span data-ttu-id="88835-207">Il nome del file non viene modificato, ma solo il nome utilizzato dal database per identificarsi SQL Server.</span><span class="sxs-lookup"><span data-stu-id="88835-207">This does not change the filename, just the name the database uses to identify itself to SQL Server.</span></span>

<span data-ttu-id="88835-208">[![rinominare il database in SecurityTutorialsDatabase](creating-the-membership-schema-in-sql-server-vb/_static/image17.png)](creating-the-membership-schema-in-sql-server-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="88835-208">[![Rename the Database to SecurityTutorialsDatabase](creating-the-membership-schema-in-sql-server-vb/_static/image17.png)](creating-the-membership-schema-in-sql-server-vb/_static/image16.png)</span></span>

<span data-ttu-id="88835-209">**Figura 6**: rinominare il Database in `SecurityTutorialsDatabase`([fare clic per visualizzare l'immagine con dimensioni complete](creating-the-membership-schema-in-sql-server-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="88835-209">**Figure 6**: Rename the Database to `SecurityTutorialsDatabase`([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image18.png))</span></span>

<span data-ttu-id="88835-210">A questo punto si conoscono i nomi del server e del database per il file di database `SecurityTutorials.mdf`: `localhost\InstanceName` e `SecurityTutorialsDatabase`, rispettivamente.</span><span class="sxs-lookup"><span data-stu-id="88835-210">At this point we know the server and database names for the `SecurityTutorials.mdf` database file: `localhost\InstanceName` and `SecurityTutorialsDatabase`, respectively.</span></span> <span data-ttu-id="88835-211">A questo punto è possibile installare i servizi dell'applicazione tramite lo strumento `aspnet_regsql.exe`.</span><span class="sxs-lookup"><span data-stu-id="88835-211">We are now ready to install the application services through the `aspnet_regsql.exe` tool.</span></span>

### <a name="installing-the-application-services"></a><span data-ttu-id="88835-212">Installazione del Servizi per le applicazioni</span><span class="sxs-lookup"><span data-stu-id="88835-212">Installing the Application Services</span></span>

<span data-ttu-id="88835-213">Per avviare lo strumento `aspnet_regsql.exe`, andare al menu Start e scegliere Esegui.</span><span class="sxs-lookup"><span data-stu-id="88835-213">To launch the `aspnet_regsql.exe` tool, go to the start menu and choose Run.</span></span> <span data-ttu-id="88835-214">Immettere `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\aspnet_regsql.exe` nella casella di testo e fare clic su OK.</span><span class="sxs-lookup"><span data-stu-id="88835-214">Enter `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\aspnet_regsql.exe` into the textbox and click OK.</span></span> <span data-ttu-id="88835-215">In alternativa, è possibile utilizzare Esplora risorse per eseguire il drill-down nella cartella appropriata e fare doppio clic sul file `aspnet_regsql.exe`.</span><span class="sxs-lookup"><span data-stu-id="88835-215">Alternatively, you can use Windows Explorer to drill down to the appropriate folder and double-click the `aspnet_regsql.exe` file.</span></span> <span data-ttu-id="88835-216">Entrambi gli approcci utilizzeranno gli stessi risultati.</span><span class="sxs-lookup"><span data-stu-id="88835-216">Either approach will net the same results.</span></span>

<span data-ttu-id="88835-217">Eseguendo lo strumento `aspnet_regsql.exe` senza argomenti della riga di comando, viene avviata l'interfaccia utente grafica dell'installazione guidata di ASP.NET SQL Server.</span><span class="sxs-lookup"><span data-stu-id="88835-217">Running the `aspnet_regsql.exe` tool without any command line arguments launches the ASP.NET SQL Server Setup Wizard graphical user interface.</span></span> <span data-ttu-id="88835-218">La procedura guidata consente di aggiungere o rimuovere facilmente i servizi delle applicazioni ASP.NET in un database specificato.</span><span class="sxs-lookup"><span data-stu-id="88835-218">The wizard makes it easy to add or remove the ASP.NET application services on a specified database.</span></span> <span data-ttu-id="88835-219">La prima schermata della procedura guidata, illustrata nella figura 7, descrive lo scopo dello strumento.</span><span class="sxs-lookup"><span data-stu-id="88835-219">The first screen of the wizard, shown in Figure 7, describes the purpose of the tool.</span></span>

<span data-ttu-id="88835-220">[![usare l'installazione guidata di ASP.NET SQL Server consente di aggiungere lo schema di appartenenza](creating-the-membership-schema-in-sql-server-vb/_static/image20.png)](creating-the-membership-schema-in-sql-server-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="88835-220">[![Use the ASP.NET SQL Server Setup Wizard Makes to Add the Membership Schema](creating-the-membership-schema-in-sql-server-vb/_static/image20.png)](creating-the-membership-schema-in-sql-server-vb/_static/image19.png)</span></span>

<span data-ttu-id="88835-221">**Figura 7**: usare l'installazione guidata di ASP.NET SQL Server consente di aggiungere lo schema di appartenenza ([fare clic per visualizzare l'immagine con dimensioni complete](creating-the-membership-schema-in-sql-server-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="88835-221">**Figure 7**: Use the ASP.NET SQL Server Setup Wizard Makes to Add the Membership Schema ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image21.png))</span></span>

<span data-ttu-id="88835-222">Il secondo passaggio della procedura guidata chiede se si desidera aggiungere o rimuovere i servizi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="88835-222">The second step in the wizard asks us whether we want to add the application services or remove them.</span></span> <span data-ttu-id="88835-223">Poiché si desidera aggiungere le tabelle, le viste e le stored procedure necessarie per la `SqlMembershipProvider`, scegliere l'opzione configura SQL Server per i servizi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="88835-223">Since we want to add the tables, views, and stored procedures necessary for the `SqlMembershipProvider`, choose the Configure SQL Server for application services option.</span></span> <span data-ttu-id="88835-224">In seguito, se si desidera rimuovere questo schema dal database, eseguire nuovamente la procedura guidata, ma scegliere l'opzione Rimuovi informazioni servizi applicazioni da un database esistente.</span><span class="sxs-lookup"><span data-stu-id="88835-224">Later, if you want to remove this schema from your database, re-run this wizard, but instead choose the Remove application services information from an existing database option.</span></span>

<span data-ttu-id="88835-225">[![scegliere l'opzione configura SQL Server per Servizi per le applicazioni](creating-the-membership-schema-in-sql-server-vb/_static/image23.png)](creating-the-membership-schema-in-sql-server-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="88835-225">[![Choose the Configure SQL Server for Application Services Option](creating-the-membership-schema-in-sql-server-vb/_static/image23.png)](creating-the-membership-schema-in-sql-server-vb/_static/image22.png)</span></span>

<span data-ttu-id="88835-226">**Figura 8**: scegliere l'opzione configura SQL Server per servizi per le applicazioni ([fare clic per visualizzare l'immagine con dimensioni complete](creating-the-membership-schema-in-sql-server-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="88835-226">**Figure 8**: Choose the Configure SQL Server for Application Services Option ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image24.png))</span></span>

<span data-ttu-id="88835-227">Il terzo passaggio richiede le informazioni sul database, ovvero il nome del server, le informazioni di autenticazione e il nome del database.</span><span class="sxs-lookup"><span data-stu-id="88835-227">The third step prompts for the database information: the server name, authentication information, and the database name.</span></span> <span data-ttu-id="88835-228">Se si è stati seguiti insieme a questa esercitazione e si è aggiunto il database di `SecurityTutorials.mdf` a `App_Data`, questo è stato associato a `localhost\InstanceName`e rinominato in `SecurityTutorialsDatabase`, utilizzare i valori seguenti:</span><span class="sxs-lookup"><span data-stu-id="88835-228">If you have been following along with this tutorial and have added the `SecurityTutorials.mdf` database to `App_Data`, attached it to `localhost\InstanceName`, and renamed it to `SecurityTutorialsDatabase`, then use the following values:</span></span>

- <span data-ttu-id="88835-229">Server: `localhost\InstanceName`</span><span class="sxs-lookup"><span data-stu-id="88835-229">Server: `localhost\InstanceName`</span></span>
- <span data-ttu-id="88835-230">Autenticazione di Windows</span><span class="sxs-lookup"><span data-stu-id="88835-230">Windows authentication</span></span>
- <span data-ttu-id="88835-231">Database: `SecurityTutorialsDatabase`</span><span class="sxs-lookup"><span data-stu-id="88835-231">Database: `SecurityTutorialsDatabase`</span></span>

<span data-ttu-id="88835-232">[![immettere le informazioni sul database](creating-the-membership-schema-in-sql-server-vb/_static/image26.png)](creating-the-membership-schema-in-sql-server-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="88835-232">[![Enter the Database Information](creating-the-membership-schema-in-sql-server-vb/_static/image26.png)](creating-the-membership-schema-in-sql-server-vb/_static/image25.png)</span></span>

<span data-ttu-id="88835-233">**Figura 9**: immettere le informazioni sul database ([fare clic per visualizzare l'immagine con dimensioni complete](creating-the-membership-schema-in-sql-server-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="88835-233">**Figure 9**: Enter the Database Information ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image27.png))</span></span>

<span data-ttu-id="88835-234">Dopo aver immesso le informazioni sul database, fare clic su Avanti.</span><span class="sxs-lookup"><span data-stu-id="88835-234">After entering the database information, click Next.</span></span> <span data-ttu-id="88835-235">Il passaggio finale riepiloga i passaggi che verranno eseguiti.</span><span class="sxs-lookup"><span data-stu-id="88835-235">The final step summarizes the steps that will be taken.</span></span> <span data-ttu-id="88835-236">Fare clic su Avanti per installare i servizi dell'applicazione, quindi completare la procedura guidata.</span><span class="sxs-lookup"><span data-stu-id="88835-236">Click Next to install the application services and then Finish to complete the wizard.</span></span>

> [!NOTE]
> <span data-ttu-id="88835-237">Se è stato utilizzato Management Studio per allegare il database e rinominare il file di database, assicurarsi di scollegare il database e chiudere Management Studio prima di riaprire Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="88835-237">If you used Management Studio to attach the database and rename the database file, be sure to detach the database and close Management Studio before reopening Visual Studio.</span></span> <span data-ttu-id="88835-238">Per scollegare il database di `SecurityTutorialsDatabase`, fare clic con il pulsante destro del mouse sul nome del database e scegliere Disconnetti dal menu attività.</span><span class="sxs-lookup"><span data-stu-id="88835-238">To detach the `SecurityTutorialsDatabase` database, right-click on the database name and, from the Tasks menu, choose Detach.</span></span>

<span data-ttu-id="88835-239">Al termine della procedura guidata, tornare a Visual Studio e passare alla Esplora database.</span><span class="sxs-lookup"><span data-stu-id="88835-239">Upon completion of the wizard, return to Visual Studio and navigate to the Database Explorer.</span></span> <span data-ttu-id="88835-240">Espandere la cartella Tabelle.</span><span class="sxs-lookup"><span data-stu-id="88835-240">Expand the Tables folder.</span></span> <span data-ttu-id="88835-241">Verrà visualizzata una serie di tabelle i cui nomi iniziano con il prefisso `aspnet_`.</span><span class="sxs-lookup"><span data-stu-id="88835-241">You should see a series of tables whose names start with the prefix `aspnet_`.</span></span> <span data-ttu-id="88835-242">Analogamente, è possibile trovare una vasta gamma di viste e stored procedure nelle cartelle viste e stored procedure.</span><span class="sxs-lookup"><span data-stu-id="88835-242">Likewise, a variety of views and stored procedures can be found under the Views and Stored Procedures folders.</span></span> <span data-ttu-id="88835-243">Questi oggetti di database costituiscono lo schema dei servizi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="88835-243">These database objects make up the application services schema.</span></span> <span data-ttu-id="88835-244">Nel passaggio 3 vengono esaminati gli oggetti di database appartenenti e specifici del ruolo.</span><span class="sxs-lookup"><span data-stu-id="88835-244">We will examine the membership- and role-specific database objects in Step 3.</span></span>

<span data-ttu-id="88835-245">[![un'ampia gamma di tabelle, viste e stored procedure sono state aggiunte al database](creating-the-membership-schema-in-sql-server-vb/_static/image29.png)](creating-the-membership-schema-in-sql-server-vb/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="88835-245">[![A Variety of Tables, Views, and Stored Procedures Have Been Added to the Database](creating-the-membership-schema-in-sql-server-vb/_static/image29.png)](creating-the-membership-schema-in-sql-server-vb/_static/image28.png)</span></span>

<span data-ttu-id="88835-246">**Figura 10**: nel database sono state aggiunte diverse tabelle, viste e stored procedure ([fare clic per visualizzare l'immagine con dimensioni complete](creating-the-membership-schema-in-sql-server-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="88835-246">**Figure 10**: A Variety of Tables, Views, and Stored Procedures Have Been Added to the Database ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image30.png))</span></span>

> [!NOTE]
> <span data-ttu-id="88835-247">L'interfaccia utente grafica dello strumento `aspnet_regsql.exe` installa l'intero schema dei servizi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="88835-247">The `aspnet_regsql.exe` tool's graphical user interface installs the entire application services schema.</span></span> <span data-ttu-id="88835-248">Tuttavia, quando si esegue `aspnet_regsql.exe` dalla riga di comando, è possibile specificare quali componenti specifici dei servizi dell'applicazione installare o rimuovere.</span><span class="sxs-lookup"><span data-stu-id="88835-248">But when executing `aspnet_regsql.exe` from the command-line you can specify what particular application services components to install (or remove).</span></span> <span data-ttu-id="88835-249">Se pertanto si desidera aggiungere solo le tabelle, le viste e le stored procedure necessarie per i provider `SqlMembershipProvider` e `SqlRoleProvider`, eseguire `aspnet_regsql.exe` dalla riga di comando.</span><span class="sxs-lookup"><span data-stu-id="88835-249">Therefore, if you want to add just the tables, views, and stored procedures necessary for the `SqlMembershipProvider` and `SqlRoleProvider` providers, run `aspnet_regsql.exe` from the command-line.</span></span> <span data-ttu-id="88835-250">In alternativa, è possibile eseguire manualmente il subset appropriato di script di creazione T-SQL usati da `aspnet_regsql.exe`.</span><span class="sxs-lookup"><span data-stu-id="88835-250">Alternatively, you can manually run the appropriate subset of T-SQL create scripts used by `aspnet_regsql.exe`.</span></span> <span data-ttu-id="88835-251">Questi script si trovano nella cartella `WINDIR%\Microsoft.Net\Framework\v2.0.50727\` con nomi quali `InstallCommon.sql`, `InstallMembership.sql`, `InstallRoles.sql`, `InstallProfile.sql`, `InstallSqlState.sql`e così via.</span><span class="sxs-lookup"><span data-stu-id="88835-251">These scripts are located in the `WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folder with names like `InstallCommon.sql`, `InstallMembership.sql`, `InstallRoles.sql`, `InstallProfile.sql`, `InstallSqlState.sql`, and so on.</span></span>

<span data-ttu-id="88835-252">A questo punto sono stati creati gli oggetti di database necessari per il `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="88835-252">At this point we have created the database objects needed by the `SqlMembershipProvider`.</span></span> <span data-ttu-id="88835-253">Tuttavia, è comunque necessario istruire il Framework di appartenenza che deve usare il `SqlMembershipProvider` (rispetto a `ActiveDirectoryMembershipProvider`) e che il `SqlMembershipProvider` deve usare il database `SecurityTutorials`.</span><span class="sxs-lookup"><span data-stu-id="88835-253">However, we still need to instruct the Membership framework that it should use the `SqlMembershipProvider` (versus, say, the `ActiveDirectoryMembershipProvider`) and that the `SqlMembershipProvider` should use the `SecurityTutorials` database.</span></span> <span data-ttu-id="88835-254">Si esaminerà come specificare il provider da usare e come personalizzare le impostazioni del provider selezionato nel passaggio 4.</span><span class="sxs-lookup"><span data-stu-id="88835-254">We'll look at how to specify what provider to use and how to customize the selected provider's settings in Step 4.</span></span> <span data-ttu-id="88835-255">Prima di tutto, è opportuno esaminare in modo approfondito gli oggetti di database appena creati.</span><span class="sxs-lookup"><span data-stu-id="88835-255">But first, let's take a deeper look at the database objects that were just created.</span></span>

## <a name="step-3-a-look-at-the-schemas-core-tables"></a><span data-ttu-id="88835-256">Passaggio 3: esaminare le tabelle principali dello schema</span><span class="sxs-lookup"><span data-stu-id="88835-256">Step 3: A Look at the Schema's Core Tables</span></span>

<span data-ttu-id="88835-257">Quando si utilizzano i Framework di appartenenza e ruoli in un'applicazione ASP.NET, i dettagli di implementazione vengono incapsulati dal provider.</span><span class="sxs-lookup"><span data-stu-id="88835-257">When working with the Membership and Roles frameworks in an ASP.NET application, the implementation details are encapsulated by the provider.</span></span> <span data-ttu-id="88835-258">Nelle esercitazioni future si interfaccerà con questi Framework tramite le classi `Membership` e `Roles` di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="88835-258">In future tutorials we will interface with these frameworks via the .NET Framework's `Membership` and `Roles` classes.</span></span> <span data-ttu-id="88835-259">Quando si usano queste API di alto livello, non è necessario preoccuparsi dei dettagli di basso livello, come le query eseguite o quali tabelle vengono modificate dal `SqlMembershipProvider` e `SqlRoleProvider`.</span><span class="sxs-lookup"><span data-stu-id="88835-259">When using these high-level APIs we do not need to concern ourselves with the low-level details, like what queries are executed or what tables are modified by the `SqlMembershipProvider` and `SqlRoleProvider`.</span></span>

<span data-ttu-id="88835-260">A questo punto, è possibile usare i Framework di appartenenza e ruoli senza avere esplorato lo schema del database creato nel passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="88835-260">Given this, we could confidently use the Membership and Roles frameworks without having explored the database schema created in Step 2.</span></span> <span data-ttu-id="88835-261">Tuttavia, quando si creano le tabelle per archiviare i dati dell'applicazione, potrebbe essere necessario creare entità correlate a utenti o ruoli.</span><span class="sxs-lookup"><span data-stu-id="88835-261">However, when creating the tables to store application data we may need to create entities that relate to users or roles.</span></span> <span data-ttu-id="88835-262">Consente di acquisire familiarità con gli schemi `SqlMembershipProvider` e `SqlRoleProvider` quando si stabiliscono vincoli di chiave esterna tra le tabelle di dati dell'applicazione e le tabelle create nel passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="88835-262">It helps to have a familiarity with the `SqlMembershipProvider` and `SqlRoleProvider` schemas when establishing foreign key constraints between the application data tables and those tables created in Step 2.</span></span> <span data-ttu-id="88835-263">In alcuni casi rari, inoltre, potrebbe essere necessario interfacciarsi con gli archivi di utenti e ruoli direttamente a livello di database, anziché tramite le classi `Membership` o `Roles`.</span><span class="sxs-lookup"><span data-stu-id="88835-263">Moreover, in certain rare circumstances we may need to interface with the user and role stores directly at the database level (instead of through the `Membership` or `Roles` classes).</span></span>

### <a name="partitioning-the-user-store-into-applications"></a><span data-ttu-id="88835-264">Partizionamento dell'archivio utente nelle applicazioni</span><span class="sxs-lookup"><span data-stu-id="88835-264">Partitioning the User Store Into Applications</span></span>

<span data-ttu-id="88835-265">I Framework di appartenenza e di ruoli sono progettati in modo tale che un singolo utente e un archivio di ruoli possano essere condivisi tra molte applicazioni diverse.</span><span class="sxs-lookup"><span data-stu-id="88835-265">The Membership and Roles frameworks are designed such that a single user and role store can be shared among many different applications.</span></span> <span data-ttu-id="88835-266">Un'applicazione ASP.NET che usa i Framework appartenenza o ruoli deve specificare quale partizione applicativa usare.</span><span class="sxs-lookup"><span data-stu-id="88835-266">An ASP.NET application that uses the Membership or Roles frameworks must specify what application partition to use.</span></span> <span data-ttu-id="88835-267">In breve, più applicazioni Web possono utilizzare gli stessi archivi di utenti e ruoli.</span><span class="sxs-lookup"><span data-stu-id="88835-267">In short, multiple web applications can use the same user and role stores.</span></span> <span data-ttu-id="88835-268">La figura 11 illustra gli archivi di utenti e ruoli partizionati in tre applicazioni: HRSite, CustomerSite e SalesSite.</span><span class="sxs-lookup"><span data-stu-id="88835-268">Figure 11 depicts user and role stores that are partitioned into three applications: HRSite, CustomerSite, and SalesSite.</span></span> <span data-ttu-id="88835-269">Ognuna di queste tre applicazioni Web dispone di utenti e ruoli univoci, ma tutte le informazioni relative all'account utente e al ruolo vengono archiviate fisicamente nelle stesse tabelle di database.</span><span class="sxs-lookup"><span data-stu-id="88835-269">These three web applications each have their own unique users and roles, yet they all physically store their user account and role information in the same database tables.</span></span>

<span data-ttu-id="88835-270">[![gli account utente possono essere partizionati in più applicazioni](creating-the-membership-schema-in-sql-server-vb/_static/image32.png)](creating-the-membership-schema-in-sql-server-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="88835-270">[![User Accounts May Be Partitioned Across Multiple Applications](creating-the-membership-schema-in-sql-server-vb/_static/image32.png)](creating-the-membership-schema-in-sql-server-vb/_static/image31.png)</span></span>

<span data-ttu-id="88835-271">**Figura 11**: gli account utente possono essere partizionati in più applicazioni ([fare clic per visualizzare l'immagine con dimensioni complete](creating-the-membership-schema-in-sql-server-vb/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="88835-271">**Figure 11**: User Accounts May Be Partitioned Across Multiple Applications ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image33.png))</span></span>

<span data-ttu-id="88835-272">La tabella `aspnet_Applications` definisce le partizioni.</span><span class="sxs-lookup"><span data-stu-id="88835-272">The `aspnet_Applications` table is what defines these partitions.</span></span> <span data-ttu-id="88835-273">Ogni applicazione che utilizza il database per archiviare le informazioni sull'account utente è rappresentata da una riga di questa tabella.</span><span class="sxs-lookup"><span data-stu-id="88835-273">Each application that uses the database to store user account information is represented by a row in this table.</span></span> <span data-ttu-id="88835-274">La tabella `aspnet_Applications` dispone di quattro colonne: `ApplicationId`, `ApplicationName`, `LoweredApplicationName`e `Description`.`ApplicationId`</span><span class="sxs-lookup"><span data-stu-id="88835-274">The `aspnet_Applications` table has four columns: `ApplicationId`, `ApplicationName`, `LoweredApplicationName`, and `Description`.`ApplicationId`</span></span> <span data-ttu-id="88835-275">è di tipo [`uniqueidentifier`](https://msdn.microsoft.com/library/ms187942.aspx) e è la chiave primaria della tabella. `ApplicationName` fornisce un nome descrittivo univoco per ogni applicazione.</span><span class="sxs-lookup"><span data-stu-id="88835-275">is of type [`uniqueidentifier`](https://msdn.microsoft.com/library/ms187942.aspx) and is the table's primary key; `ApplicationName` provides a unique human-friendly name for each application.</span></span>

<span data-ttu-id="88835-276">Le altre tabelle relative alle appartenenze e ai ruoli sono riportate al campo `ApplicationId` in `aspnet_Applications`.</span><span class="sxs-lookup"><span data-stu-id="88835-276">The other Membership- and Role-related tables link back to the `ApplicationId` field in `aspnet_Applications`.</span></span> <span data-ttu-id="88835-277">Ad esempio, la tabella `aspnet_Users`, che contiene un record per ogni account utente, dispone di un campo di chiave esterna `ApplicationId`; Ditto per la tabella `aspnet_Roles`.</span><span class="sxs-lookup"><span data-stu-id="88835-277">For example, the `aspnet_Users` table, which contains a record for each user account, has an `ApplicationId` foreign key field; ditto for the `aspnet_Roles` table.</span></span> <span data-ttu-id="88835-278">Il campo `ApplicationId` di queste tabelle specifica la partizione dell'applicazione a cui appartiene l'account utente o il ruolo.</span><span class="sxs-lookup"><span data-stu-id="88835-278">The `ApplicationId` field in these tables specifies the application partition the user account or role belongs to.</span></span>

### <a name="storing-user-account-information"></a><span data-ttu-id="88835-279">Archiviazione delle informazioni sull'account utente</span><span class="sxs-lookup"><span data-stu-id="88835-279">Storing User Account Information</span></span>

<span data-ttu-id="88835-280">Le informazioni sull'account utente sono ospitate in due tabelle: `aspnet_Users` e `aspnet_Membership`.</span><span class="sxs-lookup"><span data-stu-id="88835-280">User account information is housed in two tables: `aspnet_Users` and `aspnet_Membership`.</span></span> <span data-ttu-id="88835-281">La tabella `aspnet_Users` contiene i campi che contengono le informazioni essenziali sull'account utente.</span><span class="sxs-lookup"><span data-stu-id="88835-281">The `aspnet_Users` table contains fields that hold the essential user account information.</span></span> <span data-ttu-id="88835-282">Le tre colonne più pertinenti sono:</span><span class="sxs-lookup"><span data-stu-id="88835-282">The three most pertinent columns are:</span></span>

- `UserId`
- `UserName`
- `ApplicationId`

<span data-ttu-id="88835-283">`UserId` è la chiave primaria e di tipo `uniqueidentifier`.</span><span class="sxs-lookup"><span data-stu-id="88835-283">`UserId` is the primary key (and of type `uniqueidentifier`).</span></span> <span data-ttu-id="88835-284">`UserName` è di tipo `nvarchar(256)` e, insieme alla password, costituisce le credenziali dell'utente.</span><span class="sxs-lookup"><span data-stu-id="88835-284">`UserName` is of type `nvarchar(256)` and, along with the password, makes up the user's credentials.</span></span> <span data-ttu-id="88835-285">La password di un utente viene archiviata nella tabella `aspnet_Membership`. `ApplicationId` collega l'account utente a una particolare applicazione nel `aspnet_Applications`.</span><span class="sxs-lookup"><span data-stu-id="88835-285">(A user's password is stored in the `aspnet_Membership` table.) `ApplicationId` links the user account to a particular application in `aspnet_Applications`.</span></span> <span data-ttu-id="88835-286">È presente un [vincolo di`UNIQUE`](https://msdn.microsoft.com/library/ms191166.aspx) composito nelle colonne `UserName` e `ApplicationId`.</span><span class="sxs-lookup"><span data-stu-id="88835-286">There is a composite [`UNIQUE` constraint](https://msdn.microsoft.com/library/ms191166.aspx) on the `UserName` and `ApplicationId` columns.</span></span> <span data-ttu-id="88835-287">Ciò garantisce che in una determinata applicazione ogni nome utente sia univoco, ma consente di usare lo stesso `UserName` in applicazioni diverse.</span><span class="sxs-lookup"><span data-stu-id="88835-287">This ensures that in a given application each UserName is unique, yet it allows for the same `UserName` to be used in different applications.</span></span>

<span data-ttu-id="88835-288">La tabella `aspnet_Membership` include informazioni aggiuntive sull'account utente, ad esempio la password dell'utente, l'indirizzo di posta elettronica, la data e l'ora dell'ultimo accesso e così via.</span><span class="sxs-lookup"><span data-stu-id="88835-288">The `aspnet_Membership` table includes additional user account information, like the user's password, email address, the last login date and time, and so forth.</span></span> <span data-ttu-id="88835-289">Esiste una corrispondenza uno-a-uno tra i record nelle tabelle `aspnet_Users` e `aspnet_Membership`.</span><span class="sxs-lookup"><span data-stu-id="88835-289">There is a one-to-one correspondence between records in the `aspnet_Users` and `aspnet_Membership` tables.</span></span> <span data-ttu-id="88835-290">Questa relazione è garantita dal campo `UserId` in `aspnet_Membership`, che funge da chiave primaria della tabella.</span><span class="sxs-lookup"><span data-stu-id="88835-290">This relationship is ensured by the `UserId` field in `aspnet_Membership`, which serves as the table's primary key.</span></span> <span data-ttu-id="88835-291">Analogamente alla tabella `aspnet_Users`, `aspnet_Membership` include un campo `ApplicationId` che associa queste informazioni a una determinata partizione di applicazione.</span><span class="sxs-lookup"><span data-stu-id="88835-291">Like the `aspnet_Users` table, `aspnet_Membership` includes an `ApplicationId` field that ties this information to a particular application partition.</span></span>

### <a name="securing-passwords"></a><span data-ttu-id="88835-292">Protezione delle password</span><span class="sxs-lookup"><span data-stu-id="88835-292">Securing Passwords</span></span>

<span data-ttu-id="88835-293">Le informazioni sulla password vengono archiviate nella tabella `aspnet_Membership`.</span><span class="sxs-lookup"><span data-stu-id="88835-293">Password information is stored in the `aspnet_Membership` table.</span></span> <span data-ttu-id="88835-294">Il `SqlMembershipProvider` consente l'archiviazione delle password nel database utilizzando una delle tre tecniche seguenti:</span><span class="sxs-lookup"><span data-stu-id="88835-294">The `SqlMembershipProvider` allows for passwords to be stored in the database using one of the following three techniques:</span></span>

- <span data-ttu-id="88835-295">**Clear** : la password viene archiviata nel database come testo normale.</span><span class="sxs-lookup"><span data-stu-id="88835-295">**Clear** - the password is stored in the database as plain-text.</span></span> <span data-ttu-id="88835-296">Si sconsiglia vivamente di utilizzare questa opzione.</span><span class="sxs-lookup"><span data-stu-id="88835-296">I strongly discourage using this option.</span></span> <span data-ttu-id="88835-297">Se il database è compromesso, si tratta di un pirata informatico che trova un back-door o un dipendente scontento con accesso al database. le credenziali di ogni singolo utente sono disponibili per l'acquisizione.</span><span class="sxs-lookup"><span data-stu-id="88835-297">If the database is compromised - be it by a hacker who finds a back door or a disgruntled employee who has database access - every single user's credentials are there for the taking.</span></span>
- <span data-ttu-id="88835-298">**Hashed** : le password vengono sottoposto a hashing usando un algoritmo hash unidirezionale e un valore salt generato in modo casuale.</span><span class="sxs-lookup"><span data-stu-id="88835-298">**Hashed** - passwords are hashed using a one-way hash algorithm and a randomly generated salt value.</span></span> <span data-ttu-id="88835-299">Questo valore con hash (insieme al Salt) viene archiviato nel database.</span><span class="sxs-lookup"><span data-stu-id="88835-299">This hashed value (along with the salt) is stored in the database.</span></span>
- <span data-ttu-id="88835-300">**Encrypted** : una versione crittografata della password viene archiviata nel database.</span><span class="sxs-lookup"><span data-stu-id="88835-300">**Encrypted** - an encrypted version of the password is stored in the database.</span></span>

<span data-ttu-id="88835-301">La tecnica di archiviazione delle password utilizzata dipende dalle impostazioni `SqlMembershipProvider` specificate in `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="88835-301">The password storage technique used depends on the `SqlMembershipProvider` settings specified in `Web.config`.</span></span> <span data-ttu-id="88835-302">Si esaminerà la personalizzazione delle impostazioni `SqlMembershipProvider` nel passaggio 4.</span><span class="sxs-lookup"><span data-stu-id="88835-302">We will look at customizing the `SqlMembershipProvider` settings in Step 4.</span></span> <span data-ttu-id="88835-303">Il comportamento predefinito consiste nell'archiviare l'hash della password.</span><span class="sxs-lookup"><span data-stu-id="88835-303">The default behavior is to store the hash of the password.</span></span>

<span data-ttu-id="88835-304">Le colonne responsabili dell'archiviazione della password sono `Password`, `PasswordFormat`e `PasswordSalt`.</span><span class="sxs-lookup"><span data-stu-id="88835-304">The columns responsible for storing the password are `Password`, `PasswordFormat`, and `PasswordSalt`.</span></span> <span data-ttu-id="88835-305">`PasswordFormat` è un campo di tipo `int` il cui valore indica la tecnica utilizzata per archiviare la password: 0 per Clear; 1 per Hashed; 2 per crittografato.</span><span class="sxs-lookup"><span data-stu-id="88835-305">`PasswordFormat` is a field of type `int` whose value indicates the technique used for storing the password: 0 for Clear; 1 for Hashed; 2 for Encrypted.</span></span> <span data-ttu-id="88835-306">a `PasswordSalt` viene assegnata una stringa generata in modo casuale indipendentemente dalla tecnica di archiviazione delle password utilizzata; il valore di `PasswordSalt` viene usato solo per il calcolo dell'hash della password.</span><span class="sxs-lookup"><span data-stu-id="88835-306">`PasswordSalt` is assigned a randomly generated string regardless of the password storage technique used; the value of `PasswordSalt` is only used when computing the hash of the password.</span></span> <span data-ttu-id="88835-307">Infine, nella colonna `Password` sono contenuti i dati effettivi della password, ovvero la password in testo normale, l'hash della password o la password crittografata.</span><span class="sxs-lookup"><span data-stu-id="88835-307">Finally, the `Password` column contains the actual password data, be it the plain-text password, the hash of the password, or the encrypted password.</span></span>

<span data-ttu-id="88835-308">Nella tabella 1 sono illustrate le tre colonne che potrebbero essere simili per le varie tecniche di archiviazione durante l'archiviazione del segreto della password.</span><span class="sxs-lookup"><span data-stu-id="88835-308">Table 1 illustrates what these three columns might look like for the various storage techniques when storing the password MySecret!</span></span> <span data-ttu-id="88835-309">.</span><span class="sxs-lookup"><span data-stu-id="88835-309">.</span></span>

| <span data-ttu-id="88835-310">**Tecnica di archiviazione&lt;\_O3A\_p/&gt;**</span><span class="sxs-lookup"><span data-stu-id="88835-310">**Storage Technique&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="88835-311">**Password&lt;\_O3A\_p/&gt;**</span><span class="sxs-lookup"><span data-stu-id="88835-311">**Password&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="88835-312">**PasswordFormat&lt;\_O3A\_p/&gt;**</span><span class="sxs-lookup"><span data-stu-id="88835-312">**PasswordFormat&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="88835-313">**PasswordSalt&lt;\_O3A\_p/&gt;**</span><span class="sxs-lookup"><span data-stu-id="88835-313">**PasswordSalt&lt;\_o3a\_p /&gt;**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="88835-314">Cancella</span><span class="sxs-lookup"><span data-stu-id="88835-314">Clear</span></span> | <span data-ttu-id="88835-315">MySecret!</span><span class="sxs-lookup"><span data-stu-id="88835-315">MySecret!</span></span> | <span data-ttu-id="88835-316">0</span><span class="sxs-lookup"><span data-stu-id="88835-316">0</span></span> | <span data-ttu-id="88835-317">tTnkPlesqissc2y2SMEygA = =</span><span class="sxs-lookup"><span data-stu-id="88835-317">tTnkPlesqissc2y2SMEygA==</span></span> |
| <span data-ttu-id="88835-318">Hash</span><span class="sxs-lookup"><span data-stu-id="88835-318">Hashed</span></span> | <span data-ttu-id="88835-319">2oXm6sZHWbTHFgjgkGQsc2Ec9ZM =</span><span class="sxs-lookup"><span data-stu-id="88835-319">2oXm6sZHWbTHFgjgkGQsc2Ec9ZM=</span></span> | <span data-ttu-id="88835-320">1</span><span class="sxs-lookup"><span data-stu-id="88835-320">1</span></span> | <span data-ttu-id="88835-321">wFgjUfhdUFOCKQiI61vtiQ = =</span><span class="sxs-lookup"><span data-stu-id="88835-321">wFgjUfhdUFOCKQiI61vtiQ==</span></span> |
| <span data-ttu-id="88835-322">Crittografati</span><span class="sxs-lookup"><span data-stu-id="88835-322">Encrypted</span></span> | <span data-ttu-id="88835-323">62RZgDvhxykkqsMchZ0Yly7HS6onhpaoCYaRxV8g0F4CW56OXUU3e7Inza9j9BKp</span><span class="sxs-lookup"><span data-stu-id="88835-323">62RZgDvhxykkqsMchZ0Yly7HS6onhpaoCYaRxV8g0F4CW56OXUU3e7Inza9j9BKp</span></span> | <span data-ttu-id="88835-324">2</span><span class="sxs-lookup"><span data-stu-id="88835-324">2</span></span> | <span data-ttu-id="88835-325">LSRzhGS/AA/oqAXGLHJNBw = =</span><span class="sxs-lookup"><span data-stu-id="88835-325">LSRzhGS/aa/oqAXGLHJNBw==</span></span> |

<span data-ttu-id="88835-326">**Tabella 1**: valori di esempio per i campi relativi alla password durante l'archiviazione del segreto della password.</span><span class="sxs-lookup"><span data-stu-id="88835-326">**Table 1**: Example Values for the Password-Related Fields When Storing the Password MySecret!</span></span>

> [!NOTE]
> <span data-ttu-id="88835-327">La crittografia o l'algoritmo hash specifico utilizzato dal `SqlMembershipProvider` è determinato dalle impostazioni nell'elemento `<machineKey>`.</span><span class="sxs-lookup"><span data-stu-id="88835-327">The particular encryption or hashing algorithm used by the `SqlMembershipProvider` is determined by the settings in the `<machineKey>` element.</span></span> <span data-ttu-id="88835-328">Questo elemento di configurazione è stato illustrato nel passaggio 3 <a id="Tutorial3"> </a>dell'esercitazione [*configurazione dell'autenticazione basata su form e argomenti avanzati*](../introduction/forms-authentication-configuration-and-advanced-topics-vb.md) .</span><span class="sxs-lookup"><span data-stu-id="88835-328">We discussed this configuration element in Step 3 of the <a id="Tutorial3"></a>[*Forms Authentication Configuration and Advanced Topics*](../introduction/forms-authentication-configuration-and-advanced-topics-vb.md) tutorial.</span></span>

### <a name="storing-roles-and-role-associations"></a><span data-ttu-id="88835-329">Archiviazione di ruoli e associazioni di ruolo</span><span class="sxs-lookup"><span data-stu-id="88835-329">Storing Roles and Role Associations</span></span>

<span data-ttu-id="88835-330">Il Framework dei ruoli consente agli sviluppatori di definire un set di ruoli e di specificare quali utenti appartengono ai ruoli.</span><span class="sxs-lookup"><span data-stu-id="88835-330">The Roles framework allows developers to define a set of roles and specify what users belong to what roles.</span></span> <span data-ttu-id="88835-331">Queste informazioni vengono acquisite nel database tramite due tabelle: `aspnet_Roles` e `aspnet_UsersInRoles`.</span><span class="sxs-lookup"><span data-stu-id="88835-331">This information is captured in the database through two tables: `aspnet_Roles` and `aspnet_UsersInRoles`.</span></span> <span data-ttu-id="88835-332">Ogni record nella tabella `aspnet_Roles` rappresenta un ruolo per una particolare applicazione.</span><span class="sxs-lookup"><span data-stu-id="88835-332">Each record in the `aspnet_Roles` table represents a role for a particular application.</span></span> <span data-ttu-id="88835-333">Analogamente alla tabella `aspnet_Users`, nella tabella `aspnet_Roles` sono disponibili tre colonne attinenti alla nostra discussione:</span><span class="sxs-lookup"><span data-stu-id="88835-333">Much like the `aspnet_Users` table, the `aspnet_Roles` table has three columns pertinent to our discussion:</span></span>

- `RoleId`
- `RoleName`
- `ApplicationId`

<span data-ttu-id="88835-334">`RoleId` è la chiave primaria e di tipo `uniqueidentifier`.</span><span class="sxs-lookup"><span data-stu-id="88835-334">`RoleId` is the primary key (and of type `uniqueidentifier`).</span></span> <span data-ttu-id="88835-335">`RoleName` è di tipo `nvarchar(256)`.</span><span class="sxs-lookup"><span data-stu-id="88835-335">`RoleName` is of type `nvarchar(256)`.</span></span> <span data-ttu-id="88835-336">E `ApplicationId` collega l'account utente a una particolare applicazione in `aspnet_Applications`.</span><span class="sxs-lookup"><span data-stu-id="88835-336">And `ApplicationId` links the user account to a particular application in `aspnet_Applications`.</span></span> <span data-ttu-id="88835-337">È presente un vincolo di `UNIQUE` composito nelle colonne `RoleName` e `ApplicationId`, assicurando che in una determinata applicazione ogni nome di ruolo sia univoco.</span><span class="sxs-lookup"><span data-stu-id="88835-337">There is a composite `UNIQUE` constraint on the `RoleName` and `ApplicationId` columns, ensuring that in a given application each role name is unique.</span></span>

<span data-ttu-id="88835-338">La tabella `aspnet_UsersInRoles` funge da mapping tra utenti e ruoli.</span><span class="sxs-lookup"><span data-stu-id="88835-338">The `aspnet_UsersInRoles` table serves as a mapping between users and roles.</span></span> <span data-ttu-id="88835-339">Sono disponibili solo due colonne, `UserId` e `RoleId`, che costituiscono una chiave primaria composta.</span><span class="sxs-lookup"><span data-stu-id="88835-339">There are only two columns - `UserId` and `RoleId` - and together they make up a composite primary key.</span></span>

## <a name="step-4-specifying-the-provider-and-customizing-its-settings"></a><span data-ttu-id="88835-340">Passaggio 4: specifica del provider e personalizzazione delle impostazioni</span><span class="sxs-lookup"><span data-stu-id="88835-340">Step 4: Specifying the Provider and Customizing Its Settings</span></span>

<span data-ttu-id="88835-341">Tutti i Framework che supportano il modello di provider, ad esempio i Framework di appartenenza e di ruoli, non hanno i dettagli di implementazione e delegano invece tale responsabilità a una classe del provider.</span><span class="sxs-lookup"><span data-stu-id="88835-341">All of the frameworks that support the provider model - such as the Membership and Roles frameworks - lack implementation details themselves and instead delegate that responsibility to a provider class.</span></span> <span data-ttu-id="88835-342">Nel caso del Framework di appartenenza, la classe `Membership` definisce l'API per la gestione degli account utente, ma non interagisce direttamente con nessun archivio utente.</span><span class="sxs-lookup"><span data-stu-id="88835-342">In the case of the Membership framework, the `Membership` class defines the API for managing user accounts, but it does not interact directly with any user store.</span></span> <span data-ttu-id="88835-343">Al contrario, i metodi della classe `Membership` consegnano la richiesta al provider configurato. verrà usato il `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="88835-343">Rather, the `Membership` class's methods hand off the request to the configured provider - we will be using the `SqlMembershipProvider`.</span></span> <span data-ttu-id="88835-344">Quando si richiama uno dei metodi nella classe `Membership`, in che modo il Framework di appartenenza SA delegare la chiamata al `SqlMembershipProvider`?</span><span class="sxs-lookup"><span data-stu-id="88835-344">When we invoke one of the methods in the `Membership` class, how does the Membership framework know to delegate the call to the `SqlMembershipProvider`?</span></span>

<span data-ttu-id="88835-345">La classe `Membership` dispone di una [proprietà`Providers`](https://msdn.microsoft.com/library/system.web.security.membership.providers.aspx) che contiene un riferimento a tutte le classi di provider registrate disponibili per l'utilizzo da parte del framework delle appartenenze.</span><span class="sxs-lookup"><span data-stu-id="88835-345">The `Membership` class has a [`Providers` property](https://msdn.microsoft.com/library/system.web.security.membership.providers.aspx) that contains a reference to all of the registered provider classes available for use by the Membership framework.</span></span> <span data-ttu-id="88835-346">A ogni provider registrato sono associati un nome e un tipo.</span><span class="sxs-lookup"><span data-stu-id="88835-346">Each registered provider has an associated name and type.</span></span> <span data-ttu-id="88835-347">Il nome offre un modo semplice per fare riferimento a un particolare provider nella raccolta di `Providers`, mentre il tipo identifica la classe del provider.</span><span class="sxs-lookup"><span data-stu-id="88835-347">The name offers a human-friendly way to reference a particular provider in the `Providers` collection, while the type identifies the provider class.</span></span> <span data-ttu-id="88835-348">Ogni provider registrato può inoltre includere le impostazioni di configurazione.</span><span class="sxs-lookup"><span data-stu-id="88835-348">Moreover, each registered provider may include configuration settings.</span></span> <span data-ttu-id="88835-349">Le impostazioni di configurazione per il Framework di appartenenza includono `PasswordFormat` e `requiresUniqueEmail`, tra le molte altre.</span><span class="sxs-lookup"><span data-stu-id="88835-349">Configuration settings for the Membership framework include `PasswordFormat` and `requiresUniqueEmail`, among many others.</span></span> <span data-ttu-id="88835-350">Vedere la tabella 2 per un elenco completo delle impostazioni di configurazione usate dal `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="88835-350">See Table 2 for a complete list of configuration settings used by the `SqlMembershipProvider`.</span></span>

<span data-ttu-id="88835-351">Il contenuto della proprietà `Providers` viene specificato tramite le impostazioni di configurazione dell'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="88835-351">The `Providers` property's contents are specified through the web application's configuration settings.</span></span> <span data-ttu-id="88835-352">Per impostazione predefinita, tutte le applicazioni Web dispongono di un provider denominato `AspNetSqlMembershipProvider` di tipo `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="88835-352">By default, all web applications have a provider named `AspNetSqlMembershipProvider` of type `SqlMembershipProvider`.</span></span> <span data-ttu-id="88835-353">Il provider di appartenenze predefinito è registrato nel `machine.config` (disponibile in `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG`):</span><span class="sxs-lookup"><span data-stu-id="88835-353">This default Membership provider is registered in `machine.config` (located at `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG`):</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample1.xml)]

<span data-ttu-id="88835-354">Come illustrato nel markup precedente, l' [elemento`<membership>`](https://msdn.microsoft.com/library/1b9hw62f.aspx) definisce le impostazioni di configurazione per il Framework di appartenenza mentre l' [elemento figlio`<providers>`](https://msdn.microsoft.com/library/6d4936ht.aspx) specifica i provider registrati.</span><span class="sxs-lookup"><span data-stu-id="88835-354">As the markup above shows, the [`<membership>` element](https://msdn.microsoft.com/library/1b9hw62f.aspx) defines the configuration settings for the Membership framework while the [`<providers>` child element](https://msdn.microsoft.com/library/6d4936ht.aspx) specifies the registered providers.</span></span> <span data-ttu-id="88835-355">I provider possono essere aggiunti o rimossi usando gli elementi [`<add>`](https://msdn.microsoft.com/library/whae3t94.aspx) o [`<remove>`](https://msdn.microsoft.com/library/aykw9a6d.aspx) . utilizzare l'elemento [`<clear>`](https://msdn.microsoft.com/library/t062y6yc.aspx) per rimuovere tutti i provider attualmente registrati.</span><span class="sxs-lookup"><span data-stu-id="88835-355">Providers may be added or removed using the [`<add>`](https://msdn.microsoft.com/library/whae3t94.aspx) or [`<remove>`](https://msdn.microsoft.com/library/aykw9a6d.aspx) elements; use the [`<clear>`](https://msdn.microsoft.com/library/t062y6yc.aspx) element to remove all currently registered providers.</span></span> <span data-ttu-id="88835-356">Come illustrato nel markup precedente, `machine.config` aggiunge un provider denominato `AspNetSqlMembershipProvider` di tipo `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="88835-356">As the markup above shows, `machine.config` adds a provider named `AspNetSqlMembershipProvider` of type `SqlMembershipProvider`.</span></span>

<span data-ttu-id="88835-357">Oltre agli attributi `name` e `type`, l'elemento `<add>` contiene attributi che definiscono i valori per le varie impostazioni di configurazione.</span><span class="sxs-lookup"><span data-stu-id="88835-357">In addition to the `name` and `type` attributes, the `<add>` element contains attributes that define the values for various configuring settings.</span></span> <span data-ttu-id="88835-358">Nella tabella 2 sono elencate le impostazioni di configurazione disponibili per `SqlMembershipProvider`specifiche, oltre a una descrizione di ciascuna di esse.</span><span class="sxs-lookup"><span data-stu-id="88835-358">Table 2 lists the available `SqlMembershipProvider`-specific configuration settings, along with a description of each.</span></span>

> [!NOTE]
> <span data-ttu-id="88835-359">Tutti i valori predefiniti indicati nella tabella 2 fanno riferimento ai valori predefiniti definiti nella classe `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="88835-359">Any default values noted in Table 2 refer to the default values defined in the `SqlMembershipProvider` class.</span></span> <span data-ttu-id="88835-360">Si noti che non tutte le impostazioni di configurazione in `AspNetSqlMembershipProvider` corrispondono ai valori predefiniti della classe `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="88835-360">Note that not all of the configuration settings in `AspNetSqlMembershipProvider` correspond to the default values of the `SqlMembershipProvider` class.</span></span> <span data-ttu-id="88835-361">Se, ad esempio, non è specificato in un provider di appartenenze, l'impostazione predefinita del `requiresUniqueEmail` è true.</span><span class="sxs-lookup"><span data-stu-id="88835-361">For example, if not specified in a Membership provider, the `requiresUniqueEmail` setting defaults to true.</span></span> <span data-ttu-id="88835-362">Tuttavia, il `AspNetSqlMembershipProvider` esegue l'override di questo valore predefinito specificando in modo esplicito il valore `false`.</span><span class="sxs-lookup"><span data-stu-id="88835-362">However, the `AspNetSqlMembershipProvider` overrides this default value by explicitly specifying a value of `false`.</span></span>

| <span data-ttu-id="88835-363">**Impostazione&lt;\_O3A\_p/&gt;**</span><span class="sxs-lookup"><span data-stu-id="88835-363">**Setting&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="88835-364">**Descrizione&lt;\_O3A\_p/&gt;**</span><span class="sxs-lookup"><span data-stu-id="88835-364">**Description&lt;\_o3a\_p /&gt;**</span></span> |
| --- | --- |
| `ApplicationName` | <span data-ttu-id="88835-365">Tenere presente che il Framework di appartenenza consente di partizionare un singolo archivio utente tra più applicazioni.</span><span class="sxs-lookup"><span data-stu-id="88835-365">Recall that the Membership framework allows for a single user store to be partitioned across multiple applications.</span></span> <span data-ttu-id="88835-366">Questa impostazione indica il nome della partizione di applicazione utilizzata dal provider di appartenenze.</span><span class="sxs-lookup"><span data-stu-id="88835-366">This setting indicates the name of the application partition used by the Membership provider.</span></span> <span data-ttu-id="88835-367">Se questo valore non viene specificato in modo esplicito, viene impostato in fase di esecuzione sul valore del percorso della radice virtuale dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="88835-367">If this value is not explicitly specified, it is set, at runtime, to the value of the application's virtual root path.</span></span> |
| `commandTimeout` | <span data-ttu-id="88835-368">Specifica il valore di timeout del comando SQL (in secondi).</span><span class="sxs-lookup"><span data-stu-id="88835-368">Specifies the SQL command timeout value (in seconds).</span></span> <span data-ttu-id="88835-369">Il valore predefinito è 30.</span><span class="sxs-lookup"><span data-stu-id="88835-369">The default value is 30.</span></span> |
| `connectionStringName` | <span data-ttu-id="88835-370">Nome della stringa di connessione nell'elemento `<connectionStrings>` da utilizzare per la connessione al database dell'archivio utenti.</span><span class="sxs-lookup"><span data-stu-id="88835-370">The name of the connection string in the `<connectionStrings>` element to use to connect to the user store database.</span></span> <span data-ttu-id="88835-371">Questo valore è obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="88835-371">This value is required.</span></span> |
| `description` | <span data-ttu-id="88835-372">Fornisce una descrizione intuitiva del provider registrato.</span><span class="sxs-lookup"><span data-stu-id="88835-372">Provides a human-friendly description of the registered provider.</span></span> |
| `enablePasswordRetrieval` | <span data-ttu-id="88835-373">Specifica se gli utenti possono recuperare la password dimenticata.</span><span class="sxs-lookup"><span data-stu-id="88835-373">Specifies whether users may retrieve their forgotten password.</span></span> <span data-ttu-id="88835-374">Il valore predefinito è `false`.</span><span class="sxs-lookup"><span data-stu-id="88835-374">The default value is `false`.</span></span> |
| `enablePasswordReset` | <span data-ttu-id="88835-375">Indica se gli utenti possono reimpostare la password.</span><span class="sxs-lookup"><span data-stu-id="88835-375">Indicates whether users are allowed to reset their password.</span></span> <span data-ttu-id="88835-376">Il valore predefinito è `true`.</span><span class="sxs-lookup"><span data-stu-id="88835-376">Defaults to `true`.</span></span> |
| `maxInvalidPasswordAttempts` | <span data-ttu-id="88835-377">Numero massimo di tentativi di accesso non riusciti che possono verificarsi per un determinato utente durante il `passwordAttemptWindow` specificato prima che l'utente venga bloccato. Il valore predefinito è 5.</span><span class="sxs-lookup"><span data-stu-id="88835-377">The maximum number of unsuccessful login attempts that may occur for a given user during the specified `passwordAttemptWindow` before the user is locked out. The default value is 5.</span></span> |
| `minRequiredNonalphanumericCharacters` | <span data-ttu-id="88835-378">Numero minimo di caratteri non alfanumerici che devono essere visualizzati nella password di un utente.</span><span class="sxs-lookup"><span data-stu-id="88835-378">The minimum number of non-alphanumeric characters that must appear in a user's password.</span></span> <span data-ttu-id="88835-379">Questo valore deve essere compreso tra 0 e 128; il valore predefinito è 1.</span><span class="sxs-lookup"><span data-stu-id="88835-379">This value must be between 0 and 128; the default is 1.</span></span> |
| `minRequiredPasswordLength` | <span data-ttu-id="88835-380">Numero minimo di caratteri richiesti in una password.</span><span class="sxs-lookup"><span data-stu-id="88835-380">The minimum number of characters required in a password.</span></span> <span data-ttu-id="88835-381">Questo valore deve essere compreso tra 0 e 128; il valore predefinito è 7.</span><span class="sxs-lookup"><span data-stu-id="88835-381">This value must be between 0 and 128; the default is 7.</span></span> |
| `name` | <span data-ttu-id="88835-382">Nome del provider registrato.</span><span class="sxs-lookup"><span data-stu-id="88835-382">The name of the registered provider.</span></span> <span data-ttu-id="88835-383">Questo valore è obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="88835-383">This value is required.</span></span> |
| `passwordAttemptWindow` | <span data-ttu-id="88835-384">Numero di minuti durante i quali vengono rilevati i tentativi di accesso non riusciti.</span><span class="sxs-lookup"><span data-stu-id="88835-384">The number of minutes during which failed login attempts are tracked.</span></span> <span data-ttu-id="88835-385">Se un utente fornisce credenziali di accesso non valide `maxInvalidPasswordAttempts` volte in questa finestra specificata, verranno bloccate. Il valore predefinito è 10.</span><span class="sxs-lookup"><span data-stu-id="88835-385">If a user supplies invalid login credentials `maxInvalidPasswordAttempts` times within this specified window, they are locked out. The default value is 10.</span></span> |
| `PasswordFormat` | <span data-ttu-id="88835-386">Formato di archiviazione delle password: `Clear`, `Hashed`o `Encrypted`.</span><span class="sxs-lookup"><span data-stu-id="88835-386">The password storage format: `Clear`, `Hashed`, or `Encrypted`.</span></span> <span data-ttu-id="88835-387">Il valore predefinito è `Hashed`.</span><span class="sxs-lookup"><span data-stu-id="88835-387">The default is `Hashed`.</span></span> |
| `passwordStrengthRegularExpression` | <span data-ttu-id="88835-388">Se specificato, questa espressione regolare viene utilizzata per valutare l'attendibilità della password selezionata dall'utente durante la creazione di un nuovo account o la modifica della password.</span><span class="sxs-lookup"><span data-stu-id="88835-388">If provided, this regular expression is used to evaluate the strength of the user's selected password when creating a new account or when changing their password.</span></span> <span data-ttu-id="88835-389">Il valore predefinito è una stringa vuota.</span><span class="sxs-lookup"><span data-stu-id="88835-389">The default value is an empty string.</span></span> |
| `requiresQuestionAndAnswer` | <span data-ttu-id="88835-390">Specifica se un utente deve rispondere alla domanda di sicurezza durante il recupero o la reimpostazione della password.</span><span class="sxs-lookup"><span data-stu-id="88835-390">Specifies whether a user must answer his security question when retrieving or resetting his password.</span></span> <span data-ttu-id="88835-391">Il valore predefinito è `true`.</span><span class="sxs-lookup"><span data-stu-id="88835-391">The default value is `true`.</span></span> |
| `requiresUniqueEmail` | <span data-ttu-id="88835-392">Indica se tutti gli account utente in una determinata partizione applicativa devono disporre di un indirizzo di posta elettronica univoco.</span><span class="sxs-lookup"><span data-stu-id="88835-392">Indicates whether all user accounts in a given application partition must have a unique email address.</span></span> <span data-ttu-id="88835-393">Il valore predefinito è `true`.</span><span class="sxs-lookup"><span data-stu-id="88835-393">The default value is `true`.</span></span> |
| `type` | <span data-ttu-id="88835-394">Specifica il tipo del provider.</span><span class="sxs-lookup"><span data-stu-id="88835-394">Specifies the type of the provider.</span></span> <span data-ttu-id="88835-395">Questo valore è obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="88835-395">This value is required.</span></span> |

<span data-ttu-id="88835-396">**Tabella 2**: impostazioni di appartenenza e di configurazione `SqlMembershipProvider`</span><span class="sxs-lookup"><span data-stu-id="88835-396">**Table 2**: Membership and `SqlMembershipProvider` Configuration Settings</span></span>

<span data-ttu-id="88835-397">Oltre ai `AspNetSqlMembershipProvider`, altri provider di appartenenze possono essere registrati in base all'applicazione mediante l'aggiunta di markup analogo al file di `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="88835-397">In addition to `AspNetSqlMembershipProvider`, other Membership providers may be registered on an application-by-application basis by adding similar markup to the `Web.config` file.</span></span>

> [!NOTE]
> <span data-ttu-id="88835-398">Il Framework dei ruoli funziona allo stesso modo: è presente un provider di ruoli registrato predefinito in `machine.config` e i provider registrati possono essere personalizzati in base all'applicazione in `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="88835-398">The Roles framework works in much the same way: there is a default registered role provider in `machine.config` and the registered providers may be customized on an application-by-application basis in `Web.config`.</span></span> <span data-ttu-id="88835-399">In un'esercitazione futura si esamineranno in dettaglio il Framework dei ruoli e il markup di configurazione.</span><span class="sxs-lookup"><span data-stu-id="88835-399">We will examine the Roles framework and its configuration markup in detail in a future tutorial.</span></span>

### <a name="customizing-thesqlmembershipprovidersettings"></a><span data-ttu-id="88835-400">Personalizzazione delle impostazioni di`SqlMembershipProvider`</span><span class="sxs-lookup"><span data-stu-id="88835-400">Customizing the`SqlMembershipProvider`Settings</span></span>

<span data-ttu-id="88835-401">Il `SqlMembershipProvider` predefinito (`AspNetSqlMembershipProvider`) dispone dell'attributo `connectionStringName` impostato su `LocalSqlServer`.</span><span class="sxs-lookup"><span data-stu-id="88835-401">The default `SqlMembershipProvider` (`AspNetSqlMembershipProvider`) has its `connectionStringName` attribute set to `LocalSqlServer`.</span></span> <span data-ttu-id="88835-402">Come il provider di `AspNetSqlMembershipProvider`, il nome della stringa di connessione `LocalSqlServer` è definito in `machine.config`.</span><span class="sxs-lookup"><span data-stu-id="88835-402">Like the `AspNetSqlMembershipProvider` provider, the connection string name `LocalSqlServer` is defined in `machine.config`.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample2.xml)]

<span data-ttu-id="88835-403">Come si può notare, questa stringa di connessione definisce un database SQL 2005 Express Edition disponibile in | DataDirectory | aspnetdb. MDF.</span><span class="sxs-lookup"><span data-stu-id="88835-403">As you can see, this connection string defines a SQL 2005 Express Edition database located at |DataDirectory|aspnetdb.mdf.</span></span> <span data-ttu-id="88835-404">Stringa | DataDirectory | viene convertito in fase di esecuzione in modo che punti alla directory `~/App_Data/`, quindi il percorso del database | DataDirectory | aspnetdb. MDF viene convertito in `~/App_Data`/`aspnet.mdf`.</span><span class="sxs-lookup"><span data-stu-id="88835-404">The string |DataDirectory| is translated at runtime to point to the `~/App_Data/` directory, so the database path |DataDirectory|aspnetdb.mdf translates to `~/App_Data`/`aspnet.mdf`.</span></span>

<span data-ttu-id="88835-405">Se non sono state specificate informazioni sul provider di appartenenze nel file di `Web.config` dell'applicazione, l'applicazione usa il provider di appartenenze registrato predefinito, `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="88835-405">If we did not specify any Membership provider information in our application's `Web.config` file, the application uses the default registered Membership provider, `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="88835-406">Se il database `~/App_Data/aspnet.mdf` non esiste, il runtime di ASP.NET lo creerà automaticamente e aggiungerà lo schema dei servizi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="88835-406">If the `~/App_Data/aspnet.mdf` database does not exist, the ASP.NET runtime will automatically create it and add the application services schema.</span></span> <span data-ttu-id="88835-407">Tuttavia, non si vuole usare il database di `aspnet.mdf`; si vuole invece usare il database `SecurityTutorials.mdf` creato nel passaggio 2.</span><span class="sxs-lookup"><span data-stu-id="88835-407">However, we don't want to use the `aspnet.mdf` database; rather, we want to use the `SecurityTutorials.mdf` database we created in Step 2.</span></span> <span data-ttu-id="88835-408">Questa modifica può essere eseguita in uno dei due modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="88835-408">This modification can be accomplished in one of two ways:</span></span>

- <span data-ttu-id="88835-409"><strong>Specificare un valore per il nome della</strong> stringa di connessione<strong>`LocalSqlServer`</strong> <strong>in</strong> <strong>`Web.config`</strong> <strong>.</strong></span><span class="sxs-lookup"><span data-stu-id="88835-409"><strong>Specify a value for the</strong><strong>`LocalSqlServer`</strong><strong>connection string name in</strong><strong>`Web.config`</strong><strong>.</strong></span></span> <span data-ttu-id="88835-410">Sovrascrivendo il valore del nome della stringa di connessione `LocalSqlServer` in `Web.config`, è possibile utilizzare il provider di appartenenze registrato predefinito (`AspNetSqlMembershipProvider`) e utilizzarlo correttamente con il database `SecurityTutorials.mdf`.</span><span class="sxs-lookup"><span data-stu-id="88835-410">By overwriting the `LocalSqlServer` connection string name value in `Web.config`, we can use the default registered Membership provider (`AspNetSqlMembershipProvider`) and have it correctly work with the `SecurityTutorials.mdf` database.</span></span> <span data-ttu-id="88835-411">Questo approccio è corretto se si è soddisfatti delle impostazioni di configurazione specificate da `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="88835-411">This approach is fine if you are content with the configuration settings specified by `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="88835-412">Per altre informazioni su questa tecnica, vedere il post di Blog di [Scott Guthrie](https://weblogs.asp.net/scottgu/)relativo [alla configurazione di ASP.NET 2,0 servizi per le applicazioni per l'uso di SQL Server 2000 o SQL Server 2005](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx).</span><span class="sxs-lookup"><span data-stu-id="88835-412">For more information on this technique, see [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog post, [Configuring ASP.NET 2.0 Application Services to Use SQL Server 2000 or SQL Server 2005](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx).</span></span>
- <span data-ttu-id="88835-413"><strong>Aggiungere un nuovo provider registrato di tipo</strong> <strong>`SqlMembershipProvider`</strong> <strong>e configurarne</strong> l'impostazione<strong>`connectionStringName`</strong> <strong>in modo che punti al</strong> database<strong>`SecurityTutorials.mdf`</strong> <strong>.</strong></span><span class="sxs-lookup"><span data-stu-id="88835-413"><strong>Add a new registered provider of type</strong><strong>`SqlMembershipProvider`</strong><strong>and configure its</strong><strong>`connectionStringName`</strong><strong>setting to point to the</strong><strong>`SecurityTutorials.mdf`</strong><strong>database.</strong></span></span> <span data-ttu-id="88835-414">Questo approccio è utile negli scenari in cui si desidera personalizzare altre proprietà di configurazione oltre alla stringa di connessione del database.</span><span class="sxs-lookup"><span data-stu-id="88835-414">This approach is useful in scenarios where you want to customize other configuration properties in addition to the database connection string.</span></span> <span data-ttu-id="88835-415">Nei miei progetti utilizzerò sempre questo approccio grazie alla sua flessibilità e leggibilità.</span><span class="sxs-lookup"><span data-stu-id="88835-415">In my own projects I always use this approach because of its flexibility and readability.</span></span>

<span data-ttu-id="88835-416">Prima di poter aggiungere un nuovo provider registrato che fa riferimento al database di `SecurityTutorials.mdf`, è necessario prima aggiungere un valore della stringa di connessione appropriato nella sezione `<connectionStrings>` in `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="88835-416">Before we can add a new registered provider that references the `SecurityTutorials.mdf` database, we first need to add an appropriate connection string value in the `<connectionStrings>` section in `Web.config`.</span></span> <span data-ttu-id="88835-417">Il markup seguente aggiunge una nuova stringa di connessione denominata `SecurityTutorialsConnectionString` che fa riferimento al database SQL Server 2005 Express Edition `SecurityTutorials.mdf` nella cartella `App_Data`.</span><span class="sxs-lookup"><span data-stu-id="88835-417">The following markup adds a new connection string named `SecurityTutorialsConnectionString` that references the SQL Server 2005 Express Edition `SecurityTutorials.mdf` database in the `App_Data` folder.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample3.xml)]

> [!NOTE]
> <span data-ttu-id="88835-418">Se si utilizza un file di database alternativo, aggiornare la stringa di connessione in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="88835-418">If you are using an alternate database file, update the connection string as needed.</span></span> <span data-ttu-id="88835-419">Per ulteriori informazioni sulla forma della stringa di connessione corretta, fare riferimento a [connectionStrings.com](http://www.connectionstrings.com/).</span><span class="sxs-lookup"><span data-stu-id="88835-419">For more information on forming the correct connection string, refer to [ConnectionStrings.com](http://www.connectionstrings.com/).</span></span>

<span data-ttu-id="88835-420">Aggiungere quindi il markup di configurazione di appartenenza seguente al file di `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="88835-420">Next, add the following Membership configuration markup to the `Web.config` file.</span></span> <span data-ttu-id="88835-421">Questo markup registra un nuovo provider denominato `SecurityTutorialsSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="88835-421">This markup registers a new provider named `SecurityTutorialsSqlMembershipProvider`.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample4.xml)]

<span data-ttu-id="88835-422">Oltre a registrare il provider di `SecurityTutorialsSqlMembershipProvider`, il markup precedente definisce la `SecurityTutorialsSqlMembershipProvider` come provider predefinito (tramite l'attributo `defaultProvider` nell'elemento `<membership>`).</span><span class="sxs-lookup"><span data-stu-id="88835-422">In addition to registering the `SecurityTutorialsSqlMembershipProvider` provider, the above markup defines the `SecurityTutorialsSqlMembershipProvider` as the default provider (via the `defaultProvider` attribute in the `<membership>` element).</span></span> <span data-ttu-id="88835-423">Ricordare che il Framework di appartenenza può avere più provider registrati.</span><span class="sxs-lookup"><span data-stu-id="88835-423">Recall that the Membership framework can have multiple registered providers.</span></span> <span data-ttu-id="88835-424">Poiché `AspNetSqlMembershipProvider` viene registrato come primo provider in `machine.config`, funge da provider predefinito a meno che non sia indicato diversamente.</span><span class="sxs-lookup"><span data-stu-id="88835-424">Since `AspNetSqlMembershipProvider` is registered as the first provider in `machine.config`, it serves as the default provider unless we indicate otherwise.</span></span>

<span data-ttu-id="88835-425">Attualmente, l'applicazione ha due provider registrati: `AspNetSqlMembershipProvider` e `SecurityTutorialsSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="88835-425">Currently, our application has two registered providers: `AspNetSqlMembershipProvider` and `SecurityTutorialsSqlMembershipProvider`.</span></span> <span data-ttu-id="88835-426">Tuttavia, prima di registrare il provider di `SecurityTutorialsSqlMembershipProvider`, avremmo potuto cancellare tutti i provider precedentemente registrati aggiungendo un [elemento`<clear />`](https://msdn.microsoft.com/library/t062y6yc.aspx) immediatamente prima dell'elemento `<add>`.</span><span class="sxs-lookup"><span data-stu-id="88835-426">However, before registering the `SecurityTutorialsSqlMembershipProvider` provider we could have cleared out all previously registered providers by adding a [`<clear />` element](https://msdn.microsoft.com/library/t062y6yc.aspx) immediately before our `<add>` element.</span></span> <span data-ttu-id="88835-427">In questo modo si cancellano i `AspNetSqlMembershipProvider` dall'elenco dei provider registrati, il che significa che il `SecurityTutorialsSqlMembershipProvider` sarebbe l'unico provider di appartenenze registrato.</span><span class="sxs-lookup"><span data-stu-id="88835-427">This would clear out the `AspNetSqlMembershipProvider` from the list of registered providers, meaning that the `SecurityTutorialsSqlMembershipProvider` would be the only registered Membership provider.</span></span> <span data-ttu-id="88835-428">Se è stato usato questo approccio, non è necessario contrassegnare il `SecurityTutorialsSqlMembershipProvider` come provider predefinito, perché sarebbe l'unico provider di appartenenze registrato.</span><span class="sxs-lookup"><span data-stu-id="88835-428">If we used this approach, then we would not need to mark the `SecurityTutorialsSqlMembershipProvider` as the default provider, since it would be the only registered Membership provider.</span></span> <span data-ttu-id="88835-429">Per ulteriori informazioni sull'utilizzo di `<clear />`, vedere [utilizzo di `<clear />` durante l'aggiunta di provider](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx).</span><span class="sxs-lookup"><span data-stu-id="88835-429">For more information on using `<clear />`, see [Using `<clear />` When Adding providers](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx).</span></span>

<span data-ttu-id="88835-430">Si noti che l'impostazione di `connectionStringName` del `SecurityTutorialsSqlMembershipProvider`fa riferimento al nome della stringa di connessione `SecurityTutorialsConnectionString` appena aggiunto e che la relativa impostazione `applicationName` è stata impostata sul valore SecurityTutorials.</span><span class="sxs-lookup"><span data-stu-id="88835-430">Note that the `SecurityTutorialsSqlMembershipProvider`'s `connectionStringName` setting references the just-added `SecurityTutorialsConnectionString` connection string name, and that its `applicationName` setting has been set to a value of SecurityTutorials.</span></span> <span data-ttu-id="88835-431">Inoltre, l'impostazione `requiresUniqueEmail` è stata impostata su `true`.</span><span class="sxs-lookup"><span data-stu-id="88835-431">Additionally, the `requiresUniqueEmail` setting has been set to `true`.</span></span> <span data-ttu-id="88835-432">Tutte le altre opzioni di configurazione sono identiche ai valori in `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="88835-432">All other configuration options are identical to the values in `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="88835-433">Se lo si desidera, è possibile apportare qualsiasi modifica alla configurazione.</span><span class="sxs-lookup"><span data-stu-id="88835-433">Feel free to make any configuration modifications here, if you wish.</span></span> <span data-ttu-id="88835-434">Ad esempio, è possibile limitare la complessità della password richiedendo due caratteri non alfanumerici anziché uno oppure aumentando la lunghezza della password a otto caratteri invece di sette.</span><span class="sxs-lookup"><span data-stu-id="88835-434">For example, you could tighten the password strength by requiring two non-alphanumeric characters instead of one, or by increasing the password length to eight characters instead of seven.</span></span>

> [!NOTE]
> <span data-ttu-id="88835-435">Tenere presente che il Framework di appartenenza consente di partizionare un singolo archivio utente tra più applicazioni.</span><span class="sxs-lookup"><span data-stu-id="88835-435">Recall that the Membership framework allows for a single user store to be partitioned across multiple applications.</span></span> <span data-ttu-id="88835-436">L'impostazione `applicationName` del provider di appartenenza indica l'applicazione utilizzata dal provider quando si utilizza l'archivio utente.</span><span class="sxs-lookup"><span data-stu-id="88835-436">The Membership provider's `applicationName` setting indicates what application the provider uses when working with the user store.</span></span> <span data-ttu-id="88835-437">È importante impostare in modo esplicito un valore per l'impostazione di configurazione `applicationName` perché se il `applicationName` non è impostato in modo esplicito, viene assegnato al percorso radice virtuale dell'applicazione Web in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="88835-437">It is important that you explicitly set a value for the `applicationName` configuration setting because if the `applicationName` is not explicitly set, it is assigned to the web application's virtual root path at runtime.</span></span> <span data-ttu-id="88835-438">Questa operazione funziona correttamente purché il percorso radice virtuale dell'applicazione non cambi, ma se si sposta l'applicazione in un percorso diverso, anche l'impostazione `applicationName` cambierà.</span><span class="sxs-lookup"><span data-stu-id="88835-438">This works fine as long as the application's virtual root path doesn't change, but if you move the application to a different path, the `applicationName` setting will change too.</span></span> <span data-ttu-id="88835-439">Quando si verifica questo problema, il provider di appartenenze inizierà a lavorare con una partizione di applicazione diversa da quella usata in precedenza.</span><span class="sxs-lookup"><span data-stu-id="88835-439">When this happens, the Membership provider will start working with a different application partition than was previously used.</span></span> <span data-ttu-id="88835-440">Gli account utente creati prima dello spostamento si troveranno in una partizione di applicazione diversa e tali utenti non saranno più in grado di accedere al sito.</span><span class="sxs-lookup"><span data-stu-id="88835-440">User accounts created prior to the move will reside in a different application partition and those users will no longer be able to log into the site.</span></span> <span data-ttu-id="88835-441">Per una discussione più approfondita su questo aspetto, vedere [impostare sempre la proprietà `applicationName` quando si configura l'appartenenza a ASP.NET 2,0 e altri provider](https://weblogs.asp.net/scottgu/443634).</span><span class="sxs-lookup"><span data-stu-id="88835-441">For a more in-depth discussion on this matter, see [Always Set the `applicationName` Property When Configuring ASP.NET 2.0 Membership and Other providers](https://weblogs.asp.net/scottgu/443634).</span></span>

## <a name="summary"></a><span data-ttu-id="88835-442">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="88835-442">Summary</span></span>

<span data-ttu-id="88835-443">A questo punto è presente un database con i servizi delle applicazioni configurati (`SecurityTutorials.mdf`) e l'applicazione Web è stata configurata in modo che il Framework di appartenenza usi il provider di `SecurityTutorialsSqlMembershipProvider` appena registrato.</span><span class="sxs-lookup"><span data-stu-id="88835-443">At this point we have a database with the configured application services (`SecurityTutorials.mdf`) and have configured our web application so that the Membership framework uses the `SecurityTutorialsSqlMembershipProvider` provider we just registered.</span></span> <span data-ttu-id="88835-444">Questo provider registrato è di tipo `SqlMembershipProvider` e il relativo `connectionStringName` impostato sulla stringa di connessione appropriata (`SecurityTutorialsConnectionString`) e sul valore di `applicationName` impostato in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="88835-444">This registered provider is of type `SqlMembershipProvider` and has its `connectionStringName` set to the appropriate connection string (`SecurityTutorialsConnectionString`) and its `applicationName` value explicitly set.</span></span>

<span data-ttu-id="88835-445">A questo punto è possibile usare il framework delle appartenenze dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="88835-445">We are now ready to use the Membership framework from our application.</span></span> <span data-ttu-id="88835-446">Nell'esercitazione successiva verrà esaminato come creare nuovi account utente.</span><span class="sxs-lookup"><span data-stu-id="88835-446">In the next tutorial we will examine how to create new user accounts.</span></span> <span data-ttu-id="88835-447">In seguito si esaminerà l'autenticazione degli utenti, l'esecuzione dell'autorizzazione basata sull'utente e l'archiviazione di informazioni aggiuntive relative all'utente nel database.</span><span class="sxs-lookup"><span data-stu-id="88835-447">Following that we will explore authenticating users, performing user-based authorization, and storing additional user-related information in the database.</span></span>

<span data-ttu-id="88835-448">Buona programmazione!</span><span class="sxs-lookup"><span data-stu-id="88835-448">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="88835-449">Ulteriori informazioni</span><span class="sxs-lookup"><span data-stu-id="88835-449">Further Reading</span></span>

<span data-ttu-id="88835-450">Per ulteriori informazioni sugli argomenti trattati in questa esercitazione, fare riferimento alle risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="88835-450">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="88835-451">Impostare sempre la proprietà `applicationName` quando si configura l'appartenenza a ASP.NET 2,0 e altri provider</span><span class="sxs-lookup"><span data-stu-id="88835-451">Always Set the `applicationName` Property When Configuring ASP.NET 2.0 Membership and Other providers</span></span>](https://weblogs.asp.net/scottgu/443634)
- [<span data-ttu-id="88835-452">Configurazione di ASP.NET 2,0 Servizi per le applicazioni per l'uso di SQL Server 2000 o SQL Server 2005</span><span class="sxs-lookup"><span data-stu-id="88835-452">Configuring ASP.NET 2.0 Application Services to Use SQL Server 2000 or SQL Server 2005</span></span>](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx)
- [<span data-ttu-id="88835-453">Scarica SQL Server Management Studio Express Edition</span><span class="sxs-lookup"><span data-stu-id="88835-453">Download SQL Server Management Studio Express Edition</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en)
- [<span data-ttu-id="88835-454">Esame dell'appartenenza, dei ruoli e del profilo di ASP.NET 2,0 s</span><span class="sxs-lookup"><span data-stu-id="88835-454">Examining ASP.NET 2.0�s Membership, Roles, and Profile</span></span>](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [<span data-ttu-id="88835-455">Elemento `<add>` per i provider per l'appartenenza</span><span class="sxs-lookup"><span data-stu-id="88835-455">The `<add>` Element for providers for Membership</span></span>](https://msdn.microsoft.com/library/whae3t94.aspx)
- [<span data-ttu-id="88835-456">Elemento `<membership>`</span><span class="sxs-lookup"><span data-stu-id="88835-456">The `<membership>` Element</span></span>](https://msdn.microsoft.com/library/1b9hw62f.aspx)
- [<span data-ttu-id="88835-457">Elemento `<providers>` per l'appartenenza</span><span class="sxs-lookup"><span data-stu-id="88835-457">The `<providers>` Element for Membership</span></span>](https://msdn.microsoft.com/library/6d4936ht.aspx)
- [<span data-ttu-id="88835-458">Utilizzo di `<clear />` durante l'aggiunta di provider</span><span class="sxs-lookup"><span data-stu-id="88835-458">Using `<clear />` When Adding providers</span></span>](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx)
- [<span data-ttu-id="88835-459">Lavorare direttamente con la `SqlMembershipProvider`</span><span class="sxs-lookup"><span data-stu-id="88835-459">Working Directly with the `SqlMembershipProvider`</span></span>](http://aspnet.4guysfromrolla.com/articles/091207-1.aspx)

### <a name="video-training-on-topics-contained-in-this-tutorial"></a><span data-ttu-id="88835-460">Formazione video sugli argomenti contenuti in questa esercitazione</span><span class="sxs-lookup"><span data-stu-id="88835-460">Video Training on Topics Contained in this Tutorial</span></span>

- [<span data-ttu-id="88835-461">Informazioni sulle appartenenze ASP.NET</span><span class="sxs-lookup"><span data-stu-id="88835-461">Understanding ASP.NET Memberships</span></span>](../../../videos/authentication/understanding-aspnet-memberships.md)
- [<span data-ttu-id="88835-462">Configurazione di SQL per l'uso degli schemi di appartenenza</span><span class="sxs-lookup"><span data-stu-id="88835-462">Configuring SQL To Work with Membership Schemas</span></span>](../../../videos/authentication/configuring-sql-to-work-with-membership-schemas.md)
- [<span data-ttu-id="88835-463">Modifica delle impostazioni di appartenenza nello schema di appartenenza predefinito</span><span class="sxs-lookup"><span data-stu-id="88835-463">Changing Membership Settings in the Default Membership Schema</span></span>](../../../videos/authentication/changing-membership-settings-in-the-default-membership-schema.md)

### <a name="about-the-author"></a><span data-ttu-id="88835-464">Informazioni sull'autore</span><span class="sxs-lookup"><span data-stu-id="88835-464">About the Author</span></span>

<span data-ttu-id="88835-465">Scott Mitchell, autore di più libri ASP/ASP. NET e fondatore di 4GuysFromRolla.com, collabora con le tecnologie Web Microsoft a partire da 1998.</span><span class="sxs-lookup"><span data-stu-id="88835-465">Scott Mitchell, author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="88835-466">Scott lavora come consulente, trainer e writer indipendenti.</span><span class="sxs-lookup"><span data-stu-id="88835-466">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="88835-467">Il suo ultimo libro è *[Sams Teach Yourself ASP.NET 2,0 in 24 ore](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)* .</span><span class="sxs-lookup"><span data-stu-id="88835-467">His latest book is *[Sams Teach Yourself ASP.NET 2.0 in 24 Hours](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span></span> <span data-ttu-id="88835-468">Scott può essere raggiunto in [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) o tramite il suo blog al [http://ScottOnWriting.NET](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="88835-468">Scott can be reached at [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="88835-469">Grazie speciale</span><span class="sxs-lookup"><span data-stu-id="88835-469">Special Thanks To</span></span>

<span data-ttu-id="88835-470">Questa serie di esercitazioni è stata esaminata da molti revisori utili.</span><span class="sxs-lookup"><span data-stu-id="88835-470">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="88835-471">Il revisore responsabile di questa esercitazione è Alicja Maziarz.</span><span class="sxs-lookup"><span data-stu-id="88835-471">Lead reviewer for this tutorial was Alicja Maziarz.</span></span> <span data-ttu-id="88835-472">Sei interessato a esaminare i miei prossimi articoli MSDN?</span><span class="sxs-lookup"><span data-stu-id="88835-472">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="88835-473">In tal caso, rilasciare una riga in [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span><span class="sxs-lookup"><span data-stu-id="88835-473">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="88835-474">[Precedente](storing-additional-user-information-cs.md)
> [Successivo](creating-user-accounts-vb.md)</span><span class="sxs-lookup"><span data-stu-id="88835-474">[Previous](storing-additional-user-information-cs.md)
[Next](creating-user-accounts-vb.md)</span></span>
