---
uid: mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb
title: Creare un'applicazione di database di film in 15 minuti con ASP.NET MVC (VB) | Microsoft Docs
author: StephenWalther
description: Stephen Walther crea un'intera applicazione MVC ASP.NET basata su database dall'inizio alla fine. Questa esercitazione è un'ottima introduzione agli utenti che non hanno familiarità con il nuovo t...
ms.author: riande
ms.date: 01/27/2009
ms.assetid: e4ba9786-734c-4eb3-91bb-089793325d0d
msc.legacyurl: /mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb
msc.type: authoredcontent
ms.openlocfilehash: 0ce8161d29a8ab4005e2b20462b08c9e10ee815a
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/28/2019
ms.locfileid: "74595738"
---
# <a name="create-a-movie-database-application-in-15-minutes-with-aspnet-mvc-vb"></a><span data-ttu-id="aefd3-104">Creare un'applicazione per un database di film in 15 minuti con ASP.NET MVC (VB)</span><span class="sxs-lookup"><span data-stu-id="aefd3-104">Create a Movie Database Application in 15 Minutes with ASP.NET MVC (VB)</span></span>

<span data-ttu-id="aefd3-105">di [Stephen Walther](https://github.com/StephenWalther)</span><span class="sxs-lookup"><span data-stu-id="aefd3-105">by [Stephen Walther](https://github.com/StephenWalther)</span></span>

[<span data-ttu-id="aefd3-106">Scarica codice</span><span class="sxs-lookup"><span data-stu-id="aefd3-106">Download Code</span></span>](https://download.microsoft.com/download/7/2/8/728F8794-E59A-4D18-9A56-7AD2DB05BD9D/MovieApp_VB.zip)

> <span data-ttu-id="aefd3-107">Stephen Walther crea un'intera applicazione MVC ASP.NET basata su database dall'inizio alla fine.</span><span class="sxs-lookup"><span data-stu-id="aefd3-107">Stephen Walther builds an entire database-driven ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="aefd3-108">Questa esercitazione è un'ottima introduzione per gli utenti che non hanno familiarità con il Framework di ASP.NET MVC e vogliono avere un'idea del processo di creazione di un'applicazione MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aefd3-108">This tutorial is a great introduction for people who are new to the ASP.NET MVC Framework and who want to get a sense of the process of building an ASP.NET MVC application.</span></span>

<span data-ttu-id="aefd3-109">Lo scopo di questa esercitazione è fornire un'idea di "cosa è simile" per creare un'applicazione MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aefd3-109">The purpose of this tutorial is to give you a sense of "what it is like" to build an ASP.NET MVC application.</span></span> <span data-ttu-id="aefd3-110">Questa esercitazione illustra come creare un'intera applicazione MVC ASP.NET dall'inizio alla fine.</span><span class="sxs-lookup"><span data-stu-id="aefd3-110">In this tutorial, I blast through building an entire ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="aefd3-111">Viene illustrato come creare una semplice applicazione basata su database che illustra come è possibile elencare, creare e modificare I record del database.</span><span class="sxs-lookup"><span data-stu-id="aefd3-111">I show you how to build a simple database-driven application that illustrates how you can list, create, and edit database records.</span></span>

<span data-ttu-id="aefd3-112">Per semplificare il processo di compilazione dell'applicazione, verranno sfruttate le funzionalità di impalcatura di Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="aefd3-112">To simplify the process of building our application, we'll take advantage of the scaffolding features of Visual Studio 2008.</span></span> <span data-ttu-id="aefd3-113">Si consentirà a Visual Studio di generare il codice e il contenuto iniziali per i controller, i modelli e le visualizzazioni.</span><span class="sxs-lookup"><span data-stu-id="aefd3-113">We'll let Visual Studio generate the initial code and content for our controllers, models, and views.</span></span>

<span data-ttu-id="aefd3-114">Se si è lavorato con Active Server pagine o ASP.NET, è necessario trovare ASP.NET MVC molto familiare.</span><span class="sxs-lookup"><span data-stu-id="aefd3-114">If you have worked with Active Server Pages or ASP.NET, then you should find ASP.NET MVC very familiar.</span></span> <span data-ttu-id="aefd3-115">Le visualizzazioni MVC ASP.NET sono molto simili alle pagine di un'applicazione Active Server Pages.</span><span class="sxs-lookup"><span data-stu-id="aefd3-115">ASP.NET MVC views are very much like the pages in an Active Server Pages application.</span></span> <span data-ttu-id="aefd3-116">Analogamente a un'applicazione Web Forms ASP.NET tradizionale, ASP.NET MVC offre accesso completo al set completo di linguaggi e classi forniti da .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="aefd3-116">And, just like a traditional ASP.NET Web Forms application, ASP.NET MVC provides you with full access to the rich set of languages and classes provided by the .NET framework.</span></span>

<span data-ttu-id="aefd3-117">Mi auguro che questa esercitazione consentirà di comprendere in che modo l'esperienza di creazione di un'applicazione MVC ASP.NET è simile e diversa rispetto all'esperienza di creazione di un Active Server di pagine o di un'applicazione Web Form ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aefd3-117">My hope is that this tutorial will give you a sense of how the experience of building an ASP.NET MVC application is both similar and different than the experience of building an Active Server Pages or ASP.NET Web Forms application.</span></span>

## <a name="overview-of-the-movie-database-application"></a><span data-ttu-id="aefd3-118">Panoramica dell'applicazione del database di film</span><span class="sxs-lookup"><span data-stu-id="aefd3-118">Overview of the Movie Database Application</span></span>

<span data-ttu-id="aefd3-119">Poiché l'obiettivo è quello di semplificare le operazioni, verrà creata un'applicazione di database di film molto semplice.</span><span class="sxs-lookup"><span data-stu-id="aefd3-119">Because our goal is to keep things simple, we'll build a very simple Movie Database application.</span></span> <span data-ttu-id="aefd3-120">La nostra semplice applicazione di database di filmati ci consentirà di eseguire tre operazioni:</span><span class="sxs-lookup"><span data-stu-id="aefd3-120">Our simple Movie Database application will allow us to do three things:</span></span>

1. <span data-ttu-id="aefd3-121">Elencare un set di record del database di film</span><span class="sxs-lookup"><span data-stu-id="aefd3-121">List a set of movie database records</span></span>
2. <span data-ttu-id="aefd3-122">Crea un nuovo record del database di film</span><span class="sxs-lookup"><span data-stu-id="aefd3-122">Create a new movie database record</span></span>
3. <span data-ttu-id="aefd3-123">Modificare un record del database di film esistente</span><span class="sxs-lookup"><span data-stu-id="aefd3-123">Edit an existing movie database record</span></span>

<span data-ttu-id="aefd3-124">Anche in questo caso, poiché si vuole semplificare le attività, si utilizzerà il numero minimo di funzionalità del Framework di MVC ASP.NET necessarie per compilare l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="aefd3-124">Again, because we want to keep things simple, we'll take advantage of the minimum number of features of the ASP.NET MVC framework needed to build our application.</span></span> <span data-ttu-id="aefd3-125">Ad esempio, non utilizzeremo i vantaggi dello sviluppo basato su test.</span><span class="sxs-lookup"><span data-stu-id="aefd3-125">For example, we won't be taking advantage of Test-Driven Development.</span></span>

<span data-ttu-id="aefd3-126">Per creare l'applicazione, è necessario completare ognuno dei passaggi seguenti:</span><span class="sxs-lookup"><span data-stu-id="aefd3-126">In order to create our application, we need to complete each of the following steps:</span></span>

1. <span data-ttu-id="aefd3-127">Creare il progetto di applicazione Web MVC ASP.NET</span><span class="sxs-lookup"><span data-stu-id="aefd3-127">Create the ASP.NET MVC Web Application Project</span></span>
2. <span data-ttu-id="aefd3-128">Creare il database</span><span class="sxs-lookup"><span data-stu-id="aefd3-128">Create the database</span></span>
3. <span data-ttu-id="aefd3-129">Creare il modello di database</span><span class="sxs-lookup"><span data-stu-id="aefd3-129">Create the database model</span></span>
4. <span data-ttu-id="aefd3-130">Creare il controller MVC ASP.NET</span><span class="sxs-lookup"><span data-stu-id="aefd3-130">Create the ASP.NET MVC controller</span></span>
5. <span data-ttu-id="aefd3-131">Creare le visualizzazioni MVC ASP.NET</span><span class="sxs-lookup"><span data-stu-id="aefd3-131">Create the ASP.NET MVC views</span></span>

## <a name="preliminaries"></a><span data-ttu-id="aefd3-132">Preliminari</span><span class="sxs-lookup"><span data-stu-id="aefd3-132">Preliminaries</span></span>

<span data-ttu-id="aefd3-133">Per creare un'applicazione MVC ASP.NET, è necessario Visual Studio 2008 o Visual Web Developer 2008 Express.</span><span class="sxs-lookup"><span data-stu-id="aefd3-133">You'll need either Visual Studio 2008 or Visual Web Developer 2008 Express to build an ASP.NET MVC application.</span></span> <span data-ttu-id="aefd3-134">È anche necessario scaricare ASP.NET MVC Framework.</span><span class="sxs-lookup"><span data-stu-id="aefd3-134">You also need to download the ASP.NET MVC framework.</span></span>

<span data-ttu-id="aefd3-135">Se non si è proprietari di Visual Studio 2008, è possibile scaricare una versione di valutazione di 90 giorni di Visual Studio 2008 da questo sito Web:</span><span class="sxs-lookup"><span data-stu-id="aefd3-135">If you don't own Visual Studio 2008, then you can download a 90 day trial version of Visual Studio 2008 from this website:</span></span>

[https://msdn.microsoft.com/vs2008/products/cc268305.aspx](https://msdn.microsoft.com/vs2008/products/cc268305.aspx)

<span data-ttu-id="aefd3-136">In alternativa, è possibile creare applicazioni MVC ASP.NET con Visual Web Developer Express 2008.</span><span class="sxs-lookup"><span data-stu-id="aefd3-136">Alternatively, you can create ASP.NET MVC applications with Visual Web Developer Express 2008.</span></span> <span data-ttu-id="aefd3-137">Se si decide di utilizzare Visual Web Developer Express, è necessario che sia installato Service Pack 1.</span><span class="sxs-lookup"><span data-stu-id="aefd3-137">If you decide to use Visual Web Developer Express then you must have Service Pack 1 installed.</span></span> <span data-ttu-id="aefd3-138">È possibile scaricare Visual Web Developer 2008 Express con Service Pack 1 da questo sito Web:</span><span class="sxs-lookup"><span data-stu-id="aefd3-138">You can download Visual Web Developer 2008 Express with Service Pack 1 from this website:</span></span>

[<span data-ttu-id="aefd3-139">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;d isplaylang = en</span><span class="sxs-lookup"><span data-stu-id="aefd3-139">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en)

<span data-ttu-id="aefd3-140">Dopo aver installato Visual Studio 2008 o Visual Web Developer 2008, è necessario installare ASP.NET MVC Framework.</span><span class="sxs-lookup"><span data-stu-id="aefd3-140">After you install either Visual Studio 2008 or Visual Web Developer 2008, you need to install the ASP.NET MVC framework.</span></span> <span data-ttu-id="aefd3-141">È possibile scaricare il Framework di ASP.NET MVC dal sito Web seguente:</span><span class="sxs-lookup"><span data-stu-id="aefd3-141">You can download the ASP.NET MVC framework from the following website:</span></span>

[https://www.asp.net/mvc/](../../../index.md)

> [!NOTE] 
> 
> <span data-ttu-id="aefd3-142">Anziché scaricare il framework ASP.NET e il framework ASP.NET MVC singolarmente, è possibile sfruttare l'installazione guidata piattaforma Web.</span><span class="sxs-lookup"><span data-stu-id="aefd3-142">Instead of downloading the ASP.NET framework and the ASP.NET MVC framework individually, you can take advantage of the Web Platform Installer.</span></span> <span data-ttu-id="aefd3-143">L'installazione guidata piattaforma Web è un'applicazione che consente di gestire facilmente le applicazioni installate nel computer in uso:</span><span class="sxs-lookup"><span data-stu-id="aefd3-143">The Web Platform Installer is an application that enables you to easily manage the installed applications are your computer:</span></span>
> 
> [https://www.microsoft.com/web/gallery/Install.aspx](https://www.microsoft.com/web/gallery/Install.aspx)

## <a name="creating-an-aspnet-mvc-web-application-project"></a><span data-ttu-id="aefd3-144">Creazione di un progetto di applicazione Web MVC ASP.NET</span><span class="sxs-lookup"><span data-stu-id="aefd3-144">Creating an ASP.NET MVC Web Application Project</span></span>

<span data-ttu-id="aefd3-145">Iniziamo creando un nuovo progetto di applicazione Web MVC ASP.NET in Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="aefd3-145">Let's start by creating a new ASP.NET MVC Web Application project in Visual Studio 2008.</span></span> <span data-ttu-id="aefd3-146">Selezionare il file dell'opzione di menu **nuovo progetto** . nella figura 1 sarà visualizzata la finestra di dialogo nuovo progetto.</span><span class="sxs-lookup"><span data-stu-id="aefd3-146">Select the menu option **File, New Project** and you will see the New Project dialog box in Figure 1.</span></span> <span data-ttu-id="aefd3-147">Selezionare Visual Basic come linguaggio di programmazione e selezionare il modello di progetto applicazione Web MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aefd3-147">Select Visual Basic as the programming language and select the ASP.NET MVC Web Application project template.</span></span> <span data-ttu-id="aefd3-148">Assegnare al progetto il nome MovieApp e fare clic sul pulsante OK.</span><span class="sxs-lookup"><span data-stu-id="aefd3-148">Give your project the name MovieApp and click the OK button.</span></span>

<span data-ttu-id="aefd3-149">[![finestra di dialogo nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="aefd3-149">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.png)</span></span>

<span data-ttu-id="aefd3-150">**Figura 01**: finestra di dialogo nuovo progetto ([fare clic per visualizzare l'immagine con dimensioni complete](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="aefd3-150">**Figure 01**: The New Project dialog box ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.png))</span></span>

<span data-ttu-id="aefd3-151">Assicurarsi di selezionare .NET Framework 3,5 dall'elenco a discesa nella parte superiore della finestra di dialogo nuovo progetto oppure il modello di progetto applicazione Web MVC ASP.NET non verrà visualizzato.</span><span class="sxs-lookup"><span data-stu-id="aefd3-151">Make sure that you select .NET Framework 3.5 from the dropdown list at the top of the New Project dialog or the ASP.NET MVC Web Application project template won't appear.</span></span>

<span data-ttu-id="aefd3-152">Ogni volta che si crea un nuovo progetto di applicazione Web MVC, in Visual Studio viene richiesto di creare un progetto di unit test separato.</span><span class="sxs-lookup"><span data-stu-id="aefd3-152">Whenever you create a new MVC Web Application project, Visual Studio prompts you to create a separate unit test project.</span></span> <span data-ttu-id="aefd3-153">Viene visualizzata la finestra di dialogo nella figura 2.</span><span class="sxs-lookup"><span data-stu-id="aefd3-153">The dialog in Figure 2 appears.</span></span> <span data-ttu-id="aefd3-154">Poiché i test non verranno creati in questa esercitazione a causa dei vincoli temporali (e, sì, è opportuno ritenere che questa operazione non sia sufficiente) selezionare l'opzione **No** e fare clic sul pulsante **OK** .</span><span class="sxs-lookup"><span data-stu-id="aefd3-154">Because we won't be creating tests in this tutorial because of time constraints (and, yes, we should feel a little guilty about this) select the **No** option and click the **OK** button.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="aefd3-155">Visual Web Developer non supporta i progetti di test.</span><span class="sxs-lookup"><span data-stu-id="aefd3-155">Visual Web Developer does not support test projects.</span></span>

<span data-ttu-id="aefd3-156">[![finestra di dialogo nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="aefd3-156">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.png)</span></span>

<span data-ttu-id="aefd3-157">**Figura 02**: finestra di dialogo Crea progetto di unit test ([fare clic per visualizzare l'immagine con dimensioni complete](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="aefd3-157">**Figure 02**: The Create Unit Test Project dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.png))</span></span>

<span data-ttu-id="aefd3-158">Un'applicazione MVC ASP.NET dispone di un set di cartelle standard, ovvero una cartella modelli, visualizzazioni e controller.</span><span class="sxs-lookup"><span data-stu-id="aefd3-158">An ASP.NET MVC application has a standard set of folders: a Models, Views, and Controllers folder.</span></span> <span data-ttu-id="aefd3-159">È possibile visualizzare questo set di cartelle standard nella finestra Esplora soluzioni.</span><span class="sxs-lookup"><span data-stu-id="aefd3-159">You can see this standard set of folders in the Solution Explorer window.</span></span> <span data-ttu-id="aefd3-160">Per creare l'applicazione di database di film, è necessario aggiungere file a ogni cartella di modelli, visualizzazioni e controller.</span><span class="sxs-lookup"><span data-stu-id="aefd3-160">We'll need to add files to each of the Models, Views, and Controllers folders in order to build our Movie Database application.</span></span>

<span data-ttu-id="aefd3-161">Quando si crea una nuova applicazione MVC con Visual Studio, si ottiene un'applicazione di esempio.</span><span class="sxs-lookup"><span data-stu-id="aefd3-161">When you create a new MVC application with Visual Studio, you get a sample application.</span></span> <span data-ttu-id="aefd3-162">Poiché si desidera iniziare da zero, è necessario eliminare il contenuto per questa applicazione di esempio.</span><span class="sxs-lookup"><span data-stu-id="aefd3-162">Because we want to start from scratch, we need to delete the content for this sample application.</span></span> <span data-ttu-id="aefd3-163">È necessario eliminare il file seguente e la cartella seguente:</span><span class="sxs-lookup"><span data-stu-id="aefd3-163">You need to delete the following file and the following folder:</span></span>

- <span data-ttu-id="aefd3-164">Controllers\HomeController.vb</span><span class="sxs-lookup"><span data-stu-id="aefd3-164">Controllers\HomeController.vb</span></span>
- <span data-ttu-id="aefd3-165">Views\Home</span><span class="sxs-lookup"><span data-stu-id="aefd3-165">Views\Home</span></span>

## <a name="creating-the-database"></a><span data-ttu-id="aefd3-166">Creazione del database</span><span class="sxs-lookup"><span data-stu-id="aefd3-166">Creating the Database</span></span>

<span data-ttu-id="aefd3-167">È necessario creare un database per conservare i record del database di film.</span><span class="sxs-lookup"><span data-stu-id="aefd3-167">We need to create a database to hold our movie database records.</span></span> <span data-ttu-id="aefd3-168">Fortunatamente, Visual Studio include un database gratuito denominato SQL Server Express.</span><span class="sxs-lookup"><span data-stu-id="aefd3-168">Luckily, Visual Studio includes a free database named SQL Server Express.</span></span> <span data-ttu-id="aefd3-169">Per creare il database, attenersi alla procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="aefd3-169">Follow these steps to create the database:</span></span>

1. <span data-ttu-id="aefd3-170">Fare clic con il pulsante destro del mouse sulla cartella app\_data nella finestra di Esplora soluzioni e selezionare l'opzione di menu **Aggiungi, nuovo elemento**.</span><span class="sxs-lookup"><span data-stu-id="aefd3-170">Right-click the App\_Data folder in the Solution Explorer window and select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="aefd3-171">Selezionare la categoria di **dati** e selezionare il modello di **database SQL Server** (vedere la figura 3).</span><span class="sxs-lookup"><span data-stu-id="aefd3-171">Select the **Data** category and select the **SQL Server Database** template (see Figure 3).</span></span>
3. <span data-ttu-id="aefd3-172">Assegnare un nome al nuovo database *MoviesDB. MDF* e fare clic sul pulsante **Aggiungi** .</span><span class="sxs-lookup"><span data-stu-id="aefd3-172">Name your new database *MoviesDB.mdf* and click the **Add** button.</span></span>

<span data-ttu-id="aefd3-173">Dopo aver creato il database, è possibile connettersi al database facendo doppio clic sul file MoviesDB. mdf che si trova nella cartella app\_data.</span><span class="sxs-lookup"><span data-stu-id="aefd3-173">After you create your database, you can connect to the database by double-clicking the MoviesDB.mdf file located in the App\_Data folder.</span></span> <span data-ttu-id="aefd3-174">Facendo doppio clic sul file MoviesDB. MDF si apre la finestra Esplora server.</span><span class="sxs-lookup"><span data-stu-id="aefd3-174">Double-clicking the MoviesDB.mdf file opens the Server Explorer window.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="aefd3-175">La finestra di Esplora server viene denominata finestra di Esplora database nel caso di Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="aefd3-175">The Server Explorer window is named the Database Explorer window in the case of Visual Web Developer.</span></span>

<span data-ttu-id="aefd3-176">[![finestra di dialogo nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="aefd3-176">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.png)</span></span>

<span data-ttu-id="aefd3-177">**Figura 03**: creazione di un Database di Microsoft SQL Server ([fare clic per visualizzare l'immagine con dimensioni complete](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="aefd3-177">**Figure 03**: Creating a Microsoft SQL Server Database ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.png))</span></span>

<span data-ttu-id="aefd3-178">Successivamente, è necessario creare una nuova tabella di database.</span><span class="sxs-lookup"><span data-stu-id="aefd3-178">Next, we need to create a new database table.</span></span> <span data-ttu-id="aefd3-179">Nella finestra di Esplora server fare clic con il pulsante destro del mouse sulla cartella tabelle e selezionare l'opzione di menu **Aggiungi nuova tabella**.</span><span class="sxs-lookup"><span data-stu-id="aefd3-179">From within the Sever Explorer window, right-click the Tables folder and select the menu option **Add New Table**.</span></span> <span data-ttu-id="aefd3-180">La selezione di questa opzione di menu consente di aprire Progettazione tabelle di database.</span><span class="sxs-lookup"><span data-stu-id="aefd3-180">Selecting this menu option opens the database table designer.</span></span> <span data-ttu-id="aefd3-181">Creare le colonne di database seguenti:</span><span class="sxs-lookup"><span data-stu-id="aefd3-181">Create the following database columns:</span></span>

<a id="0.2_table01"></a>

| <span data-ttu-id="aefd3-182">**Nome colonna**</span><span class="sxs-lookup"><span data-stu-id="aefd3-182">**Column Name**</span></span> | <span data-ttu-id="aefd3-183">**Tipo di dati**</span><span class="sxs-lookup"><span data-stu-id="aefd3-183">**Data Type**</span></span> | <span data-ttu-id="aefd3-184">**Consenti valori null**</span><span class="sxs-lookup"><span data-stu-id="aefd3-184">**Allow Nulls**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aefd3-185">Id</span><span class="sxs-lookup"><span data-stu-id="aefd3-185">Id</span></span> | <span data-ttu-id="aefd3-186">Int</span><span class="sxs-lookup"><span data-stu-id="aefd3-186">Int</span></span> | <span data-ttu-id="aefd3-187">Falso</span><span class="sxs-lookup"><span data-stu-id="aefd3-187">False</span></span> |
| <span data-ttu-id="aefd3-188">Titolo</span><span class="sxs-lookup"><span data-stu-id="aefd3-188">Title</span></span> | <span data-ttu-id="aefd3-189">Nvarchar (100)</span><span class="sxs-lookup"><span data-stu-id="aefd3-189">Nvarchar(100)</span></span> | <span data-ttu-id="aefd3-190">Falso</span><span class="sxs-lookup"><span data-stu-id="aefd3-190">False</span></span> |
| <span data-ttu-id="aefd3-191">Direttore</span><span class="sxs-lookup"><span data-stu-id="aefd3-191">Director</span></span> | <span data-ttu-id="aefd3-192">Nvarchar (100)</span><span class="sxs-lookup"><span data-stu-id="aefd3-192">Nvarchar(100)</span></span> | <span data-ttu-id="aefd3-193">Falso</span><span class="sxs-lookup"><span data-stu-id="aefd3-193">False</span></span> |
| <span data-ttu-id="aefd3-194">DateReleased</span><span class="sxs-lookup"><span data-stu-id="aefd3-194">DateReleased</span></span> | <span data-ttu-id="aefd3-195">DateTime</span><span class="sxs-lookup"><span data-stu-id="aefd3-195">DateTime</span></span> | <span data-ttu-id="aefd3-196">Falso</span><span class="sxs-lookup"><span data-stu-id="aefd3-196">False</span></span> |

<span data-ttu-id="aefd3-197">La prima colonna, ovvero la colonna ID, presenta due proprietà speciali.</span><span class="sxs-lookup"><span data-stu-id="aefd3-197">The first column, the Id column, has two special properties.</span></span> <span data-ttu-id="aefd3-198">Prima di tutto, è necessario contrassegnare la colonna ID come colonna chiave primaria.</span><span class="sxs-lookup"><span data-stu-id="aefd3-198">First, you need to mark the Id column as the primary key column.</span></span> <span data-ttu-id="aefd3-199">Dopo aver selezionato la colonna ID, fare clic sul pulsante **Imposta chiave primaria** . si tratta dell'icona che ha un aspetto simile a una chiave.</span><span class="sxs-lookup"><span data-stu-id="aefd3-199">After selecting the Id column, click the **Set Primary Key** button (it is the icon that looks like a key).</span></span> <span data-ttu-id="aefd3-200">In secondo luogo, è necessario contrassegnare la colonna ID come colonna Identity.</span><span class="sxs-lookup"><span data-stu-id="aefd3-200">Second, you need to mark the Id column as an Identity column.</span></span> <span data-ttu-id="aefd3-201">Nella colonna Finestra Proprietà scorrere verso il basso fino alla sezione specifica identità ed espanderla.</span><span class="sxs-lookup"><span data-stu-id="aefd3-201">In the Column Properties window, scroll down to the Identity Specification section and expand it.</span></span> <span data-ttu-id="aefd3-202">Modificare la proprietà **is Identity** sul valore **Yes**.</span><span class="sxs-lookup"><span data-stu-id="aefd3-202">Change the **Is Identity** property to the value **Yes**.</span></span> <span data-ttu-id="aefd3-203">Al termine, la tabella dovrebbe essere simile alla figura 4.</span><span class="sxs-lookup"><span data-stu-id="aefd3-203">When you are finished, the table should look like Figure 4.</span></span>

<span data-ttu-id="aefd3-204">[![finestra di dialogo nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="aefd3-204">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.png)</span></span>

<span data-ttu-id="aefd3-205">**Figura 04**: tabella del database Movies ([fare clic per visualizzare l'immagine con dimensioni complete](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="aefd3-205">**Figure 04**: The Movies database table ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.png))</span></span>

<span data-ttu-id="aefd3-206">Il passaggio finale consiste nel salvare la nuova tabella.</span><span class="sxs-lookup"><span data-stu-id="aefd3-206">The final step is to save the new table.</span></span> <span data-ttu-id="aefd3-207">Fare clic sul pulsante Salva (icona del floppy) e assegnare alla nuova tabella il nome Movies.</span><span class="sxs-lookup"><span data-stu-id="aefd3-207">Click the Save button (the icon of the floppy) and give the new table the name Movies.</span></span>

<span data-ttu-id="aefd3-208">Al termine della creazione della tabella, aggiungere alcuni record di film alla tabella.</span><span class="sxs-lookup"><span data-stu-id="aefd3-208">After you finish creating the table, add some movie records to the table.</span></span> <span data-ttu-id="aefd3-209">Fare clic con il pulsante destro del mouse sulla tabella Movies nella finestra Esplora server e selezionare l'opzione di menu **Mostra dati tabella**.</span><span class="sxs-lookup"><span data-stu-id="aefd3-209">Right-click the Movies table in the Server Explorer window and select the menu option **Show Table Data**.</span></span> <span data-ttu-id="aefd3-210">Immettere un elenco dei film preferiti (vedere la figura 5).</span><span class="sxs-lookup"><span data-stu-id="aefd3-210">Enter a list of your favorite movies (see Figure 5).</span></span>

<span data-ttu-id="aefd3-211">[![finestra di dialogo nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="aefd3-211">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.png)</span></span>

<span data-ttu-id="aefd3-212">**Figura 05**: immissione di record di film ([fare clic per visualizzare l'immagine con dimensioni complete](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="aefd3-212">**Figure 05**: Entering movie records ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.png))</span></span>

## <a name="creating-the-model"></a><span data-ttu-id="aefd3-213">Creazione del modello</span><span class="sxs-lookup"><span data-stu-id="aefd3-213">Creating the Model</span></span>

<span data-ttu-id="aefd3-214">Successivamente, è necessario creare un set di classi per rappresentare il database.</span><span class="sxs-lookup"><span data-stu-id="aefd3-214">We next need to create a set of classes to represent our database.</span></span> <span data-ttu-id="aefd3-215">È necessario creare un modello di database.</span><span class="sxs-lookup"><span data-stu-id="aefd3-215">We need to create a database model.</span></span> <span data-ttu-id="aefd3-216">Microsoft Entity Framework verrà sfruttata automaticamente per generare automaticamente le classi per il modello di database.</span><span class="sxs-lookup"><span data-stu-id="aefd3-216">We'll take advantage of the Microsoft Entity Framework to generate the classes for our database model automatically.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="aefd3-217">Il framework ASP.NET MVC non è associato a Microsoft Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="aefd3-217">The ASP.NET MVC framework is not tied to the Microsoft Entity Framework.</span></span> <span data-ttu-id="aefd3-218">È possibile creare le classi del modello di database sfruttando una varietà di strumenti di mapping relazionale a oggetti (o/M), tra cui LINQ to SQL, Subsonic e NHibernate.</span><span class="sxs-lookup"><span data-stu-id="aefd3-218">You can create your database model classes by taking advantage of a variety of Object Relational Mapping (OR/M) tools including LINQ to SQL, Subsonic, and NHibernate.</span></span>

<span data-ttu-id="aefd3-219">Per avviare la procedura guidata Entity Data Model, attenersi alla procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="aefd3-219">Follow these steps to launch the Entity Data Model Wizard:</span></span>

1. <span data-ttu-id="aefd3-220">Fare clic con il pulsante destro del mouse sulla cartella modelli nella finestra Esplora soluzioni e scegliere **Aggiungi, nuovo elemento**dall'opzione di menu.</span><span class="sxs-lookup"><span data-stu-id="aefd3-220">Right-click the Models folder in the Solution Explorer window and the select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="aefd3-221">Selezionare la categoria di **dati** e selezionare il modello di **Entity Data Model ADO.NET** .</span><span class="sxs-lookup"><span data-stu-id="aefd3-221">Select the **Data** category and select the **ADO.NET Entity Data Model** template.</span></span>
3. <span data-ttu-id="aefd3-222">Assegnare al modello di dati il nome *MoviesDBModel. edmx* , quindi fare clic sul pulsante **Aggiungi** .</span><span class="sxs-lookup"><span data-stu-id="aefd3-222">Give your data model the name *MoviesDBModel.edmx* and click the **Add** button.</span></span>

<span data-ttu-id="aefd3-223">Dopo aver fatto clic sul pulsante Aggiungi, viene visualizzata la procedura guidata Entity Data Model (vedere la figura 6).</span><span class="sxs-lookup"><span data-stu-id="aefd3-223">After you click the Add button, the Entity Data Model Wizard appears (see Figure 6).</span></span> <span data-ttu-id="aefd3-224">Per completare la procedura guidata, attenersi alla procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="aefd3-224">Follow these steps to complete the wizard:</span></span>

1. <span data-ttu-id="aefd3-225">Nel passaggio **Scegli contenuto Model** selezionare l'opzione **genera da database** .</span><span class="sxs-lookup"><span data-stu-id="aefd3-225">In the **Choose Model Contents** step, select the **Generate from database** option.</span></span>
2. <span data-ttu-id="aefd3-226">Nel passaggio **scegliere la connessione dati** usare la connessione dati *MoviesDB. MDF* e il nome *MoviesDBEntities* per le impostazioni di connessione.</span><span class="sxs-lookup"><span data-stu-id="aefd3-226">In the **Choose Your Data Connection** step, use the *MoviesDB.mdf* data connection and the name *MoviesDBEntities* for the connection settings.</span></span> <span data-ttu-id="aefd3-227">Fare clic sul pulsante **Avanti** .</span><span class="sxs-lookup"><span data-stu-id="aefd3-227">Click the **Next** button.</span></span>
3. <span data-ttu-id="aefd3-228">Nel passaggio **Seleziona oggetti di database** espandere il nodo tabelle e selezionare la tabella Movies.</span><span class="sxs-lookup"><span data-stu-id="aefd3-228">In the **Choose Your Database Objects** step, expand the Tables node, select the Movies table.</span></span> <span data-ttu-id="aefd3-229">Immettere lo spazio dei nomi *MovieApp. Models* e fare clic sul pulsante **fine** .</span><span class="sxs-lookup"><span data-stu-id="aefd3-229">Enter the namespace *MovieApp.Models* and click the **Finish** button.</span></span>

<span data-ttu-id="aefd3-230">[![finestra di dialogo nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="aefd3-230">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.png)</span></span>

<span data-ttu-id="aefd3-231">**Figura 06**: generazione di un modello di database con la procedura guidata di Entity Data Model ([fare clic per visualizzare l'immagine con dimensioni complete](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="aefd3-231">**Figure 06**: Generating a database model with the Entity Data Model Wizard ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.png))</span></span>

<span data-ttu-id="aefd3-232">Dopo aver completato la procedura guidata di Entity Data Model, viene visualizzata la finestra di progettazione Entity Data Model.</span><span class="sxs-lookup"><span data-stu-id="aefd3-232">After you complete the Entity Data Model Wizard, the Entity Data Model Designer opens.</span></span> <span data-ttu-id="aefd3-233">Nella finestra di progettazione dovrebbe essere visualizzata la tabella del database Movies (vedere la figura 7).</span><span class="sxs-lookup"><span data-stu-id="aefd3-233">The Designer should display the Movies database table (see Figure 7).</span></span>

<span data-ttu-id="aefd3-234">[![finestra di dialogo nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="aefd3-234">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.png)</span></span>

<span data-ttu-id="aefd3-235">**Figura 07**: finestra di progettazione di Entity Data Model ([fare clic per visualizzare l'immagine con dimensioni complete](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="aefd3-235">**Figure 07**: The Entity Data Model Designer ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.png))</span></span>

<span data-ttu-id="aefd3-236">Prima di continuare, è necessario apportare una modifica.</span><span class="sxs-lookup"><span data-stu-id="aefd3-236">We need to make one change before we continue.</span></span> <span data-ttu-id="aefd3-237">La procedura guidata Entity Data genera una classe modello denominata Movies che rappresenta la tabella del database Movies.</span><span class="sxs-lookup"><span data-stu-id="aefd3-237">The Entity Data Wizard generates a model class named Movies that represents the Movies database table.</span></span> <span data-ttu-id="aefd3-238">Poiché si userà la classe Movies per rappresentare un film specifico, è necessario modificare il nome della classe in modo che sia *film* anziché *film* (singolare anziché plurale).</span><span class="sxs-lookup"><span data-stu-id="aefd3-238">Because we'll use the Movies class to represent a particular movie, we need to modify the name of the class to be *Movie* instead of *Movies* (singular rather than plural).</span></span>

<span data-ttu-id="aefd3-239">Fare doppio clic sul nome della classe nell'area di progettazione e modificare il nome della classe da Movies a Movie.</span><span class="sxs-lookup"><span data-stu-id="aefd3-239">Double-click the name of the class on the designer surface and change the name of the class from Movies to Movie.</span></span> <span data-ttu-id="aefd3-240">Dopo avere apportato questa modifica, fare clic sul pulsante **Salva** (icona del disco floppy) per generare la classe Movie.</span><span class="sxs-lookup"><span data-stu-id="aefd3-240">After making this change, click the **Save** button (the icon of the floppy disk) to generate the Movie class.</span></span>

## <a name="creating-the-aspnet-mvc-controller"></a><span data-ttu-id="aefd3-241">Creazione del controller MVC ASP.NET</span><span class="sxs-lookup"><span data-stu-id="aefd3-241">Creating the ASP.NET MVC Controller</span></span>

<span data-ttu-id="aefd3-242">Il passaggio successivo consiste nel creare il controller MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aefd3-242">The next step is to create the ASP.NET MVC controller.</span></span> <span data-ttu-id="aefd3-243">Un controller è responsabile del controllo del modo in cui un utente interagisce con un'applicazione MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aefd3-243">A controller is responsible for controlling how a user interacts with an ASP.NET MVC application.</span></span>

<span data-ttu-id="aefd3-244">Esegui questi passaggi:</span><span class="sxs-lookup"><span data-stu-id="aefd3-244">Follow these steps:</span></span>

1. <span data-ttu-id="aefd3-245">Nella finestra Esplora soluzioni fare clic con il pulsante destro del mouse sulla cartella controller e selezionare l'opzione di menu **Aggiungi, controller**.</span><span class="sxs-lookup"><span data-stu-id="aefd3-245">In the Solution Explorer window, right-click the Controllers folder and select the menu option **Add, Controller**.</span></span>
2. <span data-ttu-id="aefd3-246">Nella finestra di dialogo Aggiungi controller immettere il nome *HomeController* e selezionare la casella di controllo **Aggiungi metodi di azione per gli scenari di creazione, aggiornamento e dettagli** (vedere la figura 8).</span><span class="sxs-lookup"><span data-stu-id="aefd3-246">In the Add Controller dialog, enter the name *HomeController* and check the checkbox labeled **Add action methods for Create, Update, and Details scenarios** (see Figure 8).</span></span>
3. <span data-ttu-id="aefd3-247">Fare clic sul pulsante **Aggiungi** per aggiungere il nuovo controller al progetto.</span><span class="sxs-lookup"><span data-stu-id="aefd3-247">Click the **Add** button to add the new controller to your project.</span></span>

<span data-ttu-id="aefd3-248">Dopo aver completato questi passaggi, viene creato il controller nel listato 1.</span><span class="sxs-lookup"><span data-stu-id="aefd3-248">After you complete these steps, the controller in Listing 1 is created.</span></span> <span data-ttu-id="aefd3-249">Si noti che contiene i metodi denominati index, Details, create e Edit.</span><span class="sxs-lookup"><span data-stu-id="aefd3-249">Notice that it contains methods named Index, Details, Create, and Edit.</span></span> <span data-ttu-id="aefd3-250">Nelle sezioni seguenti verrà aggiunto il codice necessario per ottenere il funzionamento di questi metodi.</span><span class="sxs-lookup"><span data-stu-id="aefd3-250">In the following sections, we'll add the necessary code to get these methods to work.</span></span>

<span data-ttu-id="aefd3-251">[![finestra di dialogo nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="aefd3-251">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image15.png)</span></span>

<span data-ttu-id="aefd3-252">**Figura 08**: aggiunta di un nuovo Controller MVC ASP.NET ([fare clic per visualizzare l'immagine con dimensioni complete](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="aefd3-252">**Figure 08**: Adding a new ASP.NET MVC Controller ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image16.png))</span></span>

<span data-ttu-id="aefd3-253">**Listato 1 – Controllers\HomeController.vb**</span><span class="sxs-lookup"><span data-stu-id="aefd3-253">**Listing 1 – Controllers\HomeController.vb**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample1.vb)]

## <a name="listing-database-records"></a><span data-ttu-id="aefd3-254">Elenco di record di database</span><span class="sxs-lookup"><span data-stu-id="aefd3-254">Listing Database Records</span></span>

<span data-ttu-id="aefd3-255">Il metodo index () del controller Home è il metodo predefinito per un'applicazione MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aefd3-255">The Index() method of the Home controller is the default method for an ASP.NET MVC application.</span></span> <span data-ttu-id="aefd3-256">Quando si esegue un'applicazione MVC ASP.NET, il metodo index () è il primo metodo del controller chiamato.</span><span class="sxs-lookup"><span data-stu-id="aefd3-256">When you run an ASP.NET MVC application, the Index() method is the first controller method that is called.</span></span>

<span data-ttu-id="aefd3-257">Verrà usato il metodo index () per visualizzare l'elenco dei record della tabella del database Movies.</span><span class="sxs-lookup"><span data-stu-id="aefd3-257">We'll use the Index() method to display the list of records from the Movies database table.</span></span> <span data-ttu-id="aefd3-258">Verranno sfruttate le classi del modello di database create in precedenza per recuperare i record del database di film con il metodo index ().</span><span class="sxs-lookup"><span data-stu-id="aefd3-258">We'll take advantage of the database model classes that we created earlier to retrieve the movie database records with the Index() method.</span></span>

<span data-ttu-id="aefd3-259">Ho modificato la classe HomeController nel listato 2 in modo che contenga un nuovo campo privato denominato \_DB.</span><span class="sxs-lookup"><span data-stu-id="aefd3-259">I've modified the HomeController class in Listing 2 so that it contains a new private field named \_db.</span></span> <span data-ttu-id="aefd3-260">La classe MoviesDBEntities rappresenta il modello di database e questa classe verrà usata per comunicare con il database.</span><span class="sxs-lookup"><span data-stu-id="aefd3-260">The MoviesDBEntities class represents our database model and we'll use this class to communicate with our database.</span></span>

<span data-ttu-id="aefd3-261">Ho modificato anche il metodo index () nell'elenco 2.</span><span class="sxs-lookup"><span data-stu-id="aefd3-261">I've also modified the Index() method in Listing 2.</span></span> <span data-ttu-id="aefd3-262">Il metodo index () usa la classe MoviesDBEntities per recuperare tutti i record di film dalla tabella del database Movies.</span><span class="sxs-lookup"><span data-stu-id="aefd3-262">The Index() method uses the MoviesDBEntities class to retrieve all of the movie records from the Movies database table.</span></span> <span data-ttu-id="aefd3-263">Espressione *\_database. Moviet. ToList ()* restituisce un elenco di tutti i record dei film della tabella del database Movies.</span><span class="sxs-lookup"><span data-stu-id="aefd3-263">The expression *\_db.MovieSet.ToList()* returns a list of all of the movie records from the Movies database table.</span></span>

<span data-ttu-id="aefd3-264">L'elenco dei film viene passato alla visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="aefd3-264">The list of movies is passed to the view.</span></span> <span data-ttu-id="aefd3-265">Tutto ciò che viene passato al metodo View () viene passato alla visualizzazione come dati di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="aefd3-265">Anything that gets passed to the View() method gets passed to the view as view data.</span></span>

<span data-ttu-id="aefd3-266">**Listato 2-Controllers/HomeController. vb (metodo di indice modificato)**</span><span class="sxs-lookup"><span data-stu-id="aefd3-266">**Listing 2 – Controllers/HomeController.vb (modified Index method)**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample2.vb)]

<span data-ttu-id="aefd3-267">Il metodo index () restituisce una visualizzazione denominata index.</span><span class="sxs-lookup"><span data-stu-id="aefd3-267">The Index() method returns a view named Index.</span></span> <span data-ttu-id="aefd3-268">È necessario creare questa visualizzazione per visualizzare l'elenco dei record del database di film.</span><span class="sxs-lookup"><span data-stu-id="aefd3-268">We need to create this view to display the list of movie database records.</span></span> <span data-ttu-id="aefd3-269">Esegui questi passaggi:</span><span class="sxs-lookup"><span data-stu-id="aefd3-269">Follow these steps:</span></span>

<span data-ttu-id="aefd3-270">È necessario compilare il progetto (selezionare l'opzione di menu **Compila, Compila soluzione**) prima di aprire la finestra di dialogo **Aggiungi visualizzazione** o nessuna classe verrà visualizzata nell'elenco a discesa della **classe dati di visualizzazione** .</span><span class="sxs-lookup"><span data-stu-id="aefd3-270">You should build your project (select the menu option **Build, Build Solution**) before opening the **Add View** dialog or no classes will appear in the **View data class** dropdown list.</span></span>

1. <span data-ttu-id="aefd3-271">Fare clic con il pulsante destro del mouse sul metodo index () nell'editor di codice e selezionare l'opzione di menu **Aggiungi visualizzazione** (vedere la figura 9).</span><span class="sxs-lookup"><span data-stu-id="aefd3-271">Right-click the Index() method in the code editor and select the menu option **Add View** (see Figure 9).</span></span>
2. <span data-ttu-id="aefd3-272">Nella finestra di dialogo Aggiungi visualizzazione verificare che sia selezionata la casella di controllo **Crea una visualizzazione fortemente tipizzata** .</span><span class="sxs-lookup"><span data-stu-id="aefd3-272">In the Add View dialog, verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="aefd3-273">Dall'elenco a discesa **Visualizza contenuto** selezionare l' *elenco*valore.</span><span class="sxs-lookup"><span data-stu-id="aefd3-273">From the **View content** dropdown list, select the value *List*.</span></span>
4. <span data-ttu-id="aefd3-274">Dall'elenco a discesa della **classe di dati View** selezionare il valore *MovieApp. Movie*.</span><span class="sxs-lookup"><span data-stu-id="aefd3-274">From the **View data class** dropdown list, select the value *MovieApp.Movie*.</span></span>
5. <span data-ttu-id="aefd3-275">Fare clic sul pulsante Aggiungi per creare la nuova visualizzazione (vedere la figura 10).</span><span class="sxs-lookup"><span data-stu-id="aefd3-275">Click the Add button to create the new view (see Figure 10).</span></span>

<span data-ttu-id="aefd3-276">Dopo aver completato questi passaggi, viene aggiunta una nuova vista denominata index. aspx alla cartella Views\Home</span><span class="sxs-lookup"><span data-stu-id="aefd3-276">After you complete these steps, a new view named Index.aspx is added to the Views\Home folder.</span></span> <span data-ttu-id="aefd3-277">Il contenuto della vista index è incluso nel listato 3.</span><span class="sxs-lookup"><span data-stu-id="aefd3-277">The contents of the Index view are included in Listing 3.</span></span>

<span data-ttu-id="aefd3-278">[![finestra di dialogo nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="aefd3-278">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image17.png)</span></span>

<span data-ttu-id="aefd3-279">**Figura 09**: aggiunta di una vista da un'azione del controller ([fare clic per visualizzare l'immagine con dimensioni complete](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="aefd3-279">**Figure 09**: Adding a view from a controller action ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image18.png))</span></span>

<span data-ttu-id="aefd3-280">[![finestra di dialogo nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="aefd3-280">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image19.png)</span></span>

<span data-ttu-id="aefd3-281">**Figura 10**: creazione di una nuova vista con la finestra di dialogo Aggiungi visualizzazione ([fare clic per visualizzare l'immagine con dimensioni complete](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="aefd3-281">**Figure 10**: Creating a new view with the Add View dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image20.png))</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample3.aspx)]

<span data-ttu-id="aefd3-282">La vista index Visualizza tutti i record dei film della tabella del database movies all'interno di una tabella HTML.</span><span class="sxs-lookup"><span data-stu-id="aefd3-282">The Index view displays all of the movie records from the Movies database table within an HTML table.</span></span> <span data-ttu-id="aefd3-283">La vista contiene un ciclo for each che scorre ogni film rappresentato dalla proprietà ViewData. Model.</span><span class="sxs-lookup"><span data-stu-id="aefd3-283">The view contains a For Each loop that iterates through each movie represented by the ViewData.Model property.</span></span> <span data-ttu-id="aefd3-284">Se si esegue l'applicazione premendo il tasto F5, nella figura 11 verrà visualizzata la pagina Web.</span><span class="sxs-lookup"><span data-stu-id="aefd3-284">If you run your application by hitting the F5 key, then you'll see the web page in Figure 11.</span></span>

<span data-ttu-id="aefd3-285">[![finestra di dialogo nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="aefd3-285">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image21.png)</span></span>

<span data-ttu-id="aefd3-286">**Figura 11**: visualizzazione dell'indice ([fare clic per visualizzare l'immagine con dimensioni complete](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="aefd3-286">**Figure 11**: The Index view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image22.png))</span></span>

## <a name="creating-new-database-records"></a><span data-ttu-id="aefd3-287">Creazione di nuovi record di database</span><span class="sxs-lookup"><span data-stu-id="aefd3-287">Creating New Database Records</span></span>

<span data-ttu-id="aefd3-288">La vista index creata nella sezione precedente include un collegamento per la creazione di nuovi record di database.</span><span class="sxs-lookup"><span data-stu-id="aefd3-288">The Index view that we created in the previous section includes a link for creating new database records.</span></span> <span data-ttu-id="aefd3-289">Procedere con l'implementazione della logica e creare la visualizzazione necessaria per la creazione di nuovi record del database di film.</span><span class="sxs-lookup"><span data-stu-id="aefd3-289">Let's go ahead and implement the logic and create the view necessary for creating new movie database records.</span></span>

<span data-ttu-id="aefd3-290">Il controller Home contiene due metodi denominati Create ().</span><span class="sxs-lookup"><span data-stu-id="aefd3-290">The Home controller contains two methods named Create().</span></span> <span data-ttu-id="aefd3-291">Il primo metodo Create () non ha parametri.</span><span class="sxs-lookup"><span data-stu-id="aefd3-291">The first Create() method has no parameters.</span></span> <span data-ttu-id="aefd3-292">Questo overload del metodo Create () viene usato per visualizzare il form HTML per la creazione di un nuovo record del database di film.</span><span class="sxs-lookup"><span data-stu-id="aefd3-292">This overload of the Create() method is used to display the HTML form for creating a new movie database record.</span></span>

<span data-ttu-id="aefd3-293">Il secondo metodo Create () ha un parametro FormCollection.</span><span class="sxs-lookup"><span data-stu-id="aefd3-293">The second Create() method has a FormCollection parameter.</span></span> <span data-ttu-id="aefd3-294">Questo overload del metodo Create () viene chiamato quando il modulo HTML per la creazione di un nuovo film viene inviato al server.</span><span class="sxs-lookup"><span data-stu-id="aefd3-294">This overload of the Create() method is called when the HTML form for creating a new movie is posted to the server.</span></span> <span data-ttu-id="aefd3-295">Si noti che il secondo metodo Create () ha un attributo AcceptVerbs che impedisce la chiamata al metodo a meno che non venga eseguita un'operazione HTTP post.</span><span class="sxs-lookup"><span data-stu-id="aefd3-295">Notice that this second Create() method has an AcceptVerbs attribute that prevents the method from being called unless an HTTP Post operation is performed.</span></span>

<span data-ttu-id="aefd3-296">Il secondo metodo Create () è stato modificato nella classe HomeController aggiornata nel listato 4.</span><span class="sxs-lookup"><span data-stu-id="aefd3-296">This second Create() method has been modified in the updated HomeController class in Listing 4.</span></span> <span data-ttu-id="aefd3-297">La nuova versione del metodo Create () accetta un parametro Movie e contiene la logica per l'inserimento di un nuovo film nella tabella del database Movies.</span><span class="sxs-lookup"><span data-stu-id="aefd3-297">The new version of the Create() method accepts a Movie parameter and contains the logic for inserting a new movie into the Movies database table.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="aefd3-298">Si noti l'attributo bind.</span><span class="sxs-lookup"><span data-stu-id="aefd3-298">Notice the Bind attribute.</span></span> <span data-ttu-id="aefd3-299">Poiché non si vuole aggiornare la proprietà ID film da un form HTML, è necessario escludere questa proprietà in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="aefd3-299">Because we don't want to update the Movie Id property from HTML form, we need to explicitly exclude this property.</span></span>

<span data-ttu-id="aefd3-300">**Listato 4 – Controllers\HomeController.vb (metodo di creazione modificato)**</span><span class="sxs-lookup"><span data-stu-id="aefd3-300">**Listing 4 – Controllers\HomeController.vb (modified Create method)**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample4.vb)]

<span data-ttu-id="aefd3-301">Visual Studio consente di creare facilmente il modulo per la creazione di un nuovo record del database di film (vedere la figura 12).</span><span class="sxs-lookup"><span data-stu-id="aefd3-301">Visual Studio makes it easy to create the form for creating a new movie database record (see Figure 12).</span></span> <span data-ttu-id="aefd3-302">Esegui questi passaggi:</span><span class="sxs-lookup"><span data-stu-id="aefd3-302">Follow these steps:</span></span>

1. <span data-ttu-id="aefd3-303">Fare clic con il pulsante destro del mouse sul metodo Create () nell'editor di codice e selezionare l'opzione di menu **Aggiungi visualizzazione**.</span><span class="sxs-lookup"><span data-stu-id="aefd3-303">Right-click the Create() method in the code editor and select the menu option **Add View**.</span></span>
2. <span data-ttu-id="aefd3-304">Verificare che sia selezionata la casella di controllo **Crea una visualizzazione fortemente tipizzata** .</span><span class="sxs-lookup"><span data-stu-id="aefd3-304">Verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="aefd3-305">Dall'elenco a discesa **Visualizza contenuto** selezionare il valore *Crea*.</span><span class="sxs-lookup"><span data-stu-id="aefd3-305">From the **View content** dropdown list, select the value *Create*.</span></span>
4. <span data-ttu-id="aefd3-306">Dall'elenco a discesa della **classe di dati View** selezionare il valore *MovieApp. Movie*.</span><span class="sxs-lookup"><span data-stu-id="aefd3-306">From the **View data class** dropdown list, select the value *MovieApp.Movie*.</span></span>
5. <span data-ttu-id="aefd3-307">Fare clic sul pulsante **Aggiungi** per creare la nuova vista.</span><span class="sxs-lookup"><span data-stu-id="aefd3-307">Click the **Add** button to create the new view.</span></span>

<span data-ttu-id="aefd3-308">[![finestra di dialogo nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="aefd3-308">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image23.png)</span></span>

<span data-ttu-id="aefd3-309">**Figura 12**: aggiunta della visualizzazione di creazione ([fare clic per visualizzare l'immagine con dimensioni complete](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="aefd3-309">**Figure 12**: Adding the Create view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image24.png))</span></span>

<span data-ttu-id="aefd3-310">Visual Studio genera automaticamente la visualizzazione nel listato 5.</span><span class="sxs-lookup"><span data-stu-id="aefd3-310">Visual Studio generates the view in Listing 5 automatically.</span></span> <span data-ttu-id="aefd3-311">Questa vista contiene un form HTML che include campi che corrispondono a ognuna delle proprietà della classe Movie.</span><span class="sxs-lookup"><span data-stu-id="aefd3-311">This view contains an HTML form that includes fields that correspond to each of the properties of the Movie class.</span></span>

<span data-ttu-id="aefd3-312">**Listato 5 – Views\Home\Create.aspx**</span><span class="sxs-lookup"><span data-stu-id="aefd3-312">**Listing 5 – Views\Home\Create.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample5.aspx)]

> [!NOTE] 
> 
> <span data-ttu-id="aefd3-313">Il form HTML generato dalla finestra di dialogo Aggiungi visualizzazione genera un campo modulo ID.</span><span class="sxs-lookup"><span data-stu-id="aefd3-313">The HTML form generated by the Add View dialog generates an Id form field.</span></span> <span data-ttu-id="aefd3-314">Poiché la colonna ID è una colonna Identity, questo campo del modulo non è necessario ed è possibile rimuoverlo in modo sicuro.</span><span class="sxs-lookup"><span data-stu-id="aefd3-314">Because the Id column is an Identity column, we don't need this form field and you can safely remove it.</span></span>

<span data-ttu-id="aefd3-315">Dopo aver aggiunto la vista crea, è possibile aggiungere nuovi record di film al database.</span><span class="sxs-lookup"><span data-stu-id="aefd3-315">After you add the Create view, you can add new Movie records to the database.</span></span> <span data-ttu-id="aefd3-316">Eseguire l'applicazione premendo il tasto F5 e facendo clic sul collegamento Crea nuovo per visualizzare il modulo nella figura 13.</span><span class="sxs-lookup"><span data-stu-id="aefd3-316">Run your application by pressing the F5 key and click the Create New link to see the form in Figure 13.</span></span> <span data-ttu-id="aefd3-317">Se si completa e si invia il modulo, viene creato un nuovo record del database di film.</span><span class="sxs-lookup"><span data-stu-id="aefd3-317">If you complete and submit the form, a new movie database record is created.</span></span>

<span data-ttu-id="aefd3-318">Si noti che è possibile ottenere automaticamente la convalida del modulo.</span><span class="sxs-lookup"><span data-stu-id="aefd3-318">Notice that you get form validation automatically.</span></span> <span data-ttu-id="aefd3-319">Se si trascura di immettere una data di rilascio per un film o si immette una data di rilascio non valida, il modulo viene nuovamente visualizzato e il campo Data di rilascio viene evidenziato.</span><span class="sxs-lookup"><span data-stu-id="aefd3-319">If you neglect to enter a release date for a movie, or you enter an invalid release date, then the form is redisplayed and the release date field is highlighted.</span></span>

<span data-ttu-id="aefd3-320">[![finestra di dialogo nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="aefd3-320">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image25.png)</span></span>

<span data-ttu-id="aefd3-321">**Figura 13**: creazione di un nuovo record del database[di film (fare clic per visualizzare l'immagine con dimensioni complete](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="aefd3-321">**Figure 13**: Creating a new movie database record ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image26.png))</span></span>

## <a name="editing-existing-database-records"></a><span data-ttu-id="aefd3-322">Modifica di record di database esistenti</span><span class="sxs-lookup"><span data-stu-id="aefd3-322">Editing Existing Database Records</span></span>

<span data-ttu-id="aefd3-323">Nelle sezioni precedenti è stato illustrato come è possibile elencare e creare nuovi record di database.</span><span class="sxs-lookup"><span data-stu-id="aefd3-323">In the previous sections, we discussed how you can list and create new database records.</span></span> <span data-ttu-id="aefd3-324">In questa sezione finale viene illustrato come è possibile modificare i record di database esistenti.</span><span class="sxs-lookup"><span data-stu-id="aefd3-324">In this final section, we discuss how you can edit existing database records.</span></span>

<span data-ttu-id="aefd3-325">Prima di tutto, è necessario generare il modulo di modifica.</span><span class="sxs-lookup"><span data-stu-id="aefd3-325">First, we need to generate the Edit form.</span></span> <span data-ttu-id="aefd3-326">Questo passaggio è semplice perché Visual Studio genera automaticamente il modulo di modifica per l'it.</span><span class="sxs-lookup"><span data-stu-id="aefd3-326">This step is easy since Visual Studio will generate the Edit form for us automatically.</span></span> <span data-ttu-id="aefd3-327">Aprire la classe HomeController. vb nell'editor di codice di Visual Studio e seguire questa procedura:</span><span class="sxs-lookup"><span data-stu-id="aefd3-327">Open the HomeController.vb class in the Visual Studio code editor and follow these steps:</span></span>

1. <span data-ttu-id="aefd3-328">Fare clic con il pulsante destro del mouse sul metodo Edit () nell'editor di codice e selezionare l'opzione di menu **Aggiungi visualizzazione** (vedere la figura 14).</span><span class="sxs-lookup"><span data-stu-id="aefd3-328">Right-click the Edit() method in the code editor and select the menu option **Add View** (see Figure 14).</span></span>
2. <span data-ttu-id="aefd3-329">Selezionare la casella di controllo **Crea una visualizzazione fortemente tipizzata**.</span><span class="sxs-lookup"><span data-stu-id="aefd3-329">Check the checkbox labeled **Create a strongly-typed view**.</span></span>
3. <span data-ttu-id="aefd3-330">Dall'elenco a discesa **Visualizza contenuto** selezionare la *modifica*del valore.</span><span class="sxs-lookup"><span data-stu-id="aefd3-330">From the **View content** dropdown list, select the value *Edit*.</span></span>
4. <span data-ttu-id="aefd3-331">Dall'elenco a discesa della **classe di dati View** selezionare il valore *MovieApp. Movie*.</span><span class="sxs-lookup"><span data-stu-id="aefd3-331">From the **View data class** dropdown list, select the value *MovieApp.Movie*.</span></span>
5. <span data-ttu-id="aefd3-332">Fare clic sul pulsante **Aggiungi** per creare la nuova vista.</span><span class="sxs-lookup"><span data-stu-id="aefd3-332">Click the **Add** button to create the new view.</span></span>

<span data-ttu-id="aefd3-333">Il completamento di questi passaggi consente di aggiungere una nuova vista denominata Edit. aspx alla cartella Views\Home</span><span class="sxs-lookup"><span data-stu-id="aefd3-333">Completing these steps adds a new view named Edit.aspx to the Views\Home folder.</span></span> <span data-ttu-id="aefd3-334">Questa vista contiene un form HTML per la modifica di un record di film.</span><span class="sxs-lookup"><span data-stu-id="aefd3-334">This view contains an HTML form for editing a movie record.</span></span>

<span data-ttu-id="aefd3-335">[![finestra di dialogo nuovo progetto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="aefd3-335">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image27.png)</span></span>

<span data-ttu-id="aefd3-336">**Figura 14**: aggiunta della visualizzazione di modifica ([fare clic per visualizzare l'immagine con dimensioni complete](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="aefd3-336">**Figure 14**: Adding the Edit view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image28.png))</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="aefd3-337">La visualizzazione di modifica contiene un campo modulo HTML che corrisponde alla proprietà ID film.</span><span class="sxs-lookup"><span data-stu-id="aefd3-337">The Edit view contains an HTML form field that corresponds to the Movie Id property.</span></span> <span data-ttu-id="aefd3-338">Poiché non si vuole che gli utenti modifichino il valore della proprietà ID, è necessario rimuovere questo campo del modulo.</span><span class="sxs-lookup"><span data-stu-id="aefd3-338">Because you don't want people editing the value of the Id property, you should remove this form field.</span></span>

<span data-ttu-id="aefd3-339">Infine, è necessario modificare il controller Home in modo che supporti la modifica di un record di database.</span><span class="sxs-lookup"><span data-stu-id="aefd3-339">Finally, we need to modify the Home controller so that it supports editing a database record.</span></span> <span data-ttu-id="aefd3-340">La classe HomeController aggiornata è inclusa nel listato 6.</span><span class="sxs-lookup"><span data-stu-id="aefd3-340">The updated HomeController class is contained in Listing 6.</span></span>

<span data-ttu-id="aefd3-341">**Listato 6-Controllers\HomeController.vb (modifica metodi)**</span><span class="sxs-lookup"><span data-stu-id="aefd3-341">**Listing 6 – Controllers\HomeController.vb (Edit methods)**</span></span>

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample6.vb)]

<span data-ttu-id="aefd3-342">Nel listato 6, ho aggiunto logica aggiuntiva a entrambi gli overload del metodo Edit ().</span><span class="sxs-lookup"><span data-stu-id="aefd3-342">In Listing 6, I've added additional logic to both overloads of the Edit() method.</span></span> <span data-ttu-id="aefd3-343">Il primo metodo Edit () restituisce il record del database di film che corrisponde al parametro ID passato al metodo.</span><span class="sxs-lookup"><span data-stu-id="aefd3-343">The first Edit() method returns the movie database record that corresponds to the Id parameter passed to the method.</span></span> <span data-ttu-id="aefd3-344">Il secondo overload esegue gli aggiornamenti di un record di film nel database.</span><span class="sxs-lookup"><span data-stu-id="aefd3-344">The second overload performs the updates to a movie record in the database.</span></span>

<span data-ttu-id="aefd3-345">Si noti che è necessario recuperare il film originale, quindi chiamare ApplyPropertyChanges () per aggiornare il film esistente nel database.</span><span class="sxs-lookup"><span data-stu-id="aefd3-345">Notice that you must retrieve the original movie, and then call ApplyPropertyChanges(), to update the existing movie in the database.</span></span>

## <a name="summary"></a><span data-ttu-id="aefd3-346">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="aefd3-346">Summary</span></span>

<span data-ttu-id="aefd3-347">Lo scopo di questa esercitazione è fornire un'idea dell'esperienza di creazione di un'applicazione MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aefd3-347">The purpose of this tutorial was to give you a sense of the experience of building an ASP.NET MVC application.</span></span> <span data-ttu-id="aefd3-348">Spero che tu abbia scoperto che la creazione di un'applicazione Web MVC ASP.NET è molto simile all'esperienza di creazione di un Active Server di pagine o di un'applicazione ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aefd3-348">I hope that you discovered that building an ASP.NET MVC web application is very similar to the experience of building an Active Server Pages or ASP.NET application.</span></span>

<span data-ttu-id="aefd3-349">In questa esercitazione sono state esaminate solo le funzionalità di base di ASP.NET MVC Framework.</span><span class="sxs-lookup"><span data-stu-id="aefd3-349">In this tutorial, we examined only the most basic features of the ASP.NET MVC framework.</span></span> <span data-ttu-id="aefd3-350">Nelle esercitazioni future si approfondiranno argomenti quali controller, azioni del controller, visualizzazioni, dati di visualizzazione e helper HTML.</span><span class="sxs-lookup"><span data-stu-id="aefd3-350">In future tutorials, we dive deeper into topics such as controllers, controller actions, views, view data, and HTML helpers.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="aefd3-351">Precedente</span><span class="sxs-lookup"><span data-stu-id="aefd3-351">Previous</span></span>](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs.md)
