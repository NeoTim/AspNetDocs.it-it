---
uid: mvc/overview/older-versions-1/models-data/displaying-a-table-of-database-data-cs
title: Visualizzazione di una tabella di dati di database (c Documenti Microsoft
author: rick-anderson
description: In questa esercitazione vengono illustrati due metodi per visualizzare un set di record di database. Mostro due metodi di formattazione di un set di record di database in un HTML ta...
ms.author: riande
ms.date: 10/07/2008
ms.assetid: d6e758b6-6571-484d-a132-34ee6c47747a
msc.legacyurl: /mvc/overview/older-versions-1/models-data/displaying-a-table-of-database-data-cs
msc.type: authoredcontent
ms.openlocfilehash: 3fca8ac9e9b4e549ca76ffa282cc03aa4cc50e88
ms.sourcegitcommit: 022f79dbc1350e0c6ffaa1e7e7c6e850cdabf9af
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/17/2020
ms.locfileid: "81542054"
---
# <a name="displaying-a-table-of-database-data-c"></a><span data-ttu-id="e77c9-104">Visualizzazione di una tabella di dati del database (C#)</span><span class="sxs-lookup"><span data-stu-id="e77c9-104">Displaying a Table of Database Data (C#)</span></span>

<span data-ttu-id="e77c9-105">da parte [di Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="e77c9-105">by [Microsoft](https://github.com/microsoft)</span></span>

[<span data-ttu-id="e77c9-106">Scarica il PDF</span><span class="sxs-lookup"><span data-stu-id="e77c9-106">Download PDF</span></span>](https://download.microsoft.com/download/1/1/f/11f721aa-d749-4ed7-bb89-a681b68894e6/ASPNET_MVC_Tutorial_11_CS.pdf)

> <span data-ttu-id="e77c9-107">In questa esercitazione vengono illustrati due metodi per visualizzare un set di record di database.</span><span class="sxs-lookup"><span data-stu-id="e77c9-107">In this tutorial, I demonstrate two methods of displaying a set of database records.</span></span> <span data-ttu-id="e77c9-108">Mostradue metodi di formattazione di un set di record di database in una tabella HTML.</span><span class="sxs-lookup"><span data-stu-id="e77c9-108">I show two methods of formatting a set of database records in an HTML table.</span></span> <span data-ttu-id="e77c9-109">In primo luogo, vi mostro come è possibile formattare i record del database direttamente all'interno di una vista.</span><span class="sxs-lookup"><span data-stu-id="e77c9-109">First, I show how you can format the database records directly within a view.</span></span> <span data-ttu-id="e77c9-110">Successivamente, viene illustrato come è possibile sfruttare i parziali durante la formattazione dei record del database.</span><span class="sxs-lookup"><span data-stu-id="e77c9-110">Next, I demonstrate how you can take advantage of partials when formatting database records.</span></span>

<span data-ttu-id="e77c9-111">L'obiettivo di questa esercitazione è spiegare come è possibile visualizzare una tabella HTML di dati di database in un'applicazione MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="e77c9-111">The goal of this tutorial is to explain how you can display an HTML table of database data in an ASP.NET MVC application.</span></span> <span data-ttu-id="e77c9-112">In primo luogo, si apprenderà come utilizzare gli strumenti di scaffolding inclusi in Visual Studio per generare una visualizzazione che visualizza automaticamente un set di record.</span><span class="sxs-lookup"><span data-stu-id="e77c9-112">First, you learn how to use the scaffolding tools included in Visual Studio to generate a view that displays a set of records automatically.</span></span> <span data-ttu-id="e77c9-113">Successivamente, si apprenderà come utilizzare un partial come modello durante la formattazione dei record del database.</span><span class="sxs-lookup"><span data-stu-id="e77c9-113">Next, you learn how to use a partial as a template when formatting database records.</span></span>

## <a name="create-the-model-classes"></a><span data-ttu-id="e77c9-114">Creare le classi del modelloCreate the Model Classes</span><span class="sxs-lookup"><span data-stu-id="e77c9-114">Create the Model Classes</span></span>

<span data-ttu-id="e77c9-115">Verrà visualizzato il set di record dalla tabella di database Movies.</span><span class="sxs-lookup"><span data-stu-id="e77c9-115">We are going to display the set of records from the Movies database table.</span></span> <span data-ttu-id="e77c9-116">La tabella del database Movies contiene le seguenti colonne:</span><span class="sxs-lookup"><span data-stu-id="e77c9-116">The Movies database table contains the following columns:</span></span>

<a id="0.3_table01"></a>

| <span data-ttu-id="e77c9-117">**Nome colonna**</span><span class="sxs-lookup"><span data-stu-id="e77c9-117">**Column Name**</span></span> | <span data-ttu-id="e77c9-118">**Tipo di dati**</span><span class="sxs-lookup"><span data-stu-id="e77c9-118">**Data Type**</span></span> | <span data-ttu-id="e77c9-119">**Consenti valori NULL**</span><span class="sxs-lookup"><span data-stu-id="e77c9-119">**Allow Nulls**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e77c9-120">ID</span><span class="sxs-lookup"><span data-stu-id="e77c9-120">Id</span></span> | <span data-ttu-id="e77c9-121">Int</span><span class="sxs-lookup"><span data-stu-id="e77c9-121">Int</span></span> | <span data-ttu-id="e77c9-122">False</span><span class="sxs-lookup"><span data-stu-id="e77c9-122">False</span></span> |
| <span data-ttu-id="e77c9-123">Titolo</span><span class="sxs-lookup"><span data-stu-id="e77c9-123">Title</span></span> | <span data-ttu-id="e77c9-124">Nvarchar(200)</span><span class="sxs-lookup"><span data-stu-id="e77c9-124">Nvarchar(200)</span></span> | <span data-ttu-id="e77c9-125">False</span><span class="sxs-lookup"><span data-stu-id="e77c9-125">False</span></span> |
| <span data-ttu-id="e77c9-126">Responsabile</span><span class="sxs-lookup"><span data-stu-id="e77c9-126">Director</span></span> | <span data-ttu-id="e77c9-127">NVarchar(50)</span><span class="sxs-lookup"><span data-stu-id="e77c9-127">NVarchar(50)</span></span> | <span data-ttu-id="e77c9-128">False</span><span class="sxs-lookup"><span data-stu-id="e77c9-128">False</span></span> |
| <span data-ttu-id="e77c9-129">Data di rilascio</span><span class="sxs-lookup"><span data-stu-id="e77c9-129">DateReleased</span></span> | <span data-ttu-id="e77c9-130">Datetime</span><span class="sxs-lookup"><span data-stu-id="e77c9-130">DateTime</span></span> | <span data-ttu-id="e77c9-131">False</span><span class="sxs-lookup"><span data-stu-id="e77c9-131">False</span></span> |

<span data-ttu-id="e77c9-132">Per rappresentare la tabella Movies nell'applicazione MVC ASP.NET, è necessario creare una classe modello.</span><span class="sxs-lookup"><span data-stu-id="e77c9-132">In order to represent the Movies table in our ASP.NET MVC application, we need to create a model class.</span></span> <span data-ttu-id="e77c9-133">In questa esercitazione viene usato Microsoft Entity Framework per creare le classi del modello.</span><span class="sxs-lookup"><span data-stu-id="e77c9-133">In this tutorial, we use the Microsoft Entity Framework to create our model classes.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="e77c9-134">In questa esercitazione viene usato Microsoft Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="e77c9-134">In this tutorial, we use the Microsoft Entity Framework.</span></span> <span data-ttu-id="e77c9-135">Tuttavia, è importante comprendere che è possibile utilizzare un'ampia gamma di tecnologie diverse per interagire con un database da un'applicazione MVC ASP.NET, tra cui LINQ to SQL, NHibernate o ADO.NET.</span><span class="sxs-lookup"><span data-stu-id="e77c9-135">However, it is important to understand that you can use a variety of different technologies to interact with a database from an ASP.NET MVC application including LINQ to SQL, NHibernate, or ADO.NET.</span></span>

<span data-ttu-id="e77c9-136">Per avviare la procedura guidata Entity Data Model, attenersi alla seguente procedura:</span><span class="sxs-lookup"><span data-stu-id="e77c9-136">Follow these steps to launch the Entity Data Model Wizard:</span></span>

1. <span data-ttu-id="e77c9-137">Fare clic con il pulsante destro del mouse sulla cartella Modelli nella finestra Esplora soluzioni e selezionare l'opzione di menu **Aggiungi, Nuovo elemento**.</span><span class="sxs-lookup"><span data-stu-id="e77c9-137">Right-click the Models folder in the Solution Explorer window and the select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="e77c9-138">Selezionare la categoria **Dati** e selezionare il modello **ADO.NET Entity Data Model.**</span><span class="sxs-lookup"><span data-stu-id="e77c9-138">Select the **Data** category and select the **ADO.NET Entity Data Model** template.</span></span>
3. <span data-ttu-id="e77c9-139">Assegnare al modello di dati il nome *MoviesDBModel.edmx* e fare clic sul pulsante **Aggiungi.**</span><span class="sxs-lookup"><span data-stu-id="e77c9-139">Give your data model the name *MoviesDBModel.edmx* and click the **Add** button.</span></span>

<span data-ttu-id="e77c9-140">Dopo aver fatto clic sul pulsante Aggiungi , viene visualizzata la procedura guidata Entity Data Model (vedere Figura 1).</span><span class="sxs-lookup"><span data-stu-id="e77c9-140">After you click the Add button, the Entity Data Model Wizard appears (see Figure 1).</span></span> <span data-ttu-id="e77c9-141">Per completare la procedura guidata, attenersi alla seguente procedura:</span><span class="sxs-lookup"><span data-stu-id="e77c9-141">Follow these steps to complete the wizard:</span></span>

1. <span data-ttu-id="e77c9-142">Nel passaggio **Scegli contenuto modello** selezionare l'opzione Genera da **database.**</span><span class="sxs-lookup"><span data-stu-id="e77c9-142">In the **Choose Model Contents** step, select the **Generate from database** option.</span></span>
2. <span data-ttu-id="e77c9-143">Nel passaggio Scegliere la **connessione dati** usare la connessione dati *MoviesDB.mdf* e il nome *MoviesDBEntities* per le impostazioni di connessione.</span><span class="sxs-lookup"><span data-stu-id="e77c9-143">In the **Choose Your Data Connection** step, use the *MoviesDB.mdf* data connection and the name *MoviesDBEntities* for the connection settings.</span></span> <span data-ttu-id="e77c9-144">Fare clic sul pulsante **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="e77c9-144">Click the **Next** button.</span></span>
3. <span data-ttu-id="e77c9-145">Nel passaggio Scegli oggetti di **database** espandere il nodo Tabelle e selezionare la tabella Film.</span><span class="sxs-lookup"><span data-stu-id="e77c9-145">In the **Choose Your Database Objects** step, expand the Tables node, select the Movies table.</span></span> <span data-ttu-id="e77c9-146">Immettere i *modelli* dello spazio dei nomi e fare clic sul pulsante **Fine.**</span><span class="sxs-lookup"><span data-stu-id="e77c9-146">Enter the namespace *Models* and click the **Finish** button.</span></span>

<span data-ttu-id="e77c9-147">[![Creazione di classi LINQ to SQLCreating LINQ to SQL classes](displaying-a-table-of-database-data-cs/_static/image1.jpg)](displaying-a-table-of-database-data-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="e77c9-147">[![Creating LINQ to SQL classes](displaying-a-table-of-database-data-cs/_static/image1.jpg)](displaying-a-table-of-database-data-cs/_static/image1.png)</span></span>

<span data-ttu-id="e77c9-148">**Figura 01:** creazione di classi LINQ to SQL ([Fare clic per visualizzare l'immagine](displaying-a-table-of-database-data-cs/_static/image2.png)a dimensioni intere )</span><span class="sxs-lookup"><span data-stu-id="e77c9-148">**Figure 01**: Creating LINQ to SQL classes ([Click to view full-size image](displaying-a-table-of-database-data-cs/_static/image2.png))</span></span>

<span data-ttu-id="e77c9-149">Dopo aver completato la procedura guidata Entity Data Model, verrà aperto Entity Data Model Designer.</span><span class="sxs-lookup"><span data-stu-id="e77c9-149">After you complete the Entity Data Model Wizard, the Entity Data Model Designer opens.</span></span> <span data-ttu-id="e77c9-150">La finestra di progettazione deve visualizzare l'entità Movies (vedere Figura 2).</span><span class="sxs-lookup"><span data-stu-id="e77c9-150">The Designer should display the Movies entity (see Figure 2).</span></span>

<span data-ttu-id="e77c9-151">[![Progettazione Entity Data Model](displaying-a-table-of-database-data-cs/_static/image2.jpg)](displaying-a-table-of-database-data-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="e77c9-151">[![The Entity Data Model Designer](displaying-a-table-of-database-data-cs/_static/image2.jpg)](displaying-a-table-of-database-data-cs/_static/image3.png)</span></span>

<span data-ttu-id="e77c9-152">**Figura 02**: Entity Data Model Designer ([Fare clic per visualizzare l'immagine a dimensioni intere)](displaying-a-table-of-database-data-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="e77c9-152">**Figure 02**: The Entity Data Model Designer ([Click to view full-size image](displaying-a-table-of-database-data-cs/_static/image4.png))</span></span>

<span data-ttu-id="e77c9-153">Dobbiamo fare un cambiamento prima di continuare.</span><span class="sxs-lookup"><span data-stu-id="e77c9-153">We need to make one change before we continue.</span></span> <span data-ttu-id="e77c9-154">La procedura guidata Entity Data genera una classe modello denominata *Movies* che rappresenta la tabella di database Movies.</span><span class="sxs-lookup"><span data-stu-id="e77c9-154">The Entity Data Wizard generates a model class named *Movies* that represents the Movies database table.</span></span> <span data-ttu-id="e77c9-155">Poiché useremo la classe Movies per rappresentare un particolare filmato, è necessario modificare il nome della classe in modo che sia *Movie* anziché *Movies* (singolare anziché plurale).</span><span class="sxs-lookup"><span data-stu-id="e77c9-155">Because we'll use the Movies class to represent a particular movie, we need to modify the name of the class to be *Movie* instead of *Movies* (singular rather than plural).</span></span>

<span data-ttu-id="e77c9-156">Fare doppio clic sul nome della classe nell'area di progettazione e modificare il nome della classe da Movies a Movie.</span><span class="sxs-lookup"><span data-stu-id="e77c9-156">Double-click the name of the class on the designer surface and change the name of the class from Movies to Movie.</span></span> <span data-ttu-id="e77c9-157">Dopo aver apportato questa modifica, fare clic sul pulsante **Salva** (l'icona del disco floppy) per generare la classe Movie.</span><span class="sxs-lookup"><span data-stu-id="e77c9-157">After making this change, click the **Save** button (the icon of the floppy disk) to generate the Movie class.</span></span>

## <a name="create-the-movies-controller"></a><span data-ttu-id="e77c9-158">Creare il controller Filmati</span><span class="sxs-lookup"><span data-stu-id="e77c9-158">Create the Movies Controller</span></span>

<span data-ttu-id="e77c9-159">Ora che abbiamo un modo per rappresentare i nostri record di database, possiamo creare un controller che restituisce la raccolta di film.</span><span class="sxs-lookup"><span data-stu-id="e77c9-159">Now that we have a way to represent our database records, we can create a controller that returns the collection of movies.</span></span> <span data-ttu-id="e77c9-160">Nella finestra Esplora soluzioni di Visual Studio fare clic con il pulsante destro del mouse sulla cartella Controller e selezionare l'opzione di menu **Aggiungi, Controller** (vedere la Figura 3).</span><span class="sxs-lookup"><span data-stu-id="e77c9-160">Within the Visual Studio Solution Explorer window, right-click the Controllers folder and select the menu option **Add, Controller** (see Figure 3).</span></span>

<span data-ttu-id="e77c9-161">[![Il menu Aggiungi controller](displaying-a-table-of-database-data-cs/_static/image3.jpg)](displaying-a-table-of-database-data-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="e77c9-161">[![The Add Controller Menu](displaying-a-table-of-database-data-cs/_static/image3.jpg)](displaying-a-table-of-database-data-cs/_static/image5.png)</span></span>

<span data-ttu-id="e77c9-162">**Figura 03**: Il menu Aggiungi controller ([Fare clic per visualizzare l'immagine a dimensioni intere](displaying-a-table-of-database-data-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="e77c9-162">**Figure 03**: The Add Controller Menu ([Click to view full-size image](displaying-a-table-of-database-data-cs/_static/image6.png))</span></span>

<span data-ttu-id="e77c9-163">Quando viene visualizzata la finestra di dialogo **Aggiungi Controller,** immettere il nome del controller MovieController (vedere Figura 4).</span><span class="sxs-lookup"><span data-stu-id="e77c9-163">When the **Add Controller** dialog appears, enter the controller name MovieController (see Figure 4).</span></span> <span data-ttu-id="e77c9-164">Fare clic sul pulsante **Aggiungi** per aggiungere il nuovo controller.</span><span class="sxs-lookup"><span data-stu-id="e77c9-164">Click the **Add** button to add the new controller.</span></span>

<span data-ttu-id="e77c9-165">[![Finestra di dialogo Aggiungi controller](displaying-a-table-of-database-data-cs/_static/image4.jpg)](displaying-a-table-of-database-data-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="e77c9-165">[![The Add Controller dialog](displaying-a-table-of-database-data-cs/_static/image4.jpg)](displaying-a-table-of-database-data-cs/_static/image7.png)</span></span>

<span data-ttu-id="e77c9-166">**Figura 04**: La finestra di dialogo Aggiungi controller[(Fare clic per visualizzare l'immagine](displaying-a-table-of-database-data-cs/_static/image8.png)a dimensioni intere)</span><span class="sxs-lookup"><span data-stu-id="e77c9-166">**Figure 04**: The Add Controller dialog([Click to view full-size image](displaying-a-table-of-database-data-cs/_static/image8.png))</span></span>

<span data-ttu-id="e77c9-167">È necessario modificare l'azione Index() esposta dal controller Movie in modo che restituisca il set di record del database.</span><span class="sxs-lookup"><span data-stu-id="e77c9-167">We need to modify the Index() action exposed by the Movie controller so that it returns the set of database records.</span></span> <span data-ttu-id="e77c9-168">Modificare il controller in modo che abbia l'aspetto del controller nel listato 1.</span><span class="sxs-lookup"><span data-stu-id="e77c9-168">Modify the controller so that it looks like the controller in Listing 1.</span></span>

<span data-ttu-id="e77c9-169">**Listato 1 – Controller-MovieController.cs**</span><span class="sxs-lookup"><span data-stu-id="e77c9-169">**Listing 1 – Controllers\MovieController.cs**</span></span>

[!code-csharp[Main](displaying-a-table-of-database-data-cs/samples/sample1.cs)]

<span data-ttu-id="e77c9-170">Nel listato 1, la classe MoviesDBEntities viene utilizzata per rappresentare il database MoviesDB.</span><span class="sxs-lookup"><span data-stu-id="e77c9-170">In Listing 1, the MoviesDBEntities class is used to represent the MoviesDB database.</span></span> <span data-ttu-id="e77c9-171">Per utilizzare questa classe, è necessario importare lo spazio dei nomi MvcApplication1.Models in questo modo:To use this class, you need to import the MvcApplication1.Models namespace like this:</span><span class="sxs-lookup"><span data-stu-id="e77c9-171">To use this class, you need to import the MvcApplication1.Models namespace like this:</span></span>

<span data-ttu-id="e77c9-172">utilizzo di MvcApplication1.Models;</span><span class="sxs-lookup"><span data-stu-id="e77c9-172">using MvcApplication1.Models;</span></span>

<span data-ttu-id="e77c9-173">Entità *dell'espressione. MovieSet.ToList()* restituisce l'insieme di tutti i filmati dalla tabella di database Movies.</span><span class="sxs-lookup"><span data-stu-id="e77c9-173">The expression *entities.MovieSet.ToList()* returns the set of all movies from the Movies database table.</span></span>

## <a name="create-the-view"></a><span data-ttu-id="e77c9-174">Creazione della vista</span><span class="sxs-lookup"><span data-stu-id="e77c9-174">Create the View</span></span>

<span data-ttu-id="e77c9-175">The easiest way to display a set of database records in an HTML table is to take advantage of the scaffolding provided by Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e77c9-175">The easiest way to display a set of database records in an HTML table is to take advantage of the scaffolding provided by Visual Studio.</span></span>

<span data-ttu-id="e77c9-176">Compilare l'applicazione selezionando l'opzione di menu **Compila, Compila soluzione**.</span><span class="sxs-lookup"><span data-stu-id="e77c9-176">Build your application by selecting the menu option **Build, Build Solution**.</span></span> <span data-ttu-id="e77c9-177">È necessario compilare l'applicazione prima di aprire la finestra di dialogo **Aggiungi visualizzazione** o le classi di dati non verranno visualizzate nella finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="e77c9-177">You must build your application before opening the **Add View** dialog or your data classes won't appear in the dialog.</span></span>

<span data-ttu-id="e77c9-178">Fare clic con il pulsante destro del mouse sull'azione Index() e selezionare l'opzione di menu **Aggiungi vista** (vedere la Figura 5).</span><span class="sxs-lookup"><span data-stu-id="e77c9-178">Right-click the Index() action and select the menu option **Add View** (see Figure 5).</span></span>

<span data-ttu-id="e77c9-179">[![Aggiunta di una visualizzazione](displaying-a-table-of-database-data-cs/_static/image5.jpg)](displaying-a-table-of-database-data-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="e77c9-179">[![Adding a view](displaying-a-table-of-database-data-cs/_static/image5.jpg)](displaying-a-table-of-database-data-cs/_static/image9.png)</span></span>

<span data-ttu-id="e77c9-180">**Figura 05**: Aggiunta di una vista ([Fare clic per visualizzare l'immagine a dimensioni intere](displaying-a-table-of-database-data-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="e77c9-180">**Figure 05**: Adding a view ([Click to view full-size image](displaying-a-table-of-database-data-cs/_static/image10.png))</span></span>

<span data-ttu-id="e77c9-181">Nella finestra di dialogo **Aggiungi visualizzazione** selezionare la casella di controllo Crea una **visualizzazione fortemente tipizzato.**</span><span class="sxs-lookup"><span data-stu-id="e77c9-181">In the **Add View** dialog, check the checkbox labeled **Create a strongly-typed view**.</span></span> <span data-ttu-id="e77c9-182">Selezionare la classe Movie come classe di dati di **visualizzazione**.</span><span class="sxs-lookup"><span data-stu-id="e77c9-182">Select the Movie class as the **view data class**.</span></span> <span data-ttu-id="e77c9-183">Selezionare *Elenco* come contenuto della **visualizzazione** (vedere la Figura 6).</span><span class="sxs-lookup"><span data-stu-id="e77c9-183">Select *List* as the **view content** (see Figure 6).</span></span> <span data-ttu-id="e77c9-184">Selezionando queste opzioni verrà generata una visualizzazione fortemente tipata che visualizza un elenco di filmati.</span><span class="sxs-lookup"><span data-stu-id="e77c9-184">Selecting these options will generate a strongly-typed view that displays a list of movies.</span></span>

<span data-ttu-id="e77c9-185">[![Finestra di dialogo Aggiungi vista](displaying-a-table-of-database-data-cs/_static/image6.jpg)](displaying-a-table-of-database-data-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="e77c9-185">[![The Add View dialog](displaying-a-table-of-database-data-cs/_static/image6.jpg)](displaying-a-table-of-database-data-cs/_static/image11.png)</span></span>

<span data-ttu-id="e77c9-186">**Figura 06**: La finestra di dialogo Aggiungi vista[(Fare clic per visualizzare l'immagine a dimensioni intere)](displaying-a-table-of-database-data-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="e77c9-186">**Figure 06**: The Add View dialog([Click to view full-size image](displaying-a-table-of-database-data-cs/_static/image12.png))</span></span>

<span data-ttu-id="e77c9-187">Dopo aver fatto clic sul pulsante **Aggiungi,** la visualizzazione nel listato 2 viene generata automaticamente.</span><span class="sxs-lookup"><span data-stu-id="e77c9-187">After you click the **Add** button, the view in Listing 2 is generated automatically.</span></span> <span data-ttu-id="e77c9-188">Questa visualizzazione contiene il codice necessario per scorrere la raccolta di filmati e visualizzare ognuna delle proprietà di un filmato.</span><span class="sxs-lookup"><span data-stu-id="e77c9-188">This view contains the code required to iterate through the collection of movies and display each of the properties of a movie.</span></span>

<span data-ttu-id="e77c9-189">**Listato 2 – Visualizzazioni, Film, Indice.aspx**</span><span class="sxs-lookup"><span data-stu-id="e77c9-189">**Listing 2 – Views\Movie\Index.aspx**</span></span>

[!code-aspx[Main](displaying-a-table-of-database-data-cs/samples/sample2.aspx)]

<span data-ttu-id="e77c9-190">È possibile eseguire l'applicazione selezionando l'opzione di menu **Debug, Avvia debug** (o premendo il tasto F5).</span><span class="sxs-lookup"><span data-stu-id="e77c9-190">You can run the application by selecting the menu option **Debug, Start Debugging** (or hitting the F5 key).</span></span> <span data-ttu-id="e77c9-191">L'esecuzione dell'applicazione avvia Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="e77c9-191">Running the application launches Internet Explorer.</span></span> <span data-ttu-id="e77c9-192">Se si passa all'URL /Movie, verrà visualizzata la pagina in Figura 7.</span><span class="sxs-lookup"><span data-stu-id="e77c9-192">If you navigate to the /Movie URL then you'll see the page in Figure 7.</span></span>

<span data-ttu-id="e77c9-193">[![Una tabella di film](displaying-a-table-of-database-data-cs/_static/image7.jpg)](displaying-a-table-of-database-data-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="e77c9-193">[![A table of movies](displaying-a-table-of-database-data-cs/_static/image7.jpg)](displaying-a-table-of-database-data-cs/_static/image13.png)</span></span>

<span data-ttu-id="e77c9-194">**Figura 07**: Una tabella di filmati([Fare clic per visualizzare l'immagine](displaying-a-table-of-database-data-cs/_static/image14.png)a grandezza naturale )</span><span class="sxs-lookup"><span data-stu-id="e77c9-194">**Figure 07**: A table of movies([Click to view full-size image](displaying-a-table-of-database-data-cs/_static/image14.png))</span></span>

<span data-ttu-id="e77c9-195">Se non ti piace nulla circa l'aspetto della griglia dei record di database in Figura 7, allora si può semplicemente modificare la vista indice.</span><span class="sxs-lookup"><span data-stu-id="e77c9-195">If you don't like anything about the appearance of the grid of database records in Figure 7 then you can simply modify the Index view.</span></span> <span data-ttu-id="e77c9-196">Ad esempio, è possibile modificare l'intestazione *DateReleased* in *Data di rilascio* modificando la visualizzazione Indice.</span><span class="sxs-lookup"><span data-stu-id="e77c9-196">For example, you can change the *DateReleased* header to *Date Released* by modifying the Index view.</span></span>

## <a name="create-a-template-with-a-partial"></a><span data-ttu-id="e77c9-197">Creare un modello con un parzialeCreate a Template with a Partial</span><span class="sxs-lookup"><span data-stu-id="e77c9-197">Create a Template with a Partial</span></span>

<span data-ttu-id="e77c9-198">Quando una visualizzazione diventa troppo complicata, è consigliabile iniziare a suddividere la visualizzazione in parziali.</span><span class="sxs-lookup"><span data-stu-id="e77c9-198">When a view gets too complicated, it is a good idea to start breaking the view into partials.</span></span> <span data-ttu-id="e77c9-199">L'utilizzo di partial semplifica la comprensione e la gestione delle visualizzazioni.</span><span class="sxs-lookup"><span data-stu-id="e77c9-199">Using partials makes your views easier to understand and maintain.</span></span> <span data-ttu-id="e77c9-200">Creeremo un parziale che possiamo usare come modello per formattare ciascuno dei record del database dei film.</span><span class="sxs-lookup"><span data-stu-id="e77c9-200">We'll create a partial that we can use as a template to format each of the movie database records.</span></span>

<span data-ttu-id="e77c9-201">Attenersi alla seguente procedura per creare il parziale:</span><span class="sxs-lookup"><span data-stu-id="e77c9-201">Follow these steps to create the partial:</span></span>

1. <span data-ttu-id="e77c9-202">Fare clic con il pulsante destro del mouse sulla cartella Views-Movie e selezionare l'opzione di menu **Aggiungi vista**.</span><span class="sxs-lookup"><span data-stu-id="e77c9-202">Right-click the Views\Movie folder and select the menu option **Add View**.</span></span>
2. <span data-ttu-id="e77c9-203">Selezionare la casella di controllo *Crea una visualizzazione parziale (.ascx)*.</span><span class="sxs-lookup"><span data-stu-id="e77c9-203">Check the checkbox labeled *Create a partial view (.ascx)*.</span></span>
3. <span data-ttu-id="e77c9-204">Assegnare al MovieTemplate il nome *parziale*.</span><span class="sxs-lookup"><span data-stu-id="e77c9-204">Name the partial *MovieTemplate*.</span></span>
4. <span data-ttu-id="e77c9-205">Selezionare la casella di controllo **Crea una visualizzazione fortemente tipizzato**.</span><span class="sxs-lookup"><span data-stu-id="e77c9-205">Check the checkbox labeled **Create a strongly-typed view**.</span></span>
5. <span data-ttu-id="e77c9-206">Selezionare Film come *classe di dati*di visualizzazione .</span><span class="sxs-lookup"><span data-stu-id="e77c9-206">Select Movie as the *view data class*.</span></span>
6. <span data-ttu-id="e77c9-207">Selezionare Vuoto come contenuto della *visualizzazione.*</span><span class="sxs-lookup"><span data-stu-id="e77c9-207">Select Empty as the *view content*.</span></span>
7. <span data-ttu-id="e77c9-208">Fare clic sul pulsante **Aggiungi** per aggiungere il parziale al progetto.</span><span class="sxs-lookup"><span data-stu-id="e77c9-208">Click the **Add** button to add the partial to your project.</span></span>

<span data-ttu-id="e77c9-209">Dopo aver completato questi passaggi, modificare il MovieTemplate parziale in modo che l'aspetto sia il listato 3.After you complete these steps, modify the MovieTemplate partial to look like Listing 3.</span><span class="sxs-lookup"><span data-stu-id="e77c9-209">After you complete these steps, modify the MovieTemplate partial to look like Listing 3.</span></span>

<span data-ttu-id="e77c9-210">**Listato 3 – Visualizzazioni, Film, MovieTemplate.ascx**</span><span class="sxs-lookup"><span data-stu-id="e77c9-210">**Listing 3 – Views\Movie\MovieTemplate.ascx**</span></span>

[!code-aspx[Main](displaying-a-table-of-database-data-cs/samples/sample3.aspx)]

<span data-ttu-id="e77c9-211">Il parziale nel listato 3 contiene un modello per una singola riga di record.</span><span class="sxs-lookup"><span data-stu-id="e77c9-211">The partial in Listing 3 contains a template for a single row of records.</span></span>

<span data-ttu-id="e77c9-212">La visualizzazione Indice modificata nel listato 4 usa il MovieTemplate parziale.</span><span class="sxs-lookup"><span data-stu-id="e77c9-212">The modified Index view in Listing 4 uses the MovieTemplate partial.</span></span>

<span data-ttu-id="e77c9-213">**Listato 4 – Visualizzazioni, Film, Indice.aspx**</span><span class="sxs-lookup"><span data-stu-id="e77c9-213">**Listing 4 – Views\Movie\Index.aspx**</span></span>

[!code-aspx[Main](displaying-a-table-of-database-data-cs/samples/sample4.aspx)]

<span data-ttu-id="e77c9-214">La visualizzazione nel listato 4 contiene un ciclo foreach che scorre tutti i filmati.</span><span class="sxs-lookup"><span data-stu-id="e77c9-214">The view in Listing 4 contains a foreach loop that iterates through all of the movies.</span></span> <span data-ttu-id="e77c9-215">Per ogni filmato, il MovieTemplate parziale viene utilizzato per formattare il filmato.</span><span class="sxs-lookup"><span data-stu-id="e77c9-215">For each movie, the MovieTemplate partial is used to format the movie.</span></span> <span data-ttu-id="e77c9-216">Il MovieTemplate viene eseguito il rendering chiamando il RenderPartial() metodo helper.</span><span class="sxs-lookup"><span data-stu-id="e77c9-216">The MovieTemplate is rendered by calling the RenderPartial() helper method.</span></span>

<span data-ttu-id="e77c9-217">La vista Indice modificata esegue il rendering della stessa tabella HTML di record di database.</span><span class="sxs-lookup"><span data-stu-id="e77c9-217">The modified Index view renders the very same HTML table of database records.</span></span> <span data-ttu-id="e77c9-218">Tuttavia, la vista è stata notevolmente semplificata.</span><span class="sxs-lookup"><span data-stu-id="e77c9-218">However, the view has been greatly simplified.</span></span>

<span data-ttu-id="e77c9-219">Il metodo RenderPartial() è diverso dalla maggior parte degli altri metodi helper perché non restituisce una stringa.</span><span class="sxs-lookup"><span data-stu-id="e77c9-219">The RenderPartial() method is different than most of the other helper methods because it does not return a string.</span></span> <span data-ttu-id="e77c9-220">Pertanto, è necessario chiamare il &lt;metodo RenderPartial() utilizzando % Html.RenderPartial(); %&gt; invece di &lt;%: Html.RenderPartial(); %&gt;.</span><span class="sxs-lookup"><span data-stu-id="e77c9-220">Therefore, you must call the RenderPartial() method using &lt;% Html.RenderPartial(); %&gt; instead of &lt;%= Html.RenderPartial(); %&gt;.</span></span>

## <a name="summary"></a><span data-ttu-id="e77c9-221">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="e77c9-221">Summary</span></span>

<span data-ttu-id="e77c9-222">L'obiettivo di questa esercitazione consisteva nello spiegare come visualizzare un set di record di database in una tabella HTML.</span><span class="sxs-lookup"><span data-stu-id="e77c9-222">The goal of this tutorial was to explain how you can display a set of database records in an HTML table.</span></span> <span data-ttu-id="e77c9-223">In primo luogo, si è appreso come restituire un set di record di database da un'azione del controller sfruttando Microsoft Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="e77c9-223">First, you learned how to return a set of database records from a controller action by taking advantage of the Microsoft Entity Framework.</span></span> <span data-ttu-id="e77c9-224">Successivamente, si è appreso come utilizzare lo scaffolding di Visual Studio per generare una visualizzazione che visualizza automaticamente una raccolta di elementi.</span><span class="sxs-lookup"><span data-stu-id="e77c9-224">Next, you learned how to use Visual Studio scaffolding to generate a view that displays a collection of items automatically.</span></span> <span data-ttu-id="e77c9-225">Infine, si è appreso come semplificare la visualizzazione sfruttando un parziale.</span><span class="sxs-lookup"><span data-stu-id="e77c9-225">Finally, you learned how to simplify the view by taking advantage of a partial.</span></span> <span data-ttu-id="e77c9-226">Si è appreso come usare un partial come modello in modo da poter formattare ogni record del database.</span><span class="sxs-lookup"><span data-stu-id="e77c9-226">You learned how to use a partial as a template so that you can format each database record.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="e77c9-227">[Successivo](creating-model-classes-with-linq-to-sql-cs.md)
> [precedente](performing-simple-validation-cs.md)</span><span class="sxs-lookup"><span data-stu-id="e77c9-227">[Previous](creating-model-classes-with-linq-to-sql-cs.md)
[Next](performing-simple-validation-cs.md)</span></span>
