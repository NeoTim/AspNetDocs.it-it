---
uid: mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
title: Uso del calendario popup per HTML5 e jQuery UI DatePicker con ASP.NET MVC-parte 4 | Microsoft Docs
author: Rick-Anderson
description: Questa esercitazione illustra le nozioni di base su come usare i modelli di editor, i modelli di visualizzazione e il calendario popup DatePicker dell'interfaccia utente di jQuery in un ASP.NET MV...
ms.author: riande
ms.date: 08/29/2011
ms.assetid: 57666c69-2b0f-423a-a61d-be49547fa585
msc.legacyurl: /mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
msc.type: authoredcontent
ms.openlocfilehash: 583e782641efea9a9517edb31f7718b28203d756
ms.sourcegitcommit: 7709c0a091b8d55b7b33bad8849f7b66b23c3d72
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/19/2020
ms.locfileid: "77457492"
---
# <a name="using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc---part-4"></a><span data-ttu-id="892b9-103">Uso del calendario popup per HTML5 e jQuery UI DatePicker con ASP.NET MVC-parte 4</span><span class="sxs-lookup"><span data-stu-id="892b9-103">Using the HTML5 and jQuery UI Datepicker Popup Calendar with ASP.NET MVC - Part 4</span></span>

<span data-ttu-id="892b9-104">di [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="892b9-104">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> <span data-ttu-id="892b9-105">Questa esercitazione illustra le nozioni di base su come usare i modelli di editor, i modelli di visualizzazione e il calendario popup DatePicker dell'interfaccia utente di jQuery in un'applicazione Web MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="892b9-105">This tutorial will teach you the basics of how to work with editor templates, display templates, and the jQuery UI datepicker popup calendar in an ASP.NET MVC Web application.</span></span>

### <a name="adding-a-template-for-editing-dates"></a><span data-ttu-id="892b9-106">Aggiunta di un modello per la modifica delle date</span><span class="sxs-lookup"><span data-stu-id="892b9-106">Adding a Template for Editing Dates</span></span>

<span data-ttu-id="892b9-107">In questa sezione verrà creato un modello per modificare le date da applicare quando ASP.NET MVC Visualizza l'interfaccia utente per la modifica delle proprietà del modello contrassegnate con l'enumerazione **date** dell'attributo [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) .</span><span class="sxs-lookup"><span data-stu-id="892b9-107">In this section you'll create a template for editing dates that will be applied when ASP.NET MVC displays UI for editing model properties that are marked with the **Date** enumeration of the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) attribute.</span></span> <span data-ttu-id="892b9-108">Il modello eseguirà il rendering solo della data; l'ora non verrà visualizzata.</span><span class="sxs-lookup"><span data-stu-id="892b9-108">The template will render only the date; time will not be displayed.</span></span> <span data-ttu-id="892b9-109">Nel modello verrà usato il calendario popup [DatePicker interfaccia utente jQuery](http://jqueryui.com/demos/datepicker/) per fornire un modo per modificare le date.</span><span class="sxs-lookup"><span data-stu-id="892b9-109">In the template you'll use the [jQuery UI Datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to provide a way to edit dates.</span></span>

<span data-ttu-id="892b9-110">Per iniziare, aprire il file *Movie.cs* e aggiungere l'attributo [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) con l'enumerazione **date** alla proprietà `ReleaseDate`, come illustrato nel codice seguente:</span><span class="sxs-lookup"><span data-stu-id="892b9-110">To begin, open the *Movie.cs* file and add the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) attribute with the **Date** enumeration to the `ReleaseDate` property, as shown in the following code:</span></span>

[!code-csharp[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample1.cs)]

<span data-ttu-id="892b9-111">Questo codice fa in modo che il campo `ReleaseDate` venga visualizzato senza l'ora sia nei modelli di visualizzazione che nei modelli di modifica.</span><span class="sxs-lookup"><span data-stu-id="892b9-111">This code causes the `ReleaseDate` field to be displayed without the time in both display templates and edit templates.</span></span> <span data-ttu-id="892b9-112">Se l'applicazione contiene un modello *date. cshtml* nella cartella *Views\Shared\EditorTemplates* o nella cartella *Views\Movies\EditorTemplates* , il modello verrà usato per eseguire il rendering di qualsiasi proprietà `DateTime` durante la modifica.</span><span class="sxs-lookup"><span data-stu-id="892b9-112">If your application contains a *date.cshtml* template in the *Views\Shared\EditorTemplates* folder or in the *Views\Movies\EditorTemplates* folder, that template will be used to render any `DateTime` property while editing.</span></span> <span data-ttu-id="892b9-113">In caso contrario, il sistema di modelli ASP.NET incorporato visualizzerà la proprietà come data.</span><span class="sxs-lookup"><span data-stu-id="892b9-113">Otherwise the built-in ASP.NET templating system will display the property as a date.</span></span>

<span data-ttu-id="892b9-114">Premere CTRL+F5 per eseguire l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="892b9-114">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="892b9-115">Selezionare un collegamento modifica per verificare che il campo di input per la data di rilascio mostri solo la data.</span><span class="sxs-lookup"><span data-stu-id="892b9-115">Select an edit link to verify that the input field for the release date is showing only the date.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image1.png)

<span data-ttu-id="892b9-116">In **Esplora soluzioni**espandere la cartella *views* , espandere la cartella *Shared* , quindi fare clic con il pulsante destro del mouse sulla cartella *Views\Shared\EditorTemplates* .</span><span class="sxs-lookup"><span data-stu-id="892b9-116">In **Solution Explorer**, expand the *Views* folder, expand the *Shared* folder, and then right-click the *Views\Shared\EditorTemplates* folder.</span></span>

<span data-ttu-id="892b9-117">Fare clic su **Aggiungi**e quindi su **Visualizza**.</span><span class="sxs-lookup"><span data-stu-id="892b9-117">Click **Add**, and then click **View**.</span></span> <span data-ttu-id="892b9-118">Verrà visualizzata la finestra di dialogo **Aggiungi visualizzazione** .</span><span class="sxs-lookup"><span data-stu-id="892b9-118">The **Add View** dialog box is displayed.</span></span>

<span data-ttu-id="892b9-119">Nella casella **nome visualizzazione** Digitare &quot;data&quot;.</span><span class="sxs-lookup"><span data-stu-id="892b9-119">In the **View name** box, type &quot;Date&quot;.</span></span>

<span data-ttu-id="892b9-120">Selezionare la casella **di controllo Crea come visualizzazione parziale** .</span><span class="sxs-lookup"><span data-stu-id="892b9-120">Select the **Create as a partial view** check box.</span></span> <span data-ttu-id="892b9-121">Verificare che le caselle di controllo **Usa un layout o una pagina master** e **Crea una visualizzazione fortemente tipizzata** non siano selezionate.</span><span class="sxs-lookup"><span data-stu-id="892b9-121">Make sure that the **Use a layout or master page** and **Create a strongly-typed view** check boxes are not selected.</span></span>

<span data-ttu-id="892b9-122">Fare clic su **Add**.</span><span class="sxs-lookup"><span data-stu-id="892b9-122">Click **Add**.</span></span> <span data-ttu-id="892b9-123">Viene creato il modello *Views\Shared\EditorTemplates\Date.cshtml* .</span><span class="sxs-lookup"><span data-stu-id="892b9-123">The *Views\Shared\EditorTemplates\Date.cshtml* template is created.</span></span>

<span data-ttu-id="892b9-124">Aggiungere il codice seguente al modello *Views\Shared\EditorTemplates\Date.cshtml* .</span><span class="sxs-lookup"><span data-stu-id="892b9-124">Add the following code to the *Views\Shared\EditorTemplates\Date.cshtml* template.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample2.cshtml)]

<span data-ttu-id="892b9-125">La prima riga dichiara il modello come tipo di `DateTime`.</span><span class="sxs-lookup"><span data-stu-id="892b9-125">The first line declares the model to be a `DateTime` type.</span></span> <span data-ttu-id="892b9-126">Sebbene non sia necessario dichiarare il tipo di modello nei modelli di modifica e visualizzazione, è una procedura consigliata per ottenere il controllo in fase di compilazione del modello passato alla visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="892b9-126">Although you don't need to declare the model type in edit and display templates, it's a best practice so that you get compile-time checking of the model being passed to the view.</span></span> <span data-ttu-id="892b9-127">Un altro vantaggio è la possibilità di ottenere IntelliSense per il modello nella visualizzazione in Visual Studio. Se il tipo di modello non è dichiarato, ASP.NET MVC lo considera un tipo [dinamico](https://msdn.microsoft.com/library/dd264741.aspx) e non esiste alcun controllo del tipo in fase di compilazione.</span><span class="sxs-lookup"><span data-stu-id="892b9-127">(Another benefit is that you then get IntelliSense for the model in the view in Visual Studio.) If the model type is not declared, ASP.NET MVC considers it a [dynamic](https://msdn.microsoft.com/library/dd264741.aspx) type and there's no compile-time type checking.</span></span> <span data-ttu-id="892b9-128">Se si dichiara il modello come tipo di `DateTime`, diventa fortemente tipizzato.</span><span class="sxs-lookup"><span data-stu-id="892b9-128">If you declare the model to be a `DateTime` type, it becomes strongly typed.</span></span>

<span data-ttu-id="892b9-129">La seconda riga è semplicemente markup HTML letterale che visualizza &quot;utilizzando il modello di data&quot; prima di un campo di data.</span><span class="sxs-lookup"><span data-stu-id="892b9-129">The second line is just literal HTML markup that displays &quot;Using Date Template&quot; before a date field.</span></span> <span data-ttu-id="892b9-130">Questa riga verrà utilizzata temporaneamente per verificare che sia in uso questo modello di data.</span><span class="sxs-lookup"><span data-stu-id="892b9-130">You'll use this line temporarily to verify that this date template is being used.</span></span>

<span data-ttu-id="892b9-131">La riga successiva è un helper [HTML. TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) che esegue il rendering di un campo `input` che è una casella di testo.</span><span class="sxs-lookup"><span data-stu-id="892b9-131">The next line is an [Html.TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) helper that renders an `input` field that's a text box.</span></span> <span data-ttu-id="892b9-132">Il terzo parametro per l'helper utilizza un tipo anonimo per impostare la classe per la casella di testo `datefield` e il tipo su `date`.</span><span class="sxs-lookup"><span data-stu-id="892b9-132">The third parameter for the helper uses an anonymous type to set the class for the text box to `datefield` and the type to `date`.</span></span> <span data-ttu-id="892b9-133">Poiché `class` è un riservato in C#, è necessario utilizzare il carattere `@` per eseguire l'escape dell'attributo `class` nel C# parser.</span><span class="sxs-lookup"><span data-stu-id="892b9-133">(Because `class` is a reserved in C#, you need to use the `@` character to escape the `class` attribute in the C# parser.)</span></span>

<span data-ttu-id="892b9-134">Il tipo di `date` è un tipo di input HTML5 che consente ai browser compatibili con HTML5 di eseguire il rendering di un controllo calendario HTML5.</span><span class="sxs-lookup"><span data-stu-id="892b9-134">The `date` type is an HTML5 input type that enables HTML5-aware browsers to render a HTML5 calendar control.</span></span> <span data-ttu-id="892b9-135">Successivamente, si aggiungerà un codice JavaScript per associare l'oggetto DatePicker di jQuery all'elemento `Html.TextBox` usando la classe `datefield`.</span><span class="sxs-lookup"><span data-stu-id="892b9-135">Later on you'll add some JavaScript to hook up the jQuery datepicker to the `Html.TextBox` element using the `datefield` class.</span></span>

<span data-ttu-id="892b9-136">Premere CTRL+F5 per eseguire l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="892b9-136">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="892b9-137">È possibile verificare che la proprietà `ReleaseDate` nella visualizzazione di modifica usi il modello di modifica perché il modello Visualizza &quot;utilizzando il modello di data&quot; immediatamente prima della casella di input di testo `ReleaseDate`, come illustrato nell'immagine seguente:</span><span class="sxs-lookup"><span data-stu-id="892b9-137">You can verify that the `ReleaseDate` property in the edit view is using the edit template because the template displays &quot;Using Date Template&quot; just before the `ReleaseDate` text input box, as shown in this image:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image2.png)

<span data-ttu-id="892b9-138">Nel browser visualizzare l'origine della pagina.</span><span class="sxs-lookup"><span data-stu-id="892b9-138">In your browser, view the source of the page.</span></span> <span data-ttu-id="892b9-139">Ad esempio, fare clic con il pulsante destro del mouse sulla pagina e scegliere **Visualizza origine**. Nell'esempio seguente viene illustrato il markup per la pagina, illustrando gli attributi `class` e `type` nel codice HTML sottoposto a rendering.</span><span class="sxs-lookup"><span data-stu-id="892b9-139">(For example, right-click the page and select **View source**.) The following example shows some of the markup for the page, illustrating the `class` and `type` attributes in the rendered HTML.</span></span>

[!code-html[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample3.html)]

<span data-ttu-id="892b9-140">Tornare al modello *Views\Shared\EditorTemplates\Date.cshtml* e rimuovere il &quot;usando il modello di data&quot; markup.</span><span class="sxs-lookup"><span data-stu-id="892b9-140">Return to the *Views\Shared\EditorTemplates\Date.cshtml* template and remove the &quot;Using Date Template&quot; markup.</span></span> <span data-ttu-id="892b9-141">Il modello completato è ora simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="892b9-141">Now the completed template looks like this:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample4.cshtml)]

### <a name="adding-a-jquery-ui-datepicker-popup-calendar-using-nuget"></a><span data-ttu-id="892b9-142">Aggiunta di un calendario popup DatePicker interfaccia utente jQuery con NuGet</span><span class="sxs-lookup"><span data-stu-id="892b9-142">Adding a jQuery UI Datepicker Popup Calendar using NuGet</span></span>

<span data-ttu-id="892b9-143">In questa sezione verrà aggiunto il calendario popup dell' [interfaccia utente di jQuery](http://jqueryui.com/demos/datepicker/) al modello Data-modifica.</span><span class="sxs-lookup"><span data-stu-id="892b9-143">In this section you'll add the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to the date-edit template.</span></span> <span data-ttu-id="892b9-144">La libreria [dell'interfaccia utente di jQuery](http://jqueryui.com/) fornisce supporto per animazioni, effetti avanzati e widget personalizzabili.</span><span class="sxs-lookup"><span data-stu-id="892b9-144">The [jQuery UI](http://jqueryui.com/) library provides support for animation, advanced effects, and customizable widgets.</span></span> <span data-ttu-id="892b9-145">Si basa sulla libreria JavaScript jQuery.</span><span class="sxs-lookup"><span data-stu-id="892b9-145">It's built on top of the jQuery JavaScript library.</span></span> <span data-ttu-id="892b9-146">Il calendario popup DatePicker rende semplice e naturale immettere le date usando un calendario anziché immettere una stringa.</span><span class="sxs-lookup"><span data-stu-id="892b9-146">The datepicker popup calendar makes it easy and natural to enter dates using a calendar instead of entering a string.</span></span> <span data-ttu-id="892b9-147">Il calendario popup limita anche gli utenti alle date legali. la voce di testo ordinaria per una data consente di immettere un valore come `2/33/1999` (il 33 febbraio 1999), ma il calendario popup dell' [interfaccia utente jQuery](http://jqueryui.com/demos/datepicker/) popup non lo consentirà.</span><span class="sxs-lookup"><span data-stu-id="892b9-147">The popup calendar also limits users to legal dates — ordinary text entry for a date would let you enter something like `2/33/1999` ( February 33rd, 1999), but the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar won't allow that.</span></span>

<span data-ttu-id="892b9-148">Prima di tutto, è necessario installare le librerie dell'interfaccia utente di jQuery.</span><span class="sxs-lookup"><span data-stu-id="892b9-148">First, you have to install the jQuery UI libraries.</span></span> <span data-ttu-id="892b9-149">A tale scopo, si userà NuGet, ovvero una gestione pacchetti inclusa nelle versioni SP1 di Visual Studio 2010 e Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="892b9-149">To do that, you'll use NuGet, which is a package manager that's included in SP1 versions of Visual Studio 2010 and Visual Web Developer.</span></span>

<span data-ttu-id="892b9-150">In Visual Web Developer scegliere **Gestione pacchetti NuGet** dal menu **strumenti** e quindi selezionare **Gestisci pacchetti NuGet**.</span><span class="sxs-lookup"><span data-stu-id="892b9-150">In Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Manage NuGet Packages**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image3.png)

<span data-ttu-id="892b9-151">Nota: se il menu **strumenti** non Visualizza il comando **Gestione pacchetti NuGet** , è necessario installare NuGet seguendo le istruzioni disponibili nella pagina [installazione di NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) del sito Web NuGet.</span><span class="sxs-lookup"><span data-stu-id="892b9-151">Note: If the **Tools** menu doesn't display the **NuGet Package Manager** command, you need to install NuGet by following the instructions on the [Installing NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) page of the NuGet website.</span></span>   
  
<span data-ttu-id="892b9-152">Se si usa Visual Studio anziché Visual Web Developer, scegliere **Gestione pacchetti NuGet** dal menu **strumenti** e quindi fare clic su **Aggiungi riferimento al pacchetto di librerie**.</span><span class="sxs-lookup"><span data-stu-id="892b9-152">If you're using Visual Studio instead of Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Add Library Package Reference**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image4.png)

<span data-ttu-id="892b9-153">Nella finestra di dialogo **MVCMovie-Gestisci pacchetti NuGet** fare clic sulla scheda **online** a sinistra e quindi immettere &quot;jQuery. UI&quot; nella casella di ricerca.</span><span class="sxs-lookup"><span data-stu-id="892b9-153">In the **MVCMovie - Manage NuGet Packages** dialog box, click the **Online** tab on the left and then enter &quot;jQuery.UI&quot; in the search box.</span></span> <span data-ttu-id="892b9-154">Selezionare il **widget interfaccia utente query j: DatePicker**, quindi selezionare il pulsante **Installa** .</span><span class="sxs-lookup"><span data-stu-id="892b9-154">Select j **Query UI Widgets:Datepicker**, then select the **Install** button.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image5.png)

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image6.png)

<span data-ttu-id="892b9-155">NuGet aggiunge le versioni di debug e le versioni minimizzati di jQuery UI Core e il selettore di data UI jQuery per il progetto:</span><span class="sxs-lookup"><span data-stu-id="892b9-155">NuGet adds these debug versions and minified versions of jQuery UI Core and the jQuery UI date picker to your project:</span></span>

- <span data-ttu-id="892b9-156">*jQuery. UI. Core. js*</span><span class="sxs-lookup"><span data-stu-id="892b9-156">*jquery.ui.core.js*</span></span>
- <span data-ttu-id="892b9-157">*jQuery. UI. Core. min. js*</span><span class="sxs-lookup"><span data-stu-id="892b9-157">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="892b9-158">*jQuery. UI. DatePicker. js*</span><span class="sxs-lookup"><span data-stu-id="892b9-158">*jquery.ui.datepicker.js*</span></span>
- <span data-ttu-id="892b9-159">*jQuery. UI. DatePicker. min. js*</span><span class="sxs-lookup"><span data-stu-id="892b9-159">*jquery.ui.datepicker.min.js*</span></span>

<span data-ttu-id="892b9-160">Nota: le versioni di debug (i file senza estensione *. min. js* ) sono utili per il debug, ma in un sito di produzione sono incluse solo le versioni minimizzati.</span><span class="sxs-lookup"><span data-stu-id="892b9-160">Note: The debug versions (the files without the *.min.js* extension) are useful for debugging, but in a production site, you'd include only the minified versions.</span></span>

<span data-ttu-id="892b9-161">Per usare effettivamente la selezione data di jQuery, è necessario creare uno script jQuery che collegherà il widget Calendar al modello di modifica.</span><span class="sxs-lookup"><span data-stu-id="892b9-161">To actually use the jQuery date picker, you need to create a jQuery script that will hook up the calendar widget to the edit template.</span></span> <span data-ttu-id="892b9-162">In **Esplora soluzioni**fare clic con il pulsante destro del mouse sulla cartella *script* , scegliere **Aggiungi**, quindi **nuovo elemento**e quindi **file JScript**.</span><span class="sxs-lookup"><span data-stu-id="892b9-162">In **Solution Explorer**, right-click the *Scripts* folder and select **Add**, then **New Item**, and then **JScript File**.</span></span> <span data-ttu-id="892b9-163">Denominare il file *DatePickerReady. js*.</span><span class="sxs-lookup"><span data-stu-id="892b9-163">Name the file *DatePickerReady.js*.</span></span>

<span data-ttu-id="892b9-164">Aggiungere il codice seguente al file *DatePickerReady. js* :</span><span class="sxs-lookup"><span data-stu-id="892b9-164">Add the following code to the *DatePickerReady.js* file:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample5.js)]

<span data-ttu-id="892b9-165">Se non si ha familiarità con jQuery, ecco una breve spiegazione di ciò che accade: la prima riga è la &quot;funzione jQuery Ready&quot;, che viene chiamata quando tutti gli elementi DOM in una pagina sono stati caricati.</span><span class="sxs-lookup"><span data-stu-id="892b9-165">If you're not familiar with jQuery, here's a brief explanation of what this does: the first line is the &quot;jQuery ready&quot; function, which is called when all the DOM elements in a page have loaded.</span></span> <span data-ttu-id="892b9-166">La seconda riga Seleziona tutti gli elementi DOM con il nome della classe `datefield`, quindi richiama la funzione `datepicker` per ognuno di essi.</span><span class="sxs-lookup"><span data-stu-id="892b9-166">The second line selects all DOM elements that have the class name `datefield`, then invokes the `datepicker` function for each of them.</span></span> <span data-ttu-id="892b9-167">Tenere presente che è stata aggiunta la classe `datefield` al modello *Views\Shared\EditorTemplates\Date.cshtml* in precedenza nell'esercitazione.</span><span class="sxs-lookup"><span data-stu-id="892b9-167">(Remember that you added the `datefield` class to the *Views\Shared\EditorTemplates\Date.cshtml* template earlier in the tutorial.)</span></span>

<span data-ttu-id="892b9-168">Aprire quindi il file *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="892b9-168">Next, open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="892b9-169">È necessario aggiungere i riferimenti ai file seguenti, che sono tutti necessari per poter usare il selettore di data:</span><span class="sxs-lookup"><span data-stu-id="892b9-169">You need to add references to the following files, which are all required so that you can use the date picker:</span></span>

- <span data-ttu-id="892b9-170">*Content/themes/base/jQuery. UI. Core. CSS*</span><span class="sxs-lookup"><span data-stu-id="892b9-170">*Content/themes/base/jquery.ui.core.css*</span></span>
- <span data-ttu-id="892b9-171">*Content/themes/base/jQuery. UI. DatePicker. CSS*</span><span class="sxs-lookup"><span data-stu-id="892b9-171">*Content/themes/base/jquery.ui.datepicker.css*</span></span>
- <span data-ttu-id="892b9-172">*Content/themes/base/jQuery. UI. Theme. CSS*</span><span class="sxs-lookup"><span data-stu-id="892b9-172">*Content/themes/base/jquery.ui.theme.css*</span></span>
- <span data-ttu-id="892b9-173">*jQuery. UI. Core. min. js*</span><span class="sxs-lookup"><span data-stu-id="892b9-173">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="892b9-174">*jQuery. UI. DatePicker. min. js*</span><span class="sxs-lookup"><span data-stu-id="892b9-174">*jquery.ui.datepicker.min.js*</span></span>
- <span data-ttu-id="892b9-175">*DatePickerReady. js*</span><span class="sxs-lookup"><span data-stu-id="892b9-175">*DatePickerReady.js*</span></span>

<span data-ttu-id="892b9-176">Nell'esempio seguente viene illustrato il codice effettivo che è necessario aggiungere nella parte inferiore dell'elemento `head` nel file *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="892b9-176">The following example shows the actual code that you should add at the bottom of the `head` element in the *Views\Shared\\_Layout.cshtml* file.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample6.cshtml)]

<span data-ttu-id="892b9-177">La sezione `head` completa è illustrata di seguito:</span><span class="sxs-lookup"><span data-stu-id="892b9-177">The complete `head` section is shown here:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample7.cshtml)]

<span data-ttu-id="892b9-178">Il metodo di [supporto del contenuto dell'URL](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) converte il percorso della risorsa in un percorso assoluto.</span><span class="sxs-lookup"><span data-stu-id="892b9-178">The [URL content helper](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) method converts the resource path to an absolute path.</span></span> <span data-ttu-id="892b9-179">È necessario utilizzare `@URL.Content` per fare riferimento a queste risorse quando l'applicazione è in esecuzione in IIS.</span><span class="sxs-lookup"><span data-stu-id="892b9-179">You must use `@URL.Content` to correctly reference these resources when the application is running on IIS.</span></span>

<span data-ttu-id="892b9-180">Premere CTRL+F5 per eseguire l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="892b9-180">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="892b9-181">Selezionare un collegamento modifica, quindi inserire il punto di inserimento nel campo **rilasciato** .</span><span class="sxs-lookup"><span data-stu-id="892b9-181">Select an edit link, then put the insertion point into the **ReleaseDate** field.</span></span> <span data-ttu-id="892b9-182">Viene visualizzato il calendario popup dell'interfaccia utente di jQuery.</span><span class="sxs-lookup"><span data-stu-id="892b9-182">The jQuery UI popup calendar is displayed.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image7.png)

<span data-ttu-id="892b9-183">Come la maggior parte dei controlli jQuery, DatePicker consente di personalizzarlo in modo esteso.</span><span class="sxs-lookup"><span data-stu-id="892b9-183">Like most jQuery controls, the datepicker lets you customize it extensively.</span></span> <span data-ttu-id="892b9-184">Per informazioni, vedere [personalizzazione visiva: progettazione di un tema dell'interfaccia utente jQuery](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) sul sito dell' [interfaccia utente di jQuery](http://learn.jquery.com/jquery-ui/getting-started/) .</span><span class="sxs-lookup"><span data-stu-id="892b9-184">For information, see [Visual Customization: Designing a jQuery UI theme](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) on the [jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/) site.</span></span>

### <a name="supporting-the-html5-date-input-control"></a><span data-ttu-id="892b9-185">Supporto del controllo di input di data HTML5</span><span class="sxs-lookup"><span data-stu-id="892b9-185">Supporting the HTML5 Date Input Control</span></span>

<span data-ttu-id="892b9-186">Poiché più browser supportano HTML5, è opportuno usare l'input HTML5 nativo, ad esempio l'elemento `date` input, e non usare il calendario dell'interfaccia utente di jQuery.</span><span class="sxs-lookup"><span data-stu-id="892b9-186">As more browsers support HTML5, you'll want to use the native HTML5 input, such as the `date` input element, and not use the jQuery UI calendar.</span></span> <span data-ttu-id="892b9-187">È possibile aggiungere la logica all'applicazione per usare automaticamente i controlli HTML5 se supportati dal browser.</span><span class="sxs-lookup"><span data-stu-id="892b9-187">You can add logic to your application to automatically use HTML5 controls if the browser supports them.</span></span> <span data-ttu-id="892b9-188">A tale scopo, sostituire il contenuto del file *DatePickerReady. js* con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="892b9-188">To do this, replace the contents of the *DatePickerReady.js* file with the following:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample8.js)]

<span data-ttu-id="892b9-189">La prima riga di questo script usa Modernizzator per verificare che l'input della data HTML5 sia supportato.</span><span class="sxs-lookup"><span data-stu-id="892b9-189">The first line of this script uses Modernizr to verify that HTML5 date input is supported.</span></span> <span data-ttu-id="892b9-190">Se non è supportato, il selettore di data dell'interfaccia utente jQuery viene invece collegato.</span><span class="sxs-lookup"><span data-stu-id="892b9-190">If it's not supported, the jQuery UI date picker is hooked up instead.</span></span> <span data-ttu-id="892b9-191">[Modernizzator](http://www.modernizr.com/docs/) è una libreria JavaScript open source che rileva la disponibilità di implementazioni native di HTML5 e CSS3.</span><span class="sxs-lookup"><span data-stu-id="892b9-191">([Modernizr](http://www.modernizr.com/docs/) is an open-source JavaScript library that detects the availability of native implementations of HTML5 and CSS3.</span></span> <span data-ttu-id="892b9-192">Modernizzator è incluso in tutti i nuovi progetti MVC ASP.NET creati.</span><span class="sxs-lookup"><span data-stu-id="892b9-192">Modernizr is included in any new ASP.NET MVC projects that you create.)</span></span>

<span data-ttu-id="892b9-193">Dopo aver apportato questa modifica, è possibile testarla usando un browser che supporta HTML5, ad esempio opera 11.</span><span class="sxs-lookup"><span data-stu-id="892b9-193">After you've made this change, you can test it by using a browser that supports HTML5, such as Opera 11.</span></span> <span data-ttu-id="892b9-194">Eseguire l'applicazione usando un browser compatibile con HTML5 e modificare una voce di film.</span><span class="sxs-lookup"><span data-stu-id="892b9-194">Run the application using an HTML5-compatible browser and edit a movie entry.</span></span> <span data-ttu-id="892b9-195">Il controllo della data HTML5 viene usato al posto del calendario popup dell'interfaccia utente di jQuery:</span><span class="sxs-lookup"><span data-stu-id="892b9-195">The HTML5 date control is used instead of the jQuery UI popup calendar:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image8.png)

<span data-ttu-id="892b9-196">Poiché le nuove versioni dei browser implementano HTML5 in modo incrementale, un approccio efficace per ora consiste nell'aggiungere codice al sito Web che include una vasta gamma di supporto per HTML5.</span><span class="sxs-lookup"><span data-stu-id="892b9-196">Because new versions of browsers are implementing HTML5 incrementally, a good approach for now is to add code to your website that accommodates a wide variety of HTML5 support.</span></span> <span data-ttu-id="892b9-197">Ad esempio, di seguito è riportato uno script *DatePickerReady. js* più solido che consente al sito di supportare i browser che supportano solo parzialmente il controllo della data HTML5.</span><span class="sxs-lookup"><span data-stu-id="892b9-197">For example, a more robust *DatePickerReady.js* script is shown below that lets your site support browsers that only partially support the HTML5 date control.</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample9.js)]

<span data-ttu-id="892b9-198">Questo script Seleziona gli elementi `input` HTML5 di tipo `date` che non supportano completamente il controllo della data HTML5.</span><span class="sxs-lookup"><span data-stu-id="892b9-198">This script selects HTML5 `input` elements of type `date` that don't fully support the HTML5 date control.</span></span> <span data-ttu-id="892b9-199">Per tali elementi, il calendario popup dell'interfaccia utente jQuery viene collegato e quindi l'attributo `type` viene modificato da `date` a `text`.</span><span class="sxs-lookup"><span data-stu-id="892b9-199">For those elements, it hooks up the jQuery UI popup calendar and then changes the `type` attribute from `date` to `text`.</span></span> <span data-ttu-id="892b9-200">Modificando l'attributo `type` da `date` a `text`, viene eliminato il supporto della data HTML5 parziale.</span><span class="sxs-lookup"><span data-stu-id="892b9-200">By changing the `type` attribute from `date` to `text`, partial HTML5 date support is eliminated.</span></span> <span data-ttu-id="892b9-201">Uno script *DatePickerReady. js* ancora più affidabile si trova in [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span><span class="sxs-lookup"><span data-stu-id="892b9-201">An even more robust *DatePickerReady.js* script can be found at [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span></span>

### <a name="adding-nullable-dates-to-the-templates"></a><span data-ttu-id="892b9-202">Aggiunta di date nullable ai modelli</span><span class="sxs-lookup"><span data-stu-id="892b9-202">Adding Nullable Dates to the Templates</span></span>

<span data-ttu-id="892b9-203">Se si usa uno dei modelli di data esistenti e si passa una data null, si otterrà un errore di run-time.</span><span class="sxs-lookup"><span data-stu-id="892b9-203">If you use one of the existing date templates and pass a null date, you'll get a run-time error.</span></span> <span data-ttu-id="892b9-204">Per rendere più affidabili i modelli di data, è necessario modificarli per gestire i valori null.</span><span class="sxs-lookup"><span data-stu-id="892b9-204">To make the date templates more robust, you'll change them to handle null values.</span></span> <span data-ttu-id="892b9-205">Per supportare le date nullable, modificare il codice in *Views\Shared\DisplayTemplates\DateTime.cshtml* nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="892b9-205">To support nullable dates, change the code in the *Views\Shared\DisplayTemplates\DateTime.cshtml* to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample10.cshtml)]

<span data-ttu-id="892b9-206">Il codice restituisce una stringa vuota quando il modello è **null**.</span><span class="sxs-lookup"><span data-stu-id="892b9-206">The code returns an empty string when the model is **null**.</span></span>

<span data-ttu-id="892b9-207">Modificare il codice nel file *Views\Shared\EditorTemplates\Date.cshtml* nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="892b9-207">Change the code in the *Views\Shared\EditorTemplates\Date.cshtml* file to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample11.cshtml)]

<span data-ttu-id="892b9-208">Quando viene eseguito questo codice, se il modello non è null, viene utilizzato il valore `DateTime` del modello.</span><span class="sxs-lookup"><span data-stu-id="892b9-208">When this code runs, if the model is not null, the model's `DateTime` value is used.</span></span> <span data-ttu-id="892b9-209">Se il modello è null, viene invece utilizzata la data corrente.</span><span class="sxs-lookup"><span data-stu-id="892b9-209">If the model is null, the current date is used instead.</span></span>

### <a name="wrapup"></a><span data-ttu-id="892b9-210">Wrapup</span><span class="sxs-lookup"><span data-stu-id="892b9-210">Wrapup</span></span>

<span data-ttu-id="892b9-211">Questa esercitazione ha illustrato le nozioni di base degli helper basati su modelli di ASP.NET e illustra come usare il calendario popup di DatePicker interfaccia utente jQuery in un'applicazione MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="892b9-211">This tutorial has covered the basics of ASP.NET templated helpers and shows you how to use the jQuery UI datepicker popup calendar in an ASP.NET MVC application.</span></span> <span data-ttu-id="892b9-212">Per ulteriori informazioni, provare a usare le risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="892b9-212">For more information, try these resources:</span></span>

- <span data-ttu-id="892b9-213">Per informazioni sulla localizzazione, vedere il Blog di [jQueryUI DatePicker in ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span><span class="sxs-lookup"><span data-stu-id="892b9-213">For information on localization, see Rajeesh's blog [JQueryUI Datepicker in ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span></span>
- <span data-ttu-id="892b9-214">Per informazioni sull'interfaccia utente di jQuery, vedere [interfaccia utente di jQuery](http://docs.jquery.com/UI).</span><span class="sxs-lookup"><span data-stu-id="892b9-214">For information about jQuery UI, see [jQuery UI](http://docs.jquery.com/UI).</span></span>
- <span data-ttu-id="892b9-215">Per informazioni su come localizzare il controllo DatePicker, vedere [UI/DatePicker/Localization](http://docs.jquery.com/UI/Datepicker/Localization).</span><span class="sxs-lookup"><span data-stu-id="892b9-215">For information about how to localize the datepicker control, see [UI/Datepicker/Localization](http://docs.jquery.com/UI/Datepicker/Localization).</span></span>
- <span data-ttu-id="892b9-216">Per ulteriori informazioni sui modelli MVC ASP.NET, vedere la serie di Blog di Brad Wilson sui [modelli ASP.NET MVC 2](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span><span class="sxs-lookup"><span data-stu-id="892b9-216">For more information about the ASP.NET MVC templates, see Brad Wilson's blog series on [ASP.NET MVC 2 Templates](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span></span> <span data-ttu-id="892b9-217">Sebbene la serie sia stata scritta per ASP.NET MVC 2, il materiale è ancora applicabile alla versione corrente di ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="892b9-217">Although the series was written for ASP.NET MVC 2, the material still applies for the current version of ASP.NET MVC.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="892b9-218">Precedente</span><span class="sxs-lookup"><span data-stu-id="892b9-218">Previous</span></span>](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-3.md)
