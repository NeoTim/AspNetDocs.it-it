---
uid: mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
title: Uso di HTML5 e jQuery UI Datepicker Popup Calendar con ASP.NET MVC - parte 4 | Microsoft Docs
author: Rick-Anderson
description: Questa esercitazione insegnerà le nozioni di base di come usare i modelli nell'editor di modelli di visualizzazione e il calendario jQuery UI datepicker popup in MV un ASP.NET...
ms.author: riande
ms.date: 08/29/2011
ms.assetid: 57666c69-2b0f-423a-a61d-be49547fa585
msc.legacyurl: /mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
msc.type: authoredcontent
ms.openlocfilehash: e933ca0398d99a41089b4d1e18d21dd657db4b6b
ms.sourcegitcommit: 289e051cc8a90e8f7127e239fda73047bde4de12
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/25/2019
ms.locfileid: "58423351"
---
<a name="using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc---part-4"></a><span data-ttu-id="6601a-103">Uso di HTML5 e jQuery UI Datepicker Popup Calendar con ASP.NET MVC - parte 4</span><span class="sxs-lookup"><span data-stu-id="6601a-103">Using the HTML5 and jQuery UI Datepicker Popup Calendar with ASP.NET MVC - Part 4</span></span>
====================
<span data-ttu-id="6601a-104">da [Rick Anderson]((https://twitter.com/RickAndMSFT))</span><span class="sxs-lookup"><span data-stu-id="6601a-104">by [Rick Anderson]((https://twitter.com/RickAndMSFT))</span></span>

> <span data-ttu-id="6601a-105">Questa esercitazione insegnerà le nozioni di base di come usare i modelli nell'editor di modelli di visualizzazione e il calendario di jQuery UI datepicker popup in un'applicazione Web ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="6601a-105">This tutorial will teach you the basics of how to work with editor templates, display templates, and the jQuery UI datepicker popup calendar in an ASP.NET MVC Web application.</span></span>


### <a name="adding-a-template-for-editing-dates"></a><span data-ttu-id="6601a-106">Aggiunta di un modello per la modifica di date</span><span class="sxs-lookup"><span data-stu-id="6601a-106">Adding a Template for Editing Dates</span></span>

<span data-ttu-id="6601a-107">In questa sezione si creerà un modello per la modifica di date che verranno applicate quando ASP.NET MVC Visualizza l'interfaccia utente per la modifica delle proprietà del modello che sono contrassegnate con il **data** enumerazione del [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) attributo.</span><span class="sxs-lookup"><span data-stu-id="6601a-107">In this section you'll create a template for editing dates that will be applied when ASP.NET MVC displays UI for editing model properties that are marked with the **Date** enumeration of the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) attribute.</span></span> <span data-ttu-id="6601a-108">Il modello verrà eseguito il rendering solo alla data. ora non verrà visualizzata.</span><span class="sxs-lookup"><span data-stu-id="6601a-108">The template will render only the date; time will not be displayed.</span></span> <span data-ttu-id="6601a-109">Nel modello si userà il [jQuery UI Datepicker](http://jqueryui.com/demos/datepicker/) calendario popup per fornire un modo per modificare le date.</span><span class="sxs-lookup"><span data-stu-id="6601a-109">In the template you'll use the [jQuery UI Datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to provide a way to edit dates.</span></span>

<span data-ttu-id="6601a-110">Per iniziare, aprire il *Movie.cs* file e aggiungere il [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) attributo con il **data** enumerazione per il `ReleaseDate` proprietà, come illustrato nel codice seguente:</span><span class="sxs-lookup"><span data-stu-id="6601a-110">To begin, open the *Movie.cs* file and add the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) attribute with the **Date** enumeration to the `ReleaseDate` property, as shown in the following code:</span></span>

[!code-csharp[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample1.cs)]

<span data-ttu-id="6601a-111">Questo codice causa il `ReleaseDate` campo da visualizzare senza l'ora in entrambi visualizzare i modelli e modificare i modelli.</span><span class="sxs-lookup"><span data-stu-id="6601a-111">This code causes the `ReleaseDate` field to be displayed without the time in both display templates and edit templates.</span></span> <span data-ttu-id="6601a-112">Se l'applicazione contiene un *date.cshtml* modello nel *Views\Shared\EditorTemplates* cartella o nel *Views\Movies\EditorTemplates* cartella, tale modello verrà usato per il rendering di qualsiasi `DateTime` proprietà durante la modifica.</span><span class="sxs-lookup"><span data-stu-id="6601a-112">If your application contains a *date.cshtml* template in the *Views\Shared\EditorTemplates* folder or in the *Views\Movies\EditorTemplates* folder, that template will be used to render any `DateTime` property while editing.</span></span> <span data-ttu-id="6601a-113">In caso contrario, il sistema di creazione modello ASP.NET predefinito visualizzerà la proprietà come Data.</span><span class="sxs-lookup"><span data-stu-id="6601a-113">Otherwise the built-in ASP.NET templating system will display the property as a date.</span></span>

<span data-ttu-id="6601a-114">Premere CTRL+F5 per eseguire l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6601a-114">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="6601a-115">Selezionare un collegamento di modifica per verificare che il campo di input per la data di rilascio viene visualizzata solo la data.</span><span class="sxs-lookup"><span data-stu-id="6601a-115">Select an edit link to verify that the input field for the release date is showing only the date.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image1.png)

<span data-ttu-id="6601a-116">In **Esplora soluzioni**, espandere il *viste* cartella, espandere il *condiviso* cartella e quindi fare di *Views\Shared\EditorTemplates* cartella.</span><span class="sxs-lookup"><span data-stu-id="6601a-116">In **Solution Explorer**, expand the *Views* folder, expand the *Shared* folder, and then right-click the *Views\Shared\EditorTemplates* folder.</span></span>

<span data-ttu-id="6601a-117">Fare clic su **Add**, quindi fare clic su **visualizzazione**.</span><span class="sxs-lookup"><span data-stu-id="6601a-117">Click **Add**, and then click **View**.</span></span> <span data-ttu-id="6601a-118">Il **Aggiungi visualizzazione** verrà visualizzata la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="6601a-118">The **Add View** dialog box is displayed.</span></span>

<span data-ttu-id="6601a-119">Nel **nome della vista** , digitare &quot;data&quot;.</span><span class="sxs-lookup"><span data-stu-id="6601a-119">In the **View name** box, type &quot;Date&quot;.</span></span>

<span data-ttu-id="6601a-120">Selezionare il **Crea come visualizzazione parziale** casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="6601a-120">Select the **Create as a partial view** check box.</span></span> <span data-ttu-id="6601a-121">Assicurarsi che il **usano una pagina master o layout** e **creare una visualizzazione fortemente tipizzata** caselle di controllo non vengono selezionate.</span><span class="sxs-lookup"><span data-stu-id="6601a-121">Make sure that the **Use a layout or master page** and **Create a strongly-typed view** check boxes are not selected.</span></span>

<span data-ttu-id="6601a-122">Fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="6601a-122">Click **Add**.</span></span> <span data-ttu-id="6601a-123">Il *Views\Shared\EditorTemplates\Date.cshtml* modello viene creato.</span><span class="sxs-lookup"><span data-stu-id="6601a-123">The *Views\Shared\EditorTemplates\Date.cshtml* template is created.</span></span>

<span data-ttu-id="6601a-124">Aggiungere il codice seguente per il *Views\Shared\EditorTemplates\Date.cshtml* modello.</span><span class="sxs-lookup"><span data-stu-id="6601a-124">Add the following code to the *Views\Shared\EditorTemplates\Date.cshtml* template.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample2.cshtml)]

<span data-ttu-id="6601a-125">La prima riga dichiara il modello sia un `DateTime` tipo.</span><span class="sxs-lookup"><span data-stu-id="6601a-125">The first line declares the model to be a `DateTime` type.</span></span> <span data-ttu-id="6601a-126">Anche se non è necessario dichiarare il tipo di modello in modalità di modifica e visualizzare i modelli, è consigliabile che in fase di compilazione di ottenere il controllo del modello passato alla visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="6601a-126">Although you don't need to declare the model type in edit and display templates, it's a best practice so that you get compile-time checking of the model being passed to the view.</span></span> <span data-ttu-id="6601a-127">(Un altro vantaggio è che quindi di ottenere IntelliSense per il modello nella visualizzazione in Visual Studio). Se il tipo di modello non è dichiarato, ASP.NET MVC considera un [dinamica](https://msdn.microsoft.com/library/dd264741.aspx) digitare e non sono previsti tempi di compilazione il controllo dei tipi.</span><span class="sxs-lookup"><span data-stu-id="6601a-127">(Another benefit is that you then get IntelliSense for the model in the view in Visual Studio.) If the model type is not declared, ASP.NET MVC considers it a [dynamic](https://msdn.microsoft.com/library/dd264741.aspx) type and there's no compile-time type checking.</span></span> <span data-ttu-id="6601a-128">Se si dichiara il modello sia un `DateTime` tipo, diventa fortemente tipizzato.</span><span class="sxs-lookup"><span data-stu-id="6601a-128">If you declare the model to be a `DateTime` type, it becomes strongly typed.</span></span>

<span data-ttu-id="6601a-129">La seconda riga viene semplicemente letterale markup HTML che consente di visualizzare &quot;modello di data usando&quot; prima di un campo Data.</span><span class="sxs-lookup"><span data-stu-id="6601a-129">The second line is just literal HTML markup that displays &quot;Using Date Template&quot; before a date field.</span></span> <span data-ttu-id="6601a-130">Si userà questa riga temporaneamente per verificare che questo modello di data è in uso.</span><span class="sxs-lookup"><span data-stu-id="6601a-130">You'll use this line temporarily to verify that this date template is being used.</span></span>

<span data-ttu-id="6601a-131">La riga successiva è un' [Html.TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) helper che esegue il rendering di un `input` campo che rappresenta una casella di testo.</span><span class="sxs-lookup"><span data-stu-id="6601a-131">The next line is an [Html.TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) helper that renders an `input` field that's a text box.</span></span> <span data-ttu-id="6601a-132">Il terzo parametro per l'helper utilizza un tipo anonimo per impostare la classe per la casella di testo `datefield` e il tipo su `date`.</span><span class="sxs-lookup"><span data-stu-id="6601a-132">The third parameter for the helper uses an anonymous type to set the class for the text box to `datefield` and the type to `date`.</span></span> <span data-ttu-id="6601a-133">(Poiché `class` è una proprietà riservata in c#, è necessario usare il `@` carattere di escape di `class` attributo nel parser c#.)</span><span class="sxs-lookup"><span data-stu-id="6601a-133">(Because `class` is a reserved in C#, you need to use the `@` character to escape the `class` attribute in the C# parser.)</span></span>

<span data-ttu-id="6601a-134">Il `date` tipo è un tipo di input HTML5 che consente ai browser compatibili con HTML5 per il rendering di un controllo di calendario HTML5.</span><span class="sxs-lookup"><span data-stu-id="6601a-134">The `date` type is an HTML5 input type that enables HTML5-aware browsers to render a HTML5 calendar control.</span></span> <span data-ttu-id="6601a-135">In seguito si aggiungerà codice JavaScript per associare il controllo datepicker jQuery per la `Html.TextBox` elemento usando il `datefield` classe.</span><span class="sxs-lookup"><span data-stu-id="6601a-135">Later on you'll add some JavaScript to hook up the jQuery datepicker to the `Html.TextBox` element using the `datefield` class.</span></span>

<span data-ttu-id="6601a-136">Premere CTRL+F5 per eseguire l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6601a-136">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="6601a-137">È possibile verificare che il `ReleaseDate` proprietà nella visualizzazione di modifica è usando il modello di modifica perché il modello consente di visualizzare &quot;con modello di data&quot; immediatamente prima di `ReleaseDate` testo di input casella, come illustrato in questa immagine:</span><span class="sxs-lookup"><span data-stu-id="6601a-137">You can verify that the `ReleaseDate` property in the edit view is using the edit template because the template displays &quot;Using Date Template&quot; just before the `ReleaseDate` text input box, as shown in this image:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image2.png)

<span data-ttu-id="6601a-138">Nel browser visualizzare l'origine della pagina.</span><span class="sxs-lookup"><span data-stu-id="6601a-138">In your browser, view the source of the page.</span></span> <span data-ttu-id="6601a-139">(Ad esempio, la pagina e scegliere **Visualizza origine**.) Il seguente esempio vengono illustrate alcune il markup della pagina, che illustra il `class` e `type` attributi nel codice HTML sottoposto a rendering.</span><span class="sxs-lookup"><span data-stu-id="6601a-139">(For example, right-click the page and select **View source**.) The following example shows some of the markup for the page, illustrating the `class` and `type` attributes in the rendered HTML.</span></span>

[!code-html[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample3.html)]

<span data-ttu-id="6601a-140">Tornare al *Views\Shared\EditorTemplates\Date.cshtml* modello e rimuovere le &quot;usando modelli di data&quot; markup.</span><span class="sxs-lookup"><span data-stu-id="6601a-140">Return to the *Views\Shared\EditorTemplates\Date.cshtml* template and remove the &quot;Using Date Template&quot; markup.</span></span> <span data-ttu-id="6601a-141">A questo punto il modello completato aspetto simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="6601a-141">Now the completed template looks like this:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample4.cshtml)]

### <a name="adding-a-jquery-ui-datepicker-popup-calendar-using-nuget"></a><span data-ttu-id="6601a-142">Aggiunta di un jQuery UI Datepicker Popup Calendar tramite NuGet</span><span class="sxs-lookup"><span data-stu-id="6601a-142">Adding a jQuery UI Datepicker Popup Calendar using NuGet</span></span>

<span data-ttu-id="6601a-143">In questa sezione si aggiungerà il [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) calendario popup per il modello di data-edit.</span><span class="sxs-lookup"><span data-stu-id="6601a-143">In this section you'll add the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to the date-edit template.</span></span> <span data-ttu-id="6601a-144">Il [interfaccia utente di jQuery](http://jqueryui.com/) libreria fornisce il supporto per l'animazione, effetti e widget personalizzabili avanzate.</span><span class="sxs-lookup"><span data-stu-id="6601a-144">The [jQuery UI](http://jqueryui.com/) library provides support for animation, advanced effects, and customizable widgets.</span></span> <span data-ttu-id="6601a-145">Poiché è basato sulla libreria JavaScript jQuery.</span><span class="sxs-lookup"><span data-stu-id="6601a-145">It's built on top of the jQuery JavaScript library.</span></span> <span data-ttu-id="6601a-146">Il calendario popup per datepicker rende più semplice e naturale per immettere le date usando un calendario invece di immettere una stringa.</span><span class="sxs-lookup"><span data-stu-id="6601a-146">The datepicker popup calendar makes it easy and natural to enter dates using a calendar instead of entering a string.</span></span> <span data-ttu-id="6601a-147">Il calendario popup limita inoltre gli utenti a date legali, immissione di testo normale per una data consente di immettere un nome, ad esempio `2/33/1999` (febbraio 33rd, 1999), ma la [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) calendario popup per non consentirà l'associazione.</span><span class="sxs-lookup"><span data-stu-id="6601a-147">The popup calendar also limits users to legal dates — ordinary text entry for a date would let you enter something like `2/33/1999` ( February 33rd, 1999), but the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar won't allow that.</span></span>

<span data-ttu-id="6601a-148">In primo luogo, è necessario installare le librerie dell'interfaccia utente di jQuery.</span><span class="sxs-lookup"><span data-stu-id="6601a-148">First, you have to install the jQuery UI libraries.</span></span> <span data-ttu-id="6601a-149">A tale scopo, si userà NuGet, che è un pacchetto di gestione che è incluso nelle versioni SP1 di Visual Studio 2010 e Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="6601a-149">To do that, you'll use NuGet, which is a package manager that's included in SP1 versions of Visual Studio 2010 and Visual Web Developer.</span></span>

<span data-ttu-id="6601a-150">In Visual Web Developer, dalla **strumenti** dal menu **Gestione pacchetti NuGet** , quindi selezionare **Gestisci pacchetti NuGet**.</span><span class="sxs-lookup"><span data-stu-id="6601a-150">In Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Manage NuGet Packages**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image3.png)

<span data-ttu-id="6601a-151">Nota: Se il **strumenti** menu non viene visualizzata la **Gestione pacchetti NuGet** comando, è necessario installare NuGet, seguendo le istruzioni [installazione di NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) pagina del Sito Web di NuGet.</span><span class="sxs-lookup"><span data-stu-id="6601a-151">Note: If the **Tools** menu doesn't display the **NuGet Package Manager** command, you need to install NuGet by following the instructions on the [Installing NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) page of the NuGet website.</span></span>   
  
<span data-ttu-id="6601a-152">Se si utilizza Visual Studio anziché Visual Web Developer, dal **strumenti** dal menu **Gestione pacchetti NuGet** e quindi selezionare **aggiungere riferimenti alla libreria del pacchetto**.</span><span class="sxs-lookup"><span data-stu-id="6601a-152">If you're using Visual Studio instead of Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Add Library Package Reference**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image4.png)

<span data-ttu-id="6601a-153">Nel **MVCMovie - Gestisci pacchetti NuGet** finestra di dialogo, fare clic sui **Online** scheda a sinistra e quindi immettere &quot;jQuery.UI&quot; nella casella di ricerca.</span><span class="sxs-lookup"><span data-stu-id="6601a-153">In the **MVCMovie - Manage NuGet Packages** dialog box, click the **Online** tab on the left and then enter &quot;jQuery.UI&quot; in the search box.</span></span> <span data-ttu-id="6601a-154">Selezionare j **widget dell'interfaccia utente di Query: Datepicker**, quindi selezionare la **installare** pulsante.</span><span class="sxs-lookup"><span data-stu-id="6601a-154">Select j **Query UI Widgets:Datepicker**, then select the **Install** button.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image5.png)

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image6.png)

<span data-ttu-id="6601a-155">NuGet aggiunge queste versioni di debug e minimizzati le versioni di jQuery Core dell'interfaccia utente e la selezione di data dell'interfaccia utente di jQuery al progetto:</span><span class="sxs-lookup"><span data-stu-id="6601a-155">NuGet adds these debug versions and minified versions of jQuery UI Core and the jQuery UI date picker to your project:</span></span>

- <span data-ttu-id="6601a-156">*jquery.ui.core.js*</span><span class="sxs-lookup"><span data-stu-id="6601a-156">*jquery.ui.core.js*</span></span>
- <span data-ttu-id="6601a-157">*jquery.ui.core.min.js*</span><span class="sxs-lookup"><span data-stu-id="6601a-157">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="6601a-158">*jquery.ui.datepicker.js*</span><span class="sxs-lookup"><span data-stu-id="6601a-158">*jquery.ui.datepicker.js*</span></span>
- <span data-ttu-id="6601a-159">*jquery.ui.datepicker.min.js*</span><span class="sxs-lookup"><span data-stu-id="6601a-159">*jquery.ui.datepicker.min.js*</span></span>

<span data-ttu-id="6601a-160">Nota: Le versioni di debug (i file senza il *. min.js* estensione) sono utili per eseguire il debug, ma in un sito di produzione, è necessario includere solo le versioni minimizzate.</span><span class="sxs-lookup"><span data-stu-id="6601a-160">Note: The debug versions (the files without the *.min.js* extension) are useful for debugging, but in a production site, you'd include only the minified versions.</span></span>

<span data-ttu-id="6601a-161">Per utilizzare effettivamente la selezione della data jQuery, è necessario creare uno script jQuery che si collegherà il widget di calendario per il modello di modifica.</span><span class="sxs-lookup"><span data-stu-id="6601a-161">To actually use the jQuery date picker, you need to create a jQuery script that will hook up the calendar widget to the edit template.</span></span> <span data-ttu-id="6601a-162">In **Esplora soluzioni**, fare doppio clic il *script* cartella e selezionare **Add**, quindi **nuovo elemento**e quindi **JScript File**.</span><span class="sxs-lookup"><span data-stu-id="6601a-162">In **Solution Explorer**, right-click the *Scripts* folder and select **Add**, then **New Item**, and then **JScript File**.</span></span> <span data-ttu-id="6601a-163">Denominare il file *DatePickerReady.js*.</span><span class="sxs-lookup"><span data-stu-id="6601a-163">Name the file *DatePickerReady.js*.</span></span>

<span data-ttu-id="6601a-164">Aggiungere il codice seguente per il *DatePickerReady.js* file:</span><span class="sxs-lookup"><span data-stu-id="6601a-164">Add the following code to the *DatePickerReady.js* file:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample5.js)]

<span data-ttu-id="6601a-165">Se non si ha familiarità con jQuery, ecco una breve spiegazione di questa operazione: la prima riga è il &quot;jQuery pronto&quot; funzione, che viene chiamato quando sono caricati tutti gli elementi DOM in una pagina.</span><span class="sxs-lookup"><span data-stu-id="6601a-165">If you're not familiar with jQuery, here's a brief explanation of what this does: the first line is the &quot;jQuery ready&quot; function, which is called when all the DOM elements in a page have loaded.</span></span> <span data-ttu-id="6601a-166">La seconda riga Seleziona tutti gli elementi DOM che hanno il nome della classe `datefield`, quindi richiama il `datepicker` funzione per ognuno di essi.</span><span class="sxs-lookup"><span data-stu-id="6601a-166">The second line selects all DOM elements that have the class name `datefield`, then invokes the `datepicker` function for each of them.</span></span> <span data-ttu-id="6601a-167">(Tenere presente che è stato aggiunto il `datefield` classe per il *Views\Shared\EditorTemplates\Date.cshtml* modello in precedenza nell'esercitazione.)</span><span class="sxs-lookup"><span data-stu-id="6601a-167">(Remember that you added the `datefield` class to the *Views\Shared\EditorTemplates\Date.cshtml* template earlier in the tutorial.)</span></span>

<span data-ttu-id="6601a-168">Successivamente, aprire il *Views\Shared\\layout. cshtml* file.</span><span class="sxs-lookup"><span data-stu-id="6601a-168">Next, open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="6601a-169">È necessario aggiungere i riferimenti ai file seguenti, che sono tutti obbligatori in modo che è possibile usare il controllo selezione data:</span><span class="sxs-lookup"><span data-stu-id="6601a-169">You need to add references to the following files, which are all required so that you can use the date picker:</span></span>

- <span data-ttu-id="6601a-170">*Content/themes/base/jquery.ui.core.css*</span><span class="sxs-lookup"><span data-stu-id="6601a-170">*Content/themes/base/jquery.ui.core.css*</span></span>
- <span data-ttu-id="6601a-171">*Content/themes/base/jquery.ui.datepicker.css*</span><span class="sxs-lookup"><span data-stu-id="6601a-171">*Content/themes/base/jquery.ui.datepicker.css*</span></span>
- <span data-ttu-id="6601a-172">*Content/themes/base/jquery.ui.theme.css*</span><span class="sxs-lookup"><span data-stu-id="6601a-172">*Content/themes/base/jquery.ui.theme.css*</span></span>
- <span data-ttu-id="6601a-173">*jquery.ui.core.min.js*</span><span class="sxs-lookup"><span data-stu-id="6601a-173">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="6601a-174">*jquery.ui.datepicker.min.js*</span><span class="sxs-lookup"><span data-stu-id="6601a-174">*jquery.ui.datepicker.min.js*</span></span>
- <span data-ttu-id="6601a-175">*DatePickerReady.js*</span><span class="sxs-lookup"><span data-stu-id="6601a-175">*DatePickerReady.js*</span></span>

<span data-ttu-id="6601a-176">L'esempio seguente illustra il codice effettivo che è necessario aggiungere nella parte inferiore della `head` elemento il *Views\Shared\\layout. cshtml* file.</span><span class="sxs-lookup"><span data-stu-id="6601a-176">The following example shows the actual code that you should add at the bottom of the `head` element in the *Views\Shared\\_Layout.cshtml* file.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample6.cshtml)]

<span data-ttu-id="6601a-177">L'intero `head` sezione è illustrata di seguito:</span><span class="sxs-lookup"><span data-stu-id="6601a-177">The complete `head` section is shown here:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample7.cshtml)]

<span data-ttu-id="6601a-178">Il [helper dell'URL contenuto](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) metodo converte il percorso della risorsa in un percorso assoluto.</span><span class="sxs-lookup"><span data-stu-id="6601a-178">The [URL content helper](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) method converts the resource path to an absolute path.</span></span> <span data-ttu-id="6601a-179">È necessario usare `@URL.Content` correttamente fare riferimento a queste risorse quando l'applicazione è in esecuzione in IIS.</span><span class="sxs-lookup"><span data-stu-id="6601a-179">You must use `@URL.Content` to correctly reference these resources when the application is running on IIS.</span></span>

<span data-ttu-id="6601a-180">Premere CTRL+F5 per eseguire l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6601a-180">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="6601a-181">Selezionare un collegamento di modifica e quindi inserire il punto di inserimento di **ReleaseDate** campo.</span><span class="sxs-lookup"><span data-stu-id="6601a-181">Select an edit link, then put the insertion point into the **ReleaseDate** field.</span></span> <span data-ttu-id="6601a-182">Viene visualizzato il calendario popup dell'interfaccia utente di jQuery.</span><span class="sxs-lookup"><span data-stu-id="6601a-182">The jQuery UI popup calendar is displayed.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image7.png)

<span data-ttu-id="6601a-183">Come la maggior parte dei controlli di jQuery, il controllo datepicker consente di personalizzare in modo esteso.</span><span class="sxs-lookup"><span data-stu-id="6601a-183">Like most jQuery controls, the datepicker lets you customize it extensively.</span></span> <span data-ttu-id="6601a-184">Per informazioni, vedere [Visual personalizzazione: Progettazione di un tema dell'interfaccia utente di jQuery](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) nella [interfaccia utente di jQuery](http://learn.jquery.com/jquery-ui/getting-started/) sito.</span><span class="sxs-lookup"><span data-stu-id="6601a-184">For information, see [Visual Customization: Designing a jQuery UI theme](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) on the [jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/) site.</span></span>

### <a name="supporting-the-html5-date-input-control"></a><span data-ttu-id="6601a-185">Che supportano il controllo di Input data HTML5</span><span class="sxs-lookup"><span data-stu-id="6601a-185">Supporting the HTML5 Date Input Control</span></span>

<span data-ttu-id="6601a-186">Come maggiore di browser supporta HTML5, è opportuno usare HTML5 nativo di input, ad esempio il `date` elemento di input e non usano il calendario dell'interfaccia utente di jQuery.</span><span class="sxs-lookup"><span data-stu-id="6601a-186">As more browsers support HTML5, you'll want to use the native HTML5 input, such as the `date` input element, and not use the jQuery UI calendar.</span></span> <span data-ttu-id="6601a-187">È possibile aggiungere logica all'applicazione per usare automaticamente i controlli HTML5 se il browser li supporta.</span><span class="sxs-lookup"><span data-stu-id="6601a-187">You can add logic to your application to automatically use HTML5 controls if the browser supports them.</span></span> <span data-ttu-id="6601a-188">A tale scopo, sostituire il contenuto del *DatePickerReady.js* file con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="6601a-188">To do this, replace the contents of the *DatePickerReady.js* file with the following:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample8.js)]

<span data-ttu-id="6601a-189">La prima riga di questo script Usa Modernizr per verificare che l'input data HTML5 è supportato.</span><span class="sxs-lookup"><span data-stu-id="6601a-189">The first line of this script uses Modernizr to verify that HTML5 date input is supported.</span></span> <span data-ttu-id="6601a-190">Se non è supportato, la selezione di data dell'interfaccia utente di jQuery è immune invece.</span><span class="sxs-lookup"><span data-stu-id="6601a-190">If it's not supported, the jQuery UI date picker is hooked up instead.</span></span> <span data-ttu-id="6601a-191">([Modernizr](http://www.modernizr.com/docs/) è una libreria JavaScript open source che consente di rilevare la disponibilità delle implementazioni native di HTML5 e CSS3.</span><span class="sxs-lookup"><span data-stu-id="6601a-191">([Modernizr](http://www.modernizr.com/docs/) is an open-source JavaScript library that detects the availability of native implementations of HTML5 and CSS3.</span></span> <span data-ttu-id="6601a-192">Modernizr è incluso in tutti i nuovi progetti ASP.NET MVC che si creano).</span><span class="sxs-lookup"><span data-stu-id="6601a-192">Modernizr is included in any new ASP.NET MVC projects that you create.)</span></span>

<span data-ttu-id="6601a-193">Dopo aver apportato questa modifica, è possibile testarla usando un browser che supporta HTML5, ad esempio 11 Opera.</span><span class="sxs-lookup"><span data-stu-id="6601a-193">After you've made this change, you can test it by using a browser that supports HTML5, such as Opera 11.</span></span> <span data-ttu-id="6601a-194">Eseguire l'applicazione tramite un browser compatibili con HTML5 e modificare una voce di film.</span><span class="sxs-lookup"><span data-stu-id="6601a-194">Run the application using an HTML5-compatible browser and edit a movie entry.</span></span> <span data-ttu-id="6601a-195">Viene usato il controllo Data HTML5 anziché il calendario popup dell'interfaccia utente di jQuery:</span><span class="sxs-lookup"><span data-stu-id="6601a-195">The HTML5 date control is used instead of the jQuery UI popup calendar:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image8.png)

<span data-ttu-id="6601a-196">Poiché le nuove versioni dei browser di implementazione di HTML5 in modo incrementale, un buon approccio per ora consiste nell'aggiungere codice al sito Web che supporta un'ampia gamma di supporto per HTML5.</span><span class="sxs-lookup"><span data-stu-id="6601a-196">Because new versions of browsers are implementing HTML5 incrementally, a good approach for now is to add code to your website that accommodates a wide variety of HTML5 support.</span></span> <span data-ttu-id="6601a-197">Ad esempio, una più solida *DatePickerReady.js* script è illustrato di seguito che consente i browser di supporto del sito che supportano solo parzialmente il controllo data e HTML5.</span><span class="sxs-lookup"><span data-stu-id="6601a-197">For example, a more robust *DatePickerReady.js* script is shown below that lets your site support browsers that only partially support the HTML5 date control.</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample9.js)]

<span data-ttu-id="6601a-198">Questo script consente di selezionare HTML5 `input` elementy typu `date` che non supportano completamente il controllo data e HTML5.</span><span class="sxs-lookup"><span data-stu-id="6601a-198">This script selects HTML5 `input` elements of type `date` that don't fully support the HTML5 date control.</span></span> <span data-ttu-id="6601a-199">Per tali elementi, collega il calendario popup dell'interfaccia utente di jQuery e quindi modificato il `type` dall'attributo `date` a `text`.</span><span class="sxs-lookup"><span data-stu-id="6601a-199">For those elements, it hooks up the jQuery UI popup calendar and then changes the `type` attribute from `date` to `text`.</span></span> <span data-ttu-id="6601a-200">Modificando la `type` dall'attributo `date` a `text`, è stato eliminato un supporto parziale della data HTML5.</span><span class="sxs-lookup"><span data-stu-id="6601a-200">By changing the `type` attribute from `date` to `text`, partial HTML5 date support is eliminated.</span></span> <span data-ttu-id="6601a-201">Un ancora più solida *DatePickerReady.js* script reperibili [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span><span class="sxs-lookup"><span data-stu-id="6601a-201">An even more robust *DatePickerReady.js* script can be found at [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span></span>

### <a name="adding-nullable-dates-to-the-templates"></a><span data-ttu-id="6601a-202">Aggiunta di date che ammette valori null per i modelli</span><span class="sxs-lookup"><span data-stu-id="6601a-202">Adding Nullable Dates to the Templates</span></span>

<span data-ttu-id="6601a-203">Se si usa uno dei modelli di data esistente e passa a una data null, si otterrà un errore di run-time.</span><span class="sxs-lookup"><span data-stu-id="6601a-203">If you use one of the existing date templates and pass a null date, you'll get a run-time error.</span></span> <span data-ttu-id="6601a-204">Per rendere più affidabile i modelli di data, sarà necessario modificare in modo da gestire valori null.</span><span class="sxs-lookup"><span data-stu-id="6601a-204">To make the date templates more robust, you'll change them to handle null values.</span></span> <span data-ttu-id="6601a-205">Modificare il codice per supportare le date che ammette valori null, il *Views\Shared\DisplayTemplates\DateTime.cshtml* al seguente:</span><span class="sxs-lookup"><span data-stu-id="6601a-205">To support nullable dates, change the code in the *Views\Shared\DisplayTemplates\DateTime.cshtml* to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample10.cshtml)]

<span data-ttu-id="6601a-206">Il codice restituisce una stringa vuota quando il modello è **null**.</span><span class="sxs-lookup"><span data-stu-id="6601a-206">The code returns an empty string when the model is **null**.</span></span>

<span data-ttu-id="6601a-207">Modificare il codice il *Views\Shared\EditorTemplates\Date.cshtml* file come segue:</span><span class="sxs-lookup"><span data-stu-id="6601a-207">Change the code in the *Views\Shared\EditorTemplates\Date.cshtml* file to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample11.cshtml)]

<span data-ttu-id="6601a-208">Quando questo codice viene eseguito, se il modello non è null, il modello `DateTime` valore viene utilizzato.</span><span class="sxs-lookup"><span data-stu-id="6601a-208">When this code runs, if the model is not null, the model's `DateTime` value is used.</span></span> <span data-ttu-id="6601a-209">Se il modello è null, viene invece utilizzata la data corrente.</span><span class="sxs-lookup"><span data-stu-id="6601a-209">If the model is null, the current date is used instead.</span></span>

### <a name="wrapup"></a><span data-ttu-id="6601a-210">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="6601a-210">Wrapup</span></span>

<span data-ttu-id="6601a-211">Questa esercitazione ha illustrato le nozioni di base di helper basati su modelli di ASP.NET e illustra come usare il calendario di jQuery UI datepicker popup in un'applicazione ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="6601a-211">This tutorial has covered the basics of ASP.NET templated helpers and shows you how to use the jQuery UI datepicker popup calendar in an ASP.NET MVC application.</span></span> <span data-ttu-id="6601a-212">Per altre informazioni, provare a eseguire queste risorse:</span><span class="sxs-lookup"><span data-stu-id="6601a-212">For more information, try these resources:</span></span>

- <span data-ttu-id="6601a-213">Per informazioni sulla localizzazione, vedere il blog del Rajeesh [JQueryUI Datepicker in ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span><span class="sxs-lookup"><span data-stu-id="6601a-213">For information on localization, see Rajeesh's blog [JQueryUI Datepicker in ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span></span>
- <span data-ttu-id="6601a-214">Per informazioni sull'interfaccia utente di jQuery, vedere [interfaccia utente di jQuery](http://docs.jquery.com/UI).</span><span class="sxs-lookup"><span data-stu-id="6601a-214">For information about jQuery UI, see [jQuery UI](http://docs.jquery.com/UI).</span></span>
- <span data-ttu-id="6601a-215">Per informazioni su come localizzare il controllo datepicker, vedere [dell'interfaccia utente/Datepicker/localizzazione](http://docs.jquery.com/UI/Datepicker/Localization).</span><span class="sxs-lookup"><span data-stu-id="6601a-215">For information about how to localize the datepicker control, see [UI/Datepicker/Localization](http://docs.jquery.com/UI/Datepicker/Localization).</span></span>
- <span data-ttu-id="6601a-216">Per altre informazioni sui modelli di ASP.NET MVC, vedere serie di blog di Brad Wilson sul [ASP.NET MVC 2 Templates](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span><span class="sxs-lookup"><span data-stu-id="6601a-216">For more information about the ASP.NET MVC templates, see Brad Wilson's blog series on [ASP.NET MVC 2 Templates](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span></span> <span data-ttu-id="6601a-217">Anche se la serie è stato scritto per ASP.NET MVC 2, il materiale comunque valido per la versione corrente di ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="6601a-217">Although the series was written for ASP.NET MVC 2, the material still applies for the current version of ASP.NET MVC.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="6601a-218">Precedente</span><span class="sxs-lookup"><span data-stu-id="6601a-218">Previous</span></span>](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-3.md)
