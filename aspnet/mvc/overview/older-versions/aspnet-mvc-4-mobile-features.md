---
uid: mvc/overview/older-versions/aspnet-mvc-4-mobile-features
title: Funzionalità per dispositivi mobili MVC 4 ASP.NET | Microsoft Docs
author: Rick-Anderson
description: È ora disponibile una versione MVC 5 di questa esercitazione con esempi di codice in distribuire un'applicazione Web ASP.NET MVC 5 per dispositivi mobili in siti Web di Azure.
ms.author: riande
ms.date: 08/15/2012
ms.assetid: 27dc4fc8-1b51-43b0-933f-fc1b52476523
msc.legacyurl: /mvc/overview/older-versions/aspnet-mvc-4-mobile-features
msc.type: authoredcontent
ms.openlocfilehash: 9716def069ca9f7115af32e16381f41bd4d13342
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/06/2020
ms.locfileid: "78579989"
---
# <a name="aspnet-mvc-4-mobile-features"></a><span data-ttu-id="c90f6-103">Funzionalità per dispositivi mobili ASP.NET MVC 4</span><span class="sxs-lookup"><span data-stu-id="c90f6-103">ASP.NET MVC 4 Mobile Features</span></span>

<span data-ttu-id="c90f6-104">di [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="c90f6-104">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> <span data-ttu-id="c90f6-105">È ora disponibile una versione MVC 5 di questa esercitazione con esempi di codice in [distribuire un'applicazione web ASP.NET MVC 5 per dispositivi mobili in siti Web di Azure](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span><span class="sxs-lookup"><span data-stu-id="c90f6-105">There is now an MVC 5 version of this tutorial with code samples at [Deploy an ASP.NET MVC 5 Mobile Web Application on Azure Web Sites](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span></span>

<span data-ttu-id="c90f6-106">Questa esercitazione illustra le nozioni di base su come usare le funzionalità per dispositivi mobili in un'applicazione Web ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="c90f6-106">This tutorial will teach you the basics of how to work with mobile features in an ASP.NET MVC 4 Web application.</span></span> <span data-ttu-id="c90f6-107">Per questa esercitazione, è possibile utilizzare [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) o Visual web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer o VWD&quot;).</span><span class="sxs-lookup"><span data-stu-id="c90f6-107">For this tutorial, you can use [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) or Visual Web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer or VWD&quot;).</span></span> <span data-ttu-id="c90f6-108">Se è già stato fatto, è possibile usare la versione Professional di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c90f6-108">You can use the professional version of Visual Studio if you already have that.</span></span>

<span data-ttu-id="c90f6-109">Prima di iniziare, verificare di aver installato i prerequisiti elencati di seguito.</span><span class="sxs-lookup"><span data-stu-id="c90f6-109">Before you start, make sure you've installed the prerequisites listed below.</span></span>

- <span data-ttu-id="c90f6-110">[Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) (scelta consigliata) o Visual Studio Web Developer Express SP1.</span><span class="sxs-lookup"><span data-stu-id="c90f6-110">[Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) (recommended) or Visual Studio Web Developer Express SP1.</span></span> <span data-ttu-id="c90f6-111">Visual Studio 2012 contiene ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="c90f6-111">Visual Studio 2012 contains ASP.NET MVC 4.</span></span> <span data-ttu-id="c90f6-112">Se si usa Visual Web Developer 2010, è necessario installare [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span><span class="sxs-lookup"><span data-stu-id="c90f6-112">If you are using Visual Web Developer 2010, you must install [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span></span>

<span data-ttu-id="c90f6-113">Sarà inoltre necessario disporre di un emulatore del browser per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-113">You will also need a mobile browser emulator.</span></span> <span data-ttu-id="c90f6-114">Eseguire una o più delle operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="c90f6-114">Any of the following will work:</span></span>

- <span data-ttu-id="c90f6-115">[Emulatore Windows 7 Phone](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="c90f6-115">[Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="c90f6-116">(Si tratta dell'emulatore usato nella maggior parte delle schermate di questa esercitazione).</span><span class="sxs-lookup"><span data-stu-id="c90f6-116">(This is the emulator that's used in most of the screen shots in this tutorial.)</span></span>
- <span data-ttu-id="c90f6-117">Modificare la stringa dell'agente utente per emulare un iPhone.</span><span class="sxs-lookup"><span data-stu-id="c90f6-117">Change the user agent string to emulate an iPhone.</span></span> <span data-ttu-id="c90f6-118">Vedere [questo](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) post di Blog.</span><span class="sxs-lookup"><span data-stu-id="c90f6-118">See [this](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) blog entry.</span></span>
- [<span data-ttu-id="c90f6-119">Emulatore Opera Mobile</span><span class="sxs-lookup"><span data-stu-id="c90f6-119">Opera Mobile Emulator</span></span>](http://www.opera.com/developer/tools/mobile/)
- <span data-ttu-id="c90f6-120">[Apple Safari](http://www.apple.com/safari/download/) con l'agente utente impostato su iPhone.</span><span class="sxs-lookup"><span data-stu-id="c90f6-120">[Apple Safari](http://www.apple.com/safari/download/) with the user agent set to iPhone.</span></span> <span data-ttu-id="c90f6-121">Per istruzioni su come impostare l'agente utente in Safari su "iPhone", vedere la pagina relativa [a come lasciare che Safari faccia finta che](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) sia il Blog di David Alison.</span><span class="sxs-lookup"><span data-stu-id="c90f6-121">For instructions on how to set the user agent in Safari to "iPhone", see [How to let Safari pretend it's IE](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) on David Alison's blog.</span></span>

<span data-ttu-id="c90f6-122">Sono disponibili alcuni progetti con codice sorgente C\# a integrazione di questo argomento:</span><span class="sxs-lookup"><span data-stu-id="c90f6-122">Visual Studio projects with C# source code are available to accompany this topic:</span></span>

- [<span data-ttu-id="c90f6-123">Download del progetto Starter</span><span class="sxs-lookup"><span data-stu-id="c90f6-123">Starter project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228307&amp;clcid=0x409)
- [<span data-ttu-id="c90f6-124">Download del progetto completato</span><span class="sxs-lookup"><span data-stu-id="c90f6-124">Completed project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228306&amp;clcid=0x409)

### <a name="what-youll-build"></a><span data-ttu-id="c90f6-125">Scopo dell'esercitazione</span><span class="sxs-lookup"><span data-stu-id="c90f6-125">What You'll Build</span></span>

<span data-ttu-id="c90f6-126">Per questa esercitazione, si aggiungeranno le funzionalità per dispositivi mobili alla semplice applicazione Conference-Listing fornita nel [progetto Starter](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="c90f6-126">For this tutorial, you'll add mobile features to the simple conference-listing application that's provided in the [starter project](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="c90f6-127">Lo screenshot seguente mostra la pagina tag dell'applicazione completata, come illustrato nell' [emulatore Windows 7 Phone](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="c90f6-127">The following screenshot shows the tags page of the completed application as seen in the [Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="c90f6-128">Per semplificare l'input da tastiera, vedere [mappatura della tastiera per Windows Phone emulatore](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) .</span><span class="sxs-lookup"><span data-stu-id="c90f6-128">See [Keyboard Mapping for Windows Phone Emulator](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) to simplify keyboard input.</span></span>

<span data-ttu-id="c90f6-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span></span>

<span data-ttu-id="c90f6-130">È possibile utilizzare Internet Explorer versione 9 o 10, FireFox o Chrome per sviluppare l'applicazione per dispositivi mobili impostando la [stringa dell'agente utente](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span><span class="sxs-lookup"><span data-stu-id="c90f6-130">You can use Internet Explorer version 9 or 10, FireFox or Chrome to develop your mobile application by setting the [user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span></span> <span data-ttu-id="c90f6-131">Nell'immagine seguente viene illustrata l'esercitazione completata utilizzando Internet Explorer emulando un iPhone.</span><span class="sxs-lookup"><span data-stu-id="c90f6-131">The following image shows the completed tutorial using Internet Explorer emulating an iPhone.</span></span> <span data-ttu-id="c90f6-132">Per eseguire il debug dell'applicazione, è possibile usare gli strumenti di sviluppo di Internet Explorer F-12 e lo [strumento Fiddler](http://www.fiddler2.com/fiddler2/) .</span><span class="sxs-lookup"><span data-stu-id="c90f6-132">You can use the Internet Explorer F-12 developer tools and the [Fiddler tool](http://www.fiddler2.com/fiddler2/) to help debug your application.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image3.png)

### <a name="skills-youll-learn"></a><span data-ttu-id="c90f6-133">Acquisizione di competenze</span><span class="sxs-lookup"><span data-stu-id="c90f6-133">Skills You'll Learn</span></span>

<span data-ttu-id="c90f6-134">In questa esercitazione si apprenderà:</span><span class="sxs-lookup"><span data-stu-id="c90f6-134">Here's what you'll learn:</span></span>

- <span data-ttu-id="c90f6-135">Il modo in cui i modelli ASP.NET MVC 4 usano l'attributo `viewport` HTML5 e il rendering adattivo per migliorare la visualizzazione sui dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-135">How the ASP.NET MVC 4 templates use the HTML5 `viewport` attribute and adaptive rendering to improve display on mobile devices.</span></span>
- <span data-ttu-id="c90f6-136">Come creare visualizzazioni specifiche per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-136">How to create mobile-specific views.</span></span>
- <span data-ttu-id="c90f6-137">Come creare uno strumento di selezione delle visualizzazioni che consente agli utenti di passare da una visualizzazione mobile a una visualizzazione desktop dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c90f6-137">How to create a view switcher that lets users toggle between a mobile view and a desktop view of the application.</span></span>

### <a name="getting-started"></a><span data-ttu-id="c90f6-138">Introduzione</span><span class="sxs-lookup"><span data-stu-id="c90f6-138">Getting Started</span></span>

<span data-ttu-id="c90f6-139">Scaricare l'applicazione Conference-Listing per il progetto Starter usando il collegamento seguente: [download](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="c90f6-139">Download the conference-listing application for the starter project using the following link: [Download](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="c90f6-140">Quindi, in Esplora risorse, fare clic con il pulsante destro del mouse sul file *MvcMobile. zip* e scegliere **Proprietà**.</span><span class="sxs-lookup"><span data-stu-id="c90f6-140">Then in Windows Explorer, right-click the *MvcMobile.zip* file and choose **Properties**.</span></span> <span data-ttu-id="c90f6-141">Nella finestra di dialogo **Proprietà MvcMobile. zip** scegliere il pulsante **Sblocca** .</span><span class="sxs-lookup"><span data-stu-id="c90f6-141">In the **MvcMobile.zip Properties** dialog box, choose the **Unblock** button.</span></span> <span data-ttu-id="c90f6-142">L'operazione di sblocco impedisce la visualizzazione dell'avviso di sicurezza quando si tenta di utilizzare un file *ZIP* scaricato dal Web.</span><span class="sxs-lookup"><span data-stu-id="c90f6-142">(Unblocking prevents a security warning that occurs when you try to use a *.zip* file that you've downloaded from the web.)</span></span>

![p1_unBlock](aspnet-mvc-4-mobile-features/_static/image4.png)

<span data-ttu-id="c90f6-144">Fare clic con il pulsante destro del mouse sul file *MvcMobile. zip* e selezionare **Estrai tutto** per decomprimere il file.</span><span class="sxs-lookup"><span data-stu-id="c90f6-144">Right-click the *MvcMobile.zip* file and select **Extract All** to unzip the file.</span></span> <span data-ttu-id="c90f6-145">In Visual Studio aprire il file *MvcMobile. sln* .</span><span class="sxs-lookup"><span data-stu-id="c90f6-145">In Visual Studio, open the *MvcMobile.sln* file.</span></span>

<span data-ttu-id="c90f6-146">Premere CTRL + F5 per eseguire l'applicazione, che verrà visualizzata nel browser desktop.</span><span class="sxs-lookup"><span data-stu-id="c90f6-146">Press CTRL+F5 to run the application, which will display it in your desktop browser.</span></span> <span data-ttu-id="c90f6-147">Avviare l'emulatore di browser per dispositivi mobili, copiare l'URL dell'applicazione Conference nell'emulatore e quindi fare clic sul collegamento **Sfoglia per tag** .</span><span class="sxs-lookup"><span data-stu-id="c90f6-147">Start your mobile browser emulator, copy the URL for the conference application into the emulator, and then click the **Browse by tag** link.</span></span> <span data-ttu-id="c90f6-148">Se si usa l'emulatore Windows Phone, fare clic sulla barra URL e premere il tasto pausa per ottenere l'accesso alla tastiera.</span><span class="sxs-lookup"><span data-stu-id="c90f6-148">If you are using the Windows Phone Emulator, click in the URL bar and press the Pause key to get keyboard access.</span></span> <span data-ttu-id="c90f6-149">Nell'immagine seguente viene illustrata la vista *AllTags* (scegliendo **Sfoglia per tag**).</span><span class="sxs-lookup"><span data-stu-id="c90f6-149">The image below shows the *AllTags* view (from choosing **Browse by tag**).</span></span>

<span data-ttu-id="c90f6-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span></span>

<span data-ttu-id="c90f6-151">Il display è molto leggibile su un dispositivo mobile.</span><span class="sxs-lookup"><span data-stu-id="c90f6-151">The display is very readable on a mobile device.</span></span> <span data-ttu-id="c90f6-152">Scegliere il collegamento ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c90f6-152">Choose the ASP.NET link.</span></span>

<span data-ttu-id="c90f6-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span></span>

<span data-ttu-id="c90f6-154">La visualizzazione dei tag ASP.NET è molto ingombrante.</span><span class="sxs-lookup"><span data-stu-id="c90f6-154">The ASP.NET tag view is very cluttered.</span></span> <span data-ttu-id="c90f6-155">Ad esempio, la colonna **date** è molto difficile da leggere.</span><span class="sxs-lookup"><span data-stu-id="c90f6-155">For example, the **Date** column is very difficult to read.</span></span> <span data-ttu-id="c90f6-156">Più avanti in questa esercitazione verrà creata una versione della vista *AllTags* che è specificamente per i browser per dispositivi mobili e che renderà la visualizzazione leggibile.</span><span class="sxs-lookup"><span data-stu-id="c90f6-156">Later in the tutorial you'll create a version of the *AllTags* view that's specifically for mobile browsers and that will make the display readable.</span></span>

<span data-ttu-id="c90f6-157">Nota: attualmente esiste un bug nel motore di memorizzazione nella cache per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-157">Note: Currently a bug exists in the mobile caching engine.</span></span> <span data-ttu-id="c90f6-158">Per le applicazioni di produzione, è necessario installare il pacchetto [DisplayModes Nugget fisso](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) .</span><span class="sxs-lookup"><span data-stu-id="c90f6-158">For production applications, you must install the [Fixed DisplayModes](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) nugget package.</span></span> <span data-ttu-id="c90f6-159">Per informazioni dettagliate sulla correzione, vedere la pagina relativa a [ASP.NET MVC 4 Mobile Caching bug](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) .</span><span class="sxs-lookup"><span data-stu-id="c90f6-159">See [ASP.NET MVC 4 Mobile Caching Bug Fixed](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) for details on the fix.</span></span>

## <a name="css-media-queries"></a><span data-ttu-id="c90f6-160">Query supporti CSS</span><span class="sxs-lookup"><span data-stu-id="c90f6-160">CSS Media Queries</span></span>

<span data-ttu-id="c90f6-161">Le [query multimediali CSS](http://www.w3.org/TR/css3-mediaqueries/) sono un'estensione del CSS per i tipi di supporto.</span><span class="sxs-lookup"><span data-stu-id="c90f6-161">[CSS media queries](http://www.w3.org/TR/css3-mediaqueries/) are an extension to CSS for media types.</span></span> <span data-ttu-id="c90f6-162">Consentono di creare regole che sostituiscono le regole CSS predefinite per browser specifici (agenti utente).</span><span class="sxs-lookup"><span data-stu-id="c90f6-162">They allow you to create rules that override the default CSS rules for specific browsers (user agents).</span></span> <span data-ttu-id="c90f6-163">Una regola comune per CSS destinata ai browser per dispositivi mobili è la definizione delle dimensioni massime dello schermo.</span><span class="sxs-lookup"><span data-stu-id="c90f6-163">A common rule for CSS that targets mobile browsers is defining the maximum screen size.</span></span> <span data-ttu-id="c90f6-164">Il file *Content\Site.CSS* creato quando si crea un nuovo progetto ASP.NET MVC 4 Internet contiene la query supporti seguente:</span><span class="sxs-lookup"><span data-stu-id="c90f6-164">The *Content\Site.css* file that's created when you create a new ASP.NET MVC 4 Internet project contains the following media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample1.css)]

<span data-ttu-id="c90f6-165">Se la finestra del browser è di 850 pixel di larghezza o inferiore, utilizzerà le regole CSS all'interno di questo blocco multimediale.</span><span class="sxs-lookup"><span data-stu-id="c90f6-165">If the browser window is 850 pixels wide or less, it will use the CSS rules inside this media block.</span></span> <span data-ttu-id="c90f6-166">È possibile utilizzare le query di supporto CSS come questa per offrire una visualizzazione migliore del contenuto HTML in piccoli browser (ad esempio, browser per dispositivi mobili) rispetto alle regole CSS predefinite progettate per le visualizzazioni più ampie dei browser desktop.</span><span class="sxs-lookup"><span data-stu-id="c90f6-166">You can use CSS media queries like this to provide a better display of HTML content on small browsers (like mobile browsers) than the default CSS rules that are designed for the wider displays of desktop browsers.</span></span>

## <a name="the-viewport-meta-tag"></a><span data-ttu-id="c90f6-167">Tag meta del viewport</span><span class="sxs-lookup"><span data-stu-id="c90f6-167">The Viewport Meta Tag</span></span>

<span data-ttu-id="c90f6-168">La maggior parte dei browser per dispositivi mobili definisce la larghezza della finestra del browser virtuale (il *viewport*) molto più grande della larghezza effettiva del dispositivo mobile.</span><span class="sxs-lookup"><span data-stu-id="c90f6-168">Most mobile browsers define a virtual browser window width (the *viewport*) that's much larger than the actual width of the mobile device.</span></span> <span data-ttu-id="c90f6-169">Questo consente ai browser per dispositivi mobili di adattarsi all'intera pagina Web all'interno dello schermo virtuale.</span><span class="sxs-lookup"><span data-stu-id="c90f6-169">This allows mobile browsers to fit the entire web page inside the virtual display.</span></span> <span data-ttu-id="c90f6-170">Gli utenti possono quindi eseguire lo zoom avanti sul contenuto interessante.</span><span class="sxs-lookup"><span data-stu-id="c90f6-170">Users can then zoom in on interesting content.</span></span> <span data-ttu-id="c90f6-171">Tuttavia, se si imposta la larghezza del viewport sulla larghezza effettiva del dispositivo, non è necessario lo zoom, perché il contenuto si adatta al browser per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-171">However, if you set the viewport width to the actual device width, no zooming is required, because the content fits in the mobile browser.</span></span>

<span data-ttu-id="c90f6-172">Il viewport `<meta>` tag nel file di layout MVC 4 ASP.NET imposta il viewport sulla larghezza del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="c90f6-172">The viewport `<meta>` tag in the ASP.NET MVC 4 layout file sets the viewport to the device width.</span></span> <span data-ttu-id="c90f6-173">La riga seguente mostra il `<meta>` tag del viewport nel file di layout MVC 4 ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c90f6-173">The following line shows the viewport `<meta>` tag in the ASP.NET MVC 4 layout file.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample2.html)]

## <a name="examining-the-effect-of-css-media-queries-and-the-viewport-meta-tag"></a><span data-ttu-id="c90f6-174">Esame dell'effetto delle query multimediali CSS e del tag meta del viewport</span><span class="sxs-lookup"><span data-stu-id="c90f6-174">Examining the Effect of CSS Media Queries and the Viewport Meta Tag</span></span>

<span data-ttu-id="c90f6-175">Aprire il file *Views\Shared\\_Layout. cshtml* nell'editor e impostare come commento il viewport `<meta>` tag.</span><span class="sxs-lookup"><span data-stu-id="c90f6-175">Open the *Views\Shared\\_Layout.cshtml* file in the editor and comment out the viewport `<meta>` tag.</span></span> <span data-ttu-id="c90f6-176">Il markup seguente mostra la riga impostata come commento.</span><span class="sxs-lookup"><span data-stu-id="c90f6-176">The following markup shows the commented-out line.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample3.cshtml)]

<span data-ttu-id="c90f6-177">Aprire il file *MvcMobile\Content\Site.CSS* nell'editor e impostare la larghezza massima della query supporti su zero pixel.</span><span class="sxs-lookup"><span data-stu-id="c90f6-177">Open the *MvcMobile\Content\Site.css* file in the editor and change the maximum width in the media query to zero pixels.</span></span> <span data-ttu-id="c90f6-178">In questo modo si eviterà l'uso delle regole CSS nei browser per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-178">This will prevent the CSS rules from being used in mobile browsers.</span></span> <span data-ttu-id="c90f6-179">La riga seguente mostra la query supporti modificata:</span><span class="sxs-lookup"><span data-stu-id="c90f6-179">The following line shows the modified media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample4.css)]

<span data-ttu-id="c90f6-180">Salvare le modifiche e passare all'applicazione Conference in un emulatore di browser per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-180">Save your changes and browse to the Conference application in a mobile browser emulator.</span></span> <span data-ttu-id="c90f6-181">Il testo minuscolo nell'immagine seguente è il risultato della rimozione del viewport `<meta>` tag.</span><span class="sxs-lookup"><span data-stu-id="c90f6-181">The tiny text in the following image is the result of removing the viewport `<meta>` tag.</span></span> <span data-ttu-id="c90f6-182">Senza `<meta>` tag del viewport, il browser esegue lo zoom indietro rispetto alla larghezza predefinita del viewport (850 pixel o più ampia per la maggior parte dei browser per dispositivi mobili).</span><span class="sxs-lookup"><span data-stu-id="c90f6-182">With no viewport `<meta>` tag, the browser is zooming out to the default viewport width (850 pixels or wider for most mobile browsers.)</span></span>

<span data-ttu-id="c90f6-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span></span>

<span data-ttu-id="c90f6-184">Annulla le modifiche: rimuovere il commento dal viewport `<meta>` tag nel file di layout e ripristinare la query supporti in 850 pixel nel file *site. CSS* .</span><span class="sxs-lookup"><span data-stu-id="c90f6-184">Undo your changes — uncomment the viewport `<meta>` tag in the layout file and restore the media query to 850 pixels in the *Site.css* file.</span></span> <span data-ttu-id="c90f6-185">Salvare le modifiche e aggiornare il browser mobile per verificare che sia stato ripristinato lo schermo adatto per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-185">Save your changes and refresh the mobile browser to verify that the mobile-friendly display has been restored.</span></span>

<span data-ttu-id="c90f6-186">Il viewport `<meta>` tag e la query supporti CSS non sono specifici di ASP.NET MVC 4 ed è possibile sfruttare queste funzionalità in qualsiasi applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="c90f6-186">The viewport `<meta>` tag and the CSS media query are not specific to ASP.NET MVC 4, and you can take advantage of these features in any web application.</span></span> <span data-ttu-id="c90f6-187">Ma ora sono incorporati nei file generati quando si crea un nuovo progetto ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="c90f6-187">But they are now built into the files that are generated when you create a new ASP.NET MVC 4 project.</span></span>

<span data-ttu-id="c90f6-188">Per altre informazioni sul tag `<meta>` del viewport, vedere il [racconto di due viewport, parte 2](http://www.quirksmode.org/mobile/viewports2.html).</span><span class="sxs-lookup"><span data-stu-id="c90f6-188">For more information about the viewport `<meta>` tag, see [A tale of two viewports — part two](http://www.quirksmode.org/mobile/viewports2.html).</span></span>

<span data-ttu-id="c90f6-189">Nella sezione seguente verrà illustrato come creare visualizzazioni specifiche del browser per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-189">In the next section you'll see how to provide mobile-browser specific views.</span></span>

## <a name="overriding-views-layouts-and-partial-views"></a><span data-ttu-id="c90f6-190">Override di viste, layout e visualizzazioni parziali</span><span class="sxs-lookup"><span data-stu-id="c90f6-190">Overriding Views, Layouts, and Partial Views</span></span>

<span data-ttu-id="c90f6-191">Una nuova funzionalità significativa di ASP.NET MVC 4 è un meccanismo semplice che consente di eseguire l'override di qualsiasi visualizzazione (inclusi layout e visualizzazioni parziali) per i browser per dispositivi mobili in generale, per un singolo browser per dispositivi mobili o per qualsiasi browser specifico.</span><span class="sxs-lookup"><span data-stu-id="c90f6-191">A significant new feature in ASP.NET MVC 4 is a simple mechanism that lets you override any view (including layouts and partial views) for mobile browsers in general, for an individual mobile browser, or for any specific browser.</span></span> <span data-ttu-id="c90f6-192">Per fornire una vista specifica per dispositivi mobili è possibile copiare un file di visualizzazione e aggiungere *.Mobile* al nome del file.</span><span class="sxs-lookup"><span data-stu-id="c90f6-192">To provide a mobile-specific view, you can copy a view file and add *.Mobile* to the file name.</span></span> <span data-ttu-id="c90f6-193">Ad esempio, per creare una visualizzazione *Indice* per dispositivi mobili, copiare *Views\Home\Index.cshtml* in *Views\Home\Index.mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c90f6-193">For example, to create a mobile *Index* view, copy *Views\Home\Index.cshtml* to *Views\Home\Index.Mobile.cshtml*.</span></span>

<span data-ttu-id="c90f6-194">In questa sezione verrà illustrato come creare un file di layout specifico per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-194">In this section, you'll create a mobile-specific layout file.</span></span>

<span data-ttu-id="c90f6-195">Per iniziare, copiare *Views\Shared\\_Layout. cshtml* in *Views\Shared\\_Layout. mobile. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c90f6-195">To start, copy *Views\Shared\\_Layout.cshtml* to *Views\Shared\\_Layout.Mobile.cshtml*.</span></span> <span data-ttu-id="c90f6-196">Aprire *\_layout. mobile. cshtml* e modificare il titolo da **MVC4 Conference** a **Conference (mobile)** .</span><span class="sxs-lookup"><span data-stu-id="c90f6-196">Open *\_Layout.Mobile.cshtml* and change the title from **MVC4 Conference** to **Conference (Mobile)**.</span></span>

<span data-ttu-id="c90f6-197">In ogni chiamata di `Html.ActionLink` rimuovere "Browse by" in ogni collegamento *ActionLink*.</span><span class="sxs-lookup"><span data-stu-id="c90f6-197">In each `Html.ActionLink` call, remove "Browse by" in each link *ActionLink*.</span></span> <span data-ttu-id="c90f6-198">Il codice seguente illustra la sezione del corpo completata del file di layout per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-198">The following code shows the completed body section of the mobile layout file.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample5.cshtml)]

<span data-ttu-id="c90f6-199">Copiare il file *Views\Home\AllTags.cshtml* in *Views\Home\AllTags.mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c90f6-199">Copy the *Views\Home\AllTags.cshtml* file to *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="c90f6-200">Aprire il nuovo file e modificare l'elemento `<h2>` da "Tags" in "Tags (M)":</span><span class="sxs-lookup"><span data-stu-id="c90f6-200">Open the new file and change the `<h2>` element from "Tags" to "Tags (M)":</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample6.html)]

<span data-ttu-id="c90f6-201">Passare alla pagina Tags utilizzando un browser desktop e un emulatore di browser per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-201">Browse to the tags page using a desktop browser and using mobile browser emulator.</span></span> <span data-ttu-id="c90f6-202">Nell'emulatore di browser per dispositivi mobili vengono visualizzate le due modifiche apportate.</span><span class="sxs-lookup"><span data-stu-id="c90f6-202">The mobile browser emulator shows the two changes you made.</span></span>

<span data-ttu-id="c90f6-203">[![p2m_layoutTags. mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-203">[![p2m_layoutTags.mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span></span>

<span data-ttu-id="c90f6-204">Al contrario, la visualizzazione del desktop non è cambiata.</span><span class="sxs-lookup"><span data-stu-id="c90f6-204">In contrast, the desktop display has not changed.</span></span>

<span data-ttu-id="c90f6-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span></span>

## <a name="browser-specific-views"></a><span data-ttu-id="c90f6-206">Visualizzazioni specifiche del browser</span><span class="sxs-lookup"><span data-stu-id="c90f6-206">Browser-Specific Views</span></span>

<span data-ttu-id="c90f6-207">Oltre a visualizzazioni specifiche del dispositivo mobile e del desktop, è possibile anche creare visualizzazioni per un particolare browser.</span><span class="sxs-lookup"><span data-stu-id="c90f6-207">In addition to mobile-specific and desktop-specific views, you can create views for an individual browser.</span></span> <span data-ttu-id="c90f6-208">Ad esempio, è possibile creare visualizzazioni specifiche per il browser iPhone.</span><span class="sxs-lookup"><span data-stu-id="c90f6-208">For example, you can create views that are specifically for the iPhone browser.</span></span> <span data-ttu-id="c90f6-209">In questa sezione verrà illustrato come creare un layout per il browser di iPhone e una versione iPhone della visualizzazione *AllTags* .</span><span class="sxs-lookup"><span data-stu-id="c90f6-209">In this section, you'll create a layout for the iPhone browser and an iPhone version of the *AllTags* view.</span></span>

<span data-ttu-id="c90f6-210">Aprire il file *Global. asax* e aggiungere il codice seguente al metodo `Application_Start`.</span><span class="sxs-lookup"><span data-stu-id="c90f6-210">Open the *Global.asax* file and add the following code to the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample7.cs)]

<span data-ttu-id="c90f6-211">Questo codice definisce una nuova modalità di visualizzazione denominata "iPhone" che verrà associata a ciascuna richiesta in ingresso.</span><span class="sxs-lookup"><span data-stu-id="c90f6-211">This code defines a new display mode named "iPhone" that will be matched against each incoming request.</span></span> <span data-ttu-id="c90f6-212">Se la richiesta in ingresso soddisfa la condizione definita, ovvero se l'agente utente contiene la stringa"iPhone", ASP.NET MVC cercherà le visualizzazioni il cui nome contiene il suffisso"iPhone".</span><span class="sxs-lookup"><span data-stu-id="c90f6-212">If the incoming request matches the condition you defined (that is, if the user agent contains the string "iPhone"), ASP.NET MVC will look for views whose name contains the "iPhone" suffix.</span></span>

<span data-ttu-id="c90f6-213">Nel codice fare clic con il pulsante destro del mouse su `DefaultDisplayMode`, scegliere **Risolvi** quindi scegliere `using System.Web.WebPages;`.</span><span class="sxs-lookup"><span data-stu-id="c90f6-213">In the code, right-click `DefaultDisplayMode`, choose **Resolve**, and then choose `using System.Web.WebPages;`.</span></span> <span data-ttu-id="c90f6-214">In questo modo viene aggiunto un riferimento allo spazio dei nomi `System.Web.WebPages`, ovvero la posizione in cui i tipi `DisplayModes` e `DefaultDisplayMode` vengono definiti.</span><span class="sxs-lookup"><span data-stu-id="c90f6-214">This adds a reference to the `System.Web.WebPages` namespace, which is where the `DisplayModes` and `DefaultDisplayMode` types are defined.</span></span>

<span data-ttu-id="c90f6-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span></span>

<span data-ttu-id="c90f6-216">In alternativa, è possibile aggiungere manualmente la riga seguente alla sezione `using` del file.</span><span class="sxs-lookup"><span data-stu-id="c90f6-216">Alternatively, you can just manually add the following line to the `using` section of the file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample8.cs)]

<span data-ttu-id="c90f6-217">Di seguito è riportato il contenuto completo del file *Global. asax* .</span><span class="sxs-lookup"><span data-stu-id="c90f6-217">The complete contents of the *Global.asax* file is shown below.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample9.cs)]

<span data-ttu-id="c90f6-218">Salvare le modifiche.</span><span class="sxs-lookup"><span data-stu-id="c90f6-218">Save the changes.</span></span> <span data-ttu-id="c90f6-219">Copiare il file *MvcMobile\Views\Shared\\_Layout. mobile. cshtml* in *MvcMobile\Views\Shared\\_Layout. iPhone. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c90f6-219">Copy the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file to *MvcMobile\Views\Shared\\_Layout.iPhone.cshtml*.</span></span> <span data-ttu-id="c90f6-220">Aprire il nuovo file e modificare l'intestazione `h1` da `Conference (Mobile)` a `Conference (iPhone)`.</span><span class="sxs-lookup"><span data-stu-id="c90f6-220">Open the new file and then change the `h1` heading from `Conference (Mobile)` to `Conference (iPhone)`.</span></span>

<span data-ttu-id="c90f6-221">Copiare il file *MvcMobile\Views\Home\AllTags.mobile.cshtml* in *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c90f6-221">Copy the *MvcMobile\Views\Home\AllTags.Mobile.cshtml* file to *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span></span> <span data-ttu-id="c90f6-222">Nel nuovo file modificare l'elemento `<h2>` da "Tags (M)" in "Tags (iPhone)".</span><span class="sxs-lookup"><span data-stu-id="c90f6-222">In the new file, change the `<h2>` element from "Tags (M)" to "Tags (iPhone)".</span></span>

<span data-ttu-id="c90f6-223">Eseguire l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c90f6-223">Run the application.</span></span> <span data-ttu-id="c90f6-224">Eseguire un emulatore di browser per dispositivi mobili, assicurarsi che il relativo agente utente sia impostato su "iPhone" e passare alla visualizzazione *AllTags* .</span><span class="sxs-lookup"><span data-stu-id="c90f6-224">Run a mobile browser emulator, make sure its user agent is set to "iPhone", and browse to the *AllTags* view.</span></span> <span data-ttu-id="c90f6-225">La schermata seguente mostra la visualizzazione *AllTags* visualizzata nel browser [Safari](http://www.apple.com/safari/download/) .</span><span class="sxs-lookup"><span data-stu-id="c90f6-225">The following screenshot shows the *AllTags* view rendered in the [Safari](http://www.apple.com/safari/download/) browser.</span></span> <span data-ttu-id="c90f6-226">È possibile scaricare Safari per Windows [qui](https://support.apple.com/kb/DL1531).</span><span class="sxs-lookup"><span data-stu-id="c90f6-226">You can download Safari for Windows [here](https://support.apple.com/kb/DL1531).</span></span>

<span data-ttu-id="c90f6-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span></span>

<span data-ttu-id="c90f6-228">In questa sezione è stato spiegato come creare layout e visualizzazioni mobili e come creare layout e visualizzazioni per dispositivi specifici, ad esempio iPhone.</span><span class="sxs-lookup"><span data-stu-id="c90f6-228">In this section we've seen how to create mobile layouts and views and how to create layouts and views for specific devices such as the iPhone.</span></span> <span data-ttu-id="c90f6-229">Nella sezione successiva verrà illustrato come sfruttare jQuery Mobile per visualizzare più interessanti visualizzazioni per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-229">In the next section you'll see how to leverage jQuery Mobile for more compelling mobile views.</span></span>

## <a name="using-jquery-mobile"></a><span data-ttu-id="c90f6-230">Uso di jQuery Mobile</span><span class="sxs-lookup"><span data-stu-id="c90f6-230">Using jQuery Mobile</span></span>

<span data-ttu-id="c90f6-231">[JQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) Library fornisce un Framework dell'interfaccia utente che funziona su tutti i principali browser per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-231">The [jQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) library provides a user interface framework that works on all the major mobile browsers.</span></span> <span data-ttu-id="c90f6-232">jQuery Mobile applica un *miglioramento progressivo* ai browser per dispositivi mobili che supportano CSS e JavaScript.</span><span class="sxs-lookup"><span data-stu-id="c90f6-232">jQuery Mobile applies *progressive enhancement* to mobile browsers that support CSS and JavaScript.</span></span> <span data-ttu-id="c90f6-233">Il miglioramento progressivo consente a tutti i browser di visualizzare il contenuto di base di una pagina Web, consentendo al contempo a browser e dispositivi più potenti di ottenere una visualizzazione più dettagliata.</span><span class="sxs-lookup"><span data-stu-id="c90f6-233">Progressive enhancement allows all browsers to display the basic content of a web page, while allowing more powerful browsers and devices to have a richer display.</span></span> <span data-ttu-id="c90f6-234">I file JavaScript e CSS inclusi nello stile jQuery Mobile sono molti elementi adatti ai browser per dispositivi mobili senza apportare modifiche al markup.</span><span class="sxs-lookup"><span data-stu-id="c90f6-234">The JavaScript and CSS files that are included with jQuery Mobile style many elements to fit mobile browsers without making any markup changes.</span></span>

<span data-ttu-id="c90f6-235">In questa sezione verrà installato il pacchetto NuGet *jQuery. mobile. Mvc* , che installa jQuery Mobile e un widget View-Switcher.</span><span class="sxs-lookup"><span data-stu-id="c90f6-235">In this section you'll install the *jQuery.Mobile.MVC* NuGet package, which installs jQuery Mobile and a view-switcher widget.</span></span>

<span data-ttu-id="c90f6-236">Per iniziare, eliminare i file *shared\\_Layout. mobile. cshtml* e *Shared\\_Layout. iPhone. cshtml* creati in precedenza.</span><span class="sxs-lookup"><span data-stu-id="c90f6-236">To start, delete the *Shared\\_Layout.Mobile.cshtml* and *Shared\\_Layout.iPhone.cshtml* files that you created earlier.</span></span>

<span data-ttu-id="c90f6-237">Rinominare i file *Views\Home\AllTags.mobile.cshtml* e *Views\Home\AllTags.iPhone.cshtml* in *Views\Home\AllTags.iPhone.cshtml.Hide* e *Views\Home\AllTags.mobile.cshtml.Hide*.</span><span class="sxs-lookup"><span data-stu-id="c90f6-237">Rename *Views\Home\AllTags.Mobile.cshtml* and *Views\Home\AllTags.iPhone.cshtml* files to *Views\Home\AllTags.iPhone.cshtml.hide* and *Views\Home\AllTags.Mobile.cshtml.hide*.</span></span> <span data-ttu-id="c90f6-238">Poiché i file non hanno più un'estensione *cshtml* , non verranno usati dal runtime di ASP.NET MVC per eseguire il rendering della visualizzazione *AllTags* .</span><span class="sxs-lookup"><span data-stu-id="c90f6-238">Because the files no longer have a *.cshtml* extension, they won't be used by the ASP.NET MVC runtime to render the *AllTags* view.</span></span>

<span data-ttu-id="c90f6-239">Installare il pacchetto NuGet *jQuery. mobile. Mvc* eseguendo questa operazione:</span><span class="sxs-lookup"><span data-stu-id="c90f6-239">Install the *jQuery.Mobile.MVC* NuGet package by doing this:</span></span>

1. <span data-ttu-id="c90f6-240">Dal menu **strumenti** selezionare **Gestione pacchetti NuGet**, quindi selezionare **console di gestione pacchetti**.</span><span class="sxs-lookup"><span data-stu-id="c90f6-240">From the **Tools** menu, select **NuGet Package Manager**, and then select **Package Manager Console**.</span></span>

    <span data-ttu-id="c90f6-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span></span>
2. <span data-ttu-id="c90f6-242">Nella **console di gestione pacchetti**immettere `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span><span class="sxs-lookup"><span data-stu-id="c90f6-242">In the **Package Manager Console**, enter `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span></span>

<span data-ttu-id="c90f6-243">La figura seguente mostra i file aggiunti e modificati nel progetto MvcMobile dal pacchetto NuGet jQuery. mobile. MVC.</span><span class="sxs-lookup"><span data-stu-id="c90f6-243">The following image shows the files added and changed to the MvcMobile project by the NuGet jQuery.Mobile.MVC package.</span></span> <span data-ttu-id="c90f6-244">I file aggiunti hanno [Add] accodato dopo il nome del file.</span><span class="sxs-lookup"><span data-stu-id="c90f6-244">Files which are added have [add] appended after the file name.</span></span> <span data-ttu-id="c90f6-245">L'immagine non Mostra i file GIF e PNG aggiunti alla cartella *Content\images*</span><span class="sxs-lookup"><span data-stu-id="c90f6-245">The image does not show the GIF and PNG files added to the *Content\images* folder.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image21.png)

<span data-ttu-id="c90f6-246">Il pacchetto NuGet jQuery. mobile. MVC installa gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c90f6-246">The jQuery.Mobile.MVC NuGet package installs the following:</span></span>

- <span data-ttu-id="c90f6-247">L' *App\_file Start\BundleMobileConfig.cs* , che è necessario per fare riferimento ai file CSS e JavaScript di jQuery aggiunti.</span><span class="sxs-lookup"><span data-stu-id="c90f6-247">The *App\_Start\BundleMobileConfig.cs* file, which is needed to reference the jQuery JavaScript and CSS files added.</span></span> <span data-ttu-id="c90f6-248">È necessario seguire le istruzioni riportate di seguito e fare riferimento al bundle mobile definito in questo file.</span><span class="sxs-lookup"><span data-stu-id="c90f6-248">You must follow the instructions below and reference the mobile bundle defined in this file.</span></span>
- <span data-ttu-id="c90f6-249">file CSS per jQuery Mobile.</span><span class="sxs-lookup"><span data-stu-id="c90f6-249">jQuery Mobile CSS files.</span></span>
- <span data-ttu-id="c90f6-250">Un widget del controller di `ViewSwitcher` (*Controllers\ViewSwitcherController.cs*).</span><span class="sxs-lookup"><span data-stu-id="c90f6-250">A `ViewSwitcher` controller widget (*Controllers\ViewSwitcherController.cs*).</span></span>
- <span data-ttu-id="c90f6-251">file JavaScript per dispositivi mobili jQuery.</span><span class="sxs-lookup"><span data-stu-id="c90f6-251">jQuery Mobile JavaScript files.</span></span>
- <span data-ttu-id="c90f6-252">Un file di layout con stile Mobile jQuery (*Views\Shared\\_Layout. mobile. cshtml*).</span><span class="sxs-lookup"><span data-stu-id="c90f6-252">A jQuery Mobile-styled layout file (*Views\Shared\\_Layout.Mobile.cshtml*).</span></span>
- <span data-ttu-id="c90f6-253">Visualizzazione parziale dello switcher di visualizzazione *(MvcMobile\Views\Shared\\_ViewSwitcher. cshtml*) che fornisce un collegamento nella parte superiore di ogni pagina per passare dalla visualizzazione desktop alla visualizzazione per dispositivi mobili e viceversa.</span><span class="sxs-lookup"><span data-stu-id="c90f6-253">A view-switcher partial view *(MvcMobile\Views\Shared\\_ViewSwitcher.cshtml*) that provides a link at the top of each page to switch from desktop view to mobile view and vice versa.</span></span>
- <span data-ttu-id="c90f6-254">Diversi file di immagine con<em>estensione png</em> e <em>gif</em> nella cartella <em>Content\images</em> .</span><span class="sxs-lookup"><span data-stu-id="c90f6-254">Several<em>.png</em> and <em>.gif</em> image files in the <em>Content\images</em> folder.</span></span>

<span data-ttu-id="c90f6-255">Aprire il file *Global. asax* e aggiungere il codice seguente come ultima riga del metodo `Application_Start`.</span><span class="sxs-lookup"><span data-stu-id="c90f6-255">Open the *Global.asax* file and add the following code as the last line of the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample10.cs)]

<span data-ttu-id="c90f6-256">Nel codice seguente viene illustrato il file *Global. asax* completo.</span><span class="sxs-lookup"><span data-stu-id="c90f6-256">The following code shows the complete *Global.asax* file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample11.cs?highlight=26)]

> [!NOTE]
> <span data-ttu-id="c90f6-257">Se si utilizza Internet Explorer 9 e non viene visualizzata la riga di `BundleMobileConfig` precedente in evidenziazione gialla, fare clic sull'immagine del pulsante [visualizzazione compatibilità](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)![del pulsante visualizzazione compatibilità (disattivato)](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Immagine del pulsante visualizzazione compatibilità (disattivato)") in IE per modificare l'icona da un' ![immagine del contorno del pulsante visualizzazione compatibilità (disattivato)](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Immagine del pulsante visualizzazione compatibilità (disattivato)") a un immagine a tinta unita del pulsante visualizzazione compatibilità ( ![su)](https://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "Immagine del pulsante visualizzazione compatibilità (su)").</span><span class="sxs-lookup"><span data-stu-id="c90f6-257">If you are using Internet Explorer 9 and you don't see the `BundleMobileConfig` line above in yellow highlight, click the [Compatibility View button](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)![Picture of the Compatibility View button (off)](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") in IE to make the icon change from an outline ![Picture of the Compatibility View button (off)](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") to a solid color ![Picture of the Compatibility View button (on)](https://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "Picture of the Compatibility View button (on)").</span></span> <span data-ttu-id="c90f6-258">In alternativa, è possibile visualizzare questa esercitazione in FireFox o Chrome.</span><span class="sxs-lookup"><span data-stu-id="c90f6-258">Alternatively you can view this tutorial in FireFox or Chrome.</span></span>

<span data-ttu-id="c90f6-259">Aprire il file *MvcMobile\Views\Shared\\_Layout. mobile. cshtml* e aggiungere il markup seguente direttamente dopo la chiamata `Html.Partial`:</span><span class="sxs-lookup"><span data-stu-id="c90f6-259">Open the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file and add the following markup directly after the `Html.Partial` call:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample12.cshtml)]

<span data-ttu-id="c90f6-260">Il file *MvcMobile\Views\Shared\\_Layout. mobile. cshtml* completo è illustrato di seguito:</span><span class="sxs-lookup"><span data-stu-id="c90f6-260">The complete *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file is shown below:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample13.cshtml)]

<span data-ttu-id="c90f6-261">Compilare l'applicazione e nell'emulatore di browser per dispositivi mobili passare alla visualizzazione *AllTags* .</span><span class="sxs-lookup"><span data-stu-id="c90f6-261">Build the application, and in your mobile browser emulator browse to the *AllTags* view.</span></span> <span data-ttu-id="c90f6-262">Saranno visualizzate le informazioni illustrate nell'immagine seguente:</span><span class="sxs-lookup"><span data-stu-id="c90f6-262">You see the following:</span></span>

<span data-ttu-id="c90f6-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span></span>

> [!NOTE]
> <span data-ttu-id="c90f6-264">È possibile eseguire il debug del codice specifico per dispositivi mobili impostando [la stringa dell'agente utente](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) per IE o Chrome su iPhone e quindi usando gli strumenti di sviluppo F-12.</span><span class="sxs-lookup"><span data-stu-id="c90f6-264">You can debug the mobile specific code by [setting the user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) for IE or Chrome to iPhone and then using the F-12 developer tools.</span></span> <span data-ttu-id="c90f6-265">Se il browser per dispositivi mobili non Visualizza i collegamenti **Home**, **speaker**, **tag**e **date** come pulsanti, i riferimenti agli script jQuery per dispositivi mobili e ai file CSS probabilmente non sono corretti.</span><span class="sxs-lookup"><span data-stu-id="c90f6-265">If your mobile browser doesn't display the **Home**, **Speaker**, **Tag**, and **Date** links as buttons, the references to jQuery Mobile scripts and CSS files are probably not correct.</span></span>

<span data-ttu-id="c90f6-266">Oltre alle modifiche apportate allo stile, viene visualizzata la **visualizzazione per dispositivi mobili** e un collegamento che consente di passare dalla visualizzazione mobile alla visualizzazione desktop.</span><span class="sxs-lookup"><span data-stu-id="c90f6-266">In addition to the style changes, you see **Displaying mobile view** and a link that lets you switch from mobile view to desktop view.</span></span> <span data-ttu-id="c90f6-267">Scegliere il collegamento **visualizzazione desktop** . verrà visualizzata la visualizzazione desktop.</span><span class="sxs-lookup"><span data-stu-id="c90f6-267">Choose the **Desktop view** link, and the desktop view is displayed.</span></span>

<span data-ttu-id="c90f6-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span></span>

<span data-ttu-id="c90f6-269">La visualizzazione desktop non fornisce un modo per tornare direttamente alla visualizzazione per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-269">The desktop view doesn't provide a way to directly navigate back to the mobile view.</span></span> <span data-ttu-id="c90f6-270">Questa correzione verrà risolta.</span><span class="sxs-lookup"><span data-stu-id="c90f6-270">You'll fix that now.</span></span> <span data-ttu-id="c90f6-271">Aprire il file *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="c90f6-271">Open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="c90f6-272">Sotto l'elemento Page `body` aggiungere il codice seguente, che esegue il rendering del widget View-Switcher:</span><span class="sxs-lookup"><span data-stu-id="c90f6-272">Just under the page `body` element, add the following code, which renders the view-switcher widget:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample14.cshtml)]

<span data-ttu-id="c90f6-273">Aggiornare la visualizzazione *AllTags* nel browser per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-273">Refresh the *AllTags* view in the mobile browser.</span></span> <span data-ttu-id="c90f6-274">È ora possibile spostarsi tra le visualizzazioni desktop e per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-274">You can now navigate between desktop and mobile views.</span></span>

<span data-ttu-id="c90f6-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span></span>

> [!NOTE]
> <span data-ttu-id="c90f6-276">Nota di debug: è possibile aggiungere il codice seguente alla fine di Views\Shared\\_ViewSwitcher. cshtml per semplificare il debug delle visualizzazioni quando si usa un browser la stringa dell'agente utente impostata su un dispositivo mobile.</span><span class="sxs-lookup"><span data-stu-id="c90f6-276">Debug note: You can add the following code to the end of the Views\Shared\\_ViewSwitcher.cshtml to help debug views when using a browser the user agent string set to a mobile device.</span></span>
>
> [!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample15.cs)]
>
> <span data-ttu-id="c90f6-277">e aggiungendo l'intestazione seguente al file *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="c90f6-277">and adding the following heading to the *Views\Shared\\_Layout.cshtml* file.</span></span>
>
> [!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample16.html)]

<span data-ttu-id="c90f6-278">Passare alla pagina *AllTags* in un browser desktop.</span><span class="sxs-lookup"><span data-stu-id="c90f6-278">Browse to the *AllTags* page in a desktop browser.</span></span> <span data-ttu-id="c90f6-279">Il widget View-Switcher non viene visualizzato in un browser desktop perché viene aggiunto solo alla pagina del layout per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-279">The view-switcher widget is not displayed in a desktop browser because it's added only to the mobile layout page.</span></span> <span data-ttu-id="c90f6-280">Più avanti nell'esercitazione verrà illustrato come aggiungere il widget View-Switcher alla visualizzazione desktop.</span><span class="sxs-lookup"><span data-stu-id="c90f6-280">Later in the tutorial you'll see how you can add the view-switcher widget to the desktop view.</span></span>

<span data-ttu-id="c90f6-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span></span>

## <a name="improving-the-speakers-list"></a><span data-ttu-id="c90f6-282">Miglioramento dell'elenco di relatori</span><span class="sxs-lookup"><span data-stu-id="c90f6-282">Improving the Speakers List</span></span>

<span data-ttu-id="c90f6-283">Nel browser per dispositivi mobili selezionare il collegamento **Speakers** .</span><span class="sxs-lookup"><span data-stu-id="c90f6-283">In the mobile browser, select the **Speakers** link.</span></span> <span data-ttu-id="c90f6-284">Poiché non è disponibile alcuna visualizzazione per dispositivi mobili (*AllSpeakers. mobile. cshtml*), viene eseguito il rendering della visualizzazione degli altoparlanti predefiniti (*AllSpeakers. cshtml*) utilizzando la visualizzazione layout mobile ( *\_layout. mobile. cshtml*).</span><span class="sxs-lookup"><span data-stu-id="c90f6-284">Because there's no mobile view(*AllSpeakers.Mobile.cshtml*), the default speakers display (*AllSpeakers.cshtml*) is rendered using the mobile layout view (*\_Layout.Mobile.cshtml*).</span></span>

<span data-ttu-id="c90f6-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span></span>

<span data-ttu-id="c90f6-286">È possibile disabilitare a livello globale una visualizzazione predefinita (non mobile) dal rendering all'interno di un layout mobile impostando `RequireConsistentDisplayMode` su `true` nel file *Views\\_ViewStart. cshtml* , come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="c90f6-286">You can globally disable a default (non-mobile) view from rendering inside a mobile layout by setting `RequireConsistentDisplayMode` to `true` in the *Views\\_ViewStart.cshtml* file, like this:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample17.cshtml)]

<span data-ttu-id="c90f6-287">Quando `RequireConsistentDisplayMode` è impostato su `true`, il layout mobile (<em>\_layout. mobile. cshtml</em>) viene usato solo per le visualizzazioni per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-287">When `RequireConsistentDisplayMode` is set to `true`, the mobile layout (<em>\_Layout.Mobile.cshtml</em>) is used only for mobile views.</span></span> <span data-ttu-id="c90f6-288">Ovvero il formato del file di visualizzazione è <em>\* \* viewName</em><em>. Mobile. cshtml</em>.) potrebbe essere necessario impostare `RequireConsistentDisplayMode` su `true` se il layout mobile non funziona correttamente con le visualizzazioni non per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-288">(That is, the view file is of the form <em>\*\*ViewName</em><em>.Mobile.cshtml</em>.) You might want to set `RequireConsistentDisplayMode` to `true` if your mobile layout doesn't work well with your non-mobile views.</span></span> <span data-ttu-id="c90f6-289">La schermata seguente illustra come viene eseguito il rendering della pagina degli <em>altoparlanti</em> quando `RequireConsistentDisplayMode` è impostato su `true`.</span><span class="sxs-lookup"><span data-stu-id="c90f6-289">The screenshot below shows how the <em>Speakers</em> page renders when `RequireConsistentDisplayMode` is set to `true`.</span></span>

<span data-ttu-id="c90f6-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span></span>

<span data-ttu-id="c90f6-291">È possibile disabilitare la modalità di visualizzazione coerente in una vista impostando `RequireConsistentDisplayMode` su `false` nel file di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="c90f6-291">You can disable consistent display mode in a view by setting `RequireConsistentDisplayMode` to `false` in the view file.</span></span> <span data-ttu-id="c90f6-292">Il markup seguente nel file *Views\Home\AllSpeakers.cshtml* imposta `RequireConsistentDisplayMode` `false`:</span><span class="sxs-lookup"><span data-stu-id="c90f6-292">The following markup in the *Views\Home\AllSpeakers.cshtml* file sets `RequireConsistentDisplayMode` to `false`:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample18.cshtml)]

## <a name="creating-a-mobile-speakers-view"></a><span data-ttu-id="c90f6-293">Creazione di una visualizzazione di altoparlanti mobile</span><span class="sxs-lookup"><span data-stu-id="c90f6-293">Creating a Mobile Speakers View</span></span>

<span data-ttu-id="c90f6-294">Come si è appena osservato, la vista *Speakers* è leggibile, ma i collegamenti sono di dimensioni ridotte e difficili da selezionare con un tocco su un dispositivo mobile.</span><span class="sxs-lookup"><span data-stu-id="c90f6-294">As you just saw, the *Speakers* view is readable, but the links are small and are difficult to tap on a mobile device.</span></span> <span data-ttu-id="c90f6-295">In questa sezione verrà creata una visualizzazione di *altoparlanti* specifici per dispositivi mobili simile a un'applicazione per dispositivi mobili moderna, che Visualizza collegamenti di grandi dimensioni e facili da toccare e contiene una casella di ricerca per trovare rapidamente gli speaker.</span><span class="sxs-lookup"><span data-stu-id="c90f6-295">In this section, you'll create a mobile-specific *Speakers* view that looks like a modern mobile application — it displays large, easy-to-tap links and contains a search box to quickly find speakers.</span></span>

<span data-ttu-id="c90f6-296">Copiare *AllSpeakers. cshtml* in *AllSpeakers. mobile. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c90f6-296">Copy *AllSpeakers.cshtml* to *AllSpeakers.Mobile.cshtml*.</span></span> <span data-ttu-id="c90f6-297">Aprire il file *AllSpeakers. mobile. cshtml* e rimuovere l'elemento heading `<h2>`.</span><span class="sxs-lookup"><span data-stu-id="c90f6-297">Open the *AllSpeakers.Mobile.cshtml* file and remove the `<h2>` heading element.</span></span>

<span data-ttu-id="c90f6-298">Nel tag `<ul>` aggiungere l'attributo `data-role` e impostarne il valore su `listview`.</span><span class="sxs-lookup"><span data-stu-id="c90f6-298">In the `<ul>` tag, add the `data-role` attribute and set its value to `listview`.</span></span> <span data-ttu-id="c90f6-299">Analogamente ad altri [attributi`data-*`](http://html5doctor.com/html5-custom-data-attributes/), `data-role="listview"` rende più semplice il tocco degli elementi elenco di grandi dimensioni.</span><span class="sxs-lookup"><span data-stu-id="c90f6-299">Like other [`data-*` attributes](http://html5doctor.com/html5-custom-data-attributes/), `data-role="listview"` makes the large list items easier to tap.</span></span> <span data-ttu-id="c90f6-300">Il markup completato è simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="c90f6-300">This is what the completed markup looks like:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample19.cshtml)]

<span data-ttu-id="c90f6-301">Aggiornare il browser per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-301">Refresh the mobile browser.</span></span> <span data-ttu-id="c90f6-302">La vista aggiornata avrà un aspetto simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="c90f6-302">The updated view looks like this:</span></span>

<span data-ttu-id="c90f6-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span></span>

<span data-ttu-id="c90f6-304">Sebbene la visualizzazione per dispositivi mobili sia stata migliorata, è difficile esplorare il lungo elenco di relatori.</span><span class="sxs-lookup"><span data-stu-id="c90f6-304">Although the mobile view has improved, it's difficult to navigate the long list of speakers.</span></span> <span data-ttu-id="c90f6-305">Per risolvere il problema, nel tag `<ul>` aggiungere l'attributo `data-filter` e impostarlo su `true`.</span><span class="sxs-lookup"><span data-stu-id="c90f6-305">To fix this, in the `<ul>` tag, add the `data-filter` attribute and set it to `true`.</span></span> <span data-ttu-id="c90f6-306">Il codice seguente mostra il markup `ul`.</span><span class="sxs-lookup"><span data-stu-id="c90f6-306">The code below shows the `ul` markup.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample20.html)]

<span data-ttu-id="c90f6-307">Nell'immagine seguente viene mostrata la casella filtro di ricerca nella parte superiore della pagina risultante dall'attributo `data-filter`.</span><span class="sxs-lookup"><span data-stu-id="c90f6-307">The following image shows the search filter box at the top of the page that results from the `data-filter` attribute.</span></span>

<span data-ttu-id="c90f6-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span></span>

<span data-ttu-id="c90f6-309">Quando si digita ogni lettera nella casella di ricerca, jQuery Mobile filtra l'elenco visualizzato come illustrato nell'immagine seguente.</span><span class="sxs-lookup"><span data-stu-id="c90f6-309">As you type each letter in the search box, jQuery Mobile filters the displayed list as shown in the image below.</span></span>

<span data-ttu-id="c90f6-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span></span>

## <a name="improving-the-tags-list"></a><span data-ttu-id="c90f6-311">Miglioramento dell'elenco dei tag</span><span class="sxs-lookup"><span data-stu-id="c90f6-311">Improving the Tags List</span></span>

<span data-ttu-id="c90f6-312">Analogamente alla visualizzazione dei *relatori* predefiniti, la visualizzazione dei *tag* è leggibile, ma i collegamenti sono di piccole dimensioni e difficili da toccare su un dispositivo mobile.</span><span class="sxs-lookup"><span data-stu-id="c90f6-312">Like the default *Speakers* view, the *Tags* view is readable, but the links are small and difficult to tap on a mobile device.</span></span> <span data-ttu-id="c90f6-313">In questa sezione si correggerà la visualizzazione dei *tag* nello stesso modo in cui è stata corretta la visualizzazione *Speakers* .</span><span class="sxs-lookup"><span data-stu-id="c90f6-313">In this section, you'll fix the *Tags* view the same way you fixed the *Speakers* view.</span></span>

<span data-ttu-id="c90f6-314">Rimuovere il &quot;nascondere&quot; suffisso nel file *Views\Home\AllTags.mobile.cshtml.Hide* in modo che il nome sia *Views\Home\AllTags.mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c90f6-314">Remove the &quot;hide&quot; suffix to the *Views\Home\AllTags.Mobile.cshtml.hide* file so the name is *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="c90f6-315">Aprire il file rinominato e rimuovere l'elemento `<h2>`.</span><span class="sxs-lookup"><span data-stu-id="c90f6-315">Open the renamed file and remove the `<h2>` element.</span></span>

<span data-ttu-id="c90f6-316">Aggiungere gli attributi `data-role` e `data-filter` al tag `<ul>`, come illustrato di seguito:</span><span class="sxs-lookup"><span data-stu-id="c90f6-316">Add the `data-role` and `data-filter` attributes to the `<ul>` tag, as shown here:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample21.html)]

<span data-ttu-id="c90f6-317">L'immagine seguente mostra il filtro della pagina dei tag sulla lettera `J`.</span><span class="sxs-lookup"><span data-stu-id="c90f6-317">The image below shows the tags page filtering on the letter `J`.</span></span>

<span data-ttu-id="c90f6-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span></span>

## <a name="improving-the-dates-list"></a><span data-ttu-id="c90f6-319">Miglioramento dell'elenco di date</span><span class="sxs-lookup"><span data-stu-id="c90f6-319">Improving the Dates List</span></span>

<span data-ttu-id="c90f6-320">È possibile migliorare la visualizzazione delle *date* , ad esempio se sono state migliorate le visualizzazioni *Speakers* e *tag* , in modo che sia più facile da usare in un dispositivo mobile.</span><span class="sxs-lookup"><span data-stu-id="c90f6-320">You can improve the *Dates* view like you improved the *Speakers* and *Tags* views, so that it's easier to use on a mobile device.</span></span>

<span data-ttu-id="c90f6-321">Copiare il file *Views\Home\AllDates.cshtml* in *Views\Home\AllDates.mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c90f6-321">Copy the *Views\Home\AllDates.cshtml* file to *Views\Home\AllDates.Mobile.cshtml*.</span></span> <span data-ttu-id="c90f6-322">Aprire il nuovo file e rimuovere l'elemento `<h2>`.</span><span class="sxs-lookup"><span data-stu-id="c90f6-322">Open the new file and remove the `<h2>` element.</span></span>

<span data-ttu-id="c90f6-323">Aggiungere `data-role="listview"` al tag `<ul>`, come segue:</span><span class="sxs-lookup"><span data-stu-id="c90f6-323">Add `data-role="listview"` to the `<ul>` tag, like this:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample22.html)]

<span data-ttu-id="c90f6-324">L'immagine seguente mostra l'aspetto della pagina relativa alla **Data** con l'attributo `data-role` sul posto.</span><span class="sxs-lookup"><span data-stu-id="c90f6-324">The image below shows what the **Date** page looks like with the `data-role` attribute in place.</span></span>

<span data-ttu-id="c90f6-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) Sostituire il contenuto del file *Views\Home\AllDates.mobile.cshtml* con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="c90f6-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) Replace the contents of the *Views\Home\AllDates.Mobile.cshtml* file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample23.cshtml)]

<span data-ttu-id="c90f6-326">Questo codice raggruppa tutte le sessioni in base ai giorni.</span><span class="sxs-lookup"><span data-stu-id="c90f6-326">This code groups all sessions by days.</span></span> <span data-ttu-id="c90f6-327">Viene creato un divisore di elenco per ogni nuovo giorno e vengono elencate tutte le sessioni per ogni giorno sotto un divisore.</span><span class="sxs-lookup"><span data-stu-id="c90f6-327">It creates a list divider for each new day, and it lists all the sessions for each day under a divider.</span></span> <span data-ttu-id="c90f6-328">Ecco come appare quando viene eseguito questo codice:</span><span class="sxs-lookup"><span data-stu-id="c90f6-328">Here's what it looks like when this code runs:</span></span>

<span data-ttu-id="c90f6-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span></span>

## <a name="improving-the-sessionstable-view"></a><span data-ttu-id="c90f6-330">Miglioramento della visualizzazione SessionsTable</span><span class="sxs-lookup"><span data-stu-id="c90f6-330">Improving the SessionsTable View</span></span>

<span data-ttu-id="c90f6-331">In questa sezione verrà creata una visualizzazione specifica per dispositivi mobili delle sessioni.</span><span class="sxs-lookup"><span data-stu-id="c90f6-331">In this section, you'll create a mobile-specific view of sessions.</span></span> <span data-ttu-id="c90f6-332">Le modifiche apportate saranno più estese rispetto ad altre viste create.</span><span class="sxs-lookup"><span data-stu-id="c90f6-332">The changes we make will be more extensive than in other views we have created.</span></span>

<span data-ttu-id="c90f6-333">Nel browser per dispositivi mobili, toccare il pulsante **altoparlante** , quindi immettere `Sc` nella casella di ricerca.</span><span class="sxs-lookup"><span data-stu-id="c90f6-333">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="c90f6-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span></span>

<span data-ttu-id="c90f6-335">Toccare il collegamento **Scott hanseln** .</span><span class="sxs-lookup"><span data-stu-id="c90f6-335">Tap the **Scott Hanselman** link.</span></span>

<span data-ttu-id="c90f6-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span></span>

<span data-ttu-id="c90f6-337">Come si può notare, la visualizzazione è difficile da leggere in un browser per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-337">As you can see, the display is difficult to read on a mobile browser.</span></span> <span data-ttu-id="c90f6-338">La colonna della data è di difficile lettura e la colonna Tag non è più visualizzata.</span><span class="sxs-lookup"><span data-stu-id="c90f6-338">The date column is hard to read and the tags column is out of the view.</span></span> <span data-ttu-id="c90f6-339">Per risolvere il problema, copiare *Views\Home\SessionsTable.cshtml* in *Views\Home\SessionsTable.mobile.cshtml*e quindi sostituire il contenuto del file con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="c90f6-339">To fix this, copy *Views\Home\SessionsTable.cshtml* to *Views\Home\SessionsTable.Mobile.cshtml*, and then replace the contents of the file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample24.cshtml)]

<span data-ttu-id="c90f6-340">Il codice rimuove le colonne room e Tags e formatta verticalmente il titolo, il relatore e la data, in modo che tutte queste informazioni siano leggibili in un browser per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-340">The code removes the room and tags columns, and formats the title, speaker, and date vertically, so that all this information is readable on a mobile browser.</span></span> <span data-ttu-id="c90f6-341">Nell'immagine seguente è illustrato l'aspetto risultante dopo aver apportato le modifiche al codice.</span><span class="sxs-lookup"><span data-stu-id="c90f6-341">The image below reflects the code changes.</span></span>

<span data-ttu-id="c90f6-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span></span>

## <a name="improving-the-sessionbycode-view"></a><span data-ttu-id="c90f6-343">Miglioramento della visualizzazione SessionByCode</span><span class="sxs-lookup"><span data-stu-id="c90f6-343">Improving the SessionByCode View</span></span>

<span data-ttu-id="c90f6-344">Infine, si creerà una visualizzazione specifica per dispositivi mobili della vista *SessionByCode* .</span><span class="sxs-lookup"><span data-stu-id="c90f6-344">Finally, you'll create a mobile-specific view of the *SessionByCode* view.</span></span> <span data-ttu-id="c90f6-345">Nel browser per dispositivi mobili, toccare il pulsante **altoparlante** , quindi immettere `Sc` nella casella di ricerca.</span><span class="sxs-lookup"><span data-stu-id="c90f6-345">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="c90f6-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span></span>

<span data-ttu-id="c90f6-347">Toccare il collegamento **Scott hanseln** .</span><span class="sxs-lookup"><span data-stu-id="c90f6-347">Tap the **Scott Hanselman** link.</span></span> <span data-ttu-id="c90f6-348">Vengono visualizzate le sessioni di Scott Hanselr.</span><span class="sxs-lookup"><span data-stu-id="c90f6-348">Scott Hanselman's sessions are displayed.</span></span>

<span data-ttu-id="c90f6-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span></span>

<span data-ttu-id="c90f6-350">Scegliere **una panoramica del collegamento Microsoft Web Stack of Love** .</span><span class="sxs-lookup"><span data-stu-id="c90f6-350">Choose the **An Overview of the MS Web Stack of Love** link.</span></span>

<span data-ttu-id="c90f6-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span></span>

<span data-ttu-id="c90f6-352">La visualizzazione desktop predefinita è corretta, ma è possibile migliorarla.</span><span class="sxs-lookup"><span data-stu-id="c90f6-352">The default desktop view is fine, but you can improve it.</span></span>

<span data-ttu-id="c90f6-353">Copiare *Views\Home\SessionByCode.cshtml* in *Views\Home\SessionByCode.mobile.cshtml* e sostituire il contenuto del file *Views\Home\SessionByCode.mobile.cshtml* con il markup seguente:</span><span class="sxs-lookup"><span data-stu-id="c90f6-353">Copy the *Views\Home\SessionByCode.cshtml* to *Views\Home\SessionByCode.Mobile.cshtml* and replace the contents of the *Views\Home\SessionByCode.Mobile.cshtml* file with the following markup:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample25.cshtml)]

<span data-ttu-id="c90f6-354">Il nuovo markup usa l'attributo `data-role` per migliorare il layout della visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="c90f6-354">The new markup uses the `data-role` attribute to improve the layout of the view.</span></span>

<span data-ttu-id="c90f6-355">Aggiornare il browser per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="c90f6-355">Refresh the mobile browser.</span></span> <span data-ttu-id="c90f6-356">Nell'immagine seguente è illustrato l'aspetto risultante dopo aver apportato le ultime modifiche:</span><span class="sxs-lookup"><span data-stu-id="c90f6-356">The following image reflects the code changes that you just made:</span></span>

<span data-ttu-id="c90f6-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span><span class="sxs-lookup"><span data-stu-id="c90f6-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span></span>

## <a name="wrapup-and-review"></a><span data-ttu-id="c90f6-358">Wrapup ed esaminare</span><span class="sxs-lookup"><span data-stu-id="c90f6-358">Wrapup and Review</span></span>

<span data-ttu-id="c90f6-359">In questa esercitazione sono state introdotte le nuove funzionalità per dispositivi mobili di ASP.NET MVC 4 Developer Preview.</span><span class="sxs-lookup"><span data-stu-id="c90f6-359">This tutorial has introduced the new mobile features of ASP.NET MVC 4 Developer Preview.</span></span> <span data-ttu-id="c90f6-360">Le funzionalità per dispositivi mobili includono:</span><span class="sxs-lookup"><span data-stu-id="c90f6-360">The mobile features include:</span></span>

- <span data-ttu-id="c90f6-361">Possibilità di eseguire l'override di layout, visualizzazioni e visualizzazioni parziali, sia a livello globale sia per una singola visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="c90f6-361">The ability to override layout, views, and partial views, both globally and for an individual view.</span></span>
- <span data-ttu-id="c90f6-362">Controllo sul layout e l'imposizione di override parziale usando la proprietà `RequireConsistentDisplayMode`.</span><span class="sxs-lookup"><span data-stu-id="c90f6-362">Control over layout and partial override enforcement using the `RequireConsistentDisplayMode` property.</span></span>
- <span data-ttu-id="c90f6-363">Un widget View-Switcher per le visualizzazioni per dispositivi mobili che può essere visualizzato anche in visualizzazioni desktop.</span><span class="sxs-lookup"><span data-stu-id="c90f6-363">A view-switcher widget for mobile views than can also be displayed in desktop views.</span></span>
- <span data-ttu-id="c90f6-364">Supporto per il supporto di browser specifici, ad esempio il browser iPhone.</span><span class="sxs-lookup"><span data-stu-id="c90f6-364">Support for supporting specific browsers, such as the iPhone browser.</span></span>

## <a name="see-also"></a><span data-ttu-id="c90f6-365">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="c90f6-365">See Also</span></span>

- <span data-ttu-id="c90f6-366">sito [jQuery per dispositivi mobili](http://jquerymobile.com) .</span><span class="sxs-lookup"><span data-stu-id="c90f6-366">[jQuery Mobile](http://jquerymobile.com) site.</span></span>
- [<span data-ttu-id="c90f6-367">Panoramica di jQuery Mobile</span><span class="sxs-lookup"><span data-stu-id="c90f6-367">jQuery Mobile Overview</span></span>](http://jquerymobile.com/demos/1.0b3/docs/about/intro.html)
- [<span data-ttu-id="c90f6-368">Procedure consigliate per applicazioni Web W3C per dispositivi mobili</span><span class="sxs-lookup"><span data-stu-id="c90f6-368">W3C Recommendation Mobile Web Application Best Practices</span></span>](http://www.w3.org/TR/mwabp/)
- [<span data-ttu-id="c90f6-369">Candidate recommendation W3C per query sui supporti</span><span class="sxs-lookup"><span data-stu-id="c90f6-369">W3C Candidate Recommendation for media queries</span></span>](http://www.w3.org/TR/css3-mediaqueries/)
